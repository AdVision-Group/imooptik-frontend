(this.webpackJsonpimooptik=this.webpackJsonpimooptik||[]).push([[5],{15:function(n,e,t){"use strict";t.d(e,"b",(function(){return b})),t.d(e,"a",(function(){return f})),t.d(e,"e",(function(){return p})),t.d(e,"g",(function(){return j})),t.d(e,"f",(function(){return h})),t.d(e,"d",(function(){return m})),t.d(e,"c",(function(){return g}));var r=t(6),o=t(7);function a(){var n=Object(r.a)(["\n    max-width: 125rem;\n    display: flex;\n    justify-content: space-between;\n    @media all and (max-width: 600px) {\n        flex-wrap: wrap;\n    }\n"]);return a=function(){return n},n}function c(){var n=Object(r.a)(["\n    ",";    \n    /* margin-bottom: 3rem; */\n    /* max-width: 125rem; */\n"]);return c=function(){return n},n}function i(){var n=Object(r.a)(["\n    cursor: pointer;\n    position: absolute;\n    z-index: 9999;\n    bottom: 3rem;\n    right: 3rem; \n    width: 5rem;\n    height: 5rem;\n\n    display: flex;\n    justify-content: center;\n    align-items: center;\n\n    background-color: var(--primary-color);\n    font-size: 3rem;\n    color: var(--button-font-color);\n    border-radius: 50%;\n"]);return i=function(){return n},n}function s(){var n=Object(r.a)(["\n    padding: 0 3rem;\n\n    @media all and (max-width: 800px) {\n        padding: 0 2rem;\n        @media all and (max-width: 500px) {\n            padding: 0 1.5rem;\n        }\n    }\n"]);return s=function(){return n},n}function u(){var n=Object(r.a)(["\n    *, *::before, *::after {\n        padding: 0;\n        margin: 0;\n        box-sizing: border-box;\n        font-family: 'Titillium Web', sans-serif;\n    }\n\n    html {\n        font-size: 62.5%;\n    }\n\n    body {\n        font-size: 1.6rem;\n        overflow: hidden;\n        background-color: var(--body-background-primary-color);\n    }\n\n    section, form {\n        display: flex;\n        flex-direction: column;\n        height: 100vh;\n        background-color: var(--background-primary-color);\n        \n    }\n\n    input, button {\n        outline: none;\n\n        &:focus {\n            outline: none;\n        }\n\n        ::-webkit-calendar-picker-indicator {\n            filter: var(--calendar-indicator);\n        }\n    }\n\n    a {\n        text-decoration: none;\n        color: #000;\n        display:block;\n    }\n\n    button {\n        font-size: inherit;\n        font-family: inherit;\n        border: none;\n        background-color: transparent;\n    }\n\n"]);return u=function(){return n},n}function l(){var n=Object(r.a)(["\n    :root {\n        --primary-color: #c28e01;\n        --secondary-color: #000;\n        --primary-text-color: #c7c6c6;\n        --secondary-text-color: #a0a0a0;\n        --body-background-primary-color: #252525;\n        --background-primary-color: #2c2c2c;\n\n        --navlink-color: #c7c6c6;\n        --table-head-color: #c7c6c6;\n        --table-border: 1px solid rgba(0,0,0,0.1);\n\n        --appointment-container-border: none;\n        --appointment-container-background-color: #333;\n        --appointment-container-text-color: #ffffff;\n\n\n        --container-shadow: none;\n        --container-background-color: #252525;\n        \n        --container-background-table-row: #252525;\n        --container-background-table-row-odd: #2c2c2c;\n\n        --backbutton-color: #c28e01;\n        --dropdownbutton-background-color: #121212;\n        --dropdownbutton-background-color-odd: #121212;\n\n        --dropdownbutton-color: #c28e01;\n        --dropdown-background-color: #121212;\n        --dropdown-hover-background-color: #181818;\n\n        --input-background-color: #121212;\n        --input-color: #c5c4c4;\n\n        --image-background-color: #252525;\n\n\n        --button-font-color: #fff;\n        --secondary-button-font-color: #c28e01;\n\n        --color-red: #d63636;\n        --color-green: #32AA5F;\n        --color-black: #000;\n\n        --calendar-indicator: invert(1);\n    }\n"]);return l=function(){return n},n}function d(){var n=Object(r.a)(["\n    :root {\n        --primary-color: #ebac01;\n        --secondary-color: #000;\n        --primary-text-color: #000000;\n        --secondary-text-color: rgba(0, 0, 0, 0.822);\n        --body-background-primary-color: #f5f5f5;\n        --background-primary-color: #fff;\n\n        --navlink-color: #ffffff;\n        --table-head-color: #ffffff;\n        --table-border: 1px solid rgba(0,0,0,0.1);\n\n        --appointment-container-border: none;\n        --appointment-container-background-color: #eee;\n        --appointment-container-text-color: #fff;\n\n        --container-shadow: 0 0 1.5rem 0 rgba(0,0,0,.08);\n        --container-background-color: #fff;\n\n        --container-background-table-row: #f5f5f5;\n        --container-background-table-row-odd: #fff;\n\n\n        --backbutton-color: #ebac01;\n        --dropdownbutton-background-color: #f5f5f5;\n        --dropdownbutton-background-color-odd: #fff;\n        --dropdownbutton-color: #ebac01;\n        --dropdown-background-color: #fff;\n        --dropdown-hover-background-color: #f5f5f5;\n\n        --input-background-color: #f5f5f5;\n        --input-color: #000;\n\n        --image-background-color: none;\n\n        --button-font-color: #fff;\n        --secondary-button-font-color: #000;\n\n        --color-red: #DD4C4C;\n        --color-green: #32AA5F;\n        --color-black: #000;\n\n        --calendar-indicator: invert(-1);\n\n    }\n"]);return d=function(){return n},n}var b=Object(o.a)(d()),f=Object(o.a)(l()),p=Object(o.a)(u()),j=Object(o.b)(s()),h=o.c.button(i()),m=o.c.div(c(),j),g=o.c.div(a())},19:function(n,e,t){"use strict";t.d(e,"a",(function(){return c}));var r=t(2),o=t(5),a=t(1),c=Object(a.createContext)({isLoading:!1,showModal:!1,message:"",closeModal:function(){},getMessage:function(){},setIsLoading:function(){},setShowModal:function(){}});e.b=function(n){var e=n.children,t=Object(a.useState)(!1),i=Object(o.a)(t,2),s=i[0],u=i[1],l=Object(a.useState)(!1),d=Object(o.a)(l,2),b=d[0],f=d[1],p=Object(a.useState)(""),j=Object(o.a)(p,2),h=j[0],m=j[1];return Object(r.jsx)(c.Provider,{value:{isLoading:s,showModal:b,message:h,closeModal:function(){u(!1),f(!1),m("")},getMessage:function(n){m(n)},setIsLoading:u,setShowModal:f},children:e})}},20:function(n,e,t){"use strict";t.d(e,"a",(function(){return j}));var r=t(2),o=t(8),a=t.n(o),c=t(12),i=t(5),s=t(1),u=t(19),l=function(n){var e=n.email,t=n.password,r=new Headers;r.append("Content-Type","application/json");var o={method:"POST",headers:r,body:JSON.stringify({email:e,password:t}),redirect:"follow"};return fetch("".concat("https://imooptik-backend-jbuievsjdq-ew.a.run.app","/api/auth/login"),o)},d=function(n){var e=n.name,t=n.email,r=n.password,o=new Headers;o.append("Content-Type","application/json");var a={method:"POST",headers:o,body:JSON.stringify({email:t,password:r,name:e}),redirect:"follow"};return fetch("".concat("https://imooptik-backend-jbuievsjdq-ew.a.run.app","/api/auth/register"),a)},b=function(n){var e=new Headers;e.append("Content-Type","application/json");var t={method:"POST",headers:e,body:JSON.stringify({email:n}),redirect:"follow"};return fetch("".concat("https://imooptik-backend-jbuievsjdq-ew.a.run.app","/api/auth/forgot"),t)},f=function(n,e){var t=new Headers;t.append("Content-Type","application/json");var r={method:"POST",headers:t,body:JSON.stringify({resetSecret:n,password:e}),redirect:"follow"};return fetch("".concat("https://imooptik-backend-jbuievsjdq-ew.a.run.app","/api/auth/reset"),r)},p=function(n){var e=new Headers;e.append("auth-token",n),e.append("Content-Type","application/json");var t={method:"GET",headers:e,redirect:"follow"};return fetch("".concat("https://imooptik-backend-jbuievsjdq-ew.a.run.app","/api/user/profile"),t)},j=Object(s.createContext)({currentUser:null,isAdmin:!1,isOptometrist:!1,token:null,stats:null,logIn:function(){},logOut:function(){},register:function(){},handleResetPassword:function(){},handleCreatingNewPassword:function(){}});e.b=function(n){var e=n.children,t=Object(s.useContext)(u.a),o=t.setShowModal,h=t.setIsLoading,m=t.getMessage,g=t.closeModal,v=Object(s.useState)(null),x=Object(i.a)(v,2),k=x[0],O=x[1],w=Object(s.useState)(null),y=Object(i.a)(w,2),S=y[0],C=y[1],z=Object(s.useState)(!1),T=Object(i.a)(z,2),P=T[0],I=T[1],N=Object(s.useState)(!1),M=Object(i.a)(N,2),H=M[0],L=M[1],Z=Object(s.useState)(null),A=Object(i.a)(Z,2),E=A[0],F=A[1],q=function(n){n.admin>1?I(!0):I(!1)},J=function(){var n=Object(c.a)(a.a.mark((function n(e,t){var r,c;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o(!0),h(!0),e){n.next=7;break}return console.log("Ziadny e-mail"),o(!1),h(!1),n.abrupt("return");case 7:if(t){n.next=12;break}return console.log("Ziadne heslo"),o(!1),h(!1),n.abrupt("return");case 12:return n.prev=12,n.next=15,l({email:e,password:t});case 15:return r=n.sent,n.next=18,r.json();case 18:c=n.sent,m(c.message),h(!1),c.user&&(O(c.user),C(c.authToken),localStorage.setItem("mptkthtknv2",c.authToken),q(c.user),g()),n.next=29;break;case 24:n.prev=24,n.t0=n.catch(12),console.log(n.t0),m("Nieco sa pokazilo"),h(!1);case 29:case"end":return n.stop()}}),n,null,[[12,24]])})));return function(e,t){return n.apply(this,arguments)}}(),D=function(){var n=Object(c.a)(a.a.mark((function n(e,t,r,c){var i,s;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o(!0),h(!0),e){n.next=7;break}return console.log("Ziadne meno"),o(!1),h(!1),n.abrupt("return");case 7:if(t){n.next=12;break}return console.log("Ziadny e-mail"),o(!1),h(!1),n.abrupt("return");case 12:if(r){n.next=17;break}return console.log("Ziadne heslo"),o(!1),h(!1),n.abrupt("return");case 17:if(r===c){n.next=22;break}return console.log("hesla sa nezhoduju"),o(!1),h(!1),n.abrupt("return");case 22:return n.prev=22,n.next=25,d({name:e,email:t,password:r});case 25:return i=n.sent,n.next=28,i.json();case 28:s=n.sent,h(!1),m(s.messageSK),n.next=38;break;case 33:n.prev=33,n.t0=n.catch(22),console.log(n.t0),m("Nieco sa pokazilo"),h(!1);case 38:case"end":return n.stop()}}),n,null,[[22,33]])})));return function(e,t,r,o){return n.apply(this,arguments)}}(),B=function(){var n=Object(c.a)(a.a.mark((function n(e){var t,r;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o(!0),h(!0),e){n.next=7;break}return console.log("Ziadny e-mail"),o(!1),h(!1),n.abrupt("return");case 7:return n.prev=7,n.next=10,b(e);case 10:return t=n.sent,n.next=13,t.json();case 13:r=n.sent,m(r.messageSK),h(!1),n.next=23;break;case 18:n.prev=18,n.t0=n.catch(7),console.log(n.t0),m("Nieco sa pokazilo"),h(!1);case 23:case"end":return n.stop()}}),n,null,[[7,18]])})));return function(e){return n.apply(this,arguments)}}(),G=function(){var n=Object(c.a)(a.a.mark((function n(e,t){var r,c;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o(!0),h(!0),e){n.next=7;break}return console.log("Ziadny reset token"),o(!1),h(!1),n.abrupt("return");case 7:if(t){n.next=12;break}return console.log("Ziadne heslo"),o(!1),h(!1),n.abrupt("return");case 12:return n.prev=12,n.next=15,f(e,t);case 15:return r=n.sent,n.next=18,r.json();case 18:c=n.sent,m(c.messageSK),h(!1),n.next=28;break;case 23:n.prev=23,n.t0=n.catch(12),console.log(n.t0),m("Nieco sa pokazilo"),h(!1);case 28:case"end":return n.stop()}}),n,null,[[12,23]])})));return function(e,t){return n.apply(this,arguments)}}(),K=new Headers;K.append("auth-token",S),K.append("Content-Type","application/json");var U=function(){var n=Object(c.a)(a.a.mark((function n(){var e,t,r;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o(!0),h(!0),e={method:"GET",headers:K,redirect:"follow"},n.prev=3,n.next=6,fetch("".concat("https://imooptik-backend-jbuievsjdq-ew.a.run.app","/api/admin/stats/collectionCounts"),e);case 6:return t=n.sent,n.next=9,t.json();case 9:r=n.sent,F(r),n.next=18;break;case 13:n.prev=13,n.t0=n.catch(3),console.log(n.t0),m("Nieco sa pokazilo"),h(!1);case 18:case"end":return n.stop()}}),n,null,[[3,13]])})));return function(){return n.apply(this,arguments)}}();return Object(s.useEffect)((function(){localStorage.getItem("mptkthtknv2")&&C(localStorage.getItem("mptkthtknv2"))}),[]),Object(s.useEffect)((function(){S&&(function(){var n=Object(c.a)(a.a.mark((function n(){var e,t;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,p(S);case 2:return e=n.sent,n.next=5,e.json();case 5:(t=n.sent).user&&(O(t.user),q(t.user),t.user.optometrist?L(!0):L(!1));case 7:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}()(),U())}),[S]),Object(r.jsx)(j.Provider,{value:{token:S,currentUser:k,isAdmin:P,isOptometrist:H,stats:E,logIn:J,logOut:function(){localStorage.removeItem("mptkthtknv2"),O(null),C(null)},register:D,handleResetPassword:B,handleCreatingNewPassword:G},children:e})}},28:function(n,e,t){"use strict";var r=t(13),o=t(2),a=t(30),c=(t(1),t(6));function i(){var n=Object(c.a)(["\n    cursor: pointer;\n    background-color: #000;\n    color: #fff;\n    padding: .8rem 3rem;\n    font-size: inherit;\n    font-family: inherit;\n    border-radius: .2rem;\n    border: none;\n    outline: none;\n\n    &:focus {\n        outline: none\n    }\n\n    @media all and (max-width: 500px) {\n        padding: 0.5rem 1.5rem;\n        font-size: 1.4rem;\n    }\n"]);return i=function(){return n},n}var s=t(7).c.button(i());e.a=function(n){var e=n.children,t=Object(a.a)(n,["children"]);return Object(o.jsx)(s,Object(r.a)(Object(r.a)({},t),{},{children:e}))}},32:function(n,e,t){"use strict";t.d(e,"a",(function(){return h}));var r=t(2),o=(t(1),t(21)),a=t.n(o),c=t(28),i=t(35),s=t(6),u=t(7);function l(){var n=Object(s.a)(["\n    color: var(--primary-text-color);\n    font-size: 2.1rem;\n    font-weight: 700;\n    text-align: center;\n\n    margin-bottom: 2rem;\n"]);return l=function(){return n},n}function d(){var n=Object(s.a)(["\n    max-width: 50rem;\n\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n\n    padding: 2rem;\n\n    border-radius: .5rem;\n\n    background-color: var(--background-primary-color);\n"]);return d=function(){return n},n}function b(){var n=Object(s.a)(["\n    position: fixed;\n    left: 0;\n    right: 0;\n    top: 0;\n    bottom: 0;\n    z-index: 999999;\n    min-height: 100vh;\n\n    display: flex;\n    align-items: center;\n    justify-content: center;\n\n    background-color: rgba(0,0,0,0.3);\n"]);return b=function(){return n},n}var f=u.c.div(b()),p=u.c.div(d()),j=u.c.div(l());function h(n){var e=n.loading,t=n.title,o=n.close;return a.a.createPortal(Object(r.jsx)(f,{children:e?Object(r.jsx)(p,{children:Object(r.jsx)(i.a,{})}):Object(r.jsxs)(p,{children:[Object(r.jsx)(j,{children:t}),Object(r.jsx)(c.a,{onClick:o,children:"Zavrie\u0165"})]})}),document.getElementById("portal"))}},34:function(n,e,t){"use strict";t.d(e,"b",(function(){return d}));var r=t(2),o=t(8),a=t.n(o),c=t(13),i=t(12),s=t(5),u=t(1),l=Object(u.createContext)({isLoading:!1,response:null,error:null,message:null,fetchData:function(){}}),d=function(){return Object(u.useContext)(l)};e.a=function(n){var e=n.children,t=Object(u.useState)(null),o=Object(s.a)(t,2),d=o[0],b=(o[1],Object(u.useState)(null)),f=Object(s.a)(b,2),p=f[0],j=f[1],h=Object(u.useState)(null),m=Object(s.a)(h,2),g=m[0],v=m[1],x=Object(u.useState)(!0),k=Object(s.a)(x,2),O=k[0],w=k[1],y=function(){var n=Object(i.a)(a.a.mark((function n(e,t,r){var o,i,s,u,l,d,b=arguments;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=b.length>3&&void 0!==b[3]?b[3]:"GET",i=!(b.length>4&&void 0!==b[4])||b[4],w(!0),console.log("FETCH_DATA"),console.log({hasHeader:i,method:o,path:e,data:t}),(s=new Headers).append("auth-token",localStorage.getItem("mptkthtknv2")),s.append("Content-Type","application/json"),u=Object(c.a)(Object(c.a)(Object(c.a)({method:o},i&&{headers:s}),t&&{body:JSON.stringify(t)}),{},{redirect:"follow"}),n.prev=9,n.next=12,fetch("".concat("https://imooptik-backend-jbuievsjdq-ew.a.run.app").concat(e),u);case 12:return l=n.sent,n.next=15,l.json();case 15:d=n.sent,r(d),w(!1),n.next=25;break;case 20:n.prev=20,n.t0=n.catch(9),j(n.t0),w(!1),v("Nie\u010do sa pokazilo");case 25:case"end":return n.stop()}}),n,null,[[9,20]])})));return function(e,t,r){return n.apply(this,arguments)}}();return Object(r.jsx)(l.Provider,{value:{isLoading:O,response:d,error:p,message:g,fetchData:y},children:e})}},35:function(n,e,t){"use strict";var r=t(2),o=(t(1),t(6));function a(){var n=Object(o.a)(["\n    border: 5px solid transparent;\n    border-top: 5px solid rgb(256,172,1);\n    border-radius: 50%;\n    width: 38px;\n    height: 38px;\n    animation: spin 800ms linear infinite;\n\n    @keyframes spin {\n        0% { transform: rotate(0deg); }\n        100% { transform: rotate(360deg); }\n    }\n"]);return a=function(){return n},n}var c=t(7).c.div(a());e.a=function(){return Object(r.jsx)(c,{})}},52:function(n,e,t){"use strict";t.r(e);var r=t(2),o=t(1),a=t.n(o),c=t(21),i=t.n(c),s=t(5),u=t(20),l=t(15),d=t(29),b=t(3),f=t(32),p=t(39),j=Object(o.lazy)((function(){return t.e(21).then(t.bind(null,241))})),h=Object(o.lazy)((function(){return Promise.all([t.e(37),t.e(34)]).then(t.bind(null,244))})),m=Object(o.lazy)((function(){return t.e(20).then(t.bind(null,249))})),g=function(){var n=Object(o.useContext)(u.a).currentUser,e=Object(o.useState)("light"),t=Object(s.a)(e,2),c=t[0],i=t[1];return Object(r.jsxs)(a.a.Fragment,{children:["dark"===c?Object(r.jsx)(l.a,{}):Object(r.jsx)(l.b,{}),Object(r.jsx)(l.e,{}),Object(r.jsx)(o.Suspense,{fallback:Object(r.jsx)(f.a,{loading:!0}),children:Object(r.jsx)(d.a,{basename:"/",children:Object(r.jsxs)(b.e,{children:[Object(r.jsx)(b.c,{path:"/prihlasenie",render:function(){return n?Object(r.jsx)(b.b,{to:"/dashboard"}):Object(r.jsx)(j,{})}}),Object(r.jsx)(b.c,{path:"/dashboard",render:function(){return n?Object(r.jsx)(h,{}):Object(r.jsx)(b.b,{to:"/prihlasenie"})}}),Object(r.jsx)(b.c,{path:"/reset/:token",component:m}),n?Object(r.jsx)(b.b,{to:"/dashboard/rezervacie"}):Object(r.jsx)(b.b,{to:"/prihlasenie"})]})})}),Object(r.jsx)(l.f,{onClick:function(){return i((function(n){return"dark"===n?"light":"dark"}))},children:Object(r.jsx)(p.a,{})})]})},v=function(n){n&&n instanceof Function&&t.e(38).then(t.bind(null,236)).then((function(e){var t=e.getCLS,r=e.getFID,o=e.getFCP,a=e.getLCP,c=e.getTTFB;t(n),r(n),o(n),a(n),c(n)}))},x=t(19),k=t(34);i.a.render(Object(r.jsx)(a.a.StrictMode,{children:Object(r.jsx)(k.a,{children:Object(r.jsx)(x.b,{children:Object(r.jsx)(u.b,{children:Object(r.jsx)(g,{})})})})}),document.getElementById("root")),v()}},[[52,6,8]]]);
//# sourceMappingURL=main.63492675.chunk.js.map