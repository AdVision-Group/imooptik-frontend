(this.webpackJsonpimooptik=this.webpackJsonpimooptik||[]).push([[22],{54:function(e,n,t){"use strict";t.d(n,"a",(function(){return a})),t.d(n,"g",(function(){return o})),t.d(n,"h",(function(){return r})),t.d(n,"d",(function(){return s})),t.d(n,"e",(function(){return c})),t.d(n,"f",(function(){return i})),t.d(n,"b",(function(){return u})),t.d(n,"c",(function(){return l}));var a=["Adidas","Armani Exchange","Arnette","Blackfin","Blumarine","Burberry","Bvlgari","Calvin Klein","Carolina Herrera","Carrera","David Beckham","Dior","Dolce & Gabbana","Elle","Emporio Armani","Esprit","Etnia Barcelona","Fendi","Fossil","Furla","Giorgio Armani","Givenchy","Gucci","Guess","H.I.S","Hawkers","Hugo Boss","Jaguar","Jimmy Choo","Lacoste","Liu Jo","Marc Jacobs","Max Mara","Max&Co","Meller","Mexx","Michael Kors","Moschino","Oakley","Persol","Polaroid","Police","Polo Ralph Lauren","Prada","Prada Linea Rossa","Ralph","Ralph Lauren","Ray-Ban","Salvatore Ferragamo","Smith","Strellson","Tiffany&Co.","Tom Ford","Tommy Hilfiger","Versace","Vogue"],o=["eshop","Centr\xe1lny sklad","Obchodn\xe1, Bratislava","Mileti\u010dova, Bratislava","Vajnory, Bratislava","Vajnorsk\xe1 53, Bratislava","OC Bran\u010d, Senica"],r=[{id:0,name:"V\u0161etky"},{id:1,name:"Centr\xe1lny sklad"},{id:2,name:"Obchodn\xe1, Bratislava"},{id:3,name:"Mileti\u010dova, Bratislava"},{id:4,name:"Vajnory, Bratislava"},{id:5,name:"Vajnorsk\xe1 53, Bratislava"},{id:6,name:"OC Bran\u010d, Senica"}],s=["\u010ciern\xe1","Modr\xe1","\u010cerven\xe1","Siv\xe1","Zlat\xe1","Strieborn\xe1","Hned\xe1","Fialov\xe1","Zelen\xe1","Sed\xe1","Bordov\xe1"],c=["Acet\xe1t","Kov","Tit\xe1n","TR90","Patent","Optyl"],i=["Pilot","Squared","Browline","Cat eye","Tiny","Oversize","Okr\xfahle","Ov\xe1lne","Obd\u013a\u017enikov\xe9","Flat top","\u0160peci\xe1lne"],u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";e.toString();var n=0;return e.includes(",")?1===e.split(",")[1].length?(n=e.split(",")[0]+e.split(",")[1]+"0",Number(n)):(n=e.split(",")[0]+e.split(",")[1],Number(n)):Number(100*e)},l=function(e){return e.includes(",")?e.split(",")[0]+"."+e.split(",")[1]:e}},75:function(e,n,t){"use strict";t.r(n),t.d(n,"CouponsContext",(function(){return f}));var a=t(2),o=t(7),r=t.n(o),s=t(12),c=t(31),i=t(21),u=t(10),l=t(1),p=t(18),d=t(19),h=t(3),v=t(54),f=Object(l.createContext)({coupon:null,coupons:null,handleChange:function(){},getCoupon:function(){},getCoupons:function(){},createCoupon:function(){},deleteCoupon:function(){},isUpdating:!1,resetCoupons:function(){}}),m={code:"",type:"percentage",value:0,maxUses:0,minValue:0,maxUsesTotal:0};n.default=function(e){var n=e.children,t=Object(l.useContext)(p.a),o=t.closeModal,b=t.getMessage,x=t.setIsLoading,j=t.setShowModal,O=Object(l.useContext)(d.a).token,k=Object(h.h)().push,g=new Headers;g.append("auth-token",O),g.append("Content-Type","application/json");var y=Object(l.useState)(m),C=Object(u.a)(y,2),w=C[0],B=C[1],S=Object(l.useState)(null),T=Object(u.a)(S,2),M=T[0],U=T[1],N=Object(l.useState)(!1),V=Object(u.a)(N,2),E=V[0],P=V[1],F=function(){var e=Object(s.a)(r.a.mark((function e(n){var t,a,s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return P(!0),x(!0),j(!0),t={method:"GET",headers:g,redirect:"follow"},e.prev=4,e.next=7,fetch("".concat("https://coronashop.store:8080","/api/admin/coupons/").concat(n),t);case 7:return a=e.sent,e.next=10,a.json();case 10:if(!(s=e.sent).coupon){e.next=15;break}return B(Object(i.a)(Object(i.a)({},w),s.coupon)),o(),e.abrupt("return");case 15:b(s.message),x(!1),e.next=24;break;case 19:e.prev=19,e.t0=e.catch(4),console.log(e.t0),b("Nie\u010do sa pokazilo"),x(!1);case 24:case"end":return e.stop()}}),e,null,[[4,19]])})));return function(n){return e.apply(this,arguments)}}(),G=function(){var e=Object(s.a)(r.a.mark((function e(){var n,t,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(!0),j(!0),n={method:"GET",headers:g,redirect:"follow"},e.prev=3,e.next=6,fetch("".concat("https://coronashop.store:8080","/api/admin/coupons"),n);case 6:return t=e.sent,e.next=9,t.json();case 9:(a=e.sent).coupons&&U(a.coupons),x(!1),o(),e.next=20;break;case 15:e.prev=15,e.t0=e.catch(3),console.log(e.t0),b("Nie\u010do sa pokazilo"),x(!1);case 20:case"end":return e.stop()}}),e,null,[[3,15]])})));return function(){return e.apply(this,arguments)}}(),H=function(){var e=Object(s.a)(r.a.mark((function e(n){var t,a,o,s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(!0),j(!0),console.log(n.value),t=JSON.stringify(Object(i.a)(Object(i.a)(Object(i.a)({code:n.code,type:n.type},n.value&&{value:"flat"===n.type?Object(v.b)(n.value):Number(n.value)}),{},{maxUses:""===n.maxUses||"0"===n.maxUses?void 0:Number(n.maxUses)},n.minValue&&{minValue:Object(v.b)(n.minValue)}),{},{maxUsesTotal:""===n.maxUsesTotal||"0"===n.maxUsesTotal?void 0:Number(n.maxUsesTotal)})),a={method:"POST",headers:g,body:t,redirect:"follow"},e.prev=5,e.next=8,fetch("".concat("https://coronashop.store:8080","/api/admin/coupons/create"),a);case 8:return o=e.sent,e.next=11,o.json();case 11:"format"===(s=e.sent).error&&b("K\xf3d kup\xf3nu je povinn\xfd"),"exists"===s.error&&b("Kup\xf3n u\u017e existuje"),o.ok&&(G(),k("/dashboard/kupony")),x(!1),e.next=23;break;case 18:e.prev=18,e.t0=e.catch(5),console.log(e.t0),b("Nie\u010do sa pokazilo"),x(!1);case 23:case"end":return e.stop()}}),e,null,[[5,18]])})));return function(n){return e.apply(this,arguments)}}(),J=function(){var e=Object(s.a)(r.a.mark((function e(n){var t,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(!0),j(!0),t={method:"DELETE",headers:g,redirect:"follow"},e.prev=3,e.next=6,fetch("".concat("https://coronashop.store:8080","/api/admin/coupons/").concat(n),t);case 6:return a=e.sent,e.next=9,a.json();case 9:e.sent,a.ok&&(G(),k("/dashboard/kupony")),x(!1),e.next=19;break;case 14:e.prev=14,e.t0=e.catch(3),console.log(e.t0),b("Nie\u010do sa pokazilo"),x(!1);case 19:case"end":return e.stop()}}),e,null,[[3,14]])})));return function(n){return e.apply(this,arguments)}}(),L=function(){var e=Object(s.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:P(!1),B(m);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.jsx)(f.Provider,{value:{coupon:w,coupons:M,handleChange:function(e){var n=e.target,t=n.name,a=n.value;B(Object(i.a)(Object(i.a)({},w),{},Object(c.a)({},t,a)))},getCoupon:F,getCoupons:G,createCoupon:H,deleteCoupon:J,isUpdating:E,resetCoupons:L},children:n})}}}]);
//# sourceMappingURL=22.03abba8b.chunk.js.map