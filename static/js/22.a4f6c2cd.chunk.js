(this.webpackJsonpimooptik=this.webpackJsonpimooptik||[]).push([[22],{223:function(e,n,t){"use strict";t.r(n);var r=t(1),c=t(30),a=t(19),s=t(10),o=t(0),i=t(16),u=t(2),l=t(50),d=t(31),b=t(67),j=t(49),O=t(8),h=t(9),f=t(28),m=t(26);t(60);function p(){var e=Object(O.a)(["\n    &:not(:last-child) {\n        margin-right: .5rem;\n    }\n\n    &:last-child {\n        background-color: rgb(235, 172, 1);\n        font-weight: bolder;\n    }\n"]);return p=function(){return e},e}function g(){var e=Object(O.a)(["\n    padding: 2rem;\n    border-radius: .5rem;\n    box-shadow: 0 0 1.5rem 0 rgba(0,0,0, 0.08);\n\n    h3 {\n        margin-bottom: 1rem;\n    }\n"]);return g=function(){return e},e}function x(){var e=Object(O.a)(["\n    opacity: .83;\n    font-size: 1.4rem;\n    margin-left: 1.5rem;\n\n    &:not(:last-child) {\n        margin-bottom: .5rem;\n    }\n"]);return x=function(){return e},e}function v(){var e=Object(O.a)(["\n    padding: 2rem;\n    border-radius: .5rem;\n    box-shadow: 0 0 1.5rem 0 rgba(0,0,0, 0.08);\n\n    h3 {\n        margin-bottom: .5rem;\n    }\n\n    h4 {\n        margin-top: 1rem;\n\n    }\n\n"]);return v=function(){return e},e}function k(){var e=Object(O.a)(["\n    display: grid;\n    grid-template-columns: 1fr 1fr;\n    grid-gap: 3rem;\n    align-items: start;\n"]);return k=function(){return e},e}function y(){var e=Object(O.a)(["\n    margin-top: 2rem;\n    display:flex;\n    justify-content: flex-end;\n    align-items: center;\n\n    span {\n        display: block;\n        margin-right: .5rem;\n        \n    }\n\n    p {\n        font-weight: bolder;\n        font-size: 2.5rem;\n    }\n"]);return y=function(){return e},e}function C(){var e=Object(O.a)(["\n    display: grid;\n    align-content: center;\n    grid-template-columns: 5rem 1fr 2fr 2fr 10rem 15rem;\n    /* box-shadow: 0 0 1.5rem 0 rgba(0,0,0, 0.08); */\n    /* margin-bottom: 1rem; */\n"]);return C=function(){return e},e}function w(){var e=Object(O.a)(["\n    display: grid;\n    align-content: center;\n    grid-template-columns: 5rem 1fr 2fr 2fr 10rem 15rem;\n    font-weight: bolder;\n    border-bottom: 1px solid #000;\n"]);return w=function(){return e},e}function P(){var e=Object(O.a)(["\n    margin-bottom: 3rem;\n"]);return P=function(){return e},e}function S(){var e=Object(O.a)(["\n    padding: 2rem;\n    border-radius: .5rem;\n    box-shadow: 0 0 1.5rem 0 rgba(0,0,0, 0.08);\n    margin-bottom: 3rem;\n"]);return S=function(){return e},e}function L(){var e=Object(O.a)(["\n    background-color: lightgray;\n    border-radius: 50%;\n    width: 10rem;\n    height: 10rem;\n    margin: 0 auto;\n    margin-bottom: 1.5rem;\n"]);return L=function(){return e},e}function T(){var e=Object(O.a)(["\n    cursor: pointer;\n    max-width: 32rem;\n    padding: 2rem;\n    border-radius: .5rem;\n    box-shadow: 0 0 1.5rem 0 rgba(0,0,0, 0.08);\n    text-align: center;\n    transition: transform .3s ease-out,\n                box-shadow .3s ease-out;\n\n    h4 {\n        font-size: 2.5rem;\n        margin-bottom: 1.5rem\n    }\n\n    img {\n        /* background-color:#000; */\n        width: 15rem;\n        height: 15rem;\n        margin-bottom: 1rem; \n        object-fit: contain;\n        object-position: center;\n    }\n\n    p {\n        opacity: .65;\n        &:not(:last-child){\n            margin-bottom: .5rem;\n        }\n    }\n\n    h5 {\n        font-size: 2.5rem;\n    }\n\n    &:hover {\n        transform: scale(1.03);\n        box-shadow: 0 0 2.5rem 0 rgba(0,0,0, 0.08);\n    }\n"]);return T=function(){return e},e}function z(){var e=Object(O.a)(["\n    margin: 5rem 0;\n\n    h3 {\n        font-size: 3rem;\n        margin-bottom: 3rem;\n    }\n"]);return z=function(){return e},e}function E(){var e=Object(O.a)(["\n    h3 {\n        font-size: 3rem;\n        margin-bottom: 1rem;\n    }\n"]);return E=function(){return e},e}function N(){var e=Object(O.a)(["\n    cursor: pointer;\n    display: grid;\n    align-content: center;\n    grid-template-columns: 10rem 15rem 1fr 1fr 10rem 1fr;\n    margin-bottom: 1rem;\n    box-shadow: 0 0 1.5rem 0 rgba(0,0,0, 0.08);\n    transition: all .3s ease-out;\n\n    &:hover {\n        background-color: rgb(235, 172, 1); \n        font-weight: bolder;\n        color: #fff;\n    }\n"]);return N=function(){return e},e}function A(){var e=Object(O.a)(["\n    display: grid;\n    align-content: center;\n    grid-template-columns: 10rem 15rem 1fr 1fr 10rem 1fr;\n    border-bottom: 1px solid #000;\n    font-weight: bolder;\n"]);return A=function(){return e},e}function M(){var e=Object(O.a)(["\n    display: block;\n    margin: 0 auto;\n"]);return M=function(){return e},e}function G(){var e=Object(O.a)(["\n    cursor: pointer;\n    display: grid;\n    align-content: center;\n    grid-template-columns: 1fr 2fr 25rem;\n    margin-bottom: 1rem;\n    box-shadow: 0 0 1.5rem 0 rgba(0,0,0, 0.08);\n    transition: all .3s ease-out;\n\n    &:hover {\n        background-color: rgb(235, 172, 1); \n        font-weight: bolder;\n        color: #fff;\n    }\n"]);return G=function(){return e},e}function R(){var e=Object(O.a)(["\n    display: grid;\n    align-content: center;\n    grid-template-columns: 1fr 2fr 25rem;\n    border-bottom: 1px solid #000;\n    font-weight: bolder;\n"]);return R=function(){return e},e}function U(){var e=Object(O.a)(["\n    padding: 2rem;\n    text-align: center;\n\n    img {\n        width: 5rem;\n    }\n"]);return U=function(){return e},e}function D(){var e=Object(O.a)(["\n    margin: 5rem 0;\n"]);return D=function(){return e},e}function I(){var e=Object(O.a)(["\n    max-width: 40rem;\n    padding: 2rem;\n    box-shadow: 0 0 1.5rem 0 rgba(0,0,0, 0.08);\n    margin: 0 auto;\n    border-radius: .5rem;\n\n    h3 {\n        text-align: center;\n        font-size: 3rem;\n    }\n\n    div {\n\n        &:not(:last-child) {\n            margin-bottom: 3rem;\n\n        }\n    }\n"]);return I=function(){return e},e}function Z(){var e=Object(O.a)(["\n    display: flex;\n    justify-content: space-between;\n\n    ","\n    padding-top: 3rem;\n    padding-bottom: 3rem;\n\n    @media all and (max-width: 800px) {\n        flex-wrap: wrap;\n\n        div:nth-child(2) {\n            margin-bottom: 2rem;\n        }\n    }\n"]);return Z=function(){return e},e}var J=h.c.div(Z(),f.b),q=h.c.div(I()),B=h.c.div(D()),Q=h.c.div(U()),V=h.c.div(R()),F=h.c.div(G()),H=Object(h.c)(m.a)(M()),K=h.c.div(A()),W=h.c.div(N()),X=h.c.div(E()),Y=h.c.div(z()),$=h.c.div(T()),_=h.c.div(L()),ee=h.c.div(S()),ne=h.c.h3(P()),te=h.c.div(w()),re=h.c.div(C()),ce=h.c.div(y()),ae=h.c.div(k()),se=h.c.div(v()),oe=h.c.p(x()),ie=h.c.div(g()),ue=Object(h.c)(m.a)(p()),le=function(e){var n=e.next,t=e.addToOrder,c=Object(o.useState)(""),a=Object(s.a)(c,2),i=a[0],u=a[1],l=Object(o.useState)([]),d=Object(s.a)(l,2),O=d[0],h=d[1],f=Object(o.useContext)(b.UserContext),m=f.users,p=f.getFilteredUsers,g=f.getUserByQuery;return Object(o.useEffect)((function(){m||p({limit:5}),m&&h(m)}),[m]),Object(o.useEffect)((function(){m&&""===i&&(p({limit:5}),h(m))}),[i]),Object(o.useEffect)((function(){return function(){u(""),h([])}}),[]),Object(r.jsxs)("div",{children:[Object(r.jsxs)(q,{children:[Object(r.jsx)("h3",{children:"Vyh\u013eada\u0165 z\xe1kaznika"}),Object(r.jsx)("div",{children:Object(r.jsx)(j.a,{label:"Meno, priezvisko, email alebo tel. \u010d\xedslo",value:i,onChange:function(e){return u(e.target.value)},onKeyPress:function(e){""!==i&&"Enter"===e.key&&g({query:i})}})}),Object(r.jsx)(H,{onClick:function(){""!==i&&g({query:i})},children:"H\u013eada\u0165"})]}),Object(r.jsxs)(B,{children:[Object(r.jsxs)(V,{children:[Object(r.jsx)(Q,{children:"Meno a priezvisko"}),Object(r.jsx)(Q,{children:"Email"}),Object(r.jsx)(Q,{children:"Mo\u017enosti"})]}),O.map((function(e,c){return Object(r.jsxs)(F,{onClick:function(){return function(e){t({name:"user",value:e}),n()}(e)},children:[Object(r.jsx)(Q,{children:e.name}),Object(r.jsx)(Q,{children:e.email}),Object(r.jsx)(Q,{children:e.phone})]},c)}))]})]})},de=t(59),be=t(218);function je(){var e=Object(O.a)(["\n    cursor: pointer;\n    border: 4px solid #000;\n    border-radius: 50%;\n    padding: 1.2rem 1.2rem;\n    display: inline-flex;\n    align-items: center;\n    justify-content: center;\n    margin-bottom: 3rem;\n"]);return je=function(){return e},e}var Oe=h.c.div(je()),he=function(e){var n=Object.assign({},e);return Object(r.jsx)(Oe,Object(a.a)(Object(a.a)({},n),{},{children:Object(r.jsx)(be.a,{})}))},fe=function(e){var n=e.back,t=e.next,c=e.addToOrder,a=Object(o.useState)(""),i=Object(s.a)(a,2),u=i[0],l=i[1],d=Object(o.useState)([]),b=Object(s.a)(d,2),O=b[0],h=b[1],f=Object(o.useContext)(de.WarehouseContext),m=f.products,p=f.getProductsByQuery;return Object(o.useEffect)((function(){m||p({limit:5}),m&&h(m)}),[m]),Object(o.useEffect)((function(){m&&""===u&&p({limit:5})}),[u]),Object(r.jsxs)("div",{children:[Object(r.jsx)(he,{onClick:n}),Object(r.jsxs)(q,{children:[Object(r.jsx)("h3",{children:"Vyh\u013eada\u0165 produkt"}),Object(r.jsx)("div",{children:Object(r.jsx)(j.a,{label:"N\xe1zov produktu, eanCode alebo popis",value:u,handleChange:function(e){return l(e.target.value)},onKeyPress:function(e){""!==u&&"Enter"===e.key&&p({query:u})}})}),Object(r.jsx)(H,{onClick:function(){""!==u&&p({query:u})},children:"H\u013eada\u0165"})]}),Object(r.jsxs)(B,{children:[Object(r.jsxs)(K,{children:[Object(r.jsx)(Q,{children:"eanCode"}),Object(r.jsx)(Q,{children:"Obr\xe1zok"}),Object(r.jsx)(Q,{children:"N\xe1zov"}),Object(r.jsx)(Q,{children:"Zna\u010dka"}),Object(r.jsx)(Q,{children:"Cena"}),Object(r.jsx)(Q,{children:"Dostupnos\u0165"})]}),O.map((function(e,n){return Object(r.jsxs)(W,{onClick:function(){return function(e){c({name:"product",value:e}),5===e.type?t("summary"):t("selectLenses")}(e)},children:[Object(r.jsx)(Q,{children:e.eanCode}),Object(r.jsx)(Q,{children:Object(r.jsx)("img",{src:"".concat("http://195.110.58.166:8080","/uploads/").concat(e.image.imagePath),alt:e.image.alt})}),Object(r.jsx)(Q,{children:e.name}),Object(r.jsx)(Q,{children:e.brand}),Object(r.jsxs)(Q,{children:[(e.price/100).toFixed(2),"\u20ac"]}),Object(r.jsx)(Q,{children:e.available.reduce((function(e,n){return e+n}))>0?"Na sklade":"Nedostupn\xe9"})]},n)}))]})]})},me=t(82),pe=function(e){var n=e.back,t=e.next,c=e.addToOrder,a=e.order,i=Object(o.useState)([]),u=Object(s.a)(i,2),l=u[0],d=u[1],b=Object(o.useContext)(de.WarehouseContext),j=b.lensesArr,O=b.getLenses;return Object(o.useEffect)((function(){j||O(),j&&d(j)}),[j]),console.log(a),Object(r.jsxs)("div",{children:[Object(r.jsx)(he,{onClick:n}),Object(r.jsx)("div",{children:Object(r.jsxs)(X,{children:[Object(r.jsx)("h3",{children:"Parametre z\xe1kaznika"}),Object(r.jsx)(me.a,{parameters:a.user.lenses,disabledInputs:!0})]})}),Object(r.jsxs)(Y,{children:[Object(r.jsx)("h3",{children:"V\xfdber \u0160o\u0161oviek"}),Object(r.jsx)("div",{children:l.map((function(e,n){return Object(r.jsxs)($,{onClick:function(){return function(e){c({name:"lenses",value:e}),t()}(e)},children:[Object(r.jsx)("h4",{children:e.name}),Object(r.jsx)(_,{}),Object(r.jsx)("p",{children:e.description}),Object(r.jsx)("p",{children:"Dioptrie od ".concat(e.dioptersRange[0]," do ").concat(e.dioptersRange[1])}),Object(r.jsx)("p",{children:"Cylinder  od ".concat(e.cylinderRange[0]," do ").concat(e.cylinderRange[1])}),Object(r.jsxs)("h5",{children:[(e.price/100).toFixed(2),"\u20ac"]})]},n)}))})]})]})},ge=function(e){var n=e.order;return console.log(n),Object(r.jsxs)("div",{children:[Object(r.jsxs)(ee,{children:[Object(r.jsx)(ne,{children:"Preh\u013aad objedn\xe1vky"}),Object(r.jsxs)(te,{children:[Object(r.jsx)(Q,{children:"#"}),Object(r.jsx)(Q,{children:"EAN"}),Object(r.jsx)(Q,{children:"Produkt"}),Object(r.jsx)(Q,{children:"\u0160osovky"}),Object(r.jsx)(Q,{children:"Z\u013eava"}),Object(r.jsx)(Q,{children:"Spolu"})]}),Object(r.jsxs)(re,{children:[Object(r.jsx)(Q,{children:"#"}),Object(r.jsx)(Q,{children:"EAN"}),Object(r.jsx)(Q,{children:"Produkt"}),Object(r.jsx)(Q,{children:"\u0160osovky"}),Object(r.jsx)(Q,{children:"Z\u013eava"}),Object(r.jsx)(Q,{children:"Spolu"})]}),Object(r.jsxs)(re,{children:[Object(r.jsx)(Q,{children:"#"}),Object(r.jsx)(Q,{children:"EAN"}),Object(r.jsx)(Q,{children:"Produkt"}),Object(r.jsx)(Q,{children:"\u0160osovky"}),Object(r.jsx)(Q,{children:"Z\u013eava"}),Object(r.jsx)(Q,{children:"Spolu"})]}),Object(r.jsxs)(re,{children:[Object(r.jsx)(Q,{children:"#"}),Object(r.jsx)(Q,{children:"EAN"}),Object(r.jsx)(Q,{children:"Produkt"}),Object(r.jsx)(Q,{children:"\u0160osovky"}),Object(r.jsx)(Q,{children:"Z\u013eava"}),Object(r.jsx)(Q,{children:"Spolu"})]}),Object(r.jsx)(ce,{children:Object(r.jsx)("p",{children:"Spolu: 999.99\u20ac"})})]}),Object(r.jsxs)(ae,{children:[Object(r.jsxs)(se,{children:[Object(r.jsx)("h3",{children:"Z\xe1kaznik"}),Object(r.jsxs)("div",{children:[Object(r.jsx)("h4",{children:"Meno a prizvisko"}),Object(r.jsx)(oe,{children:n.user.name})]}),Object(r.jsxs)("div",{children:[Object(r.jsx)("h4",{children:"Adresa"}),Object(r.jsx)(oe,{children:n.user.psc}),Object(r.jsx)(oe,{children:n.user.address}),Object(r.jsx)(oe,{children:n.user.city}),Object(r.jsx)(oe,{children:n.user.country})]}),Object(r.jsxs)("div",{children:[Object(r.jsx)("h4",{children:"Kontakt"}),Object(r.jsx)(oe,{children:n.user.email}),Object(r.jsx)(oe,{children:n.user.phone})]}),Object(r.jsxs)("div",{children:[Object(r.jsx)("h4",{children:"Parametre"}),Object(r.jsx)(me.a,{parameters:n.user.lenses,disabledInputs:!0})]})]}),Object(r.jsxs)(ie,{children:[Object(r.jsx)("h3",{children:"Mo\u017enosti"}),Object(r.jsx)(ue,{children:"Prida\u0165 produkt"}),Object(r.jsx)(ue,{children:"Vytvori\u0165 objednavku"})]})]})]})};n.default=function(){var e=Object(u.i)(),n=(e.userId,e.orderId,Object(o.useState)("selectUser")),t=Object(s.a)(n,2),b=t[0],j=t[1],O=Object(o.useState)({}),h=Object(s.a)(O,2),f=h[0],m=h[1],p=function(e){var n=e.name,t=e.value;m(Object(a.a)(Object(a.a)({},f),{},Object(c.a)({},n,t)))};console.log("order"),console.log(f),console.log("order");var g=Object(o.useContext)(i.a),x=g.closeModal,v=g.isLoading,k=g.showModal,y=g.message;return Object(o.useEffect)((function(){return function(){j("selectUser")}}),[]),Object(r.jsxs)("section",{children:[Object(r.jsx)(u.a,{when:f.user,message:"M\xe1te nedokon\u010den\xfa objedn\xe1vku, skuto\u010dne chcete od\xeds\u0165?"}),k&&Object(r.jsx)(d.a,{loading:v,title:y,close:x}),Object(r.jsx)(J,{children:Object(r.jsx)("div",{children:Object(r.jsx)("h1",{children:"Nov\xe1 objedn\xe1vka"})})}),Object(r.jsx)(l.a,{children:Object(r.jsxs)("div",{children:["selectUser"===b&&Object(r.jsx)(le,{next:function(){return j("findProduct")},addToOrder:p}),"findProduct"===b&&Object(r.jsx)(fe,{back:function(){return j("selectUser")},next:j,addToOrder:p}),"selectLenses"===b&&Object(r.jsx)(pe,{back:function(){return j("findProduct")},next:function(){return j("summary")},addToOrder:p,order:f}),"summary"===b&&Object(r.jsx)(ge,{back:function(){return j("selectLenses")},order:f})]})})]})}},59:function(e,n,t){"use strict";t.r(n),t.d(n,"WarehouseContext",(function(){return f}));var r=t(1),c=t(4),a=t.n(c),s=t(11),o=t(51),i=t(30),u=t(19),l=t(10),d=t(0),b=t(2),j=t(16),O=t(17),h=t(52),f=Object(d.createContext)({eanCode:null,product:{},lenses:{},contactLensesParameters:{},glassesParameters:{},totalProducts:0,totalLenses:0,activePremisesTab:0,activeCategoryTypeTab:0,retailPremisesTabs:[],productCategoryTypeTabs:[],products:null,handleChangeCategoryTypeTab:function(){},handleChangePremisesTab:function(){},getProductsByQuery:function(){},handleProductChange:function(){},handleProductAvailableChange:function(){},getSingleProduct:function(){},createProduct:function(){},getSingleLenses:function(){},getLenses:function(){},createLenses:function(){},handleLensesChange:function(){},handleLensesParameterChange:function(){},resetProduct:function(){},resetLenses:function(){},resetContactLenses:function(){},resetGlassesParameters:function(){},getEanCode:function(){},handleAddNewParameter:function(){},handleContactLensesParameterChange:function(){},handleGlassesParameterChange:function(){},handleGlassesParameterSpecsChange:function(){},handleGlassesSizeChange:function(){}});n.default=function(e){var n=e.children,t=Object(b.h)().push,c=Object(d.useContext)(O.a),m=c.token,p=c.isAdmin,g=c.currentUser,x=c.stats,v=Object(d.useContext)(j.a),k=v.closeModal,y=v.setIsLoading,C=v.setShowModal,w=v.getMessage,P=Object(d.useState)(0),S=Object(l.a)(P,2),L=S[0],T=S[1],z=Object(d.useState)(0),E=Object(l.a)(z,2),N=E[0],A=E[1],M=Object(d.useState)(null),G=Object(l.a)(M,2),R=G[0],U=G[1],D=Object(d.useState)(Object(u.a)({},h.i)),I=Object(l.a)(D,2),Z=I[0],J=I[1],q=Object(d.useState)(Object(u.a)({},h.h)),B=Object(l.a)(q,2),Q=B[0],V=B[1],F=Object(d.useState)(Object(u.a)({},h.f)),H=Object(l.a)(F,2),K=H[0],W=H[1],X=Object(d.useState)(Object(u.a)({},h.g)),Y=Object(l.a)(X,2),$=Y[0],_=Y[1],ee=Object(d.useState)(null),ne=Object(l.a)(ee,2),te=ne[0],re=ne[1],ce=Object(d.useState)(0),ae=Object(l.a)(ce,2),se=ae[0],oe=ae[1],ie=Object(d.useState)([]),ue=Object(l.a)(ie,2),le=ue[0],de=ue[1],be=Object(d.useState)(h.a),je=Object(l.a)(be,2),Oe=je[0],he=(je[1],Object(d.useState)(0)),fe=Object(l.a)(he,2),me=fe[0],pe=fe[1],ge=new Headers;ge.append("auth-token",m),ge.append("Content-Type","application/json");var xe=function(){var e=Object(s.a)(a.a.mark((function e(){var n,t,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y(!0),C(!0),n={method:"GET",headers:ge,redirect:"follow"},e.prev=3,e.next=6,fetch("".concat("http://195.110.58.166:8080","/api/admin/products/nextEanCode"),n);case 6:return t=e.sent,e.next=9,t.json();case 9:if(r=e.sent,console.log(r),!r.eanCode){e.next=15;break}return U(r.eanCode),k(),e.abrupt("return");case 15:w(r.message),y(!1),e.next=24;break;case 19:e.prev=19,e.t0=e.catch(3),console.log(e.t0),w("Nieco sa pokazilo"),y(!1);case 24:case"end":return e.stop()}}),e,null,[[3,19]])})));return function(){return e.apply(this,arguments)}}(),ve=function(){var e=Object(s.a)(a.a.mark((function e(n){var t,r,c,s;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y(!0),C(!0),console.log(n),t=JSON.stringify(n),r={method:"POST",headers:ge,body:t,redirect:"follow"},e.prev=5,e.next=8,fetch("".concat("http://195.110.58.166:8080","/api/admin/products/filter"),r);case 8:return c=e.sent,e.next=11,c.json();case 11:if(s=e.sent,console.log(s),!s.products){e.next=17;break}return re(s.products),k(),e.abrupt("return");case 17:w(s.message),y(!1),e.next=26;break;case 21:e.prev=21,e.t0=e.catch(5),console.log(e.t0),w("Nieco sa pokazilo"),y(!1);case 26:case"end":return e.stop()}}),e,null,[[5,21]])})));return function(n){return e.apply(this,arguments)}}(),ke=function(){var e=Object(s.a)(a.a.mark((function e(){var n,t,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y(!0),C(!0),n={method:"GET",headers:ge,redirect:"follow"},e.prev=3,e.next=6,fetch("".concat("http://195.110.58.166:8080","/api/admin/lenses"),n);case 6:return t=e.sent,e.next=9,t.json();case 9:if(r=e.sent,console.log(r),!r.lenses){e.next=15;break}return re(r.lenses),k(),e.abrupt("return");case 15:w(r.message),y(!1),e.next=24;break;case 19:e.prev=19,e.t0=e.catch(3),console.log(e.t0),w("Nieco sa pokazilo"),y(!1);case 24:case"end":return e.stop()}}),e,null,[[3,19]])})));return function(){return e.apply(this,arguments)}}(),ye=function(){var e=Object(s.a)(a.a.mark((function e(n){var t,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y(!0),C(!0),e.prev=2,e.next=5,fetch("".concat("http://195.110.58.166:8080","/api/store/products/").concat(n));case 5:return t=e.sent,e.next=8,t.json();case 8:if(r=e.sent,console.log(r),!r.product){e.next=14;break}return J(r.product),k(),e.abrupt("return");case 14:w(r.message),y(!1),e.next=23;break;case 18:e.prev=18,e.t0=e.catch(2),console.log(e.t0),w("Nieco sa pokazilo"),y(!1);case 23:case"end":return e.stop()}}),e,null,[[2,18]])})));return function(n){return e.apply(this,arguments)}}(),Ce=function(){var e=Object(s.a)(a.a.mark((function e(n){var r,c,s,o,i,l;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y(!0),C(!0),r=Object(h.c)(n.name).replaceAll(" ","-").toLowerCase().trim(),c=Object(u.a)(Object(u.a)({},n),{},{price:Object(h.e)(n.price.toString()),link:r,available:n.available?n.available.map((function(e){return 1001===e?0:e})):[0,0,0,0,0]}),n.specs&&n.specs.size&&(c=Object(u.a)(Object(u.a)({},c),{},{specs:Object(u.a)(Object(u.a)({},c.specs),{},{size:n.specs.size.map((function(e){return 1001===e?0:Number(e)}))})})),n.contactLenses&&(n.contactLenses.allowedCurves&&(c=Object(u.a)(Object(u.a)({},c),{},{contactLenses:Object(u.a)(Object(u.a)({},c.contactLenses),{},{allowedCurves:n.contactLenses.allowedCurves.map((function(e){return Number(e)}))})})),n.contactLenses.allowedDiameters&&(c=Object(u.a)(Object(u.a)({},c),{},{contactLenses:Object(u.a)(Object(u.a)({},c.contactLenses),{},{allowedDiameters:n.contactLenses.allowedDiameters.map((function(e){return Number(e)}))})})),n.contactLenses.dioptersRange&&(c=Object(u.a)(Object(u.a)({},c),{},{contactLenses:Object(u.a)(Object(u.a)({},c.contactLenses),{},{dioptersRange:n.contactLenses.dioptersRange.map((function(e){return Number(e)}))})}))),console.log("modifiedProduct"),console.log(c),s=JSON.stringify(Object(u.a)(Object(u.a)({},n),{},{price:Object(h.e)(n.price.toString()),link:r,available:n.available?n.available.map((function(e){return 1001===e?0:e})):[0,0,0,0,0]})),o={method:"POST",headers:ge,body:s,redirect:"follow"},e.prev=10,e.next=13,fetch("".concat("http://195.110.58.166:8080","/api/admin/products"),o);case 13:return i=e.sent,e.next=16,i.json();case 16:if(l=e.sent,console.log(l),!l.product){e.next=24;break}return t("/dashboard/obchod"),ve({limit:10}),U(null),k(),e.abrupt("return");case 24:w(l.message),y(!1),e.next=33;break;case 28:e.prev=28,e.t0=e.catch(10),console.log(e.t0),w("Nieco sa pokazilo"),y(!1);case 33:case"end":return e.stop()}}),e,null,[[10,28]])})));return function(n){return e.apply(this,arguments)}}(),we=function(){var e=Object(s.a)(a.a.mark((function e(n){var t,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y(!0),C(!0),e.prev=2,e.next=5,fetch("".concat("http://195.110.58.166:8080","/api/store/lenses/").concat(n));case 5:return t=e.sent,e.next=8,t.json();case 8:if(r=e.sent,console.log(r),!r.lenses){e.next=14;break}return V(r.lenses),k(),e.abrupt("return");case 14:w(r.message),y(!1),e.next=23;break;case 18:e.prev=18,e.t0=e.catch(2),console.log(e.t0),w("Nieco sa pokazilo"),y(!1);case 23:case"end":return e.stop()}}),e,null,[[2,18]])})));return function(n){return e.apply(this,arguments)}}(),Pe=function(){var e=Object(s.a)(a.a.mark((function e(n){var r,c,s,o;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y(!0),C(!0),r=JSON.stringify(Object(u.a)(Object(u.a)({},n),{},{price:Object(h.e)(n.price.toString())})),c={method:"POST",headers:ge,body:r,redirect:"follow"},e.prev=4,e.next=7,fetch("".concat("http://195.110.58.166:8080","/api/admin/lenses"),c);case 7:return s=e.sent,e.next=10,s.json();case 10:if(o=e.sent,console.log(o),!o.lenses){e.next=17;break}return t("/dashboard/obchod"),ke(),k(),e.abrupt("return");case 17:w(o.message),y(!1),e.next=26;break;case 21:e.prev=21,e.t0=e.catch(4),console.log(e.t0),w("Nieco sa pokazilo"),y(!1);case 26:case"end":return e.stop()}}),e,null,[[4,21]])})));return function(n){return e.apply(this,arguments)}}();return Object(d.useEffect)((function(){te&&(console.log("GET ".concat(Oe[me].name," DATA")),0===me?ve({limit:10}):ke())}),[me]),Object(d.useEffect)((function(){console.log("SET PREMISES"),g&&(p?(de(h.j),oe(0)):(de(h.j.filter((function(e){return e.premises===g.premises}))),oe(0)))}),[g,p]),Object(d.useEffect)((function(){x&&(console.log("SET STATS"),T(x.products),A(x.lenses))}),[x]),Object(r.jsx)(f.Provider,{value:{eanCode:R,product:Z,lenses:Q,contactLensesParameters:K,glassesParameters:$,totalProducts:L,totalLenses:N,activePremisesTab:se,activeCategoryTypeTab:me,retailPremisesTabs:le,productCategoryTypeTabs:Oe,products:te,handleChangeCategoryTypeTab:function(e){pe(e)},handleChangePremisesTab:function(e){oe(e)},getProductsByQuery:ve,handleProductChange:function(e){var n=e.target,t=n.name,r=n.value;J(Object(u.a)(Object(u.a)({},Z),{},Object(i.a)({},t,r)))},handleProductAvailableChange:function(e,n){var t=e.target,r=t.name,c=t.value,a=Z[r];a[n]=""===c?1001:Number(c),J(Object(u.a)(Object(u.a)({},Z),{},Object(i.a)({},r,a)))},getLenses:ke,getSingleProduct:ye,createProduct:Ce,getSingleLenses:we,createLenses:Pe,handleLensesChange:function(e){var n=e.target,t=n.name,r=n.value;V(Object(u.a)(Object(u.a)({},Q),{},Object(i.a)({},t,r)))},handleLensesParameterChange:function(e,n){var t=e.target,r=t.name,c=t.value,a=Q[r];a[n]=""===c?1001:Number(c),V(Object(u.a)(Object(u.a)({},Q),{},Object(i.a)({},r,a)))},resetProduct:function(){J(Object(u.a)(Object(u.a)({},h.i),{},{available:[1001,1001,1001,1001,0]})),U(null)},resetLenses:function(){V(Object(u.a)(Object(u.a)({},h.h),{},{dioptersRange:[1001,1001],cylinderRange:[1001,1001]}))},resetContactLenses:function(){W({allowedCurves:[1001],allowedDiameters:[1001],dioptersRange:[1001,1001]})},resetGlassesParameters:function(){_(Object(u.a)(Object(u.a)({},h.g),{},{specs:Object(u.a)(Object(u.a)({},h.g.specs),{},{size:[1001,1001,1001]})}))},getEanCode:xe,handleAddNewParameter:function(e){var n=e.target.name;W(Object(u.a)(Object(u.a)({},K),{},Object(i.a)({},n,[].concat(Object(o.a)(K[n]),[1001]))))},handleContactLensesParameterChange:function(e,n){var t=e.target,r=t.name,c=t.value,a=K[r];a[n]=""===c?1001:c,W(Object(u.a)(Object(u.a)({},K),{},Object(i.a)({},r,a)))},handleGlassesParameterChange:function(e){var n=e.target,t=n.name,r=n.value;_(Object(u.a)(Object(u.a)({},$),{},Object(i.a)({},t,r)))},handleGlassesParameterSpecsChange:function(e){var n=e.target,t=n.name,r=n.value;_(Object(u.a)(Object(u.a)({},$),{},{specs:Object(u.a)(Object(u.a)({},$.specs),{},Object(i.a)({},t,r))}))},handleGlassesSizeChange:function(e,n){var t=e.target,r=t.name,c=t.value,a=$.specs[r];a[n]=""===c?1001:c,_(Object(u.a)(Object(u.a)({},$),{},{specs:Object(u.a)(Object(u.a)({},$.specs),{},Object(i.a)({},r,a))}))}},children:n})}}}]);
//# sourceMappingURL=22.a4f6c2cd.chunk.js.map