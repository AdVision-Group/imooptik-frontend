(this.webpackJsonpimooptik=this.webpackJsonpimooptik||[]).push([[34],{238:function(e,n,t){"use strict";t.r(n);var r=t(2),i=t(56),a=t(31),c=t(21),o=t(10),l=t(1),d=t(69),s=t(19),u=t(18),j=t(3),b=t(54),v=t(5),m=t(6);function h(){var e=Object(v.a)(["\n    margin-top: 2rem;\n    min-width: 16.5rem;\n    width: 100%;\n    background-color: var(--input-background-color);\n    color: var(--input-color);\n    border: none;\n    padding: .8rem 1rem .8rem 1rem;\n    font-size: inherit;\n    font-family: inherit;\n    display: block;\n"]);return h=function(){return e},e}var O=m.c.select(h()),p=function(e){var n=e.name,t=e.value,i=e.handleChange,a=e.listItems,c=e.defaultOption,o=void 0!==c&&c,l=e.defaultValue,d=e.defaultLabel;return Object(r.jsxs)(O,{name:n,value:t,onChange:function(e){return i(e)},children:[o&&Object(r.jsx)("option",{value:l,children:d}),a.map((function(e,n){if(4!==n)return Object(r.jsx)("option",{value:n+1,children:e},n)}))]})},f=t(52),x=t(32),g=t(53),y=t(58),k=t(67),C=t(14),w=t(28);function D(){var e=Object(v.a)(["\n    display: grid;\n    grid-template-columns: repeat(8, 1fr);\n    /* justify-items: center; */\n    /* align-items: center; */\n\n\n    select {\n        /* margin-top: 2rem; */\n        /* min-width: 16.5rem; */\n        width: 100%;\n        background-color: var(--input-background-color);\n        color: var(--input-color);\n        border: none;\n        padding: .8rem .5rem .8rem .5rem;\n        font-size: inherit;\n        font-family: inherit;\n        display: block;\n    }\n"]);return D=function(){return e},e}function z(){var e=Object(v.a)(["\n    padding: 2rem;\n    text-align: center;\n\n    border-right: ",";\n    display: flex;\n    align-items: center;\n    justify-content: center;\n"]);return z=function(){return e},e}function E(){var e=Object(v.a)(["\n    display: grid;\n    grid-template-columns: repeat(8, 1fr);\n    /* justify-items: center; */\n    border-bottom: 1px solid var(--secondary-text-color);\n"]);return E=function(){return e},e}function T(){var e=Object(v.a)(["\n    grid-column: 1/3;\n    padding: 2rem;\n    border-radius: .5rem;\n    background-color: var(--container-background-color);\n    box-shadow: var(--container-shadow);\n    margin-bottom: 3rem;\n    min-width: 90rem;\n\n    h3 {\n        margin-bottom: 2rem;\n    }\n\n    h4 {\n        margin-top: 2rem;\n    }\n"]);return T=function(){return e},e}function A(){var e=Object(v.a)(["\n    padding: 2rem;\n    border-radius: .5rem;\n    background-color: var(--container-background-color);\n    box-shadow: var(--container-shadow);\n    margin-bottom: 3rem;\n\n    h3 {\n        margin-bottom: 2rem;\n    }\n\n    h4 {\n        margin-top: 2rem;\n    }\n\n    select {\n        margin-top: 2rem;\n        /* min-width: 16.5rem; */\n        width: 100%;\n        background-color: var(--input-background-color);\n        color: var(--input-color);\n        border: none;\n        padding: .8rem .5rem .8rem .5rem;\n        font-size: inherit;\n        font-family: inherit;\n        display: block;\n    }\n"]);return A=function(){return e},e}function M(){var e=Object(v.a)(["\n    display: grid;\n    grid-template-columns: 1fr 1fr;\n    grid-gap: 3rem;\n    align-items: start;\n    margin-bottom: 5rem;\n"]);return M=function(){return e},e}function N(){var e=Object(v.a)(["\n    margin-top: 2rem;\n    background-color: var(--primary-color);\n    font-weight: bolder;\n"]);return N=function(){return e},e}function X(){var e=Object(v.a)(["\n    background-color: var(--color-red);\n"]);return X=function(){return e},e}function F(){var e=Object(v.a)(["\n    background-color: var(--primary-color);\n    font-weight: bolder;\n    margin-left: 1rem;\n"]);return F=function(){return e},e}function I(){var e=Object(v.a)(["\n    ","\n    padding-top: 3rem;\n    padding-bottom: 3rem;\n    color: var(--primary-text-color);\n"]);return I=function(){return e},e}var L=m.c.div(I(),C.g),B=Object(m.c)(w.a)(F()),K=Object(m.c)(w.a)(X()),R=Object(m.c)(w.a)(N()),S=m.c.div(M()),P=m.c.div(A()),V=m.c.div(T()),J=m.c.div(E()),U=m.c.div(z(),(function(e){return e.isFirst?"1px solid var(--secondary-text-color)":""})),Z=m.c.div(D());n.default=function(){var e,n,t,v=Object(l.useContext)(s.a),m=v.closeModal,h=v.getMessage,O=v.setShowModal,w=v.isLoading,D=v.message,z=v.showModal,E=Object(l.useContext)(u.a).isAdmin,T=Object(l.useContext)(d.BookingContext),A=T.createCalendar,M=T.updateCalendar,N=T.deleteCalendar,X=Object(j.i)().calendarId,F=Object(g.b)("api/booking/calendars",X,"novy-kalendar"===X),I=F.response,_=F.isLoading,q=Object(l.useState)({}),G=Object(o.a)(q,2),H=G[0],Q=G[1],W=Object(l.useState)(!1),Y=Object(o.a)(W,2),$=Y[0],ee=Y[1],ne=function(e){var n=e.target,t=n.name,r=n.value;if(""===r)return delete H[t],void Q(Object(c.a)({},H));Q((function(e){return Object(c.a)(Object(c.a)({},e),{},Object(a.a)({},t,r))}))},te=function(e,n){var t=e.target,r=t.name,i=t.value,o=H[r]?H[r]:["X","X","X","X","X","X","X"];o[n]=i,Q((function(e){return Object(c.a)(Object(c.a)({},e),{},Object(a.a)({},r,o))}))};return Object(l.useEffect)((function(){if(!_&&I.calendar)if(ee(!0),I.calendar.exceptDays){var e=Object(k.i)(I.calendar.exceptDays);Q(Object(c.a)(Object(c.a)({},I.calendar),{},{exceptDays:e})),m()}else Q(I.calendar),m()}),[_]),Object(l.useEffect)((function(){return function(){ee(!1),Q({})}}),[]),Object(r.jsxs)("section",{children:[z&&Object(r.jsx)(x.a,{loading:w,title:D,close:m}),Object(r.jsx)(L,{children:Object(r.jsxs)(C.c,{children:[Object(r.jsx)("div",{children:$?Object(r.jsxs)("h1",{children:["Kalend\xe1r: ",null===H||void 0===H?void 0:H.name]}):Object(r.jsx)("h1",{children:"Nov\xfd kalend\xe1r"})}),Object(r.jsxs)("div",{children:[$&&Object(r.jsx)(K,{onClick:function(){return N(null===H||void 0===H?void 0:H._id)},children:"Vymaza\u0165"}),Object(r.jsx)(B,{onClick:function(){if(!H.name)return h("Meno Kalend\xe1ra je povinn\xe9"),void O(!0);if(!H.premises)return h("Nie je zvolen\xe1 prev\xe1dzka ku ktorej patr\xed kalend\xe1r"),void O(!0);if(!H.endTimes&&!H.startTimes)return h("Nie s\xfa vyplnen\xe9 \u010dasy na prehliadky"),void O(!0);if(!H.interval)return h("Nie je zvolen\xfd interval"),void O(!0);if($){var e=Object(k.f)(H);console.log("CALENDAR BEFORE UPDATE"),console.log(e),M(e,H._id)}else{var n={};n=H.exceptDays?Object(c.a)(Object(c.a)({},H),{},{exceptDays:Object(k.j)(H.exceptDays)}):Object(c.a)({},H),console.log("CALENDAR BEFORE CREATE"),console.log(n),A(n)}},children:$?"Upravi\u0165":"Vytvori\u0165"})]})]})}),Object(r.jsx)(b.a,{children:Object(r.jsxs)(S,{children:[Object(r.jsxs)("div",{children:[E&&Object(r.jsxs)(P,{children:[Object(r.jsx)("h3",{children:"Z\xe1kladn\xe9 inform\xe1cie"}),Object(r.jsxs)("div",{children:[Object(r.jsx)("h4",{children:"Kalendar je pre prev\xe1dzku"}),Object(r.jsx)(p,{name:"premises",value:(null===H||void 0===H?void 0:H.premises)||"0",listItems:y.b,defaultOption:!0,defaultValue:0,defaultLabel:"Nezadan\xe9",handleChange:ne})]}),Object(r.jsxs)("div",{children:[Object(r.jsx)("h4",{children:"Meno kalend\xe1ra"}),Object(r.jsx)(f.a,{type:"text",label:"Meno*",name:"name",value:(null===H||void 0===H?void 0:H.name)||"",handleChange:ne})]})]}),Object(r.jsxs)(P,{children:[Object(r.jsx)("h3",{children:"Dni kedy sa nerobia prehliadky"}),(null===H||void 0===H?void 0:H.exceptDays)&&(null===H||void 0===H||null===(e=H.exceptDays)||void 0===e?void 0:e.map((function(e,n){return Object(r.jsx)("div",{children:Object(r.jsx)(f.a,{type:"date",name:"exceptDays",value:e||"",handleChange:function(e){return function(e,n){var t=e.target,r=t.name,i=t.value,o=H[r];o[n]=i,Q((function(e){return Object(c.a)(Object(c.a)({},e),{},Object(a.a)({},r,o))}))}(e,n)}})},n)}))),Object(r.jsx)(R,{onClick:function(){Q((function(e){return Object(c.a)(Object(c.a)({},e),{},{exceptDays:e.exceptDays?[].concat(Object(i.a)(e.exceptDays),[""]):[""]})}))},children:"Prida\u0165"})]})]}),Object(r.jsxs)(P,{children:[Object(r.jsx)("h3",{children:"Nastavenie kalend\xe1ra"}),Object(r.jsxs)("div",{children:[Object(r.jsx)("h4",{children:"Interval medzi prehliadkami"}),Object(r.jsxs)("select",{name:"interval",value:(null===H||void 0===H?void 0:H.interval)||"",onChange:ne,children:[Object(r.jsx)("option",{value:"",children:"Nezadan\xe9"}),Object(r.jsx)("option",{value:30,children:"30min"}),Object(r.jsx)("option",{value:60,children:"60min"})]})]}),Object(r.jsxs)("div",{children:[Object(r.jsx)("h4",{children:"\u010cas pred objednan\xedm"}),Object(r.jsx)(f.a,{type:"text",label:"Po\u010det min\xfat",name:"allowMinutesBefore",value:(null===H||void 0===H||null===(n=H.allowMinutesBefore)||void 0===n?void 0:n.toString())||"",handleChange:ne})]}),Object(r.jsxs)("div",{children:[Object(r.jsx)("h4",{children:"Ko\u013eko dn\xed dopredu sa d\xe1 objedna\u0165"}),Object(r.jsx)(f.a,{type:"text",label:"Po\u010det dn\xed",name:"daysIntoFuture",value:(null===H||void 0===H||null===(t=H.daysIntoFuture)||void 0===t?void 0:t.toString())||"",handleChange:ne})]})]}),Object(r.jsxs)(V,{children:[Object(r.jsx)("h3",{children:"Ordina\u010dn\xe9 hodiny"}),Object(r.jsxs)(J,{children:[Object(r.jsx)(U,{isFirst:!0,children:"\u010cas \\ Den"}),k.c.map((function(e,n){return Object(r.jsx)(U,{children:e},n)}))]}),Object(r.jsxs)(Z,{children:[Object(r.jsx)(U,{isFirst:!0,children:"Za\u010diatok"}),Object(i.a)(Array(7)).map((function(e,n){return Object(r.jsx)(U,{children:Object(r.jsxs)("select",{name:"startTimes",value:(null===H||void 0===H?void 0:H.startTimes)?null===H||void 0===H?void 0:H.startTimes[n]:"x",onChange:function(e){return te(e,n)},children:[Object(r.jsx)("option",{value:"X",children:"\u017diadn\xfd"}),k.b.map((function(e,n){var t=e.name,i=e.value;return Object(r.jsx)("option",{value:i,children:t},n)}))]})},n)}))]}),Object(r.jsxs)(Z,{children:[Object(r.jsx)(U,{isFirst:!0,children:"Koniec"}),Object(i.a)(Array(7)).map((function(e,n){return Object(r.jsx)(U,{children:Object(r.jsxs)("select",{name:"endTimes",value:(null===H||void 0===H?void 0:H.endTimes)?null===H||void 0===H?void 0:H.endTimes[n]:"x",onChange:function(e){return te(e,n)},children:[Object(r.jsx)("option",{value:"X",children:"\u017diadn\xfd"}),k.b.map((function(e,n){var t=e.name,i=e.value;return Object(r.jsx)("option",{value:i,children:t},n)}))]})},n)}))]})]})]})})]})}}}]);
//# sourceMappingURL=34.bf3fb1d3.chunk.js.map