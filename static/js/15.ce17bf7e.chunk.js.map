{"version":3,"sources":["components/booking-calendar-overview/booking-calendar-overview.styles.jsx","components/booking-calendar-overview/booking-calendar-overview.component.jsx","components/calendar/calendar.styles.jsx","components/calendar/calendar.component.jsx","sections/booking/booking.styles.jsx","sections/booking/booking.section.jsx","components/custom-input/custom-input.styles.jsx","components/custom-input/custom-input.component.jsx","components/scroll-container/scroll-container.styles.jsx","components/scroll-container/scroll-container.component.jsx","components/section-header/section-header.styles.jsx","components/section-header/section-header.component.jsx","context/booking/booking.queries.jsx","context/booking/booking.context.jsx"],"names":["ContainerOverview","styled","div","Options","ShowButton","CustomButton","isActive","UpdateButton","BookingCalendarOverview","calendar","handleClick","handleUpdateClick","name","onClick","Container","HeaderBlock","Dayblock","DayRowContainer","BookingContainer","p","active","DayNumber","Calendar","setSelectedDate","useState","activeIndex","setActiveIndex","date","Date","year","getFullYear","month","getMonth","firstDayOfCurrentMonth","getDay","daysInMonth","getDate","arr","j","bookedDays","Object","keys","booked","i","push","day","obj","forEach","idx","Number","split","bookDate","length","map","d","toLocaleDateString","weekday","value","Title","h2","GridRow","CalendarGridContainer","AppoimentOverview","Time","Line","AppoimentCol","NoteContainer","Name","Desc","span","ConfirmButton","DeclineButton","AppoimentContainer","BookingSection","useHistory","useContext","LoadingModalContext","closeModal","isLoading","message","showModal","bookingData","BookingContext","calendars","bookings","getCalendars","getCalendar","userBookings","getUserBookings","getBookings","activeCalendar","selectedDate","resetBooking","searchQuery","setSearchQuery","useEffect","console","log","loading","title","close","handleChange","e","target","handleAddButton","_id","Fragment","charAt","toUpperCase","slice","filteredUserBookings","filter","booking","dueDate","dueTime","time","user","bookingType","find","note","shrinkLabel","css","InputGroup","CustomInput","label","otherProps","className","onChange","htmlFor","paddingStyles","ScrollContainer","children","HeaderContainer","Left","Right","AddButton","SectionHeader","count","type","fetchSingleCalendar","id","fetch","process","fetchUserBookings","token","myHeaders","Headers","append","requestOptions","method","headers","redirect","createContext","BookingProvider","AuthContext","getMessage","setIsLoading","setShowModal","setActiveCalendar","setCalendars","interval","startTimes","endTimes","daysIntoFuture","premises","allowMinutesBefore","exceptDays","setCalendar","a","response","json","data","error","setBookings","setUserBookings","Provider"],"mappings":"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","file":"static/js/15.ce17bf7e.chunk.js","sourcesContent":["import styled from \"styled-components\"\nimport CustomButton from '../custom-button/custom-button.component'\n\nexport const ContainerOverview = styled.div`\n    padding: 2rem;\n    box-shadow: 0 0 1.5rem 0 rgba(0,0,0, 0.08);\n\n    &:not(:last-child) {\n        /* margin-right: 2rem; */\n    }\n\n    h3  { \n        font-size: 1.8rem;\n    }\n\n    p {\n        font-size: 1.4rem;\n        color: gray;\n    }\n`\n\nexport const Options = styled.div`\n    display: flex;\n`\n\nexport const ShowButton = styled(CustomButton)`\n    margin-top: 2rem;\n    font-size: 1.4rem;\n    display: block;\n    background-color: ${({ isActive }) => isActive ? \"rgb(235, 172, 1)\" : \"#eee\"};\n    font-weight: bolder;\n    color: ${({ isActive }) => isActive ? \"#fff\" : \"#000\"};\n`\nexport const UpdateButton = styled(CustomButton)`\n    margin-top: 2rem;\n    font-size: 1.4rem;\n    display: block;\n    margin-left: 2rem;;\n`\n","import React from 'react'\n\nimport {\n    ContainerOverview,\n    UpdateButton,\n    Options,\n    ShowButton\n} from './booking-calendar-overview.styles'\n\nconst BookingCalendarOverview = ({ calendar, handleClick, isActive, handleUpdateClick }) => {\n    return (\n        <ContainerOverview>\n            <h3>{calendar.name}</h3>\n            <p>Obchodná 59, 84105 Bratislava</p>\n            <p>+421 902 688 952</p>\n            <p>obchodna@imooptik.sk</p>\n            <Options>\n                <ShowButton onClick={handleClick} isActive={isActive}>Zobraziť</ShowButton>\n                <UpdateButton onClick={handleUpdateClick}>Upraviť</UpdateButton>\n            </Options>\n        </ContainerOverview>\n    )\n}\n\nexport default BookingCalendarOverview\n","import styled from 'styled-components'\n\nexport const Container = styled.div`\n    width: 100%;\n    display: grid;\n    grid-template-columns: repeat(7, 1fr);\n    border: 1px solid rgba(0,0,0,.1);\n    min-width: 55rem;\n`\n\nexport const HeaderBlock = styled.div`\n    height: 8rem;\n    background-color: #000;\n    color: #fff;\n    display: flex;\n    align-items:center;\n    justify-content:center;\n    font-weight: 700;\n`\n\nexport const Dayblock = styled.div`\n    cursor: pointer;\n    height: 7rem;\n    display: flex;\n    justify-content: flex-end;\n    align-items: flex-end;\n    border: 1px solid rgba(0,0,0,.1);\n    padding: .6rem 1rem;\n\n    transition: all .15s;\n\n    &:hover {\n        background-color: rgba(0,0,0,.1);\n    }\n\n`\n\nexport const DayRowContainer = styled.div`\n    width: 100%;\n    display: flex;\n    justify-content: space-between;\n`\n\nexport const BookingContainer = styled.p`\n    background-color: ${({ active }) => active ? \" rgb(235, 172, 1)\" : \"#eee\"};\n    color: ${({ active }) => active ? \"#fff\" : \"#000\"};\n    border-radius: 50%;\n    font-weight: bolder;\n    padding: .2rem .9rem;\n`\n\nexport const DayNumber = styled.p`\n    margin-left: auto\n`","import React, { useState } from 'react'\n\nimport {\n    Container,\n    HeaderBlock,\n    Dayblock,\n    BookingContainer,\n    DayRowContainer,\n    DayNumber\n} from './calendar.styles'\n\nconst Calendar = ({ calendar, setSelectedDate }) => {\n    const blocks = [\n        {\n            name: 'Pondelok'\n        },\n        {\n            name: 'Utorok'\n        },\n        {\n            name: 'Streda'\n        },\n        {\n            name: 'Štvrtok'\n        },\n        {\n            name: 'Piatok'\n        },\n        {\n            name: 'Sobota'\n        },\n        {\n            name: 'Nedeľa'\n        },\n    ]\n\n    const [activeIndex, setActiveIndex] = useState(null)\n\n    const date = new Date()\n    const year = date.getFullYear()\n    const month = date.getMonth()\n    let firstDayOfCurrentMonth = new Date(year, month).getDay()\n    const daysInMonth = new Date(year, month + 1, 0).getDate()\n\n    if (firstDayOfCurrentMonth === 0) {\n        firstDayOfCurrentMonth = 7\n    }\n\n    let arr = []\n    let j = 1\n\n    const bookedDays = Object.keys(calendar.booked)\n    // const bookedDays = [\"28/12/2020\", \"28/12/2020\", \"28/12/2020\", \"28/12/2020\", \"28/12/2020\", \"25/12/2020\", \"30/12/2020\", \"28/12/2020\", \"25/12/2020\", \"30/12/2020\"]\n\n    for (let i = 0; i < 42; i++) {\n        if (i < firstDayOfCurrentMonth - 1) {\n            arr.push({\n                day: 0\n            })\n        } else if (i < daysInMonth + firstDayOfCurrentMonth - 1) {\n            let obj = {}\n            let numberOfBookings = 1\n            bookedDays.forEach((day, idx) => {\n                if (j === Number(day.split('/')[0])) {\n                    obj = {\n                        bookDate: day,\n                        booked: calendar.booked[day].length,\n                    }\n                    return\n                }\n            })\n\n            arr.push({\n                ...obj,\n                day: j++\n            })\n        }\n    }\n\n    const handleClick = (day, idx, bookDate) => {\n        const d = new Date(year, month, day)\n        const options = { weekday: 'long', month: 'long', day: 'numeric' };\n        setActiveIndex(idx)\n        setSelectedDate({\n            name: d.toLocaleDateString(\"sk-SK\", options),\n            value: bookDate\n        })\n    }\n\n    return (\n        <Container>\n            {\n                blocks.map(({ name }, idx) => (\n                    <HeaderBlock key={idx}>\n                        {name}\n                    </HeaderBlock>\n                ))\n            }\n            {\n                arr.map(({ day, booked, bookDate }, idx) => (\n                    <Dayblock key={idx} onClick={booked ? () => handleClick(day, idx, bookDate) : null}>\n                        {!(day === 0) && (\n                            <DayRowContainer>\n                                {booked && <BookingContainer active={idx === activeIndex}>{booked}</BookingContainer>}\n                                <DayNumber>{day}</DayNumber>\n                            </DayRowContainer>\n                        )}\n                    </Dayblock>\n                ))\n            }\n        </Container>\n    )\n}\n\nexport default Calendar\n","import styled from 'styled-components'\nimport CustomButton from '../../components/custom-button/custom-button.component'\n\nexport const Title = styled.h2`\n    margin-bottom: 2rem;\n`\n\nexport const GridRow = styled.div`\n    display: grid;\n    grid-template-columns: repeat( auto-fit, minmax(25rem, 1fr) );\n    margin-bottom: 3rem;\n    grid-gap: 2rem;\n`\n\n\nexport const CalendarGridContainer = styled.div`\n    margin-top: 3rem;\n    display: grid;\n    grid-template-columns: 4fr 2fr;\n    align-items: start;\n    margin-bottom: 10rem;\n`\nexport const AppoimentOverview = styled.div`\n    margin-left: 2rem;  \n    padding: 2rem;\n    box-shadow: 0 0 1.5rem 0 rgba(0,0,0, 0.08);\n    align-self: start;\n`\n\nexport const Time = styled.p`\n    font-size: 1.4rem;\n    font-weight: 700;\n`\n\nexport const Line = styled.div`\n    height: 1px;\n    background-color: #eee;\n    width: 100%;\n    margin: .5rem 0 1rem;\n`\n\nexport const AppoimentCol = styled.div`\n    display: grid;\n    grid-template-columns: 1fr 1fr;\n    grid-template-rows: auto auto;\n    grid-template-areas:    \"i b\"\n                            \"n n\";\n`\n\nexport const NoteContainer = styled.div`\n    grid-area: n;\n    padding: .5rem 0;\n\n    p {\n        color: gray;\n    }\n`\n\nexport const Name = styled.p`\n    font-size: 1.4rem;\n    font-weight: 700;\n    line-height: 1;\n    /* margin-top: .5rem; */\n`\n\nexport const Desc = styled.span`\n    color: gray;\n    font-size: 1.2rem;\n    line-height: 1;\n`\n\nexport const Options = styled.div`\n    align-self: end;\n    justify-self: end;\n`\n\nexport const ConfirmButton = styled(CustomButton)`\n    display:block;  \n    font-size: 1.2rem;\n    /* margin-right: .5rem; */\n    padding: .2rem .8rem;\n    border-radius: .5rem;\n    margin-left: auto;\n    margin-bottom: .5rem;\n\n`\n\nexport const DeclineButton = styled(CustomButton)`\n    display:block;  \n    margin-left: auto;\n    font-size: 1.2rem;\n    /* margin-right: 1rem; */\n    padding: .2rem .8rem;\n    border-radius: .5rem;\n`\n\nexport const AppoimentContainer = styled.div`\n    margin-bottom: 1rem;\n`","import React, { useState, useEffect, useContext } from 'react'\nimport { LoadingModalContext } from '../../context/loading-modal/loading-modal.contenxt'\nimport { BookingContext } from '../../context/booking/booking.context'\nimport { useHistory } from 'react-router-dom'\n\nimport SectionHeader from '../../components/section-header/section-header.component'\nimport ScrollContainer from '../../components/scroll-container/scroll-container.component'\nimport Popup from '../../components/popup/pop-up.component'\nimport BookingCalendarOverview from \"../../components/booking-calendar-overview/booking-calendar-overview.component\"\n\nimport Calendar from '../../components/calendar/calendar.component'\n\nimport {\n    Title,\n    GridRow,\n    CalendarGridContainer,\n    AppoimentOverview,\n    Time,\n    Line,\n    // TwoRowGrid,\n    Name,\n    Desc,\n    Options,\n    ConfirmButton,\n    DeclineButton,\n    AppoimentContainer,\n    AppoimentCol,\n    NoteContainer\n} from './booking.styles'\n\nconst BookingSection = () => {\n    const { push } = useHistory()\n    const {\n        closeModal,\n        isLoading,\n        message,\n        showModal\n    } = useContext(LoadingModalContext)\n\n    const bookingData = useContext(BookingContext)\n\n    const {\n        calendar,\n        calendars,\n        bookings,\n        // bookingRows,\n        getCalendars,\n        getCalendar,\n        userBookings,\n        getUserBookings,\n        getBookings,\n        // getBookingRows\n        activeCalendar,\n        selectedDate,\n        setSelectedDate,\n        resetBooking\n    } = bookingData\n\n    const [searchQuery, setSearchQuery] = useState('')\n\n    useEffect(() => {\n        if (!calendars) {\n            getCalendars()\n            getUserBookings()\n        }\n    }, [calendars])\n\n    useEffect(() => {\n        if (!bookings) {\n            getBookings()\n        }\n    }, [calendars])\n\n    // useEffect(() => {\n    //     if (!bookingRows) {\n    //         getBookingRows()\n    //     }\n    // }, [calendars])\n\n    // console.log(bookings)\n    // console.log(bookingRows)\n\n    useEffect(() => {\n        return () => {\n            resetBooking()\n        }\n    }, [])\n\n    if (!calendars) return <Popup loading={isLoading} title={message} close={closeModal} />\n\n    console.log(userBookings)\n\n    return (\n        <section>\n            {showModal && <Popup loading={isLoading} title={message} close={closeModal} />}\n            <SectionHeader\n                searchQuery={searchQuery}\n                handleChange={e => setSearchQuery(e.target.value)}\n                handleAddButton={() => push('rezervacie/novy-kalendar')}\n                title=\"Kalendar objednávok\"\n            />\n\n            <ScrollContainer>\n                <Title>Pobočky</Title>\n                <GridRow>\n                    {calendars.map((calendar, idx) => (\n                        <BookingCalendarOverview key={idx} calendar={calendar} handleClick={() => getCalendar(calendar._id, idx + 1)} handleUpdateClick={() => push(`rezervacie/${calendar._id}`)} isActive={activeCalendar === idx + 1} />\n                    ))}\n                </GridRow>\n\n                {calendar.name && (\n                    <React.Fragment>\n                        <Title>Kalendár</Title>\n                        <CalendarGridContainer>\n                            <Calendar calendar={calendar} setSelectedDate={setSelectedDate} />\n\n                            {calendar.name && selectedDate.name && <AppoimentOverview>\n                                <Title>{selectedDate.name.charAt(0).toUpperCase() + selectedDate.name.slice(1)}</Title>\n\n                                {\n                                    calendar.booked[selectedDate.value].map((date, idx) => {\n                                        const filteredUserBookings = userBookings.filter(booking => booking.dueDate === selectedDate.value && booking.dueTime.split(\":\")[0] === date)\n                                        const time = date.split('/')[0] + \":\" + date.split('/')[1]\n\n                                        return (\n                                            <React.Fragment>\n                                                <AppoimentContainer key={idx}>\n                                                    <Time>{time}</Time>\n                                                    <Line />\n                                                    {\n                                                        filteredUserBookings.map(user => {\n                                                            const bookingType = bookings.find(booking => booking._id === user.booking)\n\n                                                            return (\n                                                                <AppoimentCol>\n                                                                    <div>\n                                                                        <Name>{user.name}</Name>\n                                                                        <Desc>{bookingType.name}</Desc>\n                                                                    </div>\n                                                                    <Options>\n                                                                        <ConfirmButton>Vybavený</ConfirmButton>\n                                                                        <DeclineButton>Neprišiel</DeclineButton>\n                                                                    </Options>\n                                                                    <NoteContainer>\n                                                                        <p>{user.note}</p>\n                                                                    </NoteContainer>\n                                                                </AppoimentCol>\n                                                            )\n                                                        })\n                                                    }\n                                                </AppoimentContainer>\n                                            </React.Fragment>\n                                        )\n                                    })\n                                }\n                            </AppoimentOverview>}\n                        </CalendarGridContainer>\n                    </React.Fragment>\n                )}\n            </ScrollContainer>\n        </section>\n    )\n}\n\nexport default BookingSection\n","import styled, { css } from \"styled-components\"\n\nconst shrinkLabel = css`\n    left: .5rem;\n    top: -14px;\n    font-size: 12px;\n    color: #000;\n`\nexport const InputGroup = styled.div`\n    position: relative;\n    /* margin: 45px 0; */\n\n    .form-input {\n        background: none;\n        background-color: #F5F5F5;\n        color: #000;\n        font-size: 1.5rem;\n        padding: 1rem .5rem 1rem 2rem;\n        display: block;\n        width: 100%;\n        border: none;\n        border-radius: .5rem;\n        /* border-bottom: 1px solid #000; */\n        margin: 2rem 0 0;\n        font-family: inherit;\n\n        &:focus {\n        outline: none;\n        }\n\n        &:focus ~ .form-input-label {\n            ${shrinkLabel}\n        }\n    }\n\n    input[type = 'password'] {\n        letter-spacing: 0.3em;\n    }\n\n    .form-input-label {\n        color: #B1B1B1;\n        font-size: 1.4rem;\n        font-weight: normal;\n        position: absolute;\n        pointer-events: none;\n        left: 1.5rem;\n        top: 1rem;\n        transition: 300ms ease all;\n\n        &.shrink {\n            ${shrinkLabel}\n        }\n    }\n\n    @media all and (max-width: 500px) {\n        .form-input {\n            font-size: 1.4rem;\n        }\n        /* padding: 1rem .5rem 1rem 2rem; */\n    }\n`\n","import React from 'react'\n\nimport { InputGroup } from './custom-input.styles'\n\nconst CustomInput = ({ handleChange, label, name, ...otherProps }) => {\n    return (\n        <InputGroup>\n            <input\n                className='form-input'\n                name={name}\n                onChange={handleChange}\n                {...otherProps}\n            />\n            {label ? (\n                <label htmlFor={name} className={`${otherProps.value.length ? 'shrink' : ''} form-input-label`}>\n                    {label}\n                </label>\n            ) : null\n            }\n        </InputGroup>\n    )\n}\n\nexport default CustomInput","import styled from 'styled-components'\nimport { paddingStyles } from '../../global.styles'\n\nexport const Container = styled.div`\n    width: 100%;\n    height: 100%;\n    /* height: 100%; */\n    overflow-y: scroll;\n    overflow-x: visible;\n    scroll-behavior: smooth;\n    ${paddingStyles};\n    padding-top: 1.5rem;\n    padding-bottom: 1.5rem;\n\n    @media all and (max-width: 1150px) {\n        margin-bottom: 8rem;\n    }\n`","import React from 'react'\nimport { Container } from './scroll-container.styles'\n\nconst ScrollContainer = ({ children }) => {\n    return (\n        <Container>\n            {children}\n        </Container>\n    )\n}\n\nexport default ScrollContainer","import styled from 'styled-components'\nimport CustomButton from '../custom-button/custom-button.component'\nimport { paddingStyles } from '../../global.styles'\n\nexport const HeaderContainer = styled.div`\n    display: flex;\n    justify-content: space-between;\n    margin-bottom: 3rem;\n    ${paddingStyles};    \n\n    @media all and (max-width: 600px) {\n        flex-wrap: wrap;\n    }\n`\n\nexport const Left = styled.div`\n    margin-top: 2rem;\n\n    display: flex;\n    align-items: center;\n\n`\n\nexport const Right = styled.div`\n    display: flex;\n    align-items: center;\n`\n\nexport const Notification = styled.div`\n    background-color: #DD4C4C;\n    margin-left: 1.5rem;\n    color: #fff;\n    padding: .5rem 1rem;\n    border-radius: 1.5rem;\n    font-size: 1.4rem;\n`\n\n\nexport const SearchButton = styled(CustomButton)`\n    margin-top: 2rem;\n\n    margin-left: 2rem;\n`\n\nexport const AddButton = styled(CustomButton)`\n    margin-top: 2rem;\n\n    margin-left: 1rem;\n\n`","import React from 'react'\n\nimport CustomInput from '../custom-input/custom-input.component'\n\nimport {\n    HeaderContainer,\n    Left,\n    Right,\n    // SearchButton,\n    // Notification,\n    AddButton,\n} from './section-header.styles'\n\nconst SectionHeader = ({ searchQuery, handleChange, title, count = 999, handleAddButton = () => { } }) => {\n    return (\n        <HeaderContainer>\n            <Left>\n                <h1>{title}</h1>\n                {/* <Notification>{count}</Notification> */}\n            </Left>\n            <Right>\n                <div>\n                    <CustomInput\n                        type='search'\n                        name='searchbox'\n                        value={searchQuery}\n                        handleChange={handleChange}\n                        label='Vyhľadať'\n                    />\n                </div>\n                {/* <SearchButton>Vyhľadať</SearchButton> */}\n                <AddButton onClick={handleAddButton}>Pridať</AddButton>\n            </Right>\n        </HeaderContainer>\n    )\n}\n\nexport default SectionHeader\n","\n\nexport const fetchCalendars = () => {\n    return fetch(`${process.env.REACT_APP_BACKEND_ENDPOINT}/api/booking/calendars`)\n}\n\nexport const fetchSingleCalendar = (id) => {\n    return fetch(`${process.env.REACT_APP_BACKEND_ENDPOINT}/api/booking/calendars/${id}`)\n}\n\nexport const fetchBookings = () => {\n    return fetch(`${process.env.REACT_APP_BACKEND_ENDPOINT}/api/booking/bookings`)\n}\nexport const fetchBookingRows = () => {\n    return fetch(`${process.env.REACT_APP_BACKEND_ENDPOINT}/api/booking/bookingRows`)\n}\n\nexport const fetchUserBookings = (token) => {\n    const myHeaders = new Headers();\n    myHeaders.append(\"auth-token\", token);\n\n    const requestOptions = {\n        method: 'GET',\n        headers: myHeaders,\n        redirect: 'follow'\n    };\n\n    return fetch(`${process.env.REACT_APP_BACKEND_ENDPOINT}/api/admin/booking/userBookings`, requestOptions)\n}","import React, { createContext, useState, useContext } from 'react'\nimport { LoadingModalContext } from '../loading-modal/loading-modal.contenxt'\nimport { AuthContext } from '../auth/auth.context'\n\nimport {\n    fetchCalendars,\n    fetchSingleCalendar,\n    fetchBookings,\n    // fetchBookingRows,\n    fetchUserBookings\n} from './booking.queries'\n\nexport const BookingContext = createContext({\n    calendar: null,\n    calendars: null,\n    getCalendars: () => { },\n    getCalendar: () => { },\n    bookings: null,\n    getBookings: () => { },\n    userBookings: null,\n    getUserBookings: () => { },\n    // bookingRows: null,\n    // getBookingRows: () => { },\n    activeCalendar: 0,\n    resetBooking: () => { },\n    selectedDate: {\n        name: \"\",\n        value: ''\n    },\n    setSelectedDate: () => { }\n})\n\nconst BookingProvider = ({ children }) => {\n    const { token } = useContext(AuthContext)\n    const {\n        getMessage,\n        setIsLoading,\n        setShowModal,\n        closeModal\n    } = useContext(LoadingModalContext)\n\n    // ------------------------\n    // CALENDAR ACTIONS\n    // ------------------------\n    const [activeCalendar, setActiveCalendar] = useState(0)\n    const [calendars, setCalendars] = useState(null)\n    const [calendar, setCalendar] = useState({\n        name: '',\n        interval: 30,\n        startTimes: [\"10/00\", \"10/00\", \"10/00\", \"10/00\", \"10/00\", \"X\", \"X\"],\n        endTimes: [\"16/00\", \"16/00\", \"18/00\", \"16/00\", \"16/00\", \"X\", \"X\"],\n        daysIntoFuture: 60,\n        premises: 1,\n        allowMinutesBefore: 120,\n        exceptDays: \"24/12/2020:00/00-23/59\"\n    })\n    const [selectedDate, setSelectedDate] = useState({\n        name: '',\n        value: ''\n    })\n\n    // Get all calendars\n    const getCalendars = async () => {\n        setIsLoading(true)\n        setShowModal(true)\n\n        try {\n            const response = await fetchCalendars()\n            const data = await response.json()\n\n            if (data.error) {\n                getMessage(data.message)\n                setIsLoading(false)\n                return\n            }\n\n            if (data.calendars) {\n                setCalendars(data.calendars)\n                setIsLoading(false)\n                closeModal()\n            }\n\n            getMessage(data.message)\n            setIsLoading(false)\n        } catch (err) {\n            console.log(err)\n            getMessage(\"Nieco sa pokazilo\")\n            setIsLoading(false)\n        }\n    }\n\n    // Get single calendar\n    const getCalendar = async (id, idx) => {\n        setIsLoading(true)\n        setShowModal(true)\n        setSelectedDate({\n            name: '',\n            value: ''\n        })\n\n        try {\n            const response = await fetchSingleCalendar(id)\n            const data = await response.json()\n\n            console.log(data)\n            if (data.calendar) {\n                setCalendar(data.calendar)\n                setActiveCalendar(idx)\n                closeModal()\n                return\n            }\n\n            getMessage(data.message)\n            setIsLoading(false)\n\n        } catch (err) {\n            console.log(err)\n            getMessage(\"Nieco sa pokazilo\")\n            setIsLoading(false)\n        }\n    }\n\n    // ------------------------\n    // BOOKINGS ACTIONS\n    // ------------------------\n    const [bookings, setBookings] = useState(null)\n    const [userBookings, setUserBookings] = useState(null)\n\n    const getBookings = async () => {\n        setIsLoading(true)\n        setShowModal(true)\n\n        try {\n            const response = await fetchBookings()\n            const data = await response.json()\n\n            if (data.error) {\n                getMessage(data.message)\n                setIsLoading(false)\n                return\n            }\n\n            if (data.bookings) {\n                setBookings(data.bookings)\n                setIsLoading(false)\n                closeModal()\n            }\n\n            getMessage(data.message)\n            setIsLoading(false)\n        } catch (err) {\n            console.log(err)\n            getMessage(\"Nieco sa pokazilo\")\n            setIsLoading(false)\n        }\n    }\n\n    const getUserBookings = async () => {\n        setIsLoading(true)\n        setShowModal(true)\n\n        try {\n            const response = await fetchUserBookings(token)\n            const data = await response.json()\n\n            if (data.userBookings) {\n                setUserBookings(data.userBookings)\n                closeModal()\n                return\n            }\n\n            getMessage(data.message)\n            setIsLoading(false)\n\n        } catch (err) {\n            console.log(err)\n            getMessage(\"Nieco sa pokazilo\")\n            setIsLoading(false)\n        }\n    }\n\n    const resetBooking = () => {\n        setActiveCalendar(0)\n        setCalendar({\n            name: '',\n            interval: 30,\n            startTimes: [\"10/00\", \"10/00\", \"10/00\", \"10/00\", \"10/00\", \"X\", \"X\"],\n            endTimes: [\"16/00\", \"16/00\", \"18/00\", \"16/00\", \"16/00\", \"X\", \"X\"],\n            daysIntoFuture: 60,\n            premises: 1,\n            allowMinutesBefore: 120,\n            exceptDays: \"24/12/2020:00/00-23/59\"\n        })\n    }\n\n    return (\n        <BookingContext.Provider\n            value={{\n                calendar,\n                calendars,\n                getCalendars,\n                getCalendar,\n                bookings,\n                getBookings,\n                userBookings,\n                getUserBookings,\n                // bookingRows,\n                // getBookingRows,\n                activeCalendar,\n                resetBooking,\n                selectedDate,\n                setSelectedDate,\n            }}\n        >\n            {children}\n        </BookingContext.Provider>\n    )\n}\n\nexport default BookingProvider"],"sourceRoot":""}