{"version":3,"sources":["context/loading-modal/loading-modal.contenxt.jsx","components/spinner/spinner.styles.jsx","components/spinner/spinner.component.jsx","components/popup/pop.up.styles.jsx","components/popup/pop-up.component.jsx","components/custom-button/custom-button.styles.jsx","components/custom-button/custom-button.component.jsx","components/custom-input/custom-input.styles.jsx","components/custom-input/custom-input.component.jsx","context/warehouse/warehouse.utils.jsx","context/image/image.queries.jsx","context/image/image.context.jsx","context/blog/blog.queries.jsx","context/blog/blog.context.jsx","context/warehouse/warehouse.queries.jsx","context/warehouse/warehouse.context.jsx","global.styles.jsx","context/user/user.queries.jsx","context/user/user.utils.jsx","context/user/user.context.jsx","components/sign-in/sign-in.styles.jsx","components/sign-in/sign-in.component.jsx","components/forgot-password/forgot-password.styles.jsx","components/forgot-password/forgot-password.component.jsx","pages/sign-in-and-sign-up/sign-in-and-sign-up.styles.jsx","pages/sign-in-and-sign-up/sign-in-and-sign-up.jsx","components/sidenav/sidenav.styles.jsx","components/sidenav/sidenav.component.jsx","pages/dashboard/dashboard.styles.jsx","pages/dashboard/dashboard.jsx","pages/reset-password/reset.password.styles.jsx","pages/reset-password/reset-password.jsx","App.jsx","reportWebVitals.js","index.js","context/auth/auth.queries.jsx","context/auth/auth.context.jsx"],"names":["LoadingModalContext","createContext","isLoading","showModal","message","closeModal","getMessage","setIsLoading","setShowModal","LoadingModalProvider","children","useState","setMessage","Provider","value","string","SpinnerContainer","styled","div","Spinner","PopupContainer","Panel","Message","Popup","props","loading","title","close","ReactDOM","createPortal","onClick","document","getElementById","ButtonContainer","button","CustomButton","otherprops","shrinkLabel","css","InputGroup","CustomInput","handleChange","label","name","otherProps","className","onChange","htmlFor","length","initProductObj","description","price","type","brand","soldAmount","available","eanCode","colorCode","colorName","imagePath","image","eshop","specs","frameColor","frameMaterial","frameStyle","lensColor","sex","size","initLensesObj","id","dioptersRange","cylinderRange","productCategories","brands","uploadImage","token","img","imgName","imgAlt","myHeaders","Headers","append","requestOptions","method","headers","body","JSON","stringify","redirect","fetch","process","fetchFilteredImages","limit","skip","sortBy","dateCreated","deleteImage","ImageContext","isDisabled","images","selectedImage","getImages","handleImage","handleDeleteImage","setSelectedImage","getNextImages","getPrevImage","ImageProvider","useContext","AuthContext","setIsDisabled","setImages","setSkip","setImage","a","response","json","data","console","log","addToSkip","e","preventDefault","respone","fetchSinglePost","createNewPost","draft","html","updatePost","deletePost","BlogContext","posts","post","postsCount","getPosts","createPost","getPost","handlePostUpdate","handlePostDelete","BlogProvider","setPosts","setPost","setPostsCount","blogs","count","blog","postResponse","postData","fetchProducts","fetchSingleProduct","fetchLenses","fetchSingleLenses","delLense","postLenses","newProduct","map","val","Number","patchLenses","_id","postProduct","raw","patchProduct","product","deleteProduct","WarehouseContext","formToShow","toggleProductForms","showUpdateForm","isUpdating","activeCategoryIndex","categories","toggleDraft","handleCategoryChange","handleAvailableChange","handleSizeChange","selectImage","products","handleSpecsChange","resetProduct","lenses","lensesArr","handleLensesChange","handleLensesDioptersRangeChange","handleLensesCylinderRangeChange","totalCount","getProducts","getSingleProduct","createNewProduct","handleProductDelete","updateProduct","createNewLenses","getLenses","getSigleLenses","updateLenses","deleteLenses","WarehouseProvider","push","useHistory","setTotalCount","setIsUpdating","setActiveCategoryIndex","setFormToShow","setProduct","setProducts","setLenses","setLensesArr","error","productToAdd","success","productToUpdate","formName","idx","arr","target","imgId","GlobalStyles","createGlobalStyle","paddingStyles","fetchUsers","fetchUser","patchUser","user","address","admin","city","country","email","cylinder","cylinderAxes","diopters","distance","phone","psc","initUserObj","premises","boughtProducts","date","finishedRegistration","orders","tempUser","totalSpent","watchList","fName","lName","UserContext","activeIndex","handleChangeFilterItem","filterItems","users","getUsers","getUser","handleDioptersChange","handleDistanceChange","handleCylinderChange","handleCylinderAxesChange","updateUser","resetUser","UserProvider","setUser","setUsers","setActiveIndex","useEffect","split","itemIndex","filter","FormContainer","form","SubmitButton","ForgotPasswordButton","SignIn","showForgotPwsForm","setEmail","password","setPassword","logIn","handleSubmit","Fragment","onSubmit","required","SignInButton","ForgotPassword","showSignInForm","isWaitingForResponse","errMessage","handleResetPassword","SignInAndSignUpContainer","SignInAndSignUpPage","showForgotPws","setShowForgotPwd","AsideContainer","aside","isOpen","LogoContainer","NavLinksContainer","ul","ActiveBorder","span","isActive","NavLinksButton","ToggleButton","Sidenav","routes","match","logOut","currentUser","setIsOpen","activeLink","setActiveLink","route","path","handleClick","url","DashboardContainer","EshopSection","lazy","CustomersSection","OrdersSection","AnalyticsSection","CustomerProfileSection","ProductSection","BlogSection","BookingSection","PostSection","NoPermisionSection","Dashboard","useRouteMatch","fallback","permission","render","component","exact","to","Center","ResetPassword","handleCreatingNewPassword","useParams","App","basename","ResetPasswordPage","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","StrictMode","credentials","createNewUser","resetPassword","setNewPassword","resetSecret","isAdmin","register","AuthProvider","setCurrentUser","setToken","setIsAdmin","checkIfAdmin","authToken","localStorage","setItem","confirmPassword","getItem","getUserProfile","removeItem"],"mappings":"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","file":"static/js/main.f7fca25d.chunk.js","sourcesContent":["import React, { createContext, useState } from 'react'\n\nexport const LoadingModalContext = createContext({\n    isLoading: false,\n    showModal: false,\n    message: '',\n    closeModal: () => { },\n    getMessage: () => { },\n    setIsLoading: () => { },\n    setShowModal: () => { }\n})\n\nconst LoadingModalProvider = ({ children }) => {\n    const [isLoading, setIsLoading] = useState(false)\n    const [showModal, setShowModal] = useState(false)\n    const [message, setMessage] = useState('')\n\n\n    const closeModal = () => {\n        setIsLoading(false)\n        setShowModal(false)\n        setMessage('')\n    }\n\n    const getMessage = (string) => {\n        setMessage(string)\n    }\n\n    return (\n        <LoadingModalContext.Provider\n            value={{\n                isLoading,\n                showModal,\n                message,\n                closeModal,\n                getMessage,\n                setIsLoading,\n                setShowModal,\n            }}\n        >\n            {children}\n        </LoadingModalContext.Provider>\n    )\n}\n\nexport default LoadingModalProvider","import styled from 'styled-components'\n\nexport const SpinnerContainer = styled.div`\n    border: 5px solid transparent;\n    border-top: 5px solid rgb(256,172,1);\n    border-radius: 50%;\n    width: 38px;\n    height: 38px;\n    animation: spin 800ms linear infinite;\n\n    @keyframes spin {\n        0% { transform: rotate(0deg); }\n        100% { transform: rotate(360deg); }\n    }\n`","import React from 'react'\n\nimport { SpinnerContainer } from './spinner.styles'\n\nconst Spinner = () => {\n    return (\n        <SpinnerContainer />\n    )\n}\n\nexport default Spinner\n","import styled from 'styled-components'\n\nexport const PopupContainer = styled.div`\n    position: fixed;\n    left: 0;\n    right: 0;\n    top: 0;\n    bottom: 0;\n    z-index: 999999;\n    min-height: 100vh;\n\n    display: flex;\n    align-items: center;\n    justify-content: center;\n\n    background-color: rgba(0,0,0,0.3);\n`\n\nexport const Panel = styled.div`\n    max-width: 50rem;\n\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n\n    padding: 2rem;\n\n    border-radius: .5rem;\n\n    background-color: white;\n`\n\nexport const Message = styled.div`\n    color: #383838;\n    font-size: 2.1rem;\n    font-weight: 700;\n    text-align: center;\n\n    margin-bottom: 2rem;\n`","import React from \"react\";\nimport ReactDOM from 'react-dom'\n\nimport CustomButton from '../custom-button/custom-button.component'\nimport Spinner from \"../spinner/spinner.component\";\n\nimport {\n    PopupContainer,\n    Panel,\n    Message\n} from './pop.up.styles'\n\nexport default function Popup(props) {\n    const { loading, title, close } = props;\n\n    return ReactDOM.createPortal((\n        <PopupContainer>\n            {loading ? <Panel><Spinner /></Panel> : (\n                <Panel>\n                    <Message>{title}</Message>\n                    <CustomButton onClick={close}>Zavrieť</CustomButton>\n                </Panel>\n            )}\n        </PopupContainer>\n    ), document.getElementById(\"portal\"))\n}\n","import styled from 'styled-components'\n\nexport const ButtonContainer = styled.button`\n    cursor: pointer;\n    background-color: #000;\n    color: #fff;\n    padding: .8rem 3rem;\n    font-size: inherit;\n    font-family: inherit;\n    border-radius: .2rem;\n    border: none;\n    outline: none;\n\n    &:focus {\n        outline: none\n    }\n\n    @media all and (max-width: 500px) {\n        padding: 0.5rem 1.5rem;\n        font-size: 1.4rem;\n    }\n`","import React from 'react'\n\nimport { ButtonContainer } from './custom-button.styles'\n\nconst CustomButton = ({ children, ...otherprops }) => {\n    return (\n        <ButtonContainer {...otherprops}>\n            {children}\n        </ButtonContainer>\n    )\n}\n\nexport default CustomButton\n","import styled, { css } from \"styled-components\"\n\nconst shrinkLabel = css`\n    left: .5rem;\n    top: -14px;\n    font-size: 12px;\n    color: #000;\n`\nexport const InputGroup = styled.div`\n    position: relative;\n    /* margin: 45px 0; */\n\n    .form-input {\n        background: none;\n        background-color: #F5F5F5;\n        color: #000;\n        font-size: 1.5rem;\n        padding: 1rem .5rem 1rem 2rem;\n        display: block;\n        width: 100%;\n        border: none;\n        border-radius: .5rem;\n        /* border-bottom: 1px solid #000; */\n        margin: 2rem 0 0;\n        font-family: inherit;\n\n        &:focus {\n        outline: none;\n        }\n\n        &:focus ~ .form-input-label {\n            ${shrinkLabel}\n        }\n    }\n\n    input[type = 'password'] {\n        letter-spacing: 0.3em;\n    }\n\n    .form-input-label {\n        color: #B1B1B1;\n        font-size: 1.4rem;\n        font-weight: normal;\n        position: absolute;\n        pointer-events: none;\n        left: 1.5rem;\n        top: 1rem;\n        transition: 300ms ease all;\n\n        &.shrink {\n            ${shrinkLabel}\n        }\n    }\n\n    @media all and (max-width: 500px) {\n        .form-input {\n            font-size: 1.4rem;\n        }\n        /* padding: 1rem .5rem 1rem 2rem; */\n    }\n`\n","import React from 'react'\n\nimport { InputGroup } from './custom-input.styles'\n\nconst CustomInput = ({ handleChange, label, name, ...otherProps }) => {\n    return (\n        <InputGroup>\n            <input\n                className='form-input'\n                name={name}\n                onChange={handleChange}\n                {...otherProps}\n            />\n            {label ? (\n                <label htmlFor={name} className={`${otherProps.value.length ? 'shrink' : ''} form-input-label`}>\n                    {label}\n                </label>\n            ) : null\n            }\n        </InputGroup>\n    )\n}\n\nexport default CustomInput","export const initProductObj = {\n    // Product id\n    // Product name: Ultra glasses\n    name: \"\",\n    // Product description: Awesome product\n    description: \"\",\n    // price in cents: 1050 => 10.50\n    price: '0',\n    // product type: glesses, lenses, ...\n    type: 1,\n    // brand name: Adidas\n    brand: \"\",\n    //kolko sa ich zatial predalo\n    soldAmount: 0,\n    //kolko je kusov na ktorej prevádzke [arr] \n    available: [0, 0, 0, 0, 0],\n    //ean kod = unikatny kod ktory ma kazdy produkt\n    eanCode: \"\",\n    //farebny kod, ktory spolu s ean kodom tvori \"identitu\" produktu. Moze existovat viacero\n    //produktov s rovnakym ean kodom ale rozlicnym color kodom. Je to takto urobené kvôli skladovému\n    //systému napr. mam na sklade iny pocet zltych ramov isteho druhu ako ciernych\n    colorCode: \"\",\n    //meno farby\n    colorName: \"\",\n    //path k obrazku na serveri (toto bude mozno array este sa uvidi)\n    imagePath: \"\",\n    image: null,\n    eshop: false,\n\n    specs: {\n        frameColor: \"\",\n        frameMaterial: \"\",\n        frameStyle: \"\",\n        lensColor: \"\",\n        sex: \"M\",\n        size: [0, 0, 0],\n    }\n}\n\nexport const initLensesObj = {\n    // id [5fd4cae9f9432022689dd223]\n    id: \"\",\n    // Lense name\n    name: \"\",\n    // Paradne sosovky\n    description: \"\",\n    //vsetky skla su dostupne len pre isty interval dioptrií a cylindrov, ak si zvolím ze mam dioptrie\n    //mimo tohto intervalu tak si tieto skla k mojim okuliarom vybrat nemozem\n    dioptersRange: [\"0\", \"0\"],\n    cylinderRange: [\"0\", \"0\"],\n    //cena v centoch\n    price: \"0\",\n    brand: \"\",\n    imagePath: ''\n}\n\n// Category variables\nexport const productCategories = [\n    {\n        name: \"Dioptrické\",\n        value: 1\n    },\n    {\n        name: \"Slnečné\",\n        value: 2\n    },\n    {\n        name: \"Športové\",\n        value: 3\n    },\n    {\n        name: \"Šošovky\",\n        value: 4\n    },\n    {\n        name: \"Doplnky\",\n        value: 5\n    },\n]\n\n\n\nexport const resetProductObj = () => {\n    return initProductObj\n}\n\nexport const resetLensesObj = () => {\n    return initLensesObj\n}\n\nexport const brands = [\n    \"Adidas\",\n    \"Armani Exchange\",\n    \"Arnette\",\n    \"Blackfin\",\n    \"Blumarine\",\n    \"Burberry\",\n    \"Bvlgari\",\n    \"Calvin Klein\",\n    \"Carolina Herrera\",\n    \"Carrera\",\n    \"David Beckham\",\n    \"Dior\",\n    \"Dolce & Gabbana\",\n    \"Elle\",\n    \"Emporio Armani\",\n    \"Esprit\",\n    \"Etnia Barcelona\",\n    \"Fendi\",\n    \"Fossil\",\n    \"Furla\",\n    \"Giorgio Armani\",\n    \"Givenchy\",\n    \"Gucci\",\n    \"Guess\",\n    \"H.I.S\",\n    \"Hawkers\",\n    \"Hugo Boss\",\n    \"Jaguar\",\n    \"Jimmy Choo\",\n    \"Lacoste\",\n    \"Liu Jo\",\n    \"Marc Jacobs\",\n    \"Max Mara\",\n    \"Max&Co\",\n    \"Meller\",\n    \"Mexx\",\n    \"Michael Kors\",\n    \"Moschino\",\n    \"Oakley\",\n    \"Persol\",\n    \"Polaroid\",\n    \"Police\",\n    \"Polo Ralph Lauren\",\n    \"Prada\",\n    \"Prada Linea Rossa\",\n    \"Ralph\",\n    \"Ralph Lauren\",\n    \"Ray-Ban\",\n    \"Salvatore Ferragamo\",\n    \"Smith\",\n    \"Strellson\",\n    \"Tiffany&Co.\",\n    \"Tom Ford\",\n    \"Tommy Hilfiger\",\n    \"Versace\",\n    \"Vogue\"\n]","export const uploadImage = (token, img, imgName, imgAlt) => {\n    const myHeaders = new Headers();\n    myHeaders.append(\"auth-token\", token);\n    myHeaders.append(\"Content-Type\", \"application/json\");\n\n\n    const raw = JSON.stringify({ \"name\": imgName || \" \", \"alt\": imgAlt || \" \", 'image': img });\n\n    const requestOptions = {\n        method: 'POST',\n        headers: myHeaders,\n        body: raw,\n        redirect: 'follow'\n    };\n\n    return fetch(`${process.env.REACT_APP_BACKEND_ENDPOINT}/api/admin/images/upload`, requestOptions)\n}\n\nexport const fetchImages = () => {\n    return fetch(`${process.env.REACT_APP_BACKEND_ENDPOINT}/api/images`)\n}\n\nexport const fetchFilteredImages = (token, limit, skip) => {\n    const myHeaders = new Headers();\n    // myHeaders.append(\"auth-token\", token);\n    myHeaders.append(\"Content-Type\", \"application/json\");\n\n\n    const raw = JSON.stringify({\n        sortBy: {\n            dateCreated: -1\n        },\n        limit,\n        skip\n    });\n\n    const requestOptions = {\n        method: 'POST',\n        headers: myHeaders,\n        body: raw,\n        redirect: 'follow'\n    };\n\n    return fetch(`${process.env.REACT_APP_BACKEND_ENDPOINT}/api/images/filter`, requestOptions)\n}\n\nexport const deleteImage = (token, id) => {\n    const myHeaders = new Headers();\n    myHeaders.append(\"auth-token\", token);\n\n    const requestOptions = {\n        method: 'DELETE',\n        headers: myHeaders,\n        redirect: 'follow'\n    };\n\n    return fetch(`${process.env.REACT_APP_BACKEND_ENDPOINT}/api/admin/images/${id}`, requestOptions)\n}","import React, { createContext, useState, useContext } from 'react'\nimport { LoadingModalContext } from '../loading-modal/loading-modal.contenxt'\nimport { AuthContext } from '../auth/auth.context'\nimport { deleteImage, fetchImages, uploadImage, fetchFilteredImages } from './image.queries'\n\nexport const ImageContext = createContext({\n    isDisabled: false,\n    images: null,\n    selectedImage: null,\n    getImages: () => { },\n    handleImage: () => { },\n    handleDeleteImage: () => { },\n    setSelectedImage: () => { },\n    getNextImages: () => { },\n    getPrevImage: () => { }\n})\n\nconst ImageProvider = ({ children }) => {\n    const {\n        getMessage,\n        setIsLoading,\n        setShowModal,\n        closeModal\n    } = useContext(LoadingModalContext)\n\n    const { token } = useContext(AuthContext)\n\n    const [isDisabled, setIsDisabled] = useState(false)\n    const [images, setImages] = useState(null)\n    const [selectedImage, setSelectedImage] = useState(null)\n    const [limit, setLimit] = useState(4)\n    const [skip, setSkip] = useState(0)\n\n    const handleImage = async (img, imgName, imgAlt, setImage, close) => {\n        setShowModal(true)\n        setIsLoading(true)\n        setIsDisabled(true)\n\n        try {\n            const response = await uploadImage(token, img, imgName, imgAlt)\n            const data = await response.json()\n            console.log(data)\n\n            if (data.image) {\n                setSelectedImage(data.image)\n                setImage(data.image)\n                getImages()\n                close()\n            }\n\n            setShowModal(false)\n            setIsLoading(false)\n            setIsDisabled(false)\n\n        } catch (err) {\n            console.log(err)\n            getMessage(\"Nieco sa pokazilo\")\n            setIsLoading(false)\n            setIsDisabled(false)\n        }\n    }\n\n    const getNextImages = async (addToSkip) => {\n        try {\n            if (images.length !== limit) return\n\n            const response = await fetchFilteredImages(token, limit, skip + addToSkip)\n            const data = await response.json()\n\n            if (data.images) {\n                setImages(data.images)\n\n                setSkip(skip + addToSkip)\n            }\n\n\n        } catch (err) {\n            console.log(err)\n            getMessage(\"Nieco sa pokazilo\")\n            setIsLoading(false)\n        }\n    }\n\n    const getPrevImage = async (addToSkip) => {\n        if (skip === 0) return\n        try {\n            const response = await fetchFilteredImages(token, limit, skip - addToSkip)\n            const data = await response.json()\n\n            if (data.images) {\n                setImages(data.images)\n\n                setSkip(skip - addToSkip)\n\n            }\n\n        } catch (err) {\n            console.log(err)\n            getMessage(\"Nieco sa pokazilo\")\n            setIsLoading(false)\n        }\n    }\n\n    const getImages = async () => {\n        setShowModal(true)\n        setIsLoading(true)\n\n        try {\n            // const response = await fetchImages()\n            const response = await fetchFilteredImages(token, limit, skip)\n\n            const data = await response.json()\n\n            if (data.images) {\n                setImages(data.images)\n            }\n\n            getMessage(data.message)\n            setIsLoading(false)\n            closeModal()\n\n        } catch (err) {\n            console.log(err)\n            getMessage(\"Nieco sa pokazilo\")\n            setIsLoading(false)\n        }\n    }\n\n    const handleDeleteImage = async (id, e) => {\n        e.preventDefault()\n        setShowModal(true)\n        setIsLoading(true)\n\n        try {\n            const respone = await deleteImage(token, id)\n            const data = await respone.json()\n\n            getMessage(data.message)\n            setIsLoading(false)\n            getImages()\n        } catch (err) {\n            console.log(err)\n            getMessage(\"Nieco sa pokazilo\")\n            setIsLoading(false)\n        }\n    }\n\n    return (\n        <ImageContext.Provider\n            value={{\n                isDisabled,\n                images,\n                selectedImage,\n                getImages,\n                handleImage,\n                handleDeleteImage,\n                setSelectedImage,\n                getNextImages,\n                getPrevImage\n            }}\n        >\n            {children}\n        </ImageContext.Provider>\n    )\n}\n\nexport default ImageProvider","\n\nexport const fetchPosts = () => {\n    return fetch(`${process.env.REACT_APP_BACKEND_ENDPOINT}/api/blogs`)\n}\n\nexport const fetchSinglePost = (id) => {\n    return fetch(`${process.env.REACT_APP_BACKEND_ENDPOINT}/api/blogs/${id}`)\n}\n\nexport const createNewPost = (token, name, description, draft, html, img) => {\n    const myHeaders = new Headers();\n    myHeaders.append(\"auth-token\", token);\n    myHeaders.append(\"Content-Type\", \"application/json\");\n\n    const raw = JSON.stringify({ \"name\": name, \"description\": description, \"draft\": draft, \"html\": html, 'image': img });\n\n    const requestOptions = {\n        method: 'POST',\n        headers: myHeaders,\n        body: raw,\n        redirect: 'follow'\n    };\n\n    return fetch(`${process.env.REACT_APP_BACKEND_ENDPOINT}/api/admin/blogs`, requestOptions)\n}\n\nexport const updatePost = (token, name, description, draft, html, img, id) => {\n    const myHeaders = new Headers();\n    myHeaders.append(\"auth-token\", token);\n    myHeaders.append(\"Content-Type\", \"application/json\");\n\n    const raw = JSON.stringify({ \"name\": name, \"description\": description, \"draft\": draft, \"html\": html, 'image': img });\n\n    const requestOptions = {\n        method: 'PATCH',\n        headers: myHeaders,\n        body: raw,\n        redirect: 'follow'\n    };\n\n    return fetch(`${process.env.REACT_APP_BACKEND_ENDPOINT}/api/admin/blogs/${id}`, requestOptions)\n\n}\n\nexport const deletePost = (token, id) => {\n    const myHeaders = new Headers();\n    myHeaders.append(\"auth-token\", token);\n    myHeaders.append(\"Content-Type\", \"application/json\");\n\n\n    const requestOptions = {\n        method: 'DELETE',\n        headers: myHeaders,\n        redirect: 'follow'\n    };\n\n    return fetch(`${process.env.REACT_APP_BACKEND_ENDPOINT}/api/admin/blogs/${id}`, requestOptions)\n\n}\n\n","import React, { createContext, useState, useContext } from 'react'\nimport { AuthContext } from '../auth/auth.context'\nimport { LoadingModalContext } from '../loading-modal/loading-modal.contenxt'\nimport {\n    fetchPosts,\n    createNewPost,\n    fetchSinglePost,\n    updatePost,\n    deletePost,\n} from './blog.queries'\n\n\nexport const BlogContext = createContext({\n    posts: null,\n    post: null,\n    postsCount: 0,\n    getPosts: () => { },\n    createPost: () => { },\n    getPost: () => { },\n    handlePostUpdate: () => { },\n    handlePostDelete: () => { },\n})\n\nconst BlogProvider = ({ children }) => {\n    const { token } = useContext(AuthContext)\n\n    const {\n        closeModal,\n        getMessage,\n        setIsLoading,\n        setShowModal\n    } = useContext(LoadingModalContext)\n\n    const [posts, setPosts] = useState(null)\n    const [post, setPost] = useState(null)\n    const [postsCount, setPostsCount] = useState(0)\n\n    const getPosts = async () => {\n        setShowModal(true)\n        setIsLoading(true)\n\n        const response = await fetchPosts()\n        const data = await response.json()\n\n        setPosts(data.blogs)\n        setPostsCount(data.count)\n\n        setShowModal(false)\n        setIsLoading(false)\n    }\n\n    const getPost = async (id) => {\n        setShowModal(true)\n        setIsLoading(true)\n\n        try {\n\n            const response = await fetchSinglePost(id)\n            const data = await response.json()\n\n            console.log(data)\n\n            if (data.blog) {\n                setPost(data.blog)\n                setIsLoading(false)\n                getMessage(data.message)\n                return\n            }\n\n            setIsLoading(false)\n            getMessage(data.message)\n            // setPosts(data.blogs)\n            // setPostsCount(data.count)\n        } catch (err) {\n            console.log(err)\n            getMessage(\"Nieco sa pokazilo\")\n            setIsLoading(false)\n        }\n\n\n        setShowModal(false)\n        setIsLoading(false)\n    }\n\n    const createPost = async (img, name, description, draft, html) => {\n        setShowModal(true)\n        setIsLoading(true)\n\n        try {\n            const postResponse = await createNewPost(token, name, description, draft, html, img)\n            const postData = await postResponse.json()\n\n            getMessage(postData.message)\n            setIsLoading(false)\n            getPosts()\n        } catch (err) {\n            console.log(err)\n            getMessage(\"Nieco sa pokazilo\")\n            setIsLoading(false)\n        }\n    }\n\n    const handlePostUpdate = async (name, description, draft, html, img, id) => {\n        setShowModal(true)\n        setIsLoading(true)\n\n        try {\n            const postResponse = await updatePost(token, name, description, draft, html, img, id)\n            const postData = await postResponse.json()\n\n            getMessage(postData.message)\n            setIsLoading(false)\n            getPosts()\n        } catch (err) {\n            console.log(err)\n            getMessage(\"Nieco sa pokazilo\")\n            setIsLoading(false)\n        }\n    }\n\n    const handlePostDelete = async (id) => {\n        setShowModal(true)\n        setIsLoading(true)\n\n        try {\n            const postResponse = await deletePost(token, id)\n            const postData = await postResponse.json()\n\n            getMessage(postData.message)\n            setIsLoading(false)\n            getPosts()\n\n        } catch (err) {\n            console.log(err)\n            getMessage(\"Nieco sa pokazilo\")\n            setIsLoading(false)\n        }\n    }\n\n    return (\n        <BlogContext.Provider\n            value={{\n                posts,\n                post,\n                postsCount,\n                getPosts,\n                createPost,\n                getPost,\n                handlePostUpdate,\n                handlePostDelete,\n            }}\n        >\n            {children}\n        </BlogContext.Provider>\n    )\n}\n\nexport default BlogProvider","export const fetchProducts = (token) => {\n    const myHeaders = new Headers();\n    myHeaders.append(\"auth-token\", token);\n\n    const requestOptions = {\n        method: 'GET',\n        headers: myHeaders,\n        redirect: 'follow'\n    };\n    return fetch(`${process.env.REACT_APP_BACKEND_ENDPOINT}/api/admin/products`, requestOptions)\n}\n\nexport const fetchSingleProduct = (id) => {\n    return fetch(`${process.env.REACT_APP_BACKEND_ENDPOINT}/api/store/products/${id}`)\n}\n\nexport const fetchLenses = (token) => {\n    var myHeaders = new Headers();\n    myHeaders.append(\"auth-token\", token);\n\n\n    var requestOptions = {\n        method: 'GET',\n        headers: myHeaders,\n        redirect: 'follow'\n    };\n\n    return fetch(`${process.env.REACT_APP_BACKEND_ENDPOINT}/api/admin/lenses`, requestOptions)\n}\n\nexport const fetchSingleLenses = (id) => {\n    return fetch(`${process.env.REACT_APP_BACKEND_ENDPOINT}/api/store/lenses/${id}`)\n}\n\n\nexport const delLense = (token, id) => {\n    var myHeaders = new Headers();\n    myHeaders.append(\"auth-token\", token);\n\n\n    var requestOptions = {\n        method: 'DELETE',\n        headers: myHeaders,\n        redirect: 'follow'\n    };\n\n    return fetch(`${process.env.REACT_APP_BACKEND_ENDPOINT}/api/admin/lenses/${id}`, requestOptions)\n\n}\n\n\nexport const postLenses = (token, newProduct) => {\n\n    const {\n        brand,\n        cylinderRange,\n        description,\n        dioptersRange,\n        name,\n        price,\n        imagePath,\n        eshop\n    } = newProduct\n\n    const myHeaders = new Headers();\n    myHeaders.append(\"auth-token\", token);\n    myHeaders.append(\"Content-Type\", \"application/json\");\n\n    const raw = JSON.stringify({\n        \"brand\": brand || \" \",\n        \"cylinderRange\": cylinderRange.map(val => Number(val)),\n        \"name\": name,\n        \"price\": Number(price),\n        \"description\": description,\n        \"image\": imagePath,\n        \"dioptersRange\": dioptersRange.map(val => Number(val)),\n        \"eshop\": eshop\n    });\n\n    const requestOptions = {\n        method: 'POST',\n        headers: myHeaders,\n        body: raw,\n        redirect: 'follow'\n    };\n\n    return fetch(`${process.env.REACT_APP_BACKEND_ENDPOINT}/api/admin/lenses`, requestOptions)\n}\nexport const patchLenses = (token, newProduct) => {\n\n    const {\n        _id,\n        brand,\n        cylinderRange,\n        description,\n        dioptersRange,\n        name,\n        price,\n        imagePath,\n        eshop\n    } = newProduct\n\n    const myHeaders = new Headers();\n    myHeaders.append(\"auth-token\", token);\n    myHeaders.append(\"Content-Type\", \"application/json\");\n\n    const raw = JSON.stringify({\n        \"brand\": brand || ' ',\n        \"cylinderRange\": cylinderRange.map(val => Number(val)),\n        \"name\": name,\n        \"price\": Number(price),\n        \"description\": description,\n        \"image\": imagePath,\n        \"dioptersRange\": dioptersRange.map(val => Number(val)),\n        \"eshop\": eshop\n    });\n\n    const requestOptions = {\n        method: 'PATCH',\n        headers: myHeaders,\n        body: raw,\n        redirect: 'follow'\n    };\n\n    return fetch(`${process.env.REACT_APP_BACKEND_ENDPOINT}/api/admin/lenses/${_id}`, requestOptions)\n}\n\n\nexport const postProduct = (token, newProduct) => {\n    const {\n        available,\n        brand,\n        colorCode,\n        // colorName,\n        description,\n        eanCode,\n        eshop,\n        name,\n        price,\n        specs: {\n            frameColor,\n            frameMaterial,\n            frameStyle,\n            lensColor,\n            sex,\n        },\n        type,\n        imagePath\n    } = newProduct\n\n    // let newArr = []\n\n    // if (Array.isArray(available)) {\n    //     newArr = available.map(num => Number(num))\n    // }\n\n    const myHeaders = new Headers();\n    myHeaders.append(\"auth-token\", token);\n    myHeaders.append(\"Content-Type\", \"application/json\");\n\n    let raw = {}\n\n    if (type === 4 || type === 5) {\n        raw = JSON.stringify({\n            available,\n            brand: brand || \" \",\n            colorCode: colorCode || \" \",\n            // colorName,\n            description: description || \" \",\n            eanCode,\n            eshop,\n            name,\n            price,\n            // specs: {\n            // frameColor: frameColor || \" \",\n            // frameMaterial: frameMaterial || \" \",\n            // frameStyle: frameStyle || \" \",\n            // lensColor: lensColor || \" \",\n            // sex,\n            // },\n            type,\n            image: imagePath\n        })\n    } else {\n        raw = JSON.stringify({\n            available,\n            brand: brand || \" \",\n            colorCode: colorCode || \" \",\n            // colorName,\n            description: description || \" \",\n            eanCode,\n            eshop,\n            name,\n            price,\n            specs: {\n                frameColor: frameColor || \" \",\n                frameMaterial: frameMaterial || \" \",\n                frameStyle: frameStyle || \" \",\n                lensColor: lensColor || \" \",\n                sex,\n            },\n            type,\n            image: imagePath\n        })\n    }\n\n    console.log(raw)\n\n    const requestOptions = {\n        method: 'POST',\n        headers: myHeaders,\n        body: raw,\n        redirect: 'follow'\n    };\n\n    return fetch(`${process.env.REACT_APP_BACKEND_ENDPOINT}/api/admin/products`, requestOptions)\n}\n\nexport const patchProduct = (token, product) => {\n    const {\n        available,\n        brand,\n        colorCode,\n        // colorName,\n        description,\n        eanCode,\n        eshop,\n        name,\n        price,\n        specs: {\n            frameColor,\n            frameMaterial,\n            frameStyle,\n            lensColor,\n            sex,\n        },\n        type,\n        imagePath,\n        _id\n    } = product\n\n    const myHeaders = new Headers();\n    myHeaders.append(\"auth-token\", token);\n    myHeaders.append(\"Content-Type\", \"application/json\");\n\n    let raw = {}\n\n\n    if (type === 4 || type === 5) {\n        raw = JSON.stringify({\n            available,\n            brand: brand || \" \",\n            colorCode: colorCode || \" \",\n            // colorName,\n            description: description || \" \",\n            eanCode,\n            eshop,\n            name,\n            price,\n            // specs: {\n            // frameColor: frameColor || \" \",\n            // frameMaterial: frameMaterial || \" \",\n            // frameStyle: frameStyle || \" \",\n            // lensColor: lensColor || \" \",\n            // sex,\n            // },\n            type,\n            image: imagePath\n        })\n    } else {\n        raw = JSON.stringify({\n            available,\n            brand: brand || \" \",\n            colorCode: colorCode || \" \",\n            // colorName,\n            description: description || \" \",\n            eanCode,\n            eshop,\n            name,\n            price,\n            specs: {\n                frameColor: frameColor || \" \",\n                frameMaterial: frameMaterial || \" \",\n                frameStyle: frameStyle || \" \",\n                lensColor: lensColor || \" \",\n                sex,\n            },\n            type,\n            image: imagePath\n        })\n    }\n\n    console.log(raw)\n\n    const requestOptions = {\n        method: 'PATCH',\n        headers: myHeaders,\n        body: raw,\n        redirect: 'follow'\n    };\n\n    return fetch(`${process.env.REACT_APP_BACKEND_ENDPOINT}/api/admin/products/${_id}`, requestOptions)\n}\n\nexport const deleteProduct = (token, id) => {\n    const myHeaders = new Headers();\n    myHeaders.append(\"auth-token\", token);\n    myHeaders.append(\"Content-Type\", \"application/json\");\n\n    const requestOptions = {\n        method: 'DELETE',\n        headers: myHeaders,\n        redirect: 'follow'\n    };\n\n    return fetch(`${process.env.REACT_APP_BACKEND_ENDPOINT}/api/admin/products/${id}`, requestOptions)\n\n}","import React, { createContext, useState, useContext } from 'react'\nimport { useHistory } from 'react-router-dom'\nimport { LoadingModalContext } from '../loading-modal/loading-modal.contenxt'\nimport { AuthContext } from '../auth/auth.context'\nimport { ImageContext } from '../image/image.context'\nimport {\n    fetchProducts,\n    postProduct,\n    deleteProduct,\n    patchProduct,\n    postLenses,\n    fetchLenses,\n    patchLenses,\n    delLense,\n    fetchSingleProduct,\n    fetchSingleLenses\n    // fetchFilteredProducts\n} from './warehouse.queries'\n\nimport {\n    initProductObj,\n    initLensesObj,\n    productCategories\n} from './warehouse.utils'\n\n\nexport const WarehouseContext = createContext({\n    formToShow: '',\n    toggleProductForms: () => { },\n    showUpdateForm: () => { },\n    isUpdating: false,\n    activeCategoryIndex: 0,\n    categories: [],\n    toggleDraft: () => { },\n    handleCategoryChange: () => { },\n    handleAvailableChange: () => { },\n    handleSizeChange: () => { },\n    selectImage: () => { },\n    product: null,\n    products: null,\n    handleChange: () => { },\n    handleSpecsChange: () => { },\n    resetProduct: () => { },\n    lenses: null,\n    lensesArr: null,\n    handleLensesChange: () => { },\n    handleLensesDioptersRangeChange: () => { },\n    handleLensesCylinderRangeChange: () => { },\n    totalCount: 0,\n    getProducts: () => { },\n    getSingleProduct: () => { },\n    createNewProduct: () => { },\n    handleProductDelete: () => { },\n    updateProduct: () => { },\n    createNewLenses: () => { },\n    getLenses: () => { },\n    getSigleLenses: () => { },\n    updateLenses: () => { },\n    deleteLenses: () => { }\n})\n\n\nconst WarehouseProvider = ({ children }) => {\n    const { token } = useContext(AuthContext)\n    const { setIsLoading, setShowModal, getMessage, closeModal } = useContext(LoadingModalContext)\n    const { setSelectedImage } = useContext(ImageContext)\n    const { push } = useHistory()\n\n    // ------------------------\n\n    const [totalCount, setTotalCount] = useState(0)\n    const [isUpdating, setIsUpdating] = useState(false)\n    const [activeCategoryIndex, setActiveCategoryIndex] = useState(0)\n    const [formToShow, setFormToShow] = useState(\"glasses\")\n\n    // ------------------------\n\n    const [categories] = useState(productCategories)\n    const [product, setProduct] = useState(initProductObj)\n    const [products, setProducts] = useState(null)\n\n    // ------------------------\n\n    const [lenses, setLenses] = useState(initLensesObj)\n    const [lensesArr, setLensesArr] = useState(null)\n\n    // ------------------------\n    // PRODUCT ACTIONS\n    // ------------------------\n\n    const toggleProductForms = (e, formName) => {\n        e.preventDefault()\n        setFormToShow(formName)\n    }\n\n    const toggleDraft = () => {\n        setProduct({\n            ...product,\n            eshop: !product.eshop\n        })\n        setLenses({\n            ...lenses,\n            eshop: !product.eshop\n        })\n    }\n\n    const handleChange = (e) => {\n        const { name, value } = e.target\n        setProduct({\n            ...product,\n            [name]: value\n        })\n    }\n    const handleSpecsChange = (e) => {\n        const { name, value } = e.target\n        setProduct({\n            ...product,\n            specs: {\n                ...product.specs,\n                [name]: value\n            }\n        })\n    }\n\n    const handleCategoryChange = (value) => {\n        setActiveCategoryIndex(value)\n        setProduct({\n            ...product,\n            type: value\n        })\n    }\n\n    const handleAvailableChange = (e, idx) => {\n        let arr = product.available\n        arr[idx] = Number(e.target.value)\n        setProduct({\n            ...product,\n            available: arr\n        })\n    }\n\n    const handleSizeChange = (e, idx) => {\n        let arr = product.specs.size\n        arr[idx] = Number(e.target.value)\n        setProduct({\n            ...product,\n            specs: {\n                ...product.specs,\n                size: arr\n            }\n        })\n    }\n\n    const selectImage = (imgId) => {\n        setProduct({\n            ...product,\n            imagePath: imgId\n        })\n        setLenses({\n            ...lenses,\n            imagePath: imgId\n        })\n    }\n\n    const resetProduct = () => {\n        setProduct(initProductObj)\n        setLenses(initLensesObj)\n        setSelectedImage(null)\n        setIsUpdating(false)\n        setActiveCategoryIndex(0)\n        setFormToShow('glasses')\n    }\n\n    const handleLensesChange = (e) => {\n        const { name, value } = e.target\n        setLenses({\n            ...lenses,\n            [name]: value\n        })\n    }\n\n    const handleLensesCylinderRangeChange = (e, idx) => {\n        let arr = lenses.cylinderRange\n        arr[idx] = Number(e.target.value)\n        setLenses({\n            ...lenses,\n            cylinderRange: arr\n        })\n    }\n\n    const handleLensesDioptersRangeChange = (e, idx) => {\n        let arr = lenses.dioptersRange\n        arr[idx] = Number(e.target.value)\n        setLenses({\n            ...lenses,\n            dioptersRange: arr\n        })\n    }\n\n    const showUpdateForm = (formName, id) => {\n        setFormToShow(formName)\n        setIsUpdating(true)\n\n    }\n\n    // ------------------------\n    // START GLASSES ACTIONS\n    // ------------------------\n\n    // Get all products\n    const getProducts = async () => {\n        setIsLoading(true)\n        setShowModal(true)\n\n        try {\n            const response = await fetchProducts(token)\n            const data = await response.json()\n\n            if (data.products) {\n                setTotalCount(totalCount + data.count)\n                setProducts(data.products)\n                setIsLoading(false)\n                return\n            }\n\n            getMessage(data.message)\n            setIsLoading(false)\n\n        } catch (err) {\n            console.log(err)\n            getMessage(\"Nieco sa pokazilo\")\n            setIsLoading(false)\n        }\n    }\n\n    // Get single product\n\n    const getSingleProduct = async (id) => {\n        setIsLoading(true)\n        setShowModal(true)\n\n        try {\n            const response = await fetchSingleProduct(id)\n            const data = await response.json()\n\n            if (data.error) {\n                getMessage(data.message)\n                setIsLoading(false)\n                return\n            }\n\n            if (data.product) {\n                setProduct({\n                    ...product,\n                    ...data.product,\n                    specs: {\n                        ...product.specs,\n                        ...data.product.specs\n                    },\n                    imagePath: data.product.image._id\n                })\n                setActiveCategoryIndex(data.product.type)\n                setSelectedImage(data.product.image)\n                setIsUpdating(true)\n            }\n\n            closeModal()\n        } catch (err) {\n            console.log(err)\n            getMessage(\"Nieco sa pokazilo\")\n            setIsLoading(false)\n        }\n\n    }\n\n    // Create Glasses\n    const createNewProduct = async (productToAdd) => {\n        setIsLoading(true)\n        setShowModal(true)\n\n        try {\n            const response = await postProduct(token, productToAdd)\n            const data = await response.json()\n\n            console.log(data)\n\n            if (data.error) {\n                getMessage(data.message)\n                setIsLoading(false)\n                return\n            }\n\n            setIsLoading(false)\n            getMessage(data.success)\n            resetProduct()\n            push('/dashboard/obchod')\n            getProducts()\n            closeModal()\n\n        } catch (err) {\n            console.log(err)\n            getMessage(\"Nieco sa pokazilo\")\n            setIsLoading(false)\n        }\n    }\n\n    // Update Glasses\n    const updateProduct = async (productToUpdate) => {\n        setIsLoading(true)\n        setShowModal(true)\n\n        try {\n            const response = await patchProduct(token, productToUpdate)\n            const data = await response.json()\n            console.log(data)\n\n            if (data.error) {\n                getMessage(data.message)\n                setIsLoading(false)\n                return\n            }\n\n            getMessage(data.message)\n            setIsLoading(false)\n            push('/dashboard/obchod')\n            getProducts()\n\n        } catch (err) {\n            console.log(err)\n            getMessage(\"Nieco sa pokazilo\")\n            setIsLoading(false)\n        }\n    }\n\n    // Delete glasses\n    const handleProductDelete = async (id) => {\n        setIsLoading(true)\n        setShowModal(true)\n\n        try {\n            const response = await deleteProduct(token, id)\n            const data = await response.json()\n\n            setIsLoading(false)\n            getMessage(data.message)\n            getProducts()\n            push('/dashboard/obchod')\n\n        } catch (err) {\n            console.log(err)\n            getMessage(\"Nieco sa pokazilo\")\n            setIsLoading(false)\n        }\n    }\n\n    // ------------------------\n    // END GLASSES ACTIONS\n    // ------------------------\n\n\n    // ------------------------\n    // START LENSES ACTIONS\n    // ------------------------\n\n    // Get all lenses\n    const getLenses = async () => {\n        setIsLoading(true)\n        setShowModal(true)\n\n        try {\n            const response = await fetchLenses(token)\n            const data = await response.json()\n\n            if (data.lenses) {\n                setTotalCount(totalCount + data.count)\n                setLensesArr(data.lenses)\n                setIsLoading(false)\n                return\n            }\n\n            setIsLoading(false)\n            getMessage(data.message)\n\n        } catch (err) {\n            console.log(err)\n            getMessage(\"Nieco sa pokazilo\")\n            setIsLoading(false)\n        }\n    }\n\n    // Get single lenses\n    const getSigleLenses = async (id) => {\n        setIsLoading(true)\n        setShowModal(true)\n\n        try {\n            const response = await fetchSingleLenses(id)\n            const data = await response.json()\n\n            console.log(data)\n\n\n            if (data.error) {\n                getMessage(data.message)\n                setIsLoading(false)\n                return\n            }\n\n            if (data.lenses) {\n                setLenses({\n                    ...lenses,\n                    ...data.lenses,\n                    imagePath: data.lenses.image._id\n                })\n                setSelectedImage(data.lenses.image)\n                setIsUpdating(true)\n            }\n\n            closeModal()\n\n\n        } catch (err) {\n            console.log(err)\n            getMessage(\"Nieco sa pokazilo\")\n            setIsLoading(false)\n        }\n    }\n\n    // Create Lense\n    const createNewLenses = async (productToAdd) => {\n        setIsLoading(true)\n        setShowModal(true)\n\n        try {\n            const response = await postLenses(token, productToAdd)\n            const data = await response.json()\n\n            if (data) {\n                setIsLoading(false)\n                getMessage(data.message)\n                push('/dashboard/obchod')\n                getLenses()\n                closeModal()\n            }\n        } catch (err) {\n            console.log(err)\n            getMessage(\"Nieco sa pokazilo\")\n            setIsLoading(false)\n        }\n    }\n\n    // Update Lense\n    const updateLenses = async (productToAdd) => {\n        setIsLoading(true)\n        setShowModal(true)\n\n        try {\n            const response = await patchLenses(token, productToAdd)\n            const data = await response.json()\n\n            console.log(data)\n\n            if (data) {\n                setIsLoading(false)\n                getMessage(data.message)\n                push('/dashboard/obchod')\n                getLenses()\n            }\n\n        } catch (err) {\n            console.log(err)\n            getMessage(\"Nieco sa pokazilo\")\n            setIsLoading(false)\n        }\n    }\n\n    // Delete Lense\n    const deleteLenses = async (id) => {\n        setIsLoading(true)\n        setShowModal(true)\n\n        try {\n            const response = await delLense(token, id)\n            const data = await response.json()\n\n            if (data.error) {\n                setIsLoading(false)\n                getMessage(data.message)\n            }\n\n\n            getLenses()\n            setIsLoading(false)\n            getMessage(data.message)\n            push('/dashboard/obchod')\n            closeModal()\n\n        } catch (err) {\n            console.log(err)\n            getMessage(\"Nieco sa pokazilo\")\n            setIsLoading(false)\n        }\n    }\n\n    // ------------------------\n    // END LENSES ACTIONS\n    // ------------------------\n\n    return (\n        <WarehouseContext.Provider\n            value={{\n                formToShow,\n                toggleProductForms,\n                showUpdateForm,\n                isUpdating,\n                activeCategoryIndex,\n                categories,\n                toggleDraft,\n                handleCategoryChange,\n                handleAvailableChange,\n                handleSizeChange,\n                selectImage,\n                product,\n                products,\n                handleChange,\n                handleSpecsChange,\n                resetProduct,\n                lenses,\n                lensesArr,\n                handleLensesChange,\n                handleLensesDioptersRangeChange,\n                handleLensesCylinderRangeChange,\n                totalCount,\n                getProducts,\n                getSingleProduct,\n                createNewProduct,\n                handleProductDelete,\n                updateProduct,\n                createNewLenses,\n                getLenses,\n                getSigleLenses,\n                updateLenses,\n                deleteLenses\n            }}\n        >\n            {children}\n        </WarehouseContext.Provider>\n    )\n}\n\nexport default WarehouseProvider","import { createGlobalStyle, css } from 'styled-components'\n\nexport const GlobalStyles = createGlobalStyle`\n    *, *::before, *::after {\n        padding: 0;\n        margin: 0;\n        box-sizing: border-box;\n        font-family: 'Titillium Web', sans-serif;\n    }\n\n    html {\n        font-size: 62.5%;\n    }\n\n    body {\n        font-size: 1.6rem;\n        overflow: hidden;\n    }\n\n    section, form {\n        display: flex;\n        flex-direction: column;\n        height: 100vh;\n    }\n\n`\nexport const paddingStyles = css`\n    padding: 0 3rem;\n\n    @media all and (max-width: 800px) {\n        padding: 0 2rem;\n        @media all and (max-width: 500px) {\n            padding: 0 1.5rem;\n        }\n    }\n`\n","\n\nexport const fetchUsers = (token) => {\n    const myHeaders = new Headers();\n    myHeaders.append(\"auth-token\", token);\n\n    const requestOptions = {\n        method: 'GET',\n        headers: myHeaders,\n        redirect: 'follow'\n    };\n\n    return fetch(`${process.env.REACT_APP_BACKEND_ENDPOINT}/api/admin/users`, requestOptions)\n\n}\n\nexport const fetchUser = (token, id) => {\n    const myHeaders = new Headers();\n    myHeaders.append(\"auth-token\", token);\n\n    const requestOptions = {\n        method: 'GET',\n        headers: myHeaders,\n        redirect: 'follow'\n    };\n\n    return fetch(`${process.env.REACT_APP_BACKEND_ENDPOINT}/api/admin/users/${id}`, requestOptions)\n}\n\nexport const patchUser = (token, user) => {\n    const {\n        _id: id,\n        address,\n        admin,\n        city,\n        country,\n        email,\n        lenses: {\n            cylinder,\n            cylinderAxes,\n            diopters,\n            distance,\n        },\n        name,\n        phone,\n        psc,\n    } = user\n\n    const myHeaders = new Headers();\n    myHeaders.append(\"auth-token\", token);\n\n    const raw = JSON.stringify({\n        address: address || \" \",\n        admin: admin,\n        city: city || \" \",\n        country: country || \" \",\n        email: email,\n        lenses: {\n            cylinder: cylinder,\n            cylinderAxes: cylinderAxes,\n            diopters: diopters,\n            distance: distance,\n        },\n        name: name,\n        phone: phone || \" \",\n        psc: psc || \" \",\n    })\n\n    const requestOptions = {\n        method: 'PATCH',\n        headers: myHeaders,\n        body: raw,\n        redirect: 'follow'\n    };\n\n    return fetch(`${process.env.REACT_APP_BACKEND_ENDPOINT}/api/admin/users/${id}`, requestOptions)\n}\n","export const initUserObj = {\n    address: \"\",\n    admin: 0,\n    premises: 0,\n    boughtProducts: {},\n    city: \"\",\n    country: \"\",\n    date: \"\",\n    email: \"\",\n    finishedRegistration: false,\n    lenses: {\n        cylinder: [0, 0],\n        cylinderAxes: [0, 0],\n        diopters: [0, 0],\n        distance: [0, 0],\n    },\n    name: \"\",\n    orders: [],\n    phone: \"\",\n    psc: \"\",\n    tempUser: false,\n    totalSpent: 0,\n    watchList: [],\n    fName: \"\",\n    lName: \"\"\n}","import React, { createContext, useState, useContext, useEffect } from 'react'\nimport { useHistory } from 'react-router-dom'\nimport { AuthContext } from '../auth/auth.context'\nimport { LoadingModalContext } from '../loading-modal/loading-modal.contenxt'\n\nimport {\n    fetchUsers,\n    fetchUser,\n    patchUser\n} from './user.queries'\n\nimport {\n    initUserObj\n} from './user.utils'\n\nexport const UserContext = createContext({\n    isUpdating: false,\n    activeIndex: 0,\n    handleChangeFilterItem: () => { },\n    filterItems: [],\n    totalCount: 0,\n    users: null,\n    user: null,\n    getUsers: () => { },\n    getUser: () => { },\n    handleChange: () => { },\n    handleDioptersChange: () => { },\n    handleDistanceChange: () => { },\n    handleCylinderChange: () => { },\n    handleCylinderAxesChange: () => { },\n    updateUser: () => { },\n    resetUser: () => { }\n})\n\nconst UserProvider = ({ children }) => {\n    const { push } = useHistory()\n    const { token } = useContext(AuthContext)\n    const {\n        closeModal,\n        getMessage,\n        setIsLoading,\n        setShowModal\n    } = useContext(LoadingModalContext)\n\n    // ------------------------\n\n    const [user, setUser] = useState(initUserObj)\n    const [users, setUsers] = useState(null)\n    const [totalCount, setTotalCount] = useState(0)\n\n    // ------------------------\n\n    const [isUpdating, setIsUpdating] = useState(false)\n    const [activeIndex, setActiveIndex] = useState(0)\n    const filterItems = [\n        {\n            id: 0,\n            name: \"Zákaznici\",\n            filter: 0,\n        },\n        {\n            id: 1,\n            name: \"Zamestnanci 1\",\n            filter: 1,\n        },\n        {\n            id: 2,\n            name: \"Zamestnanci 2\",\n            filter: 2,\n        },\n        {\n            id: 3,\n            name: \"Admin 3\",\n            filter: 3,\n        }\n    ]\n\n    // ------------------------\n\n    const handleChangeFilterItem = (itemIndex) => {\n        setActiveIndex(itemIndex)\n    }\n\n    const handleChange = (e) => {\n        const { name, value } = e.target\n        setUser({\n            ...user,\n            [name]: value\n        })\n    }\n\n    const handleDioptersChange = (e, idx) => {\n        let arr = user.lenses.diopters\n        arr[idx] = Number(e.target.value)\n        setUser({\n            ...user,\n            lenses: {\n                ...user.lenses,\n                diopters: arr\n            }\n        })\n    }\n\n    const handleDistanceChange = (e, idx) => {\n        let arr = user.lenses.distance\n        arr[idx] = Number(e.target.value)\n        setUser({\n            ...user,\n            lenses: {\n                ...user.lenses,\n                distance: arr\n            }\n        })\n    }\n\n    const handleCylinderChange = (e, idx) => {\n        let arr = user.lenses.cylinder\n        arr[idx] = Number(e.target.value)\n        setUser({\n            ...user,\n            lenses: {\n                ...user.lenses,\n                cylinder: arr\n            }\n        })\n    }\n\n\n    const handleCylinderAxesChange = (e, idx) => {\n        let arr = user.lenses.cylinderAxes\n        arr[idx] = Number(e.target.value)\n        setUser({\n            ...user,\n            lenses: {\n                ...user.lenses,\n                cylinderAxes: arr\n            }\n        })\n    }\n\n    useEffect(() => {\n        setUser({\n            ...user,\n            name: user.fName + \" \" + user.lName\n        })\n    }, [user.fName, user.lName])\n\n    const resetUser = () => {\n        setUser({\n            ...initUserObj\n        })\n        setIsUpdating(false)\n    }\n\n    // ------------------------\n    // USER ACTIONS\n    // ------------------------\n\n    // Get all users\n    const getUsers = async () => {\n        setIsLoading(true)\n        setShowModal(true)\n\n        try {\n            const response = await fetchUsers(token)\n            const data = await response.json()\n\n            console.log(data)\n            if (data.users) {\n                setUsers(data.users)\n                setTotalCount(data.count)\n                setIsLoading(false)\n                closeModal()\n\n            } else {\n                getMessage(data.message)\n                setIsLoading(false)\n            }\n        } catch (err) {\n            console.log(err)\n            getMessage(\"Nieco sa pokazilo\")\n            setIsLoading(false)\n        }\n    }\n\n\n    // Get signgle user\n    const getUser = async (id) => {\n        setIsLoading(true)\n        setShowModal(true)\n        setIsUpdating(true)\n\n        try {\n            const response = await fetchUser(token, id)\n            const data = await response.json()\n\n            if (data.user) {\n                setUser({\n                    ...user,\n                    ...data.user,\n                    lenses: {\n                        cylinder: data.user.lenses.cylinder.length ? data.user.lenses.cylinder : [0, 0],\n                        cylinderAxes: data.user.lenses.cylinderAxes.length ? data.user.lenses.cylinderAxes : [0, 0],\n                        diopters: data.user.lenses.diopters.length ? data.user.lenses.diopters : [0, 0],\n                        distance: data.user.lenses.distance.length ? data.user.lenses.distance : [0, 0],\n                    },\n                    fName: data.user.name ? data.user.name.split(\" \")[0] : \"\",\n                    lName: data.user.name ? data.user.name.split(\" \")[1] : \"\"\n                })\n                setIsLoading(false)\n                closeModal()\n\n            } else {\n                getMessage(data.message)\n                setIsLoading(false)\n            }\n        } catch (err) {\n            console.log(err)\n            getMessage(\"Nieco sa pokazilo\")\n            setIsLoading(false)\n        }\n    }\n\n    // Update user\n    const updateUser = async (user) => {\n        setIsLoading(true)\n        setShowModal(true)\n\n        console.log(user)\n\n        try {\n            // postUser\n            const response = await patchUser(token, user)\n            const data = await response.json()\n\n            console.log(data)\n\n            if (data.error) {\n                setIsLoading(false)\n                getMessage(data.message)\n            }\n\n\n            setIsLoading(false)\n            closeModal()\n            push('/dashboard/zakaznici')\n            getUsers()\n            // http://localhost:1000/#/dashboard/zakaznici\n\n\n        } catch (err) {\n            console.log(err)\n            getMessage(\"Nieco sa pokazilo\")\n            setIsLoading(false)\n        }\n    }\n\n    return (\n        <UserContext.Provider\n            value={{\n                isUpdating,\n                activeIndex,\n                handleChangeFilterItem,\n                filterItems,\n                users,\n                user,\n                totalCount,\n                getUsers,\n                getUser,\n                handleChange,\n                handleDioptersChange,\n                handleDistanceChange,\n                handleCylinderChange,\n                handleCylinderAxesChange,\n                updateUser,\n                resetUser\n            }}\n        >\n            {children}\n        </UserContext.Provider>\n    )\n}\n\nexport default UserProvider","import styled from 'styled-components'\nimport CustomButton from '../custom-button/custom-button.component'\n\nexport const FormContainer = styled.form`\n    display: block;\n    height: initial;\n    width: 100%;\n    max-width: 35rem;\n    padding: 3rem 4rem;\n    border-radius: .5rem;\n    box-shadow: 0 0 1.5rem 0 rgba(0,0,0, 0.08);\n    margin: 0 1rem 3rem;\n\n\n    h2 {\n        font-size: 2.8rem;\n        text-align: center;\n        margin-bottom: 5rem;\n\n        \n        @media all and (max-width: 500px) {\n            font-size: 2.5rem;\n        }\n    }\n`\n\nexport const SubmitButton = styled(CustomButton)`\n    margin-top: 2rem;\n\n    width: 100%;\n`\n\nexport const ForgotPasswordButton = styled.button`\n    cursor: pointer;\n    background-color: transparent;\n    color: #DD4C4C;\n    font-family: inherit;\n    border: none;\n    outline: none;\n\n    &:focus {\n        outline: none;\n    }\n`","import React, { useState, useContext } from 'react'\nimport { AuthContext } from '../../context/auth/auth.context'\nimport { LoadingModalContext } from '../../context/loading-modal/loading-modal.contenxt'\n\nimport CustomInput from '../custom-input/custom-input.component'\nimport PopUp from '../popup/pop-up.component'\n\nimport { FormContainer, SubmitButton, ForgotPasswordButton } from './sign-in.styles'\n\nconst SignIn = ({ showForgotPwsForm }) => {\n    const [email, setEmail] = useState('')\n    const [password, setPassword] = useState('')\n\n    const {\n        logIn,\n    } = useContext(AuthContext)\n\n    const {\n        isLoading,\n        closeModal,\n        message,\n        showModal\n    } = useContext(LoadingModalContext)\n\n    const handleSubmit = async (e) => {\n        e.preventDefault()\n        logIn(email, password)\n\n        setEmail('')\n        setPassword('')\n    }\n\n\n    return (\n        <React.Fragment>\n            {showModal && <PopUp loading={isLoading} title={message} close={closeModal} />}\n            <FormContainer onSubmit={handleSubmit}>\n                <h2>Prihlásiť sa</h2>\n\n                <CustomInput\n                    label=\"E-mail\"\n                    type='email'\n                    name='email'\n                    value={email}\n                    handleChange={(e) => setEmail(e.target.value)}\n                    required\n                />\n                <CustomInput\n                    label=\"Heslo\"\n                    type='password'\n                    name='pwd'\n                    value={password}\n                    handleChange={(e) => setPassword(e.target.value)}\n                    required\n\n                />\n\n                <SubmitButton>Prihlásiť sa</SubmitButton>\n            </FormContainer>\n            <ForgotPasswordButton onClick={() => showForgotPwsForm()}>Zabudol som heslo</ForgotPasswordButton>\n\n        </React.Fragment>\n    )\n}\n\nexport default SignIn\n","import styled from 'styled-components'\nimport CustomButton from '../custom-button/custom-button.component'\n\nexport const FormContainer = styled.form`\n    display: block;\n    height: initial;\n    width: 100%;\n    max-width: 35rem;\n    padding: 3rem 4rem;\n    border-radius: .5rem;\n    box-shadow: 0 0 1.5rem 0 rgba(0,0,0, 0.08);\n    margin: 0 1rem 3rem;\n\n\n    h2 {\n        font-size: 2.8rem;\n        text-align: center;\n        margin-bottom: 5rem;\n\n        \n        @media all and (max-width: 500px) {\n            font-size: 2.5rem;\n        }\n    }\n`\n\nexport const SubmitButton = styled(CustomButton)`\n    margin-top: 2rem;\n\n    width: 100%;\n`\n\nexport const SignInButton = styled.button`\n    cursor: pointer;\n    background-color: transparent;\n    color: #DD4C4C;\n    font-family: inherit;\n    border: none;\n    outline: none;\n    margin-bottom: 1rem; \n\n    &:focus {\n        outline: none;\n    }\n`","import React, { useState, useContext } from 'react'\nimport { AuthContext } from '../../context/auth/auth.context'\n\nimport CustomInput from '../custom-input/custom-input.component'\nimport PopUp from '../popup/pop-up.component'\n\nimport {\n    FormContainer,\n    SignInButton,\n    SubmitButton\n} from './forgot-password.styles'\n\nconst ForgotPassword = ({ showSignInForm }) => {\n    const [email, setEmail] = useState('')\n\n    const {\n        isWaitingForResponse,\n        errMessage,\n        isLoading,\n        setIsLoading,\n        handleResetPassword\n    } = useContext(AuthContext)\n\n    const handleSubmit = async (e) => {\n        e.preventDefault()\n        handleResetPassword(email)\n    }\n\n\n    return (\n        <React.Fragment>\n            {isLoading && <PopUp loading={isWaitingForResponse} title={errMessage} close={() => setIsLoading(false)} />}\n            <FormContainer onSubmit={handleSubmit}>\n                <h2>Zadaj e-mail</h2>\n\n                <CustomInput\n                    label=\"E-mail\"\n                    type='email'\n                    name='email'\n                    value={email}\n                    handleChange={(e) => setEmail(e.target.value)}\n                    required\n                />\n\n                <SubmitButton>Odoslať</SubmitButton>\n            </FormContainer>\n            <SignInButton onClick={() => showSignInForm()}>Spät na prihlásenie</SignInButton>\n        </React.Fragment>\n    )\n}\n\nexport default ForgotPassword\n","import styled from 'styled-components'\n\nexport const SignInAndSignUpContainer = styled.div`\n    width: 100%;\n    height: 100vh;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n\n    h1 {\n        font-size: 8rem;\n        font-weight: 700;\n        margin-bottom: 5rem;\n\n        @media all and (max-width: 800px) {\n            font-size: 6rem;\n\n            @media all and (max-width: 500px) {\n            font-size: 5rem;\n\n            }\n        }   \n    }\n`","import React, { useState } from 'react'\n\nimport SignIn from '../../components/sign-in/sign-in.component'\nimport ForgotPassword from '../../components/forgot-password/forgot-password.component'\n\nimport { SignInAndSignUpContainer } from './sign-in-and-sign-up.styles'\n\nconst SignInAndSignUpPage = () => {\n    const [showForgotPws, setShowForgotPwd] = useState(false)\n\n    const showSignInForm = () => {\n        setShowForgotPwd(false)\n    }\n\n    const showForgotPwsForm = () => {\n        setShowForgotPwd(true)\n    }\n\n    return (\n        <SignInAndSignUpContainer>\n            <h1>IMOOPTIK</h1>\n            {showForgotPws ? (<ForgotPassword showSignInForm={showSignInForm} />) : (\n                <SignIn showForgotPwsForm={showForgotPwsForm} />\n            )}\n        </SignInAndSignUpContainer>\n    )\n}\n\nexport default SignInAndSignUpPage\n","import styled, { css } from 'styled-components'\n\nexport const AsideContainer = styled.aside`\n    position: relative;\n    background-color: #000000;\n    padding: 3rem 0 3rem 3rem;\n    height: 100%;\n    display: flex;\n    flex-direction: column;\n    justify-content: space-between;\n    z-index: 999;\n    overflow-x: hidden;\n\n    @media all and (max-width: 1150px) {\n        position: absolute;\n\n        width: ${({ isOpen }) => isOpen ? \"30rem\" : '10rem'};\n        transition: width .5s ease-out;\n\n        @media all and (max-width: 800px){\n            position: absolute;\n            transition: left .5s ease-out;\n            left: ${({ isOpen }) => isOpen ? 0 : '-30rem'};\n        }\n\n        @media all and (max-width: 500px) {\n            width: 25rem;\n            left: ${({ isOpen }) => isOpen ? 0 : '-25rem'};\n\n        }\n    }\n`\n\nexport const LogoContainer = styled.div`\n    font-size: 3rem;\n    font-weight: 700;\n    color: #fff;\n    margin-bottom: 3rem;\n    @media all and (max-width: 1150px) {\n        transition: opacity .5s ease-out;\n        opacity: ${({ isOpen }) => isOpen ? 1 : 0};\n\n    }\n`\n\nexport const NavLinksContainer = styled.ul`\n    list-style: none;\n    width: 100%;\n    overflow-x: hidden;\n\n    @media all and (max-height: 725px) {\n        overflow-y: scroll;\n\n        ::-webkit-scrollbar {\n            width: 10px;\n        }\n\n        /* Track */\n        ::-webkit-scrollbar-track {\n            background:  #3E3E3E;\n        }\n\n        /* Handle */\n        ::-webkit-scrollbar-thumb {\n            background: #888;\n        }\n\n        /* Handle on hover */\n        ::-webkit-scrollbar-thumb:hover {\n            background: #555;\n        }\n    }\n\n    li {\n        position: relative;\n        display: flex;\n        align-items: center;\n        margin-bottom: 3rem;\n\n\n        div {\n            width: 5rem;\n            height: 5rem;\n            background-color: #3E3E3E;\n            margin-right: 3rem;\n            border-radius: 50%;\n\n            @media all and (max-width: 500px) {\n                margin-right: 2rem;\n\n            }\n        }\n    }\n`\n\nexport const ActiveBorder = styled.span`\n    opacity: ${({ isActive }) => isActive ? 1 : 0};\n    position: absolute;\n    width: 4px;\n    right: 0;\n    top: 0;\n    bottom: 0;\n    background-color: rgb(235, 172, 1);\n    transition: opacity .3s ease-out;\n`\n\nexport const NavLinksButton = styled.button`\n    min-width: 20rem;\n    cursor: pointer;\n    outline:none;\n    background-color: transparent;\n    border: none;\n    display: flex;\n    align-items: center;\n    color: #fff;\n    font-family: inherit;\n    font-weight: 700;\n    font-size: 1.8rem;\n    transition: .2s color ease-out;\n\n\n    @media all and (max-width: 500px) {\n        font-size: 1.6rem;\n    }\n\n    &:hover {\n        color: #eee;\n    }\n\n\n    &:focus {\n        outline: none;\n    }\n`\n\n\nexport const ToggleButton = styled.button`\n    cursor: pointer;\n    display: none;\n    outline: none;\n    border: none;\n    background-color: transparent;\n\n    &:focus {\n        outline: none;\n    }\n\n    @media all and (max-width: 1150px) {\n        top: 3rem;\n        left: ${({ isOpen }) => isOpen ? '32rem' : '12rem'};\n        transition: all .5s ease-out;\n        align-self: flex-start;\n        display: block;\n        background-color: transparent;\n        border: none;\n        width: 3.5rem;\n        height: 2.5rem;\n        position: absolute;\n\n        @media all and (max-width: 800px) {\n            left: ${({ isOpen }) => isOpen ? '32rem' : '2rem'};\n            @media all and (max-width: 500px) {\n                left: ${({ isOpen }) => isOpen ? '26rem' : '1rem'};\n            }\n        }\n\n        div {\n            position: absolute;\n            width: 3.5rem;\n            height: 2.5px;\n            background-color: #000000;\n            transition: all 0.3s ease-in-out;\n            ${props => props.isOpen ? (css`\n                &:nth-child(1) {\n                    top: 1rem;\n                    transform: rotate(45deg);\n                }\n\n                &:nth-child(2) {\n                    opacity: 0;\n                }\n\n                &:nth-child(3) {\n                    bottom: 1.3rem;\n                    transform: rotate(-45deg);\n                }\n            `) : (css`\n                &:nth-child(1) {\n                    top: 0;\n                }\n\n                &:nth-child(2) {\n                    top: 50%;\n                    transform: translateY(-50%);\n                }\n\n                &:nth-child(3) {\n                    bottom: 0;\n                }\n            `)}\n        }\n \n    }\n`","import React, { useState, useContext, useEffect } from 'react'\nimport { AuthContext } from '../../context/auth/auth.context'\nimport { useHistory } from 'react-router-dom'\n\nimport {\n    AsideContainer,\n    LogoContainer,\n    NavLinksContainer,\n    ToggleButton,\n    NavLinksButton,\n    ActiveBorder\n} from './sidenav.styles'\n\nconst Sidenav = ({ routes, match }) => {\n    const { logOut, currentUser } = useContext(AuthContext)\n    const { push } = useHistory()\n\n    const [isOpen, setIsOpen] = useState(false)\n\n    const [activeLink, setActiveLink] = useState(0)\n\n    const handleClick = (path, idx) => {\n        if (isOpen) {\n            setIsOpen(false)\n        }\n        setActiveLink(idx)\n        push(path)\n    }\n\n    return (\n        <React.Fragment>\n\n            <ToggleButton onClick={() => setIsOpen(!isOpen)} isOpen={isOpen}>\n                <div />\n                <div />\n                <div />\n            </ToggleButton>\n            <AsideContainer isOpen={isOpen}>\n                <LogoContainer isOpen={isOpen}>\n                    IMOOPTIK\n            </LogoContainer>\n                <NavLinksContainer>\n                    {routes.map((route, idx) => (\n                        <li key={idx}>\n                            <NavLinksButton onClick={() => handleClick(match.url + route.path, idx)} >\n                                <div /> {route.name}\n                            </NavLinksButton>\n                            <ActiveBorder isActive={activeLink === idx} />\n                        </li>\n                    ))}\n                    <li>\n                        <NavLinksButton onClick={logOut}>\n                            <div /> Odhlásiť sa\n                            <ActiveBorder />\n                        </NavLinksButton>\n                    </li>\n                </NavLinksContainer>\n                <div />\n            </AsideContainer>\n        </React.Fragment>\n    )\n}\n\nexport default Sidenav\n","import styled from 'styled-components'\n\nexport const DashboardContainer = styled.div`\n    width: 100%;\n    height: 100%;\n    display: grid;\n    grid-template-columns: 30rem 1fr;\n\n    @media all and (max-width: 1150px) {\n        grid-template-columns: 1fr;\n\n        main {\n            margin-top: 8rem;\n            margin-left: 10rem;\n        }\n\n        @media all and (max-width: 800px) {\n            grid-template-columns: 1fr;\n\n            main {\n                margin-left: unset;\n                height: 100%;\n\n            }\n        }\n    }\n`","import React, { lazy, Suspense, useContext } from 'react'\nimport { Switch, Route, useRouteMatch, Redirect } from 'react-router-dom'\nimport { AuthContext } from '../../context/auth/auth.context'\n\nimport SideNav from '../../components/sidenav/sidenav.component'\nimport Popup from '../../components/popup/pop-up.component'\n\nimport BlogProvider from '../../context/blog/blog.context'\nimport UserProvider from '../../context/user/user.context'\nimport WarehouseProvider from '../../context/warehouse/warehouse.context'\nimport ImageProvider from '../../context/image/image.context'\n\n\nimport { DashboardContainer } from './dashboard.styles'\n\nconst EshopSection = lazy(() => import('../../sections/e-shop/e-shop.section'))\nconst CustomersSection = lazy(() => import('../../sections/customers/customers.section'))\nconst OrdersSection = lazy(() => import('../../sections/orders/orders.section'))\nconst AnalyticsSection = lazy(() => import('../../sections/analytics/analytics.section'))\nconst CustomerProfileSection = lazy(() => import('../../sections/customer-profile/customer-profile.section'))\nconst ProductSection = lazy(() => import('../../sections/product/product.section'))\nconst BlogSection = lazy(() => import(\"../../sections/blog-posts/blog-posts.section\"))\nconst BookingSection = lazy(() => import('../../sections/booking/booking.section'))\nconst PostSection = lazy(() => import('../../sections/post/post.section'))\nconst NoPermisionSection = lazy(() => import('../../sections/no-permission/no-permission.section'))\n\nconst Dashboard = () => {\n    const match = useRouteMatch()\n    const routes = [\n        {\n            name: 'E-shop',\n            path: '/obchod',\n            permission: 1\n        },\n        {\n            name: 'Uživatelia',\n            path: '/zakaznici',\n            permission: 1\n        },\n        {\n            name: 'Objednávky',\n            path: '/objednavky',\n            permission: 0\n        },\n        {\n            name: 'Rezervácie',\n            path: '/rezervacie',\n            permission: 0\n        },\n        {\n            name: 'Blog',\n            path: '/blog',\n            permission: 0\n        },\n        {\n            name: 'Analytika',\n            path: '/analytika',\n            permission: 1\n        },\n    ]\n\n    const { currentUser } = useContext(AuthContext)\n\n    if (currentUser.admin === 0) return (\n        <Suspense fallback={<Popup loading={true} />}>\n            <NoPermisionSection />\n        </Suspense>\n    )\n\n    return (\n        <DashboardContainer>\n            <SideNav routes={routes} match={match} />\n            <ImageProvider>\n                <main>\n                    <Suspense fallback={<Popup loading={true} />}>\n                        <Switch>\n                            <Route path={`${match.path}/obchod`} render={() => (\n                                <WarehouseProvider>\n                                    <EshopSection />\n                                </WarehouseProvider>\n                            )} />\n\n                            <Route path={`${match.path}/sklad/:id`} render={() => (\n                                <WarehouseProvider>\n                                    <ProductSection />\n                                </WarehouseProvider>\n                            )} />\n\n\n                            <Route path={`${match.path}/objednavky`} component={OrdersSection} />\n                            <Route path={`${match.path}/analytika`} component={AnalyticsSection} />\n\n                            <Route path={`${match.path}/rezervacie`} component={BookingSection} />\n\n                            <Route exact path={`${match.path}/blog`} render={() => (\n                                <BlogProvider>\n                                    <BlogSection />\n                                </BlogProvider>\n                            )} />\n                            <Route path={`${match.path}/blog/:id`} render={() => (\n                                <BlogProvider>\n                                    <PostSection />\n                                </BlogProvider>\n                            )} />\n\n                            <UserProvider>\n                                <Route exact path={`${match.path}/zakaznici`} component={CustomersSection} />\n                                <Route path={`${match.path}/zakaznici/:id`} component={CustomerProfileSection} />\n                            </UserProvider>\n\n                        </Switch>\n                        {/* {currentUser.admin === 0 ? <Redirect to={`${match.path}/objednavky`} /> : <Redirect to={`${match.path}/obchod`} />} */}\n                        <Redirect to={`${match.path}/obchod`} />\n                    </Suspense>\n                </main>\n            </ImageProvider>\n        </DashboardContainer>\n    )\n}\n\nexport default Dashboard\n","import styled from 'styled-components'\nimport CustomButton from '../../components/custom-button/custom-button.component'\n\nexport const Center = styled.div`\n    width: 100%;\n    height: 100vh;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n`\n\nexport const FormContainer = styled.form`\n    width: 100%;\n    max-width: 35rem;\n    padding: 3rem 4rem;\n    border-radius: .5rem;\n    box-shadow: 0 0 1.5rem 0 rgba(0,0,0, 0.08);\n\n    margin: 0 1rem 3rem;\n\n\n    h2 {\n        font-size: 2.8rem;\n        text-align: center;\n        margin-bottom: 5rem;\n\n        @media all and (max-width: 500px) {\n            font-size: 2.5rem;\n        }\n    }\n`\n\nexport const SubmitButton = styled(CustomButton)`\n    width: 100%;\n`","import React, { useState, useContext } from 'react'\nimport { AuthContext } from '../../context/auth/auth.context'\nimport { useHistory, useParams } from 'react-router-dom'\n\nimport CustomInput from '../../components/custom-input/custom-input.component'\nimport PopUp from '../../components/popup/pop-up.component'\n\nimport {\n    FormContainer,\n    SubmitButton,\n    Center\n} from './reset.password.styles'\n\n\nconst ResetPassword = () => {\n    const { isLoading, isWaitingForResponse, setIsLoading, errMessage, handleCreatingNewPassword } = useContext(AuthContext)\n    const { push } = useHistory()\n    const { token } = useParams()\n\n    const [password, setPassword] = useState(\"\")\n\n    const handleSubmit = e => {\n        e.preventDefault()\n\n        handleCreatingNewPassword(token, password)\n    }\n\n    const handleOnClose = () => {\n        setIsLoading(false)\n        push('/')\n    }\n\n    return (\n        <React.Fragment>\n            {isLoading && <PopUp loading={isWaitingForResponse} title={errMessage} close={handleOnClose} />}\n            <Center>\n\n                <FormContainer onSubmit={handleSubmit}>\n                    <h2>Vytvoriť nové heslo</h2>\n\n                    <CustomInput\n                        label=\"Nové heslo\"\n                        type='password'\n                        name='password'\n                        value={password}\n                        handleChange={(e) => setPassword(e.target.value)}\n                        required\n                    />\n\n                    <SubmitButton>Odoslať</SubmitButton>\n                </FormContainer>\n            </Center>\n\n        </React.Fragment>\n    )\n}\n\nexport default ResetPassword\n","import React, { useContext } from 'react'\nimport { AuthContext } from './context/auth/auth.context'\nimport { GlobalStyles } from './global.styles'\nimport { HashRouter, Switch, Route, Redirect } from 'react-router-dom'\n\nimport SignInAndSignUpPage from './pages/sign-in-and-sign-up/sign-in-and-sign-up'\nimport DashboardPage from './pages/dashboard/dashboard'\nimport ResetPasswordPage from './pages/reset-password/reset-password'\n\nconst App = () => {\n  console.log(\"RENDER APP\")\n  const { currentUser } = useContext(AuthContext)\n\n  return (\n    <React.Fragment>\n      <GlobalStyles />\n      <HashRouter basename='/'>\n        <Switch>\n          <Route path='/prihlasenie' render={() => currentUser ? <Redirect to='/dashboard' /> : <SignInAndSignUpPage />} />\n          <Route path='/dashboard' render={() => currentUser ? <DashboardPage /> : <Redirect to='/prihlasenie' />} />\n          <Route path='/reset/:token' component={ResetPasswordPage} />\n          {currentUser ? <Redirect to='/dashboard/obchod' /> : <Redirect to='/prihlasenie' />}\n        </Switch>\n      </HashRouter>\n    </React.Fragment>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport AuthProvider from './context/auth/auth.context'\nimport LoadingModalProvider from './context/loading-modal/loading-modal.contenxt'\n\nReactDOM.render(\n  <React.StrictMode>\n    <LoadingModalProvider>\n      <AuthProvider>\n        <App />\n      </AuthProvider>\n    </LoadingModalProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","\n\nexport const getUser = (credentials) => {\n    const { email, password } = credentials\n    const myHeaders = new Headers();\n    myHeaders.append(\"Content-Type\", \"application/json\");\n\n    const raw = JSON.stringify({ \"email\": email, \"password\": password });\n\n    const requestOptions = {\n        method: 'POST',\n        headers: myHeaders,\n        body: raw,\n        redirect: 'follow'\n    };\n\n    return fetch(`${process.env.REACT_APP_BACKEND_ENDPOINT}/api/auth/login`, requestOptions)\n}\n\nexport const createNewUser = (credentials) => {\n    const { name, email, password } = credentials\n\n    const myHeaders = new Headers();\n    myHeaders.append(\"Content-Type\", \"application/json\");\n\n    const raw = JSON.stringify({ \"email\": email, \"password\": password, \"name\": name });\n\n    const requestOptions = {\n        method: 'POST',\n        headers: myHeaders,\n        body: raw,\n        redirect: 'follow'\n    };\n\n    return fetch(`${process.env.REACT_APP_BACKEND_ENDPOINT}/api/auth/register`, requestOptions)\n}\n\nexport const resetPassword = (email) => {\n    const myHeaders = new Headers();\n    myHeaders.append(\"Content-Type\", \"application/json\");\n\n    const raw = JSON.stringify({ \"email\": email });\n\n    const requestOptions = {\n        method: 'POST',\n        headers: myHeaders,\n        body: raw,\n        redirect: 'follow'\n    };\n\n    return fetch(`${process.env.REACT_APP_BACKEND_ENDPOINT}/api/auth/forgot`, requestOptions)\n}\n\nexport const setNewPassword = (resetSecret, password) => {\n    const myHeaders = new Headers();\n    myHeaders.append(\"Content-Type\", \"application/json\");\n\n    const raw = JSON.stringify({ \"resetSecret\": resetSecret, \"password\": password });\n\n    const requestOptions = {\n        method: 'POST',\n        headers: myHeaders,\n        body: raw,\n        redirect: 'follow'\n    };\n\n    return fetch(`${process.env.REACT_APP_BACKEND_ENDPOINT}/api/auth/reset`, requestOptions)\n}\n\nexport const fetchUser = (token) => {\n    const myHeaders = new Headers();\n    myHeaders.append(\"auth-token\", token);\n    myHeaders.append(\"Content-Type\", \"application/json\");\n\n    const requestOptions = {\n        method: 'GET',\n        headers: myHeaders,\n        redirect: 'follow'\n    };\n\n    return fetch(`${process.env.REACT_APP_BACKEND_ENDPOINT}/api/user/profile`, requestOptions)\n}","import React, { createContext, useState, useContext, useEffect } from 'react'\nimport { LoadingModalContext } from '../loading-modal/loading-modal.contenxt'\nimport { getUser, createNewUser, resetPassword, setNewPassword, fetchUser } from './auth.queries'\n\nexport const AuthContext = createContext({\n    currentUser: null,\n    isAdmin: false,\n    token: null,\n    logIn: () => { },\n    logOut: () => { },\n    register: () => { },\n    handleResetPassword: () => { },\n    handleCreatingNewPassword: () => { }\n})\n\nconst AuthProvider = ({ children }) => {\n    const { setShowModal, setIsLoading, getMessage, closeModal } = useContext(LoadingModalContext)\n    const [currentUser, setCurrentUser] = useState(null)\n    const [token, setToken] = useState(null)\n    const [isAdmin, setIsAdmin] = useState(false)\n\n    const checkIfAdmin = (user) => {\n        if (user.admin > 1) {\n            setIsAdmin(true)\n        } else {\n            setIsAdmin(false)\n        }\n    }\n\n    const logIn = async (email, password) => {\n        setShowModal(true)\n        setIsLoading(true)\n\n        if (!email) {\n            console.log(\"Ziadny e-mail\")\n            setShowModal(false)\n            setIsLoading(false)\n            return\n        }\n\n        if (!password) {\n            console.log(\"Ziadne heslo\")\n            setShowModal(false)\n            setIsLoading(false)\n            return\n        }\n\n        try {\n            const response = await getUser({ email, password })\n            const user = await response.json()\n\n            getMessage(user.message)\n            setIsLoading(false)\n            if (user.user) {\n                setCurrentUser(user.user)\n                setToken(user.authToken)\n                localStorage.setItem(process.env.REACT_APP_ADMIN_TOKEN, user.authToken)\n                checkIfAdmin(user.user)\n\n                closeModal()\n            }\n        } catch (err) {\n            console.log(err)\n            getMessage(\"Nieco sa pokazilo\")\n            setIsLoading(false)\n        }\n    }\n\n    const logOut = () => {\n        localStorage.removeItem(process.env.REACT_APP_ADMIN_TOKEN)\n        setCurrentUser(null)\n        setToken(null)\n    }\n\n    const register = async (name, email, password, confirmPassword) => {\n        setShowModal(true)\n        setIsLoading(true)\n\n        if (!name) {\n            console.log(\"Ziadne meno\")\n            setShowModal(false)\n            setIsLoading(false)\n            return\n        }\n\n        if (!email) {\n            console.log(\"Ziadny e-mail\")\n            setShowModal(false)\n            setIsLoading(false)\n            return\n        }\n\n        if (!password) {\n            console.log(\"Ziadne heslo\")\n            setShowModal(false)\n            setIsLoading(false)\n            return\n        }\n\n\n        if (password !== confirmPassword) {\n            console.log(\"hesla sa nezhoduju\")\n            setShowModal(false)\n            setIsLoading(false)\n            return\n        }\n\n        try {\n            const response = await createNewUser({ name, email, password })\n            const data = await response.json()\n\n            setIsLoading(false)\n            getMessage(data.message)\n\n        } catch (err) {\n            console.log(err)\n            getMessage(\"Nieco sa pokazilo\")\n            setIsLoading(false)\n        }\n    }\n\n    const handleResetPassword = async (email) => {\n        setShowModal(true)\n        setIsLoading(true)\n\n        if (!email) {\n            console.log(\"Ziadny e-mail\")\n            setShowModal(false)\n            setIsLoading(false)\n            return\n        }\n\n        try {\n            const response = await resetPassword(email)\n            const user = await response.json()\n\n            getMessage(user.message)\n            setIsLoading(false)\n        } catch (err) {\n            console.log(err)\n            getMessage(\"Nieco sa pokazilo\")\n            setIsLoading(false)\n        }\n    }\n\n    const handleCreatingNewPassword = async (resetSecret, password) => {\n        setShowModal(true)\n        setIsLoading(true)\n\n        if (!resetSecret) {\n            console.log(\"Ziadny reset token\")\n            setShowModal(false)\n            setIsLoading(false)\n            return\n        }\n        if (!password) {\n            console.log(\"Ziadne heslo\")\n            setShowModal(false)\n            setIsLoading(false)\n            return\n        }\n\n        try {\n            const response = await setNewPassword(resetSecret, password)\n            const user = await response.json()\n\n            getMessage(user.message)\n            setIsLoading(false)\n        } catch (err) {\n            console.log(err)\n            getMessage(\"Nieco sa pokazilo\")\n            setIsLoading(false)\n        }\n    }\n\n    useEffect(() => {\n        if (localStorage.getItem(process.env.REACT_APP_ADMIN_TOKEN)) {\n            setToken(localStorage.getItem(process.env.REACT_APP_ADMIN_TOKEN))\n        }\n    }, [])\n\n    useEffect(() => {\n        if (token) {\n            const getUserProfile = async () => {\n                const response = await fetchUser(token)\n                const data = await response.json()\n                if (data.user) {\n                    setCurrentUser(data.user)\n                    checkIfAdmin(data.user)\n                }\n            }\n            getUserProfile()\n        }\n    }, [token])\n\n    return (\n        <AuthContext.Provider\n            value={{\n                token,\n                currentUser,\n                isAdmin,\n                logIn,\n                logOut,\n                register,\n                handleResetPassword,\n                handleCreatingNewPassword\n            }}\n        >\n            {children}\n        </AuthContext.Provider>\n    )\n}\n\nexport default AuthProvider"],"sourceRoot":""}