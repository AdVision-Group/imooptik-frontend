{"version":3,"sources":["sections/post/post.styles.jsx","sections/post/post.section.jsx","context/blog/blog.queries.jsx","context/blog/blog.context.jsx","hooks/slug.jsx"],"names":["Header","styled","div","paddingStyles","GridContainer","Container","PostImage","hasImage","DeleteButton","CustomButtom","AddButton","Title","h2","ContentTextare","ReactQuill","CustomUndo","viewBox","className","points","d","CustomRedo","Size","Quill","import","whitelist","register","Font","modules","toolbar","container","handlers","undo","this","quill","history","redo","delay","maxStack","userOnly","formats","QuillToolbar","id","defaultValue","value","PostSection","getSlug","useSlug","useParams","push","useHistory","useContext","BlogContext","createPost","isLoading","message","showLoading","setIsLoading","getPost","post","resetBlog","updatePost","closeModal","LoadingModalContext","ImageContext","selectedImage","setSelectedImage","useState","title","setTitle","description","setDescription","content","setContent","image","setImage","draft","toggleDraft","showImageModal","setImageModal","isUpdating","setIsUpdating","useEffect","name","html","_id","onSubmit","e","preventDefault","length","postObj","link","data","console","log","loading","close","label","isActive","handleClick","prevValue","type","handleChange","target","required","rows","onClick","src","process","imagePath","alt","onChange","fetchSinglePost","fetch","deletePost","token","myHeaders","Headers","append","requestOptions","method","headers","redirect","createContext","posts","postsCount","getPosts","handlePostDelete","BlogProvider","children","AuthContext","getMessage","setShowModal","setPosts","setPost","setPostsCount","a","response","json","blogs","count","blog","callback","raw","JSON","stringify","body","messageSK","blogId","postResponse","postData","Provider","string","b","p","RegExp","split","join","slug","setSlug","toString","toLowerCase","replace","c","charAt","indexOf","s"],"mappings":"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","file":"static/js/19.aadc15a8.chunk.js","sourcesContent":["import styled from 'styled-components'\nimport { paddingStyles } from '../../global.styles'\nimport CustomButtom from '../../components/custom-button/custom-button.component'\nimport ReactQuill from 'react-quill';\n\n\nexport const Header = styled.div`\n    ${paddingStyles}\n    padding-top: 3rem;\n    padding-bottom: 3rem;\n    color: var(--primary-text-color);\n`\n\nexport const GridContainer = styled.div`\n    display: grid;\n    align-items: start;\n    grid-template-columns: 1fr 1fr;\n    grid-gap: 2rem;\n    height: inherit;\n    height: 100%;\n\n        @media all and (max-width: 800px) {\n            grid-template-columns: 1fr ;\n        }\n\n`\n\nexport const Container = styled.div`\n    padding: 2rem;\n    background-color: var(--container-background-color);\n    box-shadow: var(--container-shadow);\n`\n\nexport const PostImage = styled.div`\n    cursor: pointer;\n    display:flex;\n    align-items: center;\n    justify-content:center;\n    width: 100%;\n    background-color: ${({ hasImage }) => hasImage ? \"transparent\" : \"var(--input-background-color)\"};\n    margin-top: 3rem;\n    padding: 6rem;\n\n    position: relative;\n\n    img {\n        position: absolute;\n        width: 100%;\n        /* height: 100%; */\n        max-height: 40rem;\n        left: 0;\n        top: 0;\n        object-fit: cover;\n        object-position: center;\n\n    }\n`\n\nexport const DeleteButton = styled(CustomButtom)`\n    font-size: 1.4rem;\n    margin: 0 2rem;\n    background-color: var(--color-red);\n\n    @media all and (max-width: 500px) {\n        margin: 0 .8rem;\n    }\n`\nexport const AddButton = styled(CustomButtom)`\n    font-size: 1.4rem;\n`\n\nexport const Title = styled.h2`\n    margin-bottom: 2rem;\n`\n\nexport const ContentTextare = styled(ReactQuill)`\n    height: 50rem;\n    background-color: var(--input-background-color);\n    color: var(--input-color);\n    \n    .ql-container, .ql-toolbar {\n        border: none;\n    }\n`\n","import React, { useState, useContext, useEffect } from 'react'\nimport { BlogContext } from '../../context/blog/blog.context'\nimport { ImageContext } from '../../context/image/image.context'\nimport { LoadingModalContext } from '../../context/loading-modal/loading-modal.contenxt'\nimport { useParams, useHistory } from 'react-router-dom'\nimport {useSlug} from '../../hooks/slug'\n\nimport ScrollContainer from '../../components/scroll-container/scroll-container.component'\nimport CustomInput from '../../components/custom-input/custom-input.component'\nimport CustomTextarea from '../../components/custom-textarea/custom-textarea.component'\nimport CustomCheckbox from '../../components/custom-checkbox/custom-checkbox.component'\nimport Popup from '../../components/popup/pop-up.component'\nimport ModalImage from '../../components/modal-images/modal-images.component'\nimport { Quill } from 'react-quill'\n\nimport {\n    FixedContainer\n} from '../../global.styles'\n\n\nimport {\n    Header,\n    GridContainer,\n    PostImage,\n    DeleteButton,\n    AddButton,\n    Title,\n    ContentTextare,\n    Container,\n} from './post.styles'\n\nconst PostSection = () => {\n    const {getSlug} = useSlug()\n    const { id } = useParams()\n    const { push } = useHistory()\n    const {\n        createPost,\n        isLoading,\n        message,\n        showLoading,\n        setIsLoading,\n        getPost,\n        post,\n        resetBlog,\n        updatePost\n    } = useContext(BlogContext)\n    const { closeModal } = useContext(LoadingModalContext)\n    const { selectedImage, setSelectedImage } = useContext(ImageContext)\n    const [title, setTitle] = useState('')\n    const [description, setDescription] = useState('')\n    const [content, setContent] = useState('')\n    const [image, setImage] = useState('')\n    const [draft, toggleDraft] = useState(false)\n    const [showImageModal, setImageModal] = useState(false)\n    const [isUpdating, setIsUpdating] = useState(false)\n\n    const handleSubmit = e => {\n        e.preventDefault()\n\n        if (image.length <= 0) return\n        if (content.length <= 0) return\n\n        const postObj = {\n            name: title,\n            description: description,\n            draft: draft,\n            html: content,\n            image: image,\n            link: getSlug(title)\n        }\n\n        if (id === 'novy-prispevok') {\n            createPost(postObj, (data) => {\n                console.log(\"CREATED NEW BLOG POST\")\n                console.log(data)\n            })\n        } else {\n            updatePost(postObj, id, (data) => {\n                console.log(\"UPDATED BLOG POST\")\n                console.log(data)\n            })\n        }\n\n        push('/dashboard/blog')\n\n    }\n\n    useEffect(() => {\n        setSelectedImage(null)\n\n        if (id !== 'novy-prispevok') {\n            getPost(id)\n            setIsUpdating(true)\n        }\n    }, [id])\n\n    useEffect(() => {\n        if (id !== 'novy-prispevok') {\n            if (post) {\n                setTitle(post.name)\n                setDescription(post.description)\n                setContent(post.html)\n                toggleDraft(post.draft)\n                if (post.image) {\n                    setImage(post.image._id)\n                    setSelectedImage(post.image)\n                }\n            }\n        }\n    }, [post])\n\n    useEffect(() => {\n        return () => {\n            closeModal()\n            resetBlog()\n            setTitle('')\n            setDescription('')\n            setContent('')\n            setImage('')\n            toggleDraft(false)\n            setImageModal(false)\n            setIsUpdating(false)\n        }\n    }, [])\n\n    return (\n        <form onSubmit={handleSubmit}>\n            {isLoading && <Popup loading={showLoading} title={message} close={() => setIsLoading(false)} />}\n            {showImageModal && <ModalImage close={() => setImageModal(false)} setImage={setImage} />}\n\n            <Header>\n                <FixedContainer>\n                    <div>\n                        <h1>Post</h1>\n                    </div>\n                    <div>\n                        <CustomCheckbox\n                            label='Draft'\n                            isActive={draft}\n                            handleClick={() => toggleDraft(prevValue => !prevValue)}\n                        />\n                        <DeleteButton>Vymazať</DeleteButton>\n                        <AddButton type='submit'>{isUpdating ? \"Upraviť príspevok\" : \"Pridať príspevok\"}</AddButton>\n                    </div>\n\n                </FixedContainer>\n            </Header>\n\n            <ScrollContainer>\n\n                <GridContainer>\n                    <Container>\n                        <h2>Informácia</h2>\n                        <CustomInput\n                            label=\"Nadpis\"\n                            type='text'\n                            name='title'\n                            value={title}\n                            handleChange={(e) => setTitle(e.target.value)}\n                            required\n                        />\n                        <CustomTextarea\n                            label=\"Popis\"\n                            name='description'\n                            rows='5'\n                            value={description}\n                            handleChange={(e) => setDescription(e.target.value)}\n                            required\n                        />\n                        <h2>Titulná fotka</h2>\n                        <PostImage onClick={() => setImageModal(true)} hasImage={selectedImage}>\n                            {!selectedImage && \"Vybrať obrázok\"}\n                            {selectedImage && <img src={`${process.env.REACT_APP_BACKEND_ENDPOINT}/uploads/${selectedImage.imagePath}`} alt={selectedImage.alt} />}\n                        </PostImage>\n                    </Container>\n                    <Container>\n                        <Title>Obsah</Title>\n                        <QuillToolbar />\n                        <ContentTextare\n                            value={content}\n                            onChange={setContent}\n                            modules={modules}\n                            formats={formats}\n                        />\n                    </Container>\n\n                </GridContainer>\n\n            </ScrollContainer>\n        </form>\n    )\n}\n\n\nconst CustomUndo = () => (\n    <svg viewBox=\"0 0 18 18\">\n        <polygon className=\"ql-fill ql-stroke\" points=\"6 10 4 12 2 10 6 10\" />\n        <path\n            className=\"ql-stroke\"\n            d=\"M8.09,13.91A4.6,4.6,0,0,0,9,14,5,5,0,1,0,4,9\"\n        />\n    </svg>\n);\n\n// Redo button icon component for Quill editor\nconst CustomRedo = () => (\n    <svg viewBox=\"0 0 18 18\">\n        <polygon className=\"ql-fill ql-stroke\" points=\"12 10 14 12 16 10 12 10\" />\n        <path\n            className=\"ql-stroke\"\n            d=\"M9.91,13.91A4.6,4.6,0,0,1,9,14a5,5,0,1,1,5-5\"\n        />\n    </svg>\n);\n\n// Undo and redo functions for Custom Toolbar\nfunction undoChange() {\n    this.quill.history.undo();\n}\nfunction redoChange() {\n    this.quill.history.redo();\n}\n\n// Add sizes to whitelist and register them\nconst Size = Quill.import(\"formats/size\");\nSize.whitelist = [\"extra-small\", \"small\", \"medium\", \"large\"];\nQuill.register(Size, true);\n\n// Add fonts to whitelist and register them\nconst Font = Quill.import(\"formats/font\");\nFont.whitelist = [\n    \"arial\",\n    \"comic-sans\",\n    \"courier-new\",\n    \"georgia\",\n    \"helvetica\",\n    \"lucida\"\n];\nQuill.register(Font, true);\n\n// Modules object for setting up the Quill editor\nconst modules = {\n    toolbar: {\n        container: \"#toolbar\",\n        handlers: {\n            undo: undoChange,\n            redo: redoChange\n        }\n    },\n    history: {\n        delay: 500,\n        maxStack: 100,\n        userOnly: true\n    }\n};\n\n// Formats objects for setting up the Quill editor\nconst formats = [\n    \"header\",\n    \"font\",\n    \"size\",\n    \"bold\",\n    \"italic\",\n    \"underline\",\n    \"align\",\n    \"strike\",\n    \"script\",\n    \"blockquote\",\n    \"background\",\n    \"list\",\n    \"bullet\",\n    \"indent\",\n    \"link\",\n    \"image\",\n    \"color\",\n    \"code-block\"\n];\n\n// Quill Toolbar component\nconst QuillToolbar = () => (\n    <div id=\"toolbar\" className=\"toolbar\">\n        <span className=\"ql-formats\">\n            <select className=\"ql-size\" defaultValue=\"medium\">\n                <option value=\"extra-small\">Size 1</option>\n                <option value=\"small\">Size 2</option>\n                <option value=\"medium\">Size 3</option>\n                <option value=\"large\">Size 4</option>\n            </select>\n            <select className=\"ql-header\" defaultValue=\"3\">\n                <option value=\"1\">Heading</option>\n                <option value=\"2\">Subheading</option>\n                <option value=\"3\">Normal</option>\n            </select>\n        </span>\n        <span className=\"ql-formats\">\n            <button className=\"ql-bold\" />\n            <button className=\"ql-italic\" />\n            <button className=\"ql-underline\" />\n            <button className=\"ql-strike\" />\n        </span>\n        <span className=\"ql-formats\">\n            <button className=\"ql-list\" value=\"ordered\" />\n            <button className=\"ql-list\" value=\"bullet\" />\n            <button className=\"ql-indent\" value=\"-1\" />\n            <button className=\"ql-indent\" value=\"+1\" />\n        </span>\n        <span className=\"ql-formats\">\n            <button className=\"ql-script\" value=\"super\" />\n            <button className=\"ql-script\" value=\"sub\" />\n            <button className=\"ql-blockquote\" />\n            <button className=\"ql-direction\" />\n        </span>\n        <span className=\"ql-formats\">\n            <select className=\"ql-align\" />\n            <select className=\"ql-color\" />\n            <select className=\"ql-background\" />\n        </span>\n        <span className=\"ql-formats\">\n            <button className=\"ql-link\" />\n            <button className=\"ql-image\" />\n            <button className=\"ql-video\" />\n        </span>\n        <span className=\"ql-formats\">\n            <button className=\"ql-formula\" />\n            <button className=\"ql-code-block\" />\n            <button className=\"ql-clean\" />\n        </span>\n        <span className=\"ql-formats\">\n            <button className=\"ql-undo\">\n                <CustomUndo />\n            </button>\n            <button className=\"ql-redo\">\n                <CustomRedo />\n            </button>\n        </span>\n    </div>\n);\n\n\nexport default PostSection\n","\n\nexport const fetchPosts = () => {\n    return fetch(`${process.env.REACT_APP_BACKEND_ENDPOINT}/api/blogs`)\n}\n\nexport const fetchSinglePost = (id) => {\n    return fetch(`${process.env.REACT_APP_BACKEND_ENDPOINT}/api/blogs/${id}`)\n}\n\nexport const createNewPost = (token, name, description, draft, html, img) => {\n    const myHeaders = new Headers();\n    myHeaders.append(\"auth-token\", token);\n    myHeaders.append(\"Content-Type\", \"application/json\");\n\n    const raw = JSON.stringify({ \"name\": name, \"description\": description, \"draft\": draft, \"html\": html, 'image': img });\n\n    const requestOptions = {\n        method: 'POST',\n        headers: myHeaders,\n        body: raw,\n        redirect: 'follow'\n    };\n\n    return fetch(`${process.env.REACT_APP_BACKEND_ENDPOINT}/api/admin/blogs`, requestOptions)\n}\n\nexport const updatePost = (token, name, description, draft, html, img, id) => {\n    const myHeaders = new Headers();\n    myHeaders.append(\"auth-token\", token);\n    myHeaders.append(\"Content-Type\", \"application/json\");\n\n    const raw = JSON.stringify({ \"name\": name, \"description\": description, \"draft\": draft, \"html\": html, 'image': img });\n\n    const requestOptions = {\n        method: 'PATCH',\n        headers: myHeaders,\n        body: raw,\n        redirect: 'follow'\n    };\n\n    return fetch(`${process.env.REACT_APP_BACKEND_ENDPOINT}/api/admin/blogs/${id}`, requestOptions)\n\n}\n\nexport const deletePost = (token, id) => {\n    const myHeaders = new Headers();\n    myHeaders.append(\"auth-token\", token);\n    myHeaders.append(\"Content-Type\", \"application/json\");\n\n\n    const requestOptions = {\n        method: 'DELETE',\n        headers: myHeaders,\n        redirect: 'follow'\n    };\n\n    return fetch(`${process.env.REACT_APP_BACKEND_ENDPOINT}/api/admin/blogs/${id}`, requestOptions)\n\n}\n\n","import React, { createContext, useState, useContext } from 'react'\nimport { AuthContext } from '../auth/auth.context'\nimport { LoadingModalContext } from '../loading-modal/loading-modal.contenxt'\nimport {\n    fetchPosts,\n    // createNewPost,\n    fetchSinglePost,\n    // updatePost,\n    deletePost,\n} from './blog.queries'\n\n\nexport const BlogContext = createContext({\n    posts: null,\n    post: null,\n    postsCount: 0,\n    getPosts: () => { },\n    createPost: () => { },\n    getPost: () => { },\n    updatePost: () => { },\n    handlePostDelete: () => { },\n    resetBlog: () => { }\n})\n\nconst BlogProvider = ({ children }) => {\n    const { token } = useContext(AuthContext)\n\n    const {\n        getMessage,\n        setIsLoading,\n        setShowModal\n    } = useContext(LoadingModalContext)\n\n    const [posts, setPosts] = useState(null)\n    const [post, setPost] = useState(null)\n    const [postsCount, setPostsCount] = useState(0)\n\n    const myHeaders = new Headers();\n    myHeaders.append(\"auth-token\", token);\n    myHeaders.append(\"Content-Type\", \"application/json\");\n\n    const getPosts = async () => {\n        setShowModal(true)\n        setIsLoading(true)\n\n        const response = await fetchPosts()\n        const data = await response.json()\n\n        setPosts(data.blogs)\n        setPostsCount(data.count)\n\n        setShowModal(false)\n        setIsLoading(false)\n    }\n\n    const getPost = async (id) => {\n        setShowModal(true)\n        setIsLoading(true)\n\n        try {\n\n            const response = await fetchSinglePost(id)\n            const data = await response.json()\n\n            if (data.blog) {\n                setPost(data.blog)\n                setIsLoading(false)\n                getMessage(data.message)\n                return\n            }\n\n            setIsLoading(false)\n            getMessage(data.message)\n            // setPosts(data.blogs)\n            // setPostsCount(data.count)\n        } catch (err) {\n            console.log(err)\n            getMessage(\"Nieco sa pokazilo\")\n            setIsLoading(false)\n        }\n\n\n        setShowModal(false)\n        setIsLoading(false)\n    }\n\n    const createPost = async (postObj, callback = () => {}) => {\n        setShowModal(true)\n        setIsLoading(true)\n\n        const raw = JSON.stringify(postObj);\n\n        const requestOptions = {\n            method: 'POST',\n            headers: myHeaders,\n            body: raw,\n            redirect: 'follow'\n        };\n    \n        try {\n            const response = await fetch(`${process.env.REACT_APP_BACKEND_ENDPOINT}/api/admin/blogs`, requestOptions)\n            const data = await response.json()\n            // const postResponse = await createNewPost(token, name, description, draft, html, img)\n            // const postData = await postResponse.json()\n\n            getMessage(data.messageSK)\n            setIsLoading(false)\n            callback(data)\n            getPosts()\n        } catch (err) {\n            console.log(err)\n            getMessage(\"Niečo sa pokazilo\")\n            setIsLoading(false)\n        }\n    }\n\n    const updatePost = async (postObj, blogId, callback = () => {}) => {\n        setShowModal(true)\n        setIsLoading(true)\n\n        const raw = JSON.stringify(postObj);\n\n        const requestOptions = {\n            method: 'PATCH',\n            headers: myHeaders,\n            body: raw,\n            redirect: 'follow'\n        };\n\n        try {\n            const response = await fetch(`${process.env.REACT_APP_BACKEND_ENDPOINT}/api/admin/blogs/${blogId}`, requestOptions)\n            const data = await response.json()\n            // const postResponse = await updatePost(token, name, description, draft, html, img, id)\n            // const postData = await postResponse.json()\n\n            getMessage(data.messageSK)\n            setIsLoading(false)\n            callback(data)\n            getPosts()\n        } catch (err) {\n            console.log(err)\n            getMessage(\"Niečo sa pokazilo\")\n            setIsLoading(false)\n        }\n    }\n\n    const handlePostDelete = async (id) => {\n        setShowModal(true)\n        setIsLoading(true)\n\n        try {\n            const postResponse = await deletePost(token, id)\n            const postData = await postResponse.json()\n\n            getMessage(postData.message)\n            setIsLoading(false)\n            getPosts()\n\n        } catch (err) {\n            console.log(err)\n            getMessage(\"Nieco sa pokazilo\")\n            setIsLoading(false)\n        }\n    }\n\n    const resetBlog = () => {\n        setPost(null)\n    }\n\n    return (\n        <BlogContext.Provider\n            value={{\n                posts,\n                post,\n                postsCount,\n                getPosts,\n                createPost,\n                getPost,\n                updatePost,\n                handlePostDelete,\n                resetBlog,\n            }}\n        >\n            {children}\n        </BlogContext.Provider>\n    )\n}\n\nexport default BlogProvider","import { useState, useEffect } from 'react'\n\nexport const useSlug = (string = '') => {\n    const a = 'àáâäæãåāăąçćčđďèéêëēėęěğǵḧîïíīįìłḿñńǹňôöòóœøōõőṕŕřßśšşșťțûüùúūǘůűųẃẍÿýžźż·/_,:;'\n    const b = 'aaaaaaaaaacccddeeeeeeeegghiiiiiilmnnnnoooooooooprrsssssttuuuuuuuuuwxyyzzz------'\n    const p = new RegExp(a.split('').join('|'), 'g')\n\n    const [slug, setSlug] = useState('')\n\n    const getSlug = (string) => {\n        return string.toString().toLowerCase()\n            .replace(/\\s+/g, '-') // Replace spaces with -\n            .replace(p, c => b.charAt(a.indexOf(c))) // Replace special characters\n            .replace(/&/g, '-and-') // Replace & with 'and'\n            .replace(/[^\\w\\-]+/g, '') // Remove all non-word characters\n            .replace(/\\-\\-+/g, '-') // Replace multiple - with single -\n            .replace(/^-+/, '') // Trim - from start of text\n            .replace(/-+$/, '') // Trim - from end of text\n    }\n\n    useEffect(() => {\n        const s = getSlug(string)\n        setSlug(s)\n\n    }, [string])\n\n    return { slug, getSlug }\n}"],"sourceRoot":""}