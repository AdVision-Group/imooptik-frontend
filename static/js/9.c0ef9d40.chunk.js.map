{"version":3,"sources":["components/order-product-overview/order-product-overview.styles.jsx","components/order-product-overview/order-product-overview.component.jsx","sections/order/order.styles.jsx","sections/order/sub-sections/eshop/eshop.sub-section.jsx","sections/order/sub-sections/lenses/lenses.sub-section.jsx","sections/order/sub-sections/diopters/diopters.seb-section.jsx","sections/order/sub-sections/summary/summary.sub-section.jsx","sections/order/order.section.jsx","components/scroll-container/scroll-container.styles.jsx","components/scroll-container/scroll-container.component.jsx","components/product-input-row/product-input-row.styles.jsx","components/product-input-row/product-input-row.component.jsx","context/user/user.queries.jsx","context/user/user.utils.jsx","context/user/user.context.jsx","components/custom-form-switch/custom-form-switch.styles.jsx","components/custom-form-switch/custom-form-switch.component.jsx"],"names":["ProductContainer","styled","div","ImageContainer","AddButton","CustomButton","RemoveButton","OrderProductOverview","product","handleClick","handleRemoveProduct","image","name","price","console","log","src","process","imagePath","alt","toFixed","onClick","Header","paddingStyles","SubmitOrderButton","Container","AddProductButton","SearchContainer","SearchButton","EshopSubSection","searchQuery","setSearchQuery","allProducts","Fragment","label","type","value","handleChange","e","target","required","map","idx","LensesSubSection","handleChangeStep","lenses","handleSelectLenses","DioptersSubSection","combinedProduct","diopters","toString","distance","cylinder","cylinderAxes","SummarySubSection","selectedProduct","selectedLenses","OrderSection","userId","useParams","useState","productsToOrder","setProductsToOrder","setAllProducts","setSelectedProduct","setSelectedLenses","lens","setCombinedProduct","steps","selectedPayment","setSelectedPayment","activeStep","setActiveStep","useContext","LoadingModalContext","closeModal","isLoading","showModal","message","UserContext","user","getUser","WarehouseContext","getProducts","getLenses","products","lensesArr","productToRemove","preventDefault","filter","index","useEffect","fuse","Fuse","keys","results","search","length","result","item","_id","loading","title","close","example","items","activeIndex","productToAdd","lensesToAdd","ScrollContainer","children","InputRow","ProductInputRow","otherprops","fetchUsers","token","myHeaders","Headers","append","requestOptions","method","headers","redirect","fetch","fetchUser","id","patchUser","address","admin","city","country","email","phone","psc","premises","body","JSON","stringify","undefined","Number","postUser","postAdmin","password","initUserObj","boughtProducts","date","finishedRegistration","orders","tempUser","totalSpent","watchList","fName","lName","confirmPassword","createContext","isUpdating","handleChangeFilterItem","filterItems","totalCount","users","getUsers","handleDioptersChange","handleDistanceChange","handleCylinderChange","handleCylinderAxesChange","updateUser","resetUser","formToShow","switchFormButtons","toggleUserForm","createUser","UserProvider","push","useHistory","AuthContext","getMessage","setIsLoading","setShowModal","setUser","setUsers","setTotalCount","setIsUpdating","setActiveIndex","setFormToShow","a","response","json","data","count","split","error","Provider","itemIndex","arr","Title","h3","ToggleOptionsContainer","ToggleFormButton","isActive","CustomFormSwitch"],"mappings":"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","file":"static/js/9.c0ef9d40.chunk.js","sourcesContent":["import styled from 'styled-components'\nimport CustomButton from '../custom-button/custom-button.component'\n\nexport const ProductContainer = styled.div`\n    padding: 2rem;\n    width: 30rem;\n    display: grid;\n\n    grid-template-columns: 10rem 1fr;\n    grid-template-rows: repeat(3, auto);\n    align-items: start;\n\n    grid-template-areas:    \"i i\"\n                            \"t t\"\n                            \"p b\";\n\n    border-radius: .5rem;\n    box-shadow: 0 0 1.5rem 0 rgba(0,0,0, 0.08);\n\n    div {\n        grid-area: i;\n        justify-self: start;\n        height: 20rem;\n    }\n\n    h3 {\n        grid-area: t;\n    }\n\n    p {\n        grid-area: p;\n        justify-self: start;\n        font-size: 2.2rem;\n    }\n\n    button {\n        grid-area: b;\n        justify-self: end;\n\n    }\n`\n\nexport const ImageContainer = styled.div`\n    width: 100%;\n    /* height:20rem; */\n    \n\n    img {\n        width: 100%;\n        height: 100%;\n        object-fit: contain;\n        object-position: start;\n    }  \n`\n\nexport const AddButton = styled(CustomButton)`\n    font-size: 1.2rem;\n`\nexport const RemoveButton = styled(CustomButton)`\n    font-size: 1.2rem;\n    background-color: #DD4C4C;\n`","import React from 'react'\n\nimport {\n    ProductContainer,\n    ImageContainer,\n    AddButton,\n    RemoveButton\n} from './order-product-overview.styles'\n\nconst OrderProductOverview = ({ product, handleClick, handleRemoveProduct }) => {\n    const { image, name, price } = product\n    console.log(product)\n\n    return (\n        <ProductContainer>\n            <ImageContainer>\n                {image && <img src={`${process.env.REACT_APP_BACKEND_ENDPOINT}/uploads/${image.imagePath}`} alt={image.alt} />}\n            </ImageContainer>\n\n            <h3>{name}</h3>\n\n            <p>{(price / 100).toFixed(2)}€</p>\n\n            {handleClick && <AddButton onClick={handleClick}>Vybrať</AddButton>}\n            {handleRemoveProduct && <RemoveButton onClick={handleRemoveProduct}>Odstrániť</RemoveButton>}\n        </ProductContainer>\n    )\n}\n\nexport default OrderProductOverview\n","import styled from \"styled-components\"\nimport { paddingStyles } from '../../global.styles'\n\nimport CustomButton from \"../../components/custom-button/custom-button.component\"\n\nexport const Header = styled.div`\n    display: flex;\n    justify-content: space-between;\n\n    ${paddingStyles}\n    padding-top: 3rem;\n    padding-bottom: 3rem;\n\n    @media all and (max-width: 800px) {\n        flex-wrap: wrap;\n\n        div:nth-child(2) {\n            margin-bottom: 2rem;\n        }\n    }\n`\n\nexport const SubmitOrderButton = styled(CustomButton)`\n\n`\n\nexport const Container = styled.div`\n    margin-bottom: 3rem;\n`\n\nexport const ProductContainer = styled.div`\n    --gap: 2rem;\n    display: flex;\n    flex-wrap: wrap;\n    margin: calc(-1 * var(--gap)) 2rem 2rem calc(-1 * var(--gap));\n    width: calc(100% + var(--gap));\n\n    & > * {\n    margin: var(--gap) 2rem 2rem var(--gap);\n\n}\n\n\n`\n\nexport const AddProductButton = styled(CustomButton)`\n    font-size: 1.2rem;\n`\n\nexport const SearchContainer = styled.div`\n    display: flex;\n    align-items: flex-end;\n\n    margin-bottom: 3rem;\n`\n\nexport const SearchButton = styled(CustomButton)`\n\n`\n\nexport const BackButton = styled.div`\n\n`","import React from 'react'\n\nimport OrderProductOverview from '../../../../components/order-product-overview/order-product-overview.component'\nimport CustomInput from '../../../../components/custom-input/custom-input.component'\n\nimport {\n    SearchContainer,\n    SearchButton,\n    ProductContainer\n} from '../../order.styles'\n\nconst EshopSubSection = ({ searchQuery, setSearchQuery, allProducts, handleClick }) => {\n    return (\n        <React.Fragment>\n            <h2>E-shop</h2>\n\n            <SearchContainer>\n                <div>\n                    <CustomInput\n                        label=\"Vyhľadať produkt\"\n                        type='search'\n                        name='search'\n                        value={searchQuery}\n                        handleChange={(e) => setSearchQuery(e.target.value)}\n                        required\n                    />\n                </div>\n                <SearchButton>Hľadať</SearchButton>\n\n            </SearchContainer>\n            <ProductContainer>\n                {\n                    allProducts.map((product, idx) => (\n                        <OrderProductOverview key={idx} product={product} handleClick={(e) => handleClick(e, product)} />\n                    ))\n                }\n            </ProductContainer>\n        </React.Fragment>\n    )\n}\n\nexport default EshopSubSection\n","import React from 'react'\n\nimport OrderProductOverview from '../../../../components/order-product-overview/order-product-overview.component'\n\nimport {\n    ProductContainer\n} from '../../order.styles'\n\nconst LensesSubSection = ({ handleChangeStep, lenses, handleSelectLenses }) => {\n    return (\n        <React.Fragment>\n            <button onClick={() => handleChangeStep(0)}>Back</button>\n            <h1>LENSES PRODUCTS</h1>\n\n            <ProductContainer>\n                {\n                    lenses.map((product, idx) => (\n                        <OrderProductOverview key={idx} product={product} handleClick={e => handleSelectLenses(e, product)} />\n                    ))\n                }\n            </ProductContainer>\n            <button onClick={() => handleChangeStep(2)}>Next</button>\n        </React.Fragment>\n    )\n}\n\nexport default LensesSubSection\n","import React from 'react'\n\nimport CustomInput from '../../../../components/custom-input/custom-input.component'\n\nconst DioptersSubSection = ({ handleChangeStep, combinedProduct }) => {\n    return (\n        <React.Fragment>\n            <button onClick={() => handleChangeStep(1)}>Back</button>\n\n            <div>\n                <div>\n                    <div>\n                        <h1>Dioptrie</h1>\n                    </div>\n                    <div>\n                        <CustomInput\n                            label=\"Ľavé oko\"\n                            type='text'\n                            name='city'\n                            value={combinedProduct.lenses.diopters[0].toString()}\n                        // handleChange={(e) => handleDioptersChange(e, 0)}\n                        />\n                    </div>\n                    <div>\n                        <CustomInput\n                            label=\"Pravé oko\"\n                            type='text'\n                            name='state'\n                            value={combinedProduct.lenses.diopters[1].toString()}\n                        // handleChange={(e) => handleDioptersChange(e, 1)}\n                        />\n                    </div>\n                </div>\n\n                <div>\n                    <div>\n                        <h1>Vzdialenosť</h1>\n                    </div>\n                    <div>\n                        <CustomInput\n                            label=\"Ľavé oko\"\n                            type='text'\n                            name='city'\n                            value={combinedProduct.lenses.distance[0].toString()}\n                        // handleChange={(e) => handleDistanceChange(e, 0)}\n                        />\n                    </div>\n                    <div>\n                        <CustomInput\n                            label=\"Pravé oko\"\n                            type='text'\n                            name='state'\n                            value={combinedProduct.lenses.distance[1].toString()}\n                        // handleChange={(e) => handleDistanceChange(e, 1)}\n                        />\n                    </div>\n                </div>\n\n                <div>\n                    <div>\n                        <h1>Cylinder</h1>\n                    </div>\n                    <div>\n                        <CustomInput\n                            label=\"Ľavé oko\"\n                            type='text'\n                            name='city'\n                            value={combinedProduct.lenses.cylinder[0].toString()}\n                        // handleChange={(e) => handleCylinderChange(e, 0)}\n                        />\n                    </div>\n                    <div>\n                        <CustomInput\n                            label=\"Pravé oko\"\n                            type='text'\n                            name='state'\n                            value={combinedProduct.lenses.cylinder[1].toString()}\n                        // handleChange={(e) => handleCylinderChange(e, 1)}\n                        />\n                    </div>\n                </div>\n\n                <div>\n                    <div>\n                        <h1>Os cylindrov</h1>\n                    </div>\n                    <div>\n                        <CustomInput\n                            label=\"Ľavé oko\"\n                            type='text'\n                            name='city'\n                            value={combinedProduct.lenses.cylinderAxes[0].toString()}\n                        // handleChange={(e) => handleCylinderAxesChange(e, 0)}\n                        />\n                    </div>\n                    <div>\n                        <CustomInput\n                            label=\"Pravé oko\"\n                            type='text'\n                            name='state'\n                            value={combinedProduct.lenses.cylinderAxes[1].toString()}\n                        // handleChange={(e) => handleCylinderAxesChange(e, 1)}\n                        />\n                    </div>\n                </div>\n            </div>\n\n            <button onClick={() => handleChangeStep(3)}>Next</button>\n        </React.Fragment>\n    )\n}\n\nexport default DioptersSubSection\n","import React from 'react'\n\nimport OrderProductOverview from '../../../../components/order-product-overview/order-product-overview.component'\n\nimport {\n    AddProductButton\n} from '../../order.styles'\n\nconst SummarySubSection = ({ handleChangeStep, selectedProduct, selectedLenses, combinedProduct, handleRemoveProduct }) => {\n    return (\n        <React.Fragment>\n            <button onClick={() => handleChangeStep(2)}>Back</button>\n            <h1>Summary</h1>\n            <h2>Produkt</h2>\n            <OrderProductOverview product={selectedProduct} handleRemoveProduct={(e) => handleRemoveProduct(e, selectedProduct)} />\n            <h2>Šošovky</h2>\n            <OrderProductOverview product={selectedLenses} handleRemoveProduct={(e) => handleRemoveProduct(e, selectedLenses)} />\n            <h2>Parametre</h2>\n            <div>\n                <h3>Dioptrie</h3>\n                <div>\n                    <p>Ľave oko</p>\n                    <p>{combinedProduct.lenses.diopters[0]}</p>\n                </div>\n                <div>\n                    <p>Pravé oko</p>\n                    <p>{combinedProduct.lenses.diopters[0]}</p>\n                </div>\n            </div>\n            <div>\n                <h3>Vzdialenosť</h3>\n                <div>\n                    <p>Ľave oko</p>\n                    <p>{combinedProduct.lenses.distance[0]}</p>\n                </div>\n                <div>\n                    <p>Pravé oko</p>\n                    <p>{combinedProduct.lenses.distance[0]}</p>\n                </div>\n            </div>\n\n            <div>\n                <h3>Cylinder</h3>\n                <div>\n                    <p>Ľave oko</p>\n                    <p>{combinedProduct.lenses.cylinder[0]}</p>\n                </div>\n                <div>\n                    <p>Pravé oko</p>\n                    <p>{combinedProduct.lenses.cylinder[0]}</p>\n                </div>\n            </div>\n\n            <div>\n                <h3>Os cylindrov</h3>\n                <div>\n                    <p>Ľave oko</p>\n                    <p>{combinedProduct.lenses.cylinderAxes[0]}</p>\n                </div>\n                <div>\n                    <p>Pravé oko</p>\n                    <p>{combinedProduct.lenses.cylinderAxes[0]}</p>\n                </div>\n            </div>\n\n            <AddProductButton>Pridať</AddProductButton>\n        </React.Fragment>\n    )\n}\n\nexport default SummarySubSection\n","import React, { useContext, useState, useEffect } from 'react'\nimport { LoadingModalContext } from '../../context/loading-modal/loading-modal.contenxt'\nimport { UserContext } from '../../context/user/user.context'\nimport { WarehouseContext } from '../../context/warehouse/warehouse.context'\nimport { useParams } from 'react-router-dom'\n\nimport InputRow from '../../components/product-input-row/product-input-row.component'\nimport CustomInput from '../../components/custom-input/custom-input.component'\nimport CustomFormSwitch from '../../components/custom-form-switch/custom-form-switch.component'\nimport ScrollContainer from '../../components/scroll-container/scroll-container.component'\nimport OrderProductOverview from '../../components/order-product-overview/order-product-overview.component'\n\nimport Popup from \"../../components/popup/pop-up.component\"\n\nimport EshopSubSecton from './sub-sections/eshop/eshop.sub-section'\nimport LensesSubSection from './sub-sections/lenses/lenses.sub-section'\nimport DioptersSubSection from './sub-sections/diopters/diopters.seb-section'\nimport SummarySubSection from './sub-sections/summary/summary.sub-section'\n\nimport Fuse from 'fuse.js'\n\n\nimport {\n    Header,\n    SubmitOrderButton,\n    Container,\n    ProductContainer,\n    AddProductButton,\n    SearchContainer,\n    SearchButton,\n} from './order.styles'\n\nconst OrderSection = () => {\n    const { userId } = useParams()\n    const [searchQuery, setSearchQuery] = useState('')\n    const [productsToOrder, setProductsToOrder] = useState([])\n    const [allProducts, setAllProducts] = useState([])\n    const [selectedProduct, setSelectedProduct] = useState(null)\n    const [selectedLenses, setSelectedLenses] = useState(null)\n    const [combinedProduct, setCombinedProduct] = useState({\n        lenses: {\n            diopters: [\n                2,\n                2\n            ],\n            distance: [\n                0,\n                0\n            ],\n            cylinder: [\n                0,\n                0\n            ],\n            cylinderAxes: [\n                0,\n                0\n            ]\n        },\n        // \"_id\": \"5ff46112adf1801b447ff3cd\",\n        product: \"\",\n        lens: \"\",\n        price: 2220,\n        // \"__v\": 0\n    })\n\n    const steps = [\n        'eshop',\n        'lenses',\n        'diopters',\n        'summary'\n    ]\n\n    const paymentOptions = [\n        {\n            name: \"Hotovosť\"\n        },\n        {\n            name: \"Karta\"\n        },\n        {\n            name: \"Záloha\"\n        }\n    ]\n    const [selectedPayment, setSelectedPayment] = useState(0)\n\n    const [activeStep, setActiveStep] = useState('eshop')\n\n    const {\n        closeModal,\n        isLoading,\n        showModal,\n        message\n    } = useContext(LoadingModalContext)\n\n    const {\n        user,\n        getUser,\n        handleChange\n    } = useContext(UserContext)\n\n    const {\n        getProducts,\n        getLenses,\n        products,\n        lensesArr\n    } = useContext(WarehouseContext)\n\n    const handleChangeStep = (idx) => {\n        setActiveStep(steps[idx])\n    }\n\n    const handleChangePayment = (e, idx) => {\n        e.preventDefault()\n        setSelectedPayment(idx)\n    }\n\n    const handleClick = (e, productToAdd) => {\n        e.preventDefault()\n        // setProductsToOrder([\n        //     ...productsToOrder,\n        //     productToAdd\n        // ])\n        setSelectedProduct(productToAdd)\n        setCombinedProduct({\n            ...combinedProduct,\n            product: productToAdd._id\n        })\n        setActiveStep(steps[1])\n    }\n\n    const handleSelectLenses = (e, lensesToAdd) => {\n        console.log(lensesToAdd)\n        e.preventDefault()\n        setSelectedLenses(lensesToAdd)\n        setCombinedProduct({\n            ...combinedProduct,\n            lens: lensesToAdd._id\n        })\n        setActiveStep(steps[2])\n    }\n\n    const handleRemoveProduct = (e, productToRemove, idx) => {\n        e.preventDefault()\n        setProductsToOrder(productsToOrder.filter((product, index) => index !== idx))\n    }\n\n    useEffect(() => {\n        getUser(userId)\n        if (!products) {\n            getProducts()\n        }\n        if (!lensesArr) {\n            getLenses()\n        }\n    }, [])\n\n    useEffect(() => {\n        if (products) {\n            setAllProducts([\n                ...products,\n            ])\n        }\n    }, [products])\n\n    const fuse = new Fuse(allProducts, {\n        keys: [\n            'name',\n            'brand',\n            'description'\n        ]\n    })\n\n    useEffect(() => {\n        const results = fuse.search(searchQuery)\n        if (results.length > 0) {\n            setAllProducts(results.map(result => result.item))\n        }\n        if (!searchQuery) {\n            if (products) {\n                setAllProducts([\n                    ...products,\n                ])\n            }\n\n        }\n    }, [searchQuery])\n\n    if (!user._id || showModal) return <Popup loading={isLoading} title={message} close={closeModal} />\n\n    return (\n        <section>\n            <Header>\n                <div>\n                    <h1>Pridať objednávku</h1>\n                </div>\n                <div>\n                    <SubmitOrderButton>Pridať objednávku</SubmitOrderButton>\n                </div>\n            </Header>\n            <ScrollContainer>\n                <Container>\n                    <h2>Informácie o zákazníkovovi</h2>\n                    <InputRow\n                        label=\"Identifikačné číslo zákaznika\"\n                        example=''\n                    >\n                        <CustomInput\n                            label=\"ID zákaznika*\"\n                            type='text'\n                            name='id'\n                            value={user._id}\n                            handleChange={(e) => handleChange(e)}\n                            required\n                        />\n                    </InputRow>\n                    <InputRow\n                        label=\"Meno a priezvisko zákaznika\"\n                        example=''\n                    >\n                        <CustomInput\n                            label=\"Meno priezvisko*\"\n                            type='text'\n                            name='name'\n                            value={user.name}\n                            handleChange={(e) => handleChange(e)}\n                            required\n                        />\n                    </InputRow>\n                </Container>\n                <Container>\n                    <h2>Spôsob platby</h2>\n                    <CustomFormSwitch\n                        items={paymentOptions}\n                        title=\"\"\n                        activeIndex={selectedPayment}\n                        handleClick={handleChangePayment}\n                    />\n                </Container>\n                <Container>\n                    <SearchContainer>\n                        <h2>Objednávka</h2>\n                    </SearchContainer>\n                    <ProductContainer>\n                        {productsToOrder.length > 0 ? productsToOrder.map((product, idx) => (\n                            <OrderProductOverview key={idx} product={product} handleRemoveProduct={(e) => handleRemoveProduct(e, product, idx)} />\n                        )) : (\n                                <div>Žiadné produkty</div>\n                            )}\n                    </ProductContainer>\n                    <AddProductButton>Pridať produkt</AddProductButton>\n                </Container>\n\n\n                <Container>\n                    {activeStep === steps[0] ? (\n                        <EshopSubSecton\n                            searchQuery={searchQuery}\n                            setSearchQuery={setSearchQuery}\n                            allProducts={allProducts}\n                            handleClick={handleClick}\n                        />\n                    ) : activeStep === steps[1] ? (\n                        <LensesSubSection\n                            lenses={lensesArr}\n                            handleChangeStep={handleChangeStep}\n                            handleSelectLenses={handleSelectLenses}\n                        />\n                    ) : activeStep === steps[2] ? (\n                        <DioptersSubSection\n                            handleChangeStep={handleChangeStep}\n                            combinedProduct={combinedProduct}\n                        />\n                    ) : (\n                                    <SummarySubSection\n                                        handleRemoveProduct={handleRemoveProduct}\n                                        handleChangeStep={handleChangeStep}\n                                        selectedProduct={selectedProduct}\n                                        selectedLenses={selectedLenses}\n                                        combinedProduct={combinedProduct}\n                                    />\n                                )}\n\n                </Container>\n\n            </ScrollContainer>\n        </section>\n    )\n}\n\nexport default OrderSection\n","import styled from 'styled-components'\nimport { paddingStyles } from '../../global.styles'\n\nexport const Container = styled.div`\n    width: 100%;\n    height: 100%;\n    /* height: 100%; */\n    overflow-y: scroll;\n    overflow-x: visible;\n    scroll-behavior: smooth;\n    ${paddingStyles};\n    padding-top: 1.5rem;\n    padding-bottom: 1.5rem;\n\n    @media all and (max-width: 1150px) {\n        margin-bottom: 8rem;\n    }\n`","import React from 'react'\nimport { Container } from './scroll-container.styles'\n\nconst ScrollContainer = ({ children }) => {\n    return (\n        <Container>\n            {children}\n        </Container>\n    )\n}\n\nexport default ScrollContainer","import styled from 'styled-components'\n\nexport const InputRow = styled.div`\n    display:flex;\n    align-items: center;\n\n    p {\n        margin-top: 1.8rem;\n        margin-left: 2rem;\n            opacity: .75;\n\n        span {\n            font-weight: 700;\n        }\n    }\n\n    @media all and (max-width: 800px) {\n        flex-direction: column-reverse;\n        align-items: flex-start;\n\n        p {\n            margin-left: unset;\n        }\n    }\n`","import React from 'react'\n\nimport { InputRow } from './product-input-row.styles'\n\nconst ProductInputRow = ({ children, label, example, ...otherprops }) => {\n    return (\n        <InputRow {...otherprops}>\n            <div>\n                {children}\n            </div>\n            <div>\n                <p>{label + \" \"}<span>{example}</span></p>\n            </div>\n        </InputRow>\n    )\n}\n\nexport default ProductInputRow\n","\n\nexport const fetchUsers = (token) => {\n    const myHeaders = new Headers();\n    myHeaders.append(\"auth-token\", token);\n\n\n    const requestOptions = {\n        method: 'GET',\n        headers: myHeaders,\n        redirect: 'follow'\n    };\n\n    return fetch(`${process.env.REACT_APP_BACKEND_ENDPOINT}/api/admin/users`, requestOptions)\n\n}\n\nexport const fetchUser = (token, id) => {\n    const myHeaders = new Headers();\n    myHeaders.append(\"auth-token\", token);\n    myHeaders.append(\"Content-Type\", \"application/json\");\n\n\n    const requestOptions = {\n        method: 'GET',\n        headers: myHeaders,\n        redirect: 'follow'\n    };\n\n    return fetch(`${process.env.REACT_APP_BACKEND_ENDPOINT}/api/admin/users/${id}`, requestOptions)\n}\n\nexport const patchUser = (token, user) => {\n    const {\n        _id: id,\n        address,\n        admin,\n        city,\n        country,\n        email,\n        lenses: {\n            cylinder,\n            cylinderAxes,\n            diopters,\n            distance,\n        },\n        name,\n        phone,\n        psc,\n        premises\n    } = user\n\n    const myHeaders = new Headers();\n    myHeaders.append(\"auth-token\", token);\n    myHeaders.append(\"Content-Type\", \"application/json\");\n\n\n    const raw = JSON.stringify({\n        address: address || undefined,\n        admin: admin,\n        premises: Number(premises) === 0 ? undefined : premises,\n        city: city || undefined,\n        country: country || undefined,\n        email: email,\n        lenses: {\n            cylinder: cylinder,\n            cylinderAxes: cylinderAxes,\n            diopters: diopters,\n            distance: distance,\n        },\n        name: name,\n        phone: phone || undefined,\n        psc: psc || undefined,\n    })\n\n    const requestOptions = {\n        method: 'PATCH',\n        headers: myHeaders,\n        body: raw,\n        redirect: 'follow'\n    };\n\n    console.log(id)\n\n    return fetch(`${process.env.REACT_APP_BACKEND_ENDPOINT}/api/admin/users/${id}`, requestOptions)\n}\n\nexport const postUser = (token, user) => {\n    console.log(user)\n\n    const {\n        name,\n        email,\n    } = user\n\n\n    const myHeaders = new Headers();\n    myHeaders.append(\"auth-token\", token);\n    myHeaders.append(\"Content-Type\", \"application/json\");\n\n\n    const raw = JSON.stringify({\n        email: email,\n        name: name,\n    })\n\n    const requestOptions = {\n        method: 'POST',\n        headers: myHeaders,\n        body: raw,\n        redirect: 'follow'\n    };\n\n    return fetch(`${process.env.REACT_APP_BACKEND_ENDPOINT}/api/auth/register`, requestOptions)\n}\n\nexport const postAdmin = (token, user) => {\n    console.log(user)\n\n    const {\n        name,\n        email,\n        password,\n        premises,\n        admin\n    } = user\n\n    const myHeaders = new Headers();\n    myHeaders.append(\"auth-token\", token);\n    myHeaders.append(\"Content-Type\", \"application/json\");\n\n\n    const raw = JSON.stringify({\n        admin: Number(admin),\n        email: email,\n        name: name,\n        premises: Number(premises),\n        password\n    })\n\n    const requestOptions = {\n        method: 'POST',\n        headers: myHeaders,\n        body: raw,\n        redirect: 'follow'\n    };\n\n    return fetch(`${process.env.REACT_APP_BACKEND_ENDPOINT}/api/auth/register`, requestOptions)\n}","export const initUserObj = {\n    address: \"\",\n    admin: 0,\n    premises: 0,\n    boughtProducts: {},\n    city: \"\",\n    country: \"\",\n    date: \"\",\n    email: \"\",\n    finishedRegistration: false,\n    lenses: {\n        cylinder: [0, 0],\n        cylinderAxes: [0, 0],\n        diopters: [0, 0],\n        distance: [0, 0],\n    },\n    name: \"\",\n    orders: [],\n    phone: \"\",\n    psc: \"\",\n    tempUser: false,\n    totalSpent: 0,\n    watchList: [],\n    fName: \"\",\n    lName: \"\",\n    password: '',\n    confirmPassword: \"\"\n}","import React, { createContext, useState, useContext, useEffect } from 'react'\nimport { useHistory } from 'react-router-dom'\nimport { AuthContext } from '../auth/auth.context'\nimport { LoadingModalContext } from '../loading-modal/loading-modal.contenxt'\n\nimport {\n    fetchUsers,\n    fetchUser,\n    patchUser,\n    postAdmin,\n    postUser\n} from './user.queries'\n\nimport {\n    initUserObj\n} from './user.utils'\n\nexport const UserContext = createContext({\n    isUpdating: false,\n    activeIndex: 0,\n    handleChangeFilterItem: () => { },\n    filterItems: [],\n    totalCount: 0,\n    users: null,\n    user: null,\n    getUsers: () => { },\n    getUser: () => { },\n    handleChange: () => { },\n    handleDioptersChange: () => { },\n    handleDistanceChange: () => { },\n    handleCylinderChange: () => { },\n    handleCylinderAxesChange: () => { },\n    updateUser: () => { },\n    resetUser: () => { },\n    formToShow: 0,\n    switchFormButtons: [],\n    toggleUserForm: () => { },\n    createUser: () => { }\n})\n\nconst UserProvider = ({ children }) => {\n    const { push } = useHistory()\n    const { token } = useContext(AuthContext)\n    const {\n        closeModal,\n        getMessage,\n        setIsLoading,\n        setShowModal\n    } = useContext(LoadingModalContext)\n\n    // ------------------------\n\n    const [user, setUser] = useState(initUserObj)\n    const [users, setUsers] = useState(null)\n    const [totalCount, setTotalCount] = useState(0)\n\n    // ------------------------\n\n    const [isUpdating, setIsUpdating] = useState(false)\n    const [activeIndex, setActiveIndex] = useState(0)\n    const filterItems = [\n        {\n            id: 0,\n            name: \"Zákaznici\",\n            filter: 0,\n        },\n        {\n            id: 1,\n            name: \"Zamestnanci 1\",\n            filter: 1,\n        },\n        {\n            id: 2,\n            name: \"Zamestnanci 2\",\n            filter: 2,\n        },\n        {\n            id: 3,\n            name: \"Admin 3\",\n            filter: 3,\n        }\n    ]\n\n    // ------------------------\n\n    const [formToShow, setFormToShow] = useState(0)\n    const switchFormButtons = [\n        {\n            name: \"Zákazník\"\n        },\n        {\n            name: \"Admin\"\n        }\n    ]\n\n    const toggleUserForm = (e, idx) => {\n        e.preventDefault()\n        setFormToShow(idx)\n    }\n\n    // ------------------------\n\n\n    const handleChangeFilterItem = (itemIndex) => {\n        setActiveIndex(itemIndex)\n    }\n\n    const handleChange = (e) => {\n        const { name, value } = e.target\n        setUser({\n            ...user,\n            [name]: value\n        })\n    }\n\n    const handleDioptersChange = (e, idx) => {\n        let arr = user.lenses.diopters\n        arr[idx] = Number(e.target.value)\n        setUser({\n            ...user,\n            lenses: {\n                ...user.lenses,\n                diopters: arr\n            }\n        })\n    }\n\n    const handleDistanceChange = (e, idx) => {\n        let arr = user.lenses.distance\n        arr[idx] = Number(e.target.value)\n        setUser({\n            ...user,\n            lenses: {\n                ...user.lenses,\n                distance: arr\n            }\n        })\n    }\n\n    const handleCylinderChange = (e, idx) => {\n        let arr = user.lenses.cylinder\n        arr[idx] = Number(e.target.value)\n        setUser({\n            ...user,\n            lenses: {\n                ...user.lenses,\n                cylinder: arr\n            }\n        })\n    }\n\n\n    const handleCylinderAxesChange = (e, idx) => {\n        let arr = user.lenses.cylinderAxes\n        arr[idx] = Number(e.target.value)\n        setUser({\n            ...user,\n            lenses: {\n                ...user.lenses,\n                cylinderAxes: arr\n            }\n        })\n    }\n\n    useEffect(() => {\n        setUser({\n            ...user,\n            name: user.fName + \" \" + user.lName\n        })\n    }, [user.fName, user.lName])\n\n    const resetUser = () => {\n        setUser({\n            ...initUserObj\n        })\n        setIsUpdating(false)\n        setFormToShow(0)\n    }\n\n    // ------------------------\n    // USER ACTIONS\n    // ------------------------\n\n    // Get all users\n    const getUsers = async () => {\n        setIsLoading(true)\n        setShowModal(true)\n\n        try {\n            const response = await fetchUsers(token)\n            const data = await response.json()\n\n            console.log(data)\n            if (data.users) {\n                setUsers(data.users)\n                setTotalCount(data.count)\n                setIsLoading(false)\n                closeModal()\n\n            } else {\n                getMessage(data.message)\n                setIsLoading(false)\n            }\n        } catch (err) {\n            console.log(err)\n            getMessage(\"Nieco sa pokazilo\")\n            setIsLoading(false)\n        }\n    }\n\n\n    // Get single user\n    const getUser = async (id) => {\n        setIsLoading(true)\n        setShowModal(true)\n        setIsUpdating(true)\n\n        try {\n            const response = await fetchUser(token, id)\n            const data = await response.json()\n\n            if (data.user) {\n                setUser({\n                    ...user,\n                    ...data.user,\n                    lenses: {\n                        cylinder: data.user.lenses.cylinder.length ? data.user.lenses.cylinder : [0, 0],\n                        cylinderAxes: data.user.lenses.cylinderAxes.length ? data.user.lenses.cylinderAxes : [0, 0],\n                        diopters: data.user.lenses.diopters.length ? data.user.lenses.diopters : [0, 0],\n                        distance: data.user.lenses.distance.length ? data.user.lenses.distance : [0, 0],\n                    },\n                    fName: data.user.name ? data.user.name.split(\" \")[0] : \"\",\n                    lName: data.user.name ? data.user.name.split(\" \")[1] : \"\"\n                })\n                setIsLoading(false)\n                closeModal()\n\n            } else {\n                getMessage(data.message)\n                setIsLoading(false)\n            }\n        } catch (err) {\n            console.log(err)\n            getMessage(\"Nieco sa pokazilo\")\n            setIsLoading(false)\n        }\n    }\n\n    // Update user\n    const updateUser = async (user) => {\n        setIsLoading(true)\n        setShowModal(true)\n\n        console.log(user)\n\n        try {\n            const response = await patchUser(token, user)\n            const data = await response.json()\n\n            console.log(data)\n\n            if (data.error) {\n                setIsLoading(false)\n                getMessage(data.message)\n                return\n            }\n\n\n            setIsLoading(false)\n            closeModal()\n            push('/dashboard/zakaznici')\n            getUsers()\n            // http://localhost:1000/#/dashboard/zakaznici\n\n\n        } catch (err) {\n            console.log(err)\n            getMessage(\"Nieco sa pokazilo\")\n            setIsLoading(false)\n        }\n    }\n\n    const createUser = async (user) => {\n        setIsLoading(true)\n        setShowModal(true)\n\n        try {\n            if (formToShow === 0) {\n                const response = await postUser(token, user)\n                const data = await response.json()\n\n                console.log(data)\n\n                if (data.error) {\n                    getMessage(data.message)\n                    setIsLoading(false)\n                    return\n                }\n\n                setIsLoading(false)\n                getUsers()\n                push('/dashboard/zakaznici')\n                closeModal()\n\n            } else {\n                const response = await postAdmin(token, user)\n                const data = await response.json()\n\n                console.log(data)\n\n                if (data.error) {\n                    getMessage(data.message)\n                    setIsLoading(false)\n                    return\n                }\n\n                setIsLoading(false)\n                getUsers()\n                push('/dashboard/zakaznici')\n                closeModal()\n            }\n\n        } catch (err) {\n            console.log(err)\n            getMessage(\"Nieco sa pokazilo\")\n            setIsLoading(false)\n        }\n    }\n\n    return (\n        <UserContext.Provider\n            value={{\n                isUpdating,\n                activeIndex,\n                handleChangeFilterItem,\n                filterItems,\n                users,\n                user,\n                totalCount,\n                getUsers,\n                getUser,\n                handleChange,\n                handleDioptersChange,\n                handleDistanceChange,\n                handleCylinderChange,\n                handleCylinderAxesChange,\n                updateUser,\n                resetUser,\n                formToShow,\n                switchFormButtons,\n                toggleUserForm,\n                createUser\n            }}\n        >\n            {children}\n        </UserContext.Provider>\n    )\n}\n\nexport default UserProvider","import styled from 'styled-components'\nimport CustomButton from '../../components/custom-button/custom-button.component'\n\nexport const Title = styled.h3`\n    margin-top: 2rem;\n    /* margin-bottom: 2rem; */\n`\n\nexport const ToggleOptionsContainer = styled.div`\n    display: flex;\n    margin: 2rem 0;\n`\n\nexport const ToggleFormButton = styled(CustomButton)`\n    background-color: ${({ isActive }) => isActive ? \"rgb(235, 172, 1)\" : \"#000\"};\n    font-weight: 700;\n    margin-right: 2rem;\n`","import React from 'react'\n\nimport {\n    Title,\n    ToggleFormButton,\n    ToggleOptionsContainer\n} from './custom-form-switch.styles'\n\nconst CustomFormSwitch = ({ title, activeIndex, handleClick, items }) => {\n    return (\n        <React.Fragment>\n            <Title>{title}</Title>\n            <ToggleOptionsContainer>\n                {\n                    items.map((item, idx) => (\n                        <ToggleFormButton key={idx} isActive={activeIndex === idx} onClick={(e) => handleClick(e, idx)}>{item.name}</ToggleFormButton>\n                    ))\n                }\n            </ToggleOptionsContainer>\n        </React.Fragment>\n    )\n}\n\nexport default CustomFormSwitch\n"],"sourceRoot":""}