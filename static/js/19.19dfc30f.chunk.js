(this.webpackJsonpimooptik=this.webpackJsonpimooptik||[]).push([[19],{75:function(e,t,n){"use strict";n.r(t),n.d(t,"OrdersContext",(function(){return j}));var a=n(2),c=n(8),o=n.n(c),r=n(13),s=n(34),u=n(20),l=n(6),d=n(1),i=n(9),p=n(19),b={lenses:{diopters:[0,0],distance:[0,0],cylinder:[0,0],cylinderAxes:[0,0]},product:"",lens:"",price:2220},O=[{name:"Hotovos\u0165"},{name:"Karta"},{name:"Z\xe1loha"}],h=["eshop","lenses","diopters","summary"],f=function(e){var t=new Headers;t.append("auth-token",e);var n={method:"GET",headers:t,redirect:"follow"};return fetch("".concat("http://195.110.58.166:8080","/api/admin/orders"),n)},j=Object(d.createContext)({orders:null,getOrders:function(){},productsToOrder:[],selectedProduct:null,selectedLenses:null,combinedProduct:null,paymentOptions:[],deposit:0,setDeposit:function(){},steps:[],activeStep:"",handleChangeStep:function(){},selectedPayment:0,handleChangePayment:function(){},handleSelectProduct:function(){},handleSelectLenses:function(){},handleRemoveProduct:function(){},handleParameterChange:function(){}});t.default=function(e){var t=e.children,n=Object(d.useContext)(i.a).token,c=Object(d.useContext)(p.a),m=c.getMessage,v=c.setIsLoading,g=c.setShowModal,P=c.closeModal,S=Object(d.useState)(null),x=Object(l.a)(S,2),k=x[0],y=x[1],C=Object(d.useState)([]),w=Object(l.a)(C,2),D=w[0],L=w[1],M=Object(d.useState)(null),T=Object(l.a)(M,2),H=T[0],J=T[1],N=Object(d.useState)(null),R=Object(l.a)(N,2),_=R[0],z=R[1],A=Object(d.useState)(b),E=Object(l.a)(A,2),G=E[0],I=E[1],K=O,Z=h,q=Object(d.useState)(0),B=Object(l.a)(q,2),F=B[0],Q=B[1],U=Object(d.useState)("eshop"),V=Object(l.a)(U,2),W=V[0],X=V[1],Y=Object(d.useState)(0),$=Object(l.a)(Y,2),ee=$[0],te=$[1],ne=function(){var e=Object(r.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v(!0),g(!0),e.prev=2,e.next=5,f(n);case 5:return t=e.sent,e.next=8,t.json();case 8:if(!(a=e.sent).orders){e.next=13;break}return y(a.orders),P(),e.abrupt("return");case 13:m(a.message),v(!1),e.next=22;break;case 17:e.prev=17,e.t0=e.catch(2),console.log(e.t0),m("Nieco sa pokazilo"),v(!1);case 22:case"end":return e.stop()}}),e,null,[[2,17]])})));return function(){return e.apply(this,arguments)}}();return console.log("combinedProduct"),console.log(G),console.log("combinedProduct"),Object(a.jsx)(j.Provider,{value:{orders:k,getOrders:ne,productsToOrder:D,selectedProduct:H,selectedLenses:_,combinedProduct:G,paymentOptions:K,deposit:F,setDeposit:Q,steps:Z,activeStep:W,handleChangeStep:function(e){X(Z[e])},selectedPayment:ee,handleChangePayment:function(e,t){e.preventDefault(),te(t)},handleSelectProduct:function(e,t){e.preventDefault(),J(t),I(Object(u.a)(Object(u.a)({},G),{},{product:t._id})),X(Z[1])},handleSelectLenses:function(e,t){console.log(t),e.preventDefault(),z(t),I(Object(u.a)(Object(u.a)({},G),{},{lens:t._id})),X(Z[2])},handleRemoveProduct:function(e,t,n){e.preventDefault(),L(D.filter((function(e,t){return t!==n})))},handleParameterChange:function(e,t){var n=e.target,a=n.name,c=n.value,o=G.lenses[a];o[t]=Number(c),I(Object(u.a)(Object(u.a)({},G),{},{lenses:Object(u.a)(Object(u.a)({},G.lenses),{},Object(s.a)({},a,o))}))}},children:t})}}}]);
//# sourceMappingURL=19.19dfc30f.chunk.js.map