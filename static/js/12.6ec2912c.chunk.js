(this.webpackJsonpimooptik=this.webpackJsonpimooptik||[]).push([[12],{222:function(e,n,t){"use strict";t.r(n);var r=t(1),c=t(19),a=t(10),i=t(0),s=t.n(i),d=t(16),o=t(67),l=t(94),u=t(68),j=t(2),b=t(53),h=t(50),p=t(82),O=t(51),x=t(84),f=t(7),m=t(8),v=t(26);function g(){var e=Object(f.a)(["\n    margin-top: 2rem;\n    font-size: 1.2rem;\n"]);return g=function(){return e},e}function y(){var e=Object(f.a)(["\n    margin-bottom: 3rem;\n\n\n    img {\n        width: 100%;\n        height: 100%;\n        object-fit: contain;\n        object-position: start;\n    }  \n"]);return y=function(){return e},e}function k(){var e=Object(f.a)(["\n    background-color: #fff;\n    padding: 2rem;\n    width: 30rem;\n    border-radius: .5rem;\n    box-shadow: 0 0 1.5rem 0 rgba(0,0,0, 0.08);\n\n    display: flex;\n\n    flex-direction: column;\n    align-items: center;\n\n    h3 {\n        margin-bottom: 2rem;\n    }\n\n    p {\n        margin-bottom: 1rem;\n\n        &:nth-of-type(1) {\n            opacity: .63;\n        }\n    }\n\n    h4 {\n        font-size: 2rem;\n    }\n"]);return k=function(){return e},e}var C=m.c.div(k()),S=m.c.div(y()),w=Object(m.c)(v.a)(g()),P=function(e){var n=e.product,t=e.handleClick;console.log(n);var c=n.name,a=n.image,i=n.description,s=n.dioptersRange,d=n.cylinderRange,o=n.price;return Object(r.jsxs)(C,{children:[Object(r.jsx)("h3",{children:c}),Object(r.jsx)(S,{children:a&&Object(r.jsx)("img",{src:"".concat("http://195.110.58.166:8080","/uploads/").concat(a.imagePath),alt:a.alt})}),Object(r.jsx)("p",{children:i}),Object(r.jsxs)("p",{children:["Dioptrie od ",s[0]," do ",s[1]]}),Object(r.jsxs)("p",{children:["Cylinder od ",d[0]," do ",d[1]]}),Object(r.jsxs)("h4",{children:["+ ",(o/100).toFixed(2),"\u20ac"]}),t&&Object(r.jsx)(w,{onClick:t,children:"Vybra\u0165"})]})};function z(){var e=Object(f.a)(["\n    font-size: 1.2rem;\n    background-color: #DD4C4C;\n"]);return z=function(){return e},e}function U(){var e=Object(f.a)(["\n    font-size: 1.2rem;\n"]);return U=function(){return e},e}function A(){var e=Object(f.a)(["\n    width: 100%;\n    /* height:20rem; */\n    \n\n    img {\n        width: 100%;\n        height: 100%;\n        object-fit: contain;\n        object-position: start;\n    }  \n"]);return A=function(){return e},e}function D(){var e=Object(f.a)(['\n    background-color: #fff;\n    padding: 2rem;\n    width: 30rem;\n    border-radius: .5rem;\n    box-shadow: 0 0 1.5rem 0 rgba(0,0,0, 0.08);\n    display: grid;\n\n    grid-template-columns: 10rem 1fr;\n    grid-template-rows: repeat(3, auto);\n    align-items: start;\n\n    grid-template-areas:    "i i"\n                            "t t"\n                            "s s"\n                            "p b";\n\n\n\n    div {\n        grid-area: i;\n        justify-self: start;\n        height: 20rem;\n    }\n\n    h3 {\n        grid-area: t;\n    }\n\n    span {\n        grid-area: s;\n        font-size: 1.2rem;\n        color: gray;\n        margin-bottom: 1rem;\n    }\n\n    p {\n        grid-area: p;\n        justify-self: start;\n        font-size: 2.2rem;\n    }\n\n    button {\n        grid-area: b;\n        justify-self: end;\n\n    }\n']);return D=function(){return e},e}var E=m.c.div(D()),T=m.c.div(A()),L=Object(m.c)(v.a)(U()),N=Object(m.c)(v.a)(z()),F=function(e){var n=e.product,t=e.handleClick,c=e.handleRemoveProduct,a=n.image,i=n.name,s=n.price,d=n.eanCode;return Object(r.jsxs)(E,{children:[Object(r.jsx)(T,{children:a&&Object(r.jsx)("img",{src:"".concat("http://195.110.58.166:8080","/uploads/").concat(a.imagePath),alt:a.alt})}),Object(r.jsx)("h3",{children:i}),Object(r.jsx)("span",{children:d}),Object(r.jsxs)("p",{children:[(s/100).toFixed(2),"\u20ac"]}),t&&Object(r.jsx)(L,{onClick:t,children:"Vybra\u0165"}),c&&Object(r.jsx)(N,{onClick:c,children:"Odstr\xe1ni\u0165"})]})},I=t(69);function M(){var e=Object(f.a)(["\n    cursor: pointer;    \n    display: flex;\n    align-items: center;\n\n    padding: 1rem 1rem;\n    background-color: #000000;\n    color: #fff;\n    border:none;\n    border-radius: .5rem;\n    position: absolute;\n    right: 0 ;\n    top: 0;\n\n    div {\n        padding-left: .4rem;\n        display: flex;\n        align-items: center;\n        justify-content:center;\n    }\n    /* box-shadow: 0 0 1.5rem 0 rgba(0,0,0, 0.08); */\n\n"]);return M=function(){return e},e}function R(){var e=Object(f.a)(["\n    position: absolute;\n    /* background-color: #fff; */\n    right: -4rem;\n    top: -4rem;\n    padding: 2rem;\n\n    border-radius: .5rem;\n    /* box-shadow: 0 0 1.5rem 0 rgba(0,0,0, 0.08); */\n    z-index: 999;\n"]);return R=function(){return e},e}var H=m.c.div(R()),V=m.c.button(M()),_=function(e){var n=e.product,t=e.productType,c=e.closeModal,a="lens"===t?"lenses":"products",i=Object(x.a)("api/store/".concat(a,"/").concat(n[t])),s=i.response,d=i.isLoading;i.error;return d?Object(r.jsx)(H,{children:Object(r.jsx)("h1",{children:"Loading..."})}):s.lenses?Object(r.jsxs)(H,{children:[Object(r.jsxs)(V,{onClick:c,children:["Zatvori\u0165 ",Object(r.jsx)("div",{children:Object(r.jsx)(I.d,{})})]}),Object(r.jsx)(P,{product:s.lenses})]}):Object(r.jsxs)(H,{children:[Object(r.jsxs)(V,{onClick:c,children:["Zatvori\u0165 ",Object(r.jsx)("div",{children:Object(r.jsx)(I.d,{})})]}),Object(r.jsx)(F,{product:s.product})]})};function J(){var e=Object(f.a)(["\n    font-size: 1.2rem;\n    padding: .3rem 1.5rem;\n"]);return J=function(){return e},e}function Z(){var e=Object(f.a)(["\n    grid-area: d;\n    padding:  0 2rem 2rem;\n\n    --gap: .5rem;\n    display: flex;\n    /* flex-wrap: wrap; */\n    margin: calc(-1 * var(--gap)) 0 0 calc(-1 * var(--gap));\n    /* width: calc(100% + var(--gap)); */\n\n    & > * {\n        margin: var(--gap) 1rem 1rem var(--gap);\n    }\n"]);return Z=function(){return e},e}function q(){var e=Object(f.a)(["\n    grid-area: c;\n    justify-self: end;\n    text-align:end;\n    padding: 2rem;\n\n"]);return q=function(){return e},e}function B(){var e=Object(f.a)(["\n    grid-area: p;\n    padding: 2rem;\n\n    p {\n        cursor: pointer;\n\n        &:hover {\n            text-decoration: underline;\n        }\n    }\n\n"]);return B=function(){return e},e}function K(){var e=Object(f.a)(['\n    position: relative;\n    display: grid;\n    grid-template-columns: 1fr 1fr;\n    grid-template-rows: 1fr auto;\n\n    grid-template-areas:    "p c"\n                            "d d";\n    \n    \n    border-radius: .5rem;\n    box-shadow: 0 0 1.5rem 0 rgba(0,0,0, 0.08);\n']);return K=function(){return e},e}var Q=m.c.div(K()),G=m.c.div(B()),W=m.c.div(q()),X=m.c.div(Z()),Y=Object(m.c)(v.a)(J()),$=function(e){var n=e.product,t=e.handleRemoveProduct,c=Object(i.useState)(!1),s=Object(a.a)(c,2),d=s[0],o=s[1],l=Object(i.useState)(""),u=Object(a.a)(l,2),j=u[0],b=u[1],h=function(e,n){o(e),b(n)};return console.log(n),Object(r.jsxs)(Q,{children:[d&&Object(r.jsx)(_,{product:n,productType:j,closeModal:function(){o(!1),b("")}}),Object(r.jsxs)(G,{children:[Object(r.jsxs)("div",{children:[Object(r.jsx)("h3",{children:"ID produktu"}),Object(r.jsx)("p",{onClick:function(){return h(!0,"product")},children:n.product})]}),n.lens&&Object(r.jsxs)("div",{children:[Object(r.jsx)("h3",{children:"ID \u0161o\u0161oviek"}),Object(r.jsx)("p",{onClick:function(){return h(!0,"lens")},children:n.lens})]})]}),Object(r.jsxs)(W,{children:[Object(r.jsx)("div",{children:Object(r.jsx)(Y,{onClick:t,children:"Vymazat"})}),Object(r.jsxs)("div",{children:[Object(r.jsx)("h3",{children:"Cena"}),Object(r.jsxs)("p",{children:[(n.price/100).toFixed(2),"\u20ac"]})]})]}),n.lenses.diopters.length?Object(r.jsxs)(X,{children:[Object(r.jsxs)("div",{children:[Object(r.jsx)("h3",{children:"Parametre"}),Object(r.jsx)("div",{children:Object(r.jsx)("p",{children:"\u013dave oko"})}),Object(r.jsx)("div",{children:Object(r.jsx)("p",{children:"Prav\xe9 oko"})})]}),Object(r.jsxs)("div",{children:[Object(r.jsx)("h3",{children:"Dioptrie"}),Object(r.jsx)("div",{children:Object(r.jsx)("p",{children:n.lenses.diopters[0]})}),Object(r.jsx)("div",{children:Object(r.jsx)("p",{children:n.lenses.diopters[1]})})]}),Object(r.jsxs)("div",{children:[Object(r.jsx)("h3",{children:"Vzdialenos\u0165"}),Object(r.jsx)("div",{children:Object(r.jsx)("p",{children:n.lenses.distance[0]})}),Object(r.jsx)("div",{children:Object(r.jsx)("p",{children:n.lenses.distance[1]})})]}),Object(r.jsxs)("div",{children:[Object(r.jsx)("h3",{children:"Cylinder"}),Object(r.jsx)("div",{children:Object(r.jsx)("p",{children:n.lenses.cylinder[0]})}),Object(r.jsx)("div",{children:Object(r.jsx)("p",{children:n.lenses.cylinder[1]})})]}),Object(r.jsxs)("div",{children:[Object(r.jsx)("h3",{children:"Os cylindrov"}),Object(r.jsx)("div",{children:Object(r.jsx)("p",{children:n.lenses.cylinderAxes[0]})}),Object(r.jsx)("div",{children:Object(r.jsx)("p",{children:n.lenses.cylinderAxes[1]})})]})]}):null]})},ee=t(9),ne=t.n(ee),te=t(12),re=t(31),ce=t(18),ae=t.n(ce),ie=t(17),se=t(33);function de(){var e=Object(f.a)(["\n    width: 100%;\n    height: 100%;\n\n    position: fixed;\n    left: 0;\n    right: 0;\n    z-index: 99999;\n\n    border: none;\n    outline: none;\n    opacity: 0;\n\n    &:focus {\n        outline: none\n    }\n"]);return de=function(){return e},e}function oe(){var e=Object(f.a)(["\n    display: block;\n    margin: 3rem auto 0;\n"]);return oe=function(){return e},e}function le(){var e=Object(f.a)(["\n    text-align: center;\n"]);return le=function(){return e},e}function ue(){var e=Object(f.a)(["\n    width:100%;\n    max-width: 50rem;\n    max-height: 60rem;\n\n    /* overflow-y: scroll; */\n\n    /* display: flex;\n    flex-direction: column;\n    align-items: center; */\n\n    padding: 2rem;\n    border-radius: .5rem;\n    background-color: white;\n\n    position: relative;\n    z-index: 999999;\n\n"]);return ue=function(){return e},e}function je(){var e=Object(f.a)(["\n    position: fixed;\n    left: 0;\n    right: 0;\n    top: 0;\n    bottom: 0;\n    z-index: 99999;\n\n    display: flex;\n    align-items: center;\n    justify-content: center;\n\n    background-color: rgba(0,0,0,0.3);\n"]);return je=function(){return e},e}var be=m.c.div(je()),he=m.c.div(ue()),pe=m.c.h2(le()),Oe=Object(m.c)(v.a)(oe()),xe=m.c.button(de()),fe=function(e){var n=e.closeForm,t=e.id,s=(e.getUsers,e.selectedUser),d=e.setSelectedUser,o=Object(i.useContext)(ie.a).token,l=Object(i.useState)(!1),u=Object(a.a)(l,2),j=u[0],p=u[1],O=Object(i.useState)({address:s.address||"",psc:s.psc||"",city:s.city||"",country:s.country||"",phone:s.phone||""}),x=Object(a.a)(O,2),f=x[0],m=x[1],v=function(e){var n=e.target,t=n.name,r=n.value;m(Object(c.a)(Object(c.a)({},f),{},Object(re.a)({},t,r)))},g=function(){var e=Object(te.a)(ne.a.mark((function e(r){var a,i,s,l,u;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),p(!0),e.prev=2,(a=new Headers).append("auth-token",o),a.append("Content-Type","application/json"),i=JSON.stringify({address:f.address,city:f.city,country:f.country,psc:f.psc,phone:f.phone}),s={method:"PATCH",headers:a,body:i,redirect:"follow"},e.next=10,fetch("".concat("http://195.110.58.166:8080","/api/admin/users/").concat(t),s);case 10:return l=e.sent,e.next=13,l.json();case 13:u=e.sent,console.log(u),u.user&&(d(Object(c.a)({},u.user)),n()),p(!1),e.next=23;break;case 19:e.prev=19,e.t0=e.catch(2),console.log(e.t0),p(!1);case 23:case"end":return e.stop()}}),e,null,[[2,19]])})));return function(n){return e.apply(this,arguments)}}();return j?ae.a.createPortal(Object(r.jsx)(be,{children:Object(r.jsx)(he,{children:Object(r.jsx)(se.a,{})})}),document.getElementById("portal")):ae.a.createPortal(Object(r.jsxs)(be,{children:[Object(r.jsx)(xe,{onClick:n,children:"close"}),Object(r.jsxs)(he,{children:[Object(r.jsx)(pe,{children:"Upravi\u0165 adresu u\u017eivatela"}),Object(r.jsx)(b.a,{label:"",example:"napr: \u0160majdalfov\xe1 10",children:Object(r.jsx)(h.a,{label:"Ulica a \u010dislo domu",type:"text",name:"address",value:f.address,handleChange:function(e){return v(e)}})}),Object(r.jsx)(b.a,{label:"",example:"napr: 91501",children:Object(r.jsx)(h.a,{label:"PS\u010c",type:"text",name:"psc",value:f.psc,handleChange:function(e){return v(e)}})}),Object(r.jsx)(b.a,{label:"",example:"napr: Bratislava",children:Object(r.jsx)(h.a,{label:"Mesto",type:"text",name:"city",value:f.city,handleChange:function(e){return v(e)}})}),Object(r.jsx)(b.a,{label:"",example:"napr: Slovakia",children:Object(r.jsx)(h.a,{label:"Krajina",type:"text",name:"country",value:f.country,handleChange:function(e){return v(e)}})}),Object(r.jsx)(b.a,{label:"",example:"napr: 0912 345 567",children:Object(r.jsx)(h.a,{label:"Tel. \u010d\xedslo",type:"text",name:"phone",value:f.phone,handleChange:function(e){return v(e)}})}),Object(r.jsx)(Oe,{onClick:g,children:"Odosla\u0165"})]})]}),document.getElementById("portal"))},me=t(30),ve=t(27),ge=t(63);function ye(){var e=Object(f.a)(["\n    margin-top: 3rem;\n"]);return ye=function(){return e},e}function ke(){var e=Object(f.a)(["\n    \n    h3 {\n        margin-bottom: 2rem;\n    }\n\n    div {\n        margin-bottom: 1rem;\n        font-size: 1.8rem;\n        text-align: end;\n    }\n"]);return ke=function(){return e},e}function Ce(){var e=Object(f.a)(["\n    \n    h3 {\n        margin-bottom: 2rem;\n    }\n\n    div {\n        margin-bottom: 1rem;\n        font-size: 1.8rem;\n    }\n"]);return Ce=function(){return e},e}function Se(){var e=Object(f.a)(["\n    margin-top: 3rem;\n    margin-bottom: 3rem;\n\n"]);return Se=function(){return e},e}function we(){var e=Object(f.a)(["\n    --gap: 2rem;\n    display: flex;\n    flex-wrap: wrap;\n    margin: calc(-1 * var(--gap)) 2rem 2rem calc(-1 * var(--gap));\n    /* width: calc(100% + var(--gap)); */\n\n    & > * {\n        margin: var(--gap) 2rem 2rem var(--gap);\n    }\n"]);return we=function(){return e},e}function Pe(){var e=Object(f.a)(["\n    margin: 2rem 0;\n"]);return Pe=function(){return e},e}function ze(){var e=Object(f.a)(["\n    margin-bottom: 2rem;\n"]);return ze=function(){return e},e}function Ue(){var e=Object(f.a)(["\n    display: block;\n    margin-left: auto;\n"]);return Ue=function(){return e},e}function Ae(){var e=Object(f.a)(["\n    font-size: 1rem;\n"]);return Ae=function(){return e},e}function De(){var e=Object(f.a)(["\n\n"]);return De=function(){return e},e}function Ee(){var e=Object(f.a)(["\n    display: flex;\n    align-items: flex-end;\n\n    margin-bottom: 3rem;\n"]);return Ee=function(){return e},e}function Te(){var e=Object(f.a)(["\n    display: block;\n    margin-left: auto;\n"]);return Te=function(){return e},e}function Le(){var e=Object(f.a)(["\n    --gap: 2rem;\n    display: flex;\n    flex-wrap: wrap;\n    margin: calc(-1 * var(--gap)) 2rem 2rem calc(-1 * var(--gap));\n    width: calc(100% + var(--gap));\n\n    & > * {\n    margin: var(--gap) 2rem 2rem var(--gap);\n\n}\n\n\n"]);return Le=function(){return e},e}function Ne(){var e=Object(f.a)(["\n    position: absolute;\n    background-color: #fff;\n    padding: 2rem;\n    border-radius: .5rem;\n    box-shadow: 0 0 1.5rem 0 rgba(0,0,0, 0.08);\n    width: 35rem;\n    max-height: 40rem;\n    z-index: 999;\n    top: 18rem;\n    overflow-y: scroll;\n\n    div {\n        cursor: pointer;\n        padding: .5rem 1rem;\n        border-radius: .5rem;\n\n        transition: background-color .2s ease-out;\n        background-color: #f5f5f5;\n\n        &:hover {\n            background-color: lightgray;\n        }\n\n        p:nth-child(2) {\n            color: gray;\n        }\n\n        &:not(:last-child) {\n            margin-bottom: 2rem;\n        }\n    }\n"]);return Ne=function(){return e},e}function Fe(){var e=Object(f.a)(["\n    margin: 3rem 0;\n    position: relative;\n    width: 100%;\n"]);return Fe=function(){return e},e}function Ie(){var e=Object(f.a)(["\n\n"]);return Ie=function(){return e},e}function Me(){var e=Object(f.a)(["\n    display: flex;\n    justify-content: space-between;\n\n    ","\n    padding-top: 3rem;\n    padding-bottom: 3rem;\n\n    @media all and (max-width: 800px) {\n        flex-wrap: wrap;\n\n        div:nth-child(2) {\n            margin-bottom: 2rem;\n        }\n    }\n"]);return Me=function(){return e},e}var Re=m.c.div(Me(),ve.b),He=Object(m.c)(v.a)(Ie()),Ve=m.c.div(Fe()),_e=m.c.div(Ne()),Je=m.c.div(Le()),Ze=Object(m.c)(v.a)(Te()),qe=m.c.div(Ee()),Be=Object(m.c)(v.a)(De()),Ke=Object(m.c)(v.a)(Ae()),Qe=Object(m.c)(v.a)(Ue()),Ge=m.c.h2(ze()),We=m.c.h3(Pe()),Xe=m.c.div(we()),Ye=Object(m.c)(Xe)(Se()),$e=m.c.div(Ce()),en=m.c.div(ke()),nn=Object(m.c)(ge.a)(ye()),tn=function(e){var n=e.searchQuery,t=e.setSearchQuery,c=e.allProducts,a=e.handleClick;return Object(r.jsxs)(s.a.Fragment,{children:[Object(r.jsx)("h2",{children:"E-shop"}),Object(r.jsxs)(qe,{children:[Object(r.jsx)("div",{children:Object(r.jsx)(h.a,{label:"Vyh\u013eada\u0165 produkt",type:"search",name:"search",value:n,handleChange:function(e){return t(e.target.value)},required:!0})}),Object(r.jsx)(Be,{children:"H\u013eada\u0165"})]}),Object(r.jsx)(Je,{children:c.map((function(e,n){return Object(r.jsx)(F,{product:e,handleClick:function(n){return a(n,e)}},n)}))})]})},rn=t(220);function cn(){var e=Object(f.a)(["\n    cursor: pointer;\n    border: 4px solid #000;\n    border-radius: 50%;\n    padding: 1.2rem 1.2rem;\n    display: inline-flex;\n    align-items: center;\n    justify-content: center;\n    margin-bottom: 3rem;\n"]);return cn=function(){return e},e}var an=m.c.div(cn()),sn=function(e){var n=Object.assign({},e);return Object(r.jsx)(an,Object(c.a)(Object(c.a)({},n),{},{children:Object(r.jsx)(rn.a,{})}))},dn=function(e){var n=e.handleChangeStep,t=e.lenses,c=e.handleSelectLenses;return Object(r.jsxs)(s.a.Fragment,{children:[Object(r.jsx)(sn,{onClick:function(){return n(0)}}),Object(r.jsx)(Ge,{children:"LENSES PRODUCTS"}),Object(r.jsx)(Je,{children:t.map((function(e,n){return Object(r.jsx)(P,{product:e,handleClick:function(n){return c(n,e)}},n)}))}),Object(r.jsx)(Qe,{onClick:function(){return n(2)},children:"Next"})]})},on=t(96),ln=function(e){var n=e.handleChangeStep,t=e.combinedProduct,c=e.handleParameterChange;return Object(r.jsxs)(s.a.Fragment,{children:[Object(r.jsx)(sn,{onClick:function(){return n(1)}}),Object(r.jsx)(Ge,{children:"Parametre"}),Object(r.jsx)(on.a,{parameters:t.lenses,handleChange:c}),Object(r.jsx)(Qe,{onClick:function(){return n(3)},children:"Next"})]})},un=function(e){var n=e.handleChangeStep,t=e.selectedProduct,c=e.selectedLenses,a=e.combinedProduct,i=(e.handleRemoveProduct,e.createCombinedProduct);return Object(r.jsxs)(s.a.Fragment,{children:[Object(r.jsx)(sn,{onClick:function(){return n(c?2:0)}}),Object(r.jsx)(Ge,{children:"Preh\u013ead produktu"}),Object(r.jsx)(We,{children:"Produkt"}),t&&Object(r.jsx)(F,{product:t}),c&&Object(r.jsx)(We,{children:"\u0160o\u0161ovky"}),c&&Object(r.jsx)(P,{product:c}),5!==t.type&&4!==t.type&&Object(r.jsxs)(Ye,{children:[Object(r.jsxs)($e,{children:[Object(r.jsx)("h3",{children:"Parametre"}),Object(r.jsx)("div",{children:Object(r.jsx)("p",{children:"\u013dave oko -"})}),Object(r.jsx)("div",{children:Object(r.jsx)("p",{children:"Prav\xe9 oko -"})}),Object(r.jsx)("div",{children:Object(r.jsx)("p",{children:"\u013dave oko +"})}),Object(r.jsx)("div",{children:Object(r.jsx)("p",{children:"Prav\xe9 oko +"})})]}),Object(r.jsxs)(en,{children:[Object(r.jsx)("h3",{children:"Dioptrie"}),Object(r.jsx)("div",{children:Object(r.jsx)("p",{children:a.lenses.diopters[0]})}),Object(r.jsx)("div",{children:Object(r.jsx)("p",{children:a.lenses.diopters[1]})}),Object(r.jsx)("div",{children:Object(r.jsx)("p",{children:a.lenses.diopters[2]})}),Object(r.jsx)("div",{children:Object(r.jsx)("p",{children:a.lenses.diopters[3]})})]}),Object(r.jsxs)(en,{children:[Object(r.jsx)("h3",{children:"Cylinder"}),Object(r.jsx)("div",{children:Object(r.jsx)("p",{children:a.lenses.cylinder[0]})}),Object(r.jsx)("div",{children:Object(r.jsx)("p",{children:a.lenses.cylinder[1]})}),Object(r.jsx)("div",{children:Object(r.jsx)("p",{children:a.lenses.cylinder[2]})}),Object(r.jsx)("div",{children:Object(r.jsx)("p",{children:a.lenses.cylinder[3]})})]}),Object(r.jsxs)(en,{children:[Object(r.jsx)("h3",{children:"Os cylindrov"}),Object(r.jsx)("div",{children:Object(r.jsx)("p",{children:a.lenses.cylinderAxes[0]})}),Object(r.jsx)("div",{children:Object(r.jsx)("p",{children:a.lenses.cylinderAxes[1]})}),Object(r.jsx)("div",{children:Object(r.jsx)("p",{children:a.lenses.cylinderAxes[2]})}),Object(r.jsx)("div",{children:Object(r.jsx)("p",{children:a.lenses.cylinderAxes[3]})})]}),Object(r.jsxs)(en,{children:[Object(r.jsx)("h3",{children:"Prizma"}),Object(r.jsx)("div",{children:Object(r.jsx)("p",{children:a.lenses.prism[0]})}),Object(r.jsx)("div",{children:Object(r.jsx)("p",{children:a.lenses.prism[1]})}),Object(r.jsx)("div",{children:Object(r.jsx)("p",{children:a.lenses.prism[2]})}),Object(r.jsx)("div",{children:Object(r.jsx)("p",{children:a.lenses.prism[3]})})]}),Object(r.jsxs)(en,{children:[Object(r.jsx)("h3",{children:"Basis"}),Object(r.jsx)("div",{children:Object(r.jsx)("p",{children:a.lenses.basis[0]})}),Object(r.jsx)("div",{children:Object(r.jsx)("p",{children:a.lenses.basis[1]})}),Object(r.jsx)("div",{children:Object(r.jsx)("p",{children:a.lenses.basis[2]})}),Object(r.jsx)("div",{children:Object(r.jsx)("p",{children:a.lenses.basis[3]})})]}),Object(r.jsxs)(en,{children:[Object(r.jsx)("h3",{children:"Vrstva"}),Object(r.jsx)("div",{children:Object(r.jsx)("p",{children:a.lenses.addition[0]})}),Object(r.jsx)("div",{children:Object(r.jsx)("p",{children:a.lenses.addition[1]})}),Object(r.jsx)("div",{children:Object(r.jsx)("p",{children:a.lenses.addition[2]})}),Object(r.jsx)("div",{children:Object(r.jsx)("p",{children:a.lenses.addition[3]})})]}),Object(r.jsxs)(en,{children:[Object(r.jsx)("h3",{children:"P.D."}),Object(r.jsx)("div",{children:Object(r.jsx)("p",{children:a.lenses.distance[0]})}),Object(r.jsx)("div",{children:Object(r.jsx)("p",{children:a.lenses.distance[1]})}),Object(r.jsx)("div",{children:Object(r.jsx)("p",{children:a.lenses.distance[2]})}),Object(r.jsx)("div",{children:Object(r.jsx)("p",{children:a.lenses.distance[3]})})]})]}),Object(r.jsx)(Ze,{onClick:function(){return i(a)},children:"Prida\u0165 do objedn\xe1vky"})]})},jn=t(93),bn=t(55);n.default=function(){var e=Object(j.h)(),n=e.userId,t=e.orderId,s=Object(i.useState)(""),x=Object(a.a)(s,2),f=x[0],m=x[1],v=Object(i.useState)([]),g=Object(a.a)(v,2),y=g[0],k=g[1],C=Object(i.useState)(!1),S=Object(a.a)(C,2),w=S[0],P=S[1],z=Object(i.useState)([]),U=Object(a.a)(z,2),A=U[0],D=U[1],E=Object(i.useContext)(d.a),T=E.closeModal,L=E.isLoading,N=E.showModal,F=E.message,I=Object(i.useContext)(o.UserContext),M=I.users,R=I.user,H=I.getUser,V=I.getUsers,_=Object(i.useContext)(l.WarehouseContext),J=_.getProducts,Z=_.getLenses,q=_.products,B=_.lensesArr,K=Object(i.useContext)(u.OrdersContext),Q=K.selectedUser,G=K.setSelectedUser,W=K.hasAddress,X=K.isDifferentAddress,Y=K.setIsDifferentAddress,ee=K.overwrite,ne=K.coupon,te=K.setCoupon,re=K.handleOverwriteChange,ce=K.handleChangeSelectedUser,ae=K.handleSelectUser,ie=K.isSearchingUser,se=K.paymentOptions,de=K.steps,oe=K.activeStep,le=K.handleChangePayment,ue=K.handleChangeStep,je=K.selectedPayment,be=K.deposit,he=K.setDeposit,pe=K.handleSelectLenses,Oe=K.handleSelectProduct,xe=K.combinedProduct,ve=K.selectedLenses,ge=K.selectedProduct,ye=K.productsToOrder,ke=K.handleRemoveProduct,Ce=K.handleParameterChange,Se=K.createOrder,we=K.createCombinedProduct,Pe=K.getUserOrder,ze=K.resetOrder,Ue=K.isUpdating,Ae=K.status,De=K.orderPremises;return Object(i.useEffect)((function(){M||V()}),[M]),Object(i.useEffect)((function(){"nova-objednavka"!==n&&H(n),t&&Pe(t),q||J(),B||Z()}),[q,B]),Object(i.useEffect)((function(){"nova-objednavka"!==n&&R&&G(Object(c.a)({},R))}),[R]),Object(i.useEffect)((function(){if(M){var e=new jn.a(M,{keys:["name","email"]});k(e.search(Q.name))}}),[Q.name]),Object(i.useEffect)((function(){if(M){var e=new jn.a(M,{keys:["name","email"]});k(e.search(Q.email))}}),[Q.email]),Object(i.useEffect)((function(){if(f.length){var e=new jn.a(q,{keys:["name","brand","eanCode","description"]}).search(f);D(e.map((function(e){return Object(c.a)({},e.item)})))}}),[f]),Object(i.useEffect)((function(){return function(){ze()}}),[]),!N&&q&&B?Object(r.jsxs)("section",{children:[Object(r.jsxs)(Re,{children:[Object(r.jsx)("div",{children:Object(r.jsx)("h1",{children:Ue?"Preh\u013ead objedn\xe1vky":"Prida\u0165 objedn\xe1vku"})}),Object(r.jsx)("div",{children:!Ue&&Object(r.jsx)(He,{onClick:function(){return Se(Q,ye)},children:"Prida\u0165 objedn\xe1vku"})})]}),Object(r.jsxs)(O.a,{children:[Ue&&Object(r.jsxs)(Ve,{children:[Object(r.jsx)("h1",{children:"Inform\xe1cie k objedn\xe1vke"}),Object(r.jsxs)("p",{children:["Status: ",Ae]}),Object(r.jsxs)("p",{children:["Vybavuje: ",0===De?"0 - neuveden\xe9":bn.f[De-1]]})]}),Object(r.jsxs)(Ve,{children:[Object(r.jsx)("h2",{children:"Inform\xe1cie o z\xe1kazn\xedkovi"}),Object(r.jsx)(b.a,{label:"Meno a priezvisko z\xe1kaznika",example:"",children:Object(r.jsx)(h.a,{label:"Meno priezvisko*",type:"text",name:"name",value:Q.name,handleChange:function(e){return ce(e)},required:!0,autoComplete:"off"})}),Object(r.jsx)(b.a,{label:"E-mail z\xe1kaznika",example:"",children:Object(r.jsx)(h.a,{label:"email z\xe1kaznika*",type:"email",name:"email",value:Q.email,handleChange:function(e){return ce(e)},required:!0,autoComplete:"off"})}),ie&&Object(r.jsx)(_e,{children:y.map((function(e,n){return Object(r.jsxs)("div",{onClick:function(){return ae(e.item)},children:[Object(r.jsx)("p",{children:e.item.name}),Object(r.jsx)("p",{children:e.item.email}),Object(r.jsx)("p",{children:e.item.phone})]},n)}))})]}),Q._id&&Object(r.jsxs)(Ve,{children:[Object(r.jsx)("h3",{children:"Doru\u010dovacia adresa"}),W?Object(r.jsxs)("div",{children:[Object(r.jsx)("p",{children:Q.name}),Object(r.jsx)("p",{children:Q.address}),Q.psc&&Q.city&&Object(r.jsx)("p",{children:"".concat(Q.psc," ").concat(Q.city)}),Object(r.jsx)("p",{children:Q.country})]}):Object(r.jsxs)("div",{children:[Object(r.jsx)("p",{children:"Nie je uveden\xe1 \u017eiadna adresa."}),Object(r.jsx)(Ke,{onClick:function(){return P(!0)},children:"Prida\u0165 adresu"}),w&&Object(r.jsx)(fe,{selectedUser:Q,setSelectedUser:G,getUsers:V,id:Q._id,closeForm:function(){return P(!1)}})]}),Object(r.jsx)(nn,{label:"In\xe1 adresa",isActive:X,handleClick:function(){return Y(!X)}}),X&&Object(r.jsxs)("div",{children:[Object(r.jsx)(b.a,{label:"",example:"",children:Object(r.jsx)(h.a,{label:"Ulica a \u010dislo domu",type:"text",name:"address",value:ee.address,handleChange:function(e){return re(e)}})}),Object(r.jsx)(b.a,{label:"",example:"",children:Object(r.jsx)(h.a,{label:"PS\u010c",type:"text",name:"psc",value:ee.psc,handleChange:function(e){return re(e)}})}),Object(r.jsx)(b.a,{label:"",example:"",children:Object(r.jsx)(h.a,{label:"Mesto",type:"text",name:"city",value:ee.city,handleChange:function(e){return re(e)}})}),Object(r.jsx)(b.a,{label:"",example:"",children:Object(r.jsx)(h.a,{label:"Krajina",type:"text",name:"country",value:ee.country,handleChange:function(e){return re(e)}})})]})]}),Object(r.jsxs)(Ve,{children:[Object(r.jsx)("h2",{children:"Z\u013eavov\xfd kup\xf3n"}),Object(r.jsx)(b.a,{label:"",example:"napr: 50OFF",children:Object(r.jsx)(h.a,{label:"K\xf3d",type:"text",name:"coupon",value:ne,handleChange:function(e){return te(e.target.value)}})})]}),Object(r.jsxs)(Ve,{children:[Object(r.jsx)("h2",{children:"Sp\xf4sob platby"}),Object(r.jsx)(p.a,{items:se,title:"",activeIndex:je,handleClick:le}),2===je&&Object(r.jsx)(b.a,{label:"V\xfd\u0161ka z\xe1lohy",example:"",children:Object(r.jsx)(h.a,{label:"Z\xe1loha*",type:"number",name:"deposit",value:be.toString(),handleChange:function(e){return he(e.target.value)},required:!0})})]}),Object(r.jsxs)(Ve,{children:[Object(r.jsx)(qe,{children:Object(r.jsx)("h2",{children:"Objedn\xe1vka"})}),Object(r.jsx)(Je,{children:ye.length>0?ye.map((function(e,n){return Object(r.jsx)($,{product:e,handleRemoveProduct:function(n){return ke(n,e)}},n)})):Object(r.jsx)("div",{children:"\u017diadn\xe9 produkty"})})]}),!Ue&&Object(r.jsx)(Ve,{children:oe===de[0]?Object(r.jsx)(tn,{searchQuery:f,setSearchQuery:m,allProducts:A.length&&f.length?A:q,handleClick:Oe}):oe===de[1]?Object(r.jsx)(dn,{lenses:B,handleChangeStep:ue,handleSelectLenses:pe}):oe===de[2]?Object(r.jsx)(ln,{selectedUser:Q,handleChangeStep:ue,combinedProduct:xe,handleParameterChange:Ce}):Object(r.jsx)(un,{handleRemoveProduct:ke,handleChangeStep:ue,selectedProduct:ge,selectedLenses:ve,combinedProduct:xe,createCombinedProduct:we})})]})]}):Object(r.jsx)(me.a,{loading:L,title:F,close:T})}},61:function(e,n,t){"use strict";t.d(n,"a",(function(){return r})),t.d(n,"b",(function(){return c})),t.d(n,"c",(function(){return a})),t.d(n,"d",(function(){return i}));var r={lenses:{cylinder:[0,0,0,0],cylinderAxes:[0,0,0,0],diopters:[0,0,0,0],distance:[0,0,0,0],addition:[0,0,0,0],basis:[0,0,0,0],prism:[0,0,0,0]},product:"",lens:"",price:0},c=[{name:"Hotovos\u0165",value:"cash"},{name:"Karta",value:"card"},{name:"Z\xe1loha",value:"coupon"}],a=["eshop","lenses","diopters","summary"],i=[{id:1,name:"Nevybaven\xe9",value:"fulfilled"},{id:2,name:"Vybaven\xe9",value:"finished"}]},63:function(e,n,t){"use strict";var r=t(19),c=t(1),a=t(29),i=(t(0),t(7));function s(){var e=Object(i.a)(["\n    display: inline-block;\n    cursor: pointer;\n    font-size: 1.5rem;\n    font-weight: 700;\n    /* margin-right: 2rem; */\n    background-color: ",";\n    color: ",";\n    padding: .8rem 3rem;\n    border-radius: .2rem;\n    transition: all .2s ease-out;\n\n    @media all and (max-width: 500px) {\n        padding: 0.5rem 1.5rem;\n        font-size: 1.4rem;\n    }\n"]);return s=function(){return e},e}var d=t(8).c.div(s(),(function(e){return e.isActive?"rgb(235, 172, 1)":"rgba(0,0,0,.06)"}),(function(e){return e.isActive?"#fff":"#000"}));n.a=function(e){var n=e.label,t=e.isActive,i=e.handleClick,s=Object(a.a)(e,["label","isActive","handleClick"]);return Object(c.jsx)(d,Object(r.a)(Object(r.a)({isActive:t,onClick:i},s),{},{children:n}))}},68:function(e,n,t){"use strict";t.r(n),t.d(n,"OrdersContext",(function(){return k}));var r=t(1),c=t(58),a=t(9),i=t.n(a),s=t(12),d=t(31),o=t(19),l=t(10),u=t(0),j=t(2),b=t(17),h=t(16),p=t(61),O=t(54),x=function(e){var n=new Headers;n.append("auth-token",e);var t={method:"GET",headers:n,redirect:"follow"};return fetch("".concat("http://195.110.58.166:8080","/api/admin/orders"),t)},f=function(e,n,t,r,c,a,i,s){var d=n.user,o=n.combinedProducts,l=new Headers;l.append("auth-token",e),l.append("Content-Type","application/json");var u=JSON.stringify({user:d._id,combinedProducts:o.map((function(e){return e._id})),overwrite:t?r:void 0,coupon:""===c?void 0:c,paidAlready:"coupon"===s?a>0?Number(a):0:void 0,status:i,paymentType:s});console.log(u);var j={method:"POST",headers:l,body:u,redirect:"follow"};return fetch("".concat("http://195.110.58.166:8080","/api/admin/orders"),j)},m=function(e){var n=new Headers;n.append("Content-Type","application/json"),console.log(e);var t={method:"POST",headers:n,body:JSON.stringify(Object(o.a)({},e)),redirect:"follow"};return fetch("".concat("http://195.110.58.166:8080","/api/store/combinedProducts"),t)},v=function(e,n){var t=new Headers;t.append("auth-token",e);var r={method:"GET",headers:t,redirect:"follow"};return fetch("".concat("http://195.110.58.166:8080","/api/admin/orders/").concat(n),r)},g=function(e,n){var t=new Headers;t.append("auth-token",e);var r={method:"POST",headers:t,redirect:"follow"};return fetch("".concat("http://195.110.58.166:8080","/api/admin/orders/").concat(n,"/fulfill"),r)},y=function(e,n){var t=new Headers;t.append("auth-token",e);var r={method:"POST",headers:t,redirect:"follow"};return fetch("".concat("http://195.110.58.166:8080","/api/admin/orders/").concat(n,"/finish"),r)},k=Object(u.createContext)({selectedUser:null,setSelectedUser:function(){},hasAddress:!1,isDifferentAddress:!1,setIsDifferentAddress:function(){},overwrite:{},coupon:"",setCoupon:function(){},handleOverwriteChange:function(){},handleChangeSelectedUser:function(){},isSearchingUser:!1,handleSelectUser:function(){},orders:null,getOrders:function(){},productsToOrder:[],selectedProduct:null,selectedLenses:null,combinedProduct:null,paymentOptions:[],deposit:0,setDeposit:function(){},steps:[],activeStep:"",handleChangeStep:function(){},selectedPayment:0,handleChangePayment:function(){},handleSelectProduct:function(){},handleSelectLenses:function(){},handleRemoveProduct:function(){},handleParameterChange:function(){},createOrder:function(){},createCombinedProduct:function(){},getUserOrder:function(){},isUpdating:!1,status:"",orderPremises:0,resetOrder:function(){},handleFulfill:function(){},handleFinish:function(){}});n.default=function(e){var n=e.children,t=Object(j.g)().push,a=Object(u.useContext)(b.a).token,C=Object(u.useContext)(h.a),S=C.getMessage,w=C.setIsLoading,P=C.setShowModal,z=C.closeModal,U=Object(u.useState)(!1),A=Object(l.a)(U,2),D=A[0],E=A[1],T=Object(u.useState)(""),L=Object(l.a)(T,2),N=L[0],F=L[1],I=Object(u.useState)(0),M=Object(l.a)(I,2),R=M[0],H=M[1],V=Object(u.useState)(null),_=Object(l.a)(V,2),J=_[0],Z=_[1],q=Object(u.useState)([]),B=Object(l.a)(q,2),K=B[0],Q=B[1],G=Object(u.useState)(null),W=Object(l.a)(G,2),X=W[0],Y=W[1],$=Object(u.useState)(null),ee=Object(l.a)($,2),ne=ee[0],te=ee[1],re=Object(u.useState)(p.a),ce=Object(l.a)(re,2),ae=ce[0],ie=ce[1],se=p.b,de=p.c,oe=Object(u.useState)(0),le=Object(l.a)(oe,2),ue=le[0],je=le[1],be=Object(u.useState)(""),he=Object(l.a)(be,2),pe=he[0],Oe=he[1],xe=Object(u.useState)(O.a),fe=Object(l.a)(xe,2),me=fe[0],ve=fe[1],ge=Object(u.useState)(!1),ye=Object(l.a)(ge,2),ke=ye[0],Ce=ye[1],Se=Object(u.useState)(!1),we=Object(l.a)(Se,2),Pe=we[0],ze=we[1],Ue=Object(u.useState)(!1),Ae=Object(l.a)(Ue,2),De=Ae[0],Ee=Ae[1],Te=Object(u.useState)({address:"",psc:"",city:"",country:""}),Le=Object(l.a)(Te,2),Ne=Le[0],Fe=Le[1],Ie=Object(u.useState)("eshop"),Me=Object(l.a)(Ie,2),Re=Me[0],He=Me[1],Ve=Object(u.useState)(0),_e=Object(l.a)(Ve,2),Je=_e[0],Ze=_e[1],qe=function(){te(null),Y(null),He("eshop"),ie(p.a),Fe({address:"",psc:"",city:"",country:""})},Be=function(){var e=Object(s.a)(i.a.mark((function e(){var n,t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return w(!0),P(!0),e.prev=2,e.next=5,x(a);case 5:return n=e.sent,e.next=8,n.json();case 8:if(t=e.sent,console.log(t),!t.orders){e.next=14;break}return Z(t.orders),z(),e.abrupt("return");case 14:S(t.message),w(!1),e.next=23;break;case 18:e.prev=18,e.t0=e.catch(2),console.log(e.t0),S("Nieco sa pokazilo"),w(!1);case 23:case"end":return e.stop()}}),e,null,[[2,18]])})));return function(){return e.apply(this,arguments)}}(),Ke=function(){var e=Object(s.a)(i.a.mark((function e(n,r){var c,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(w(!0),P(!0),c="paid",2===Je&&(c="half-paid"),De){e.next=9;break}if(me.address&&me.city&&me.psc&&me.country){e.next=9;break}return S("Chyba adressa"),w(!1),e.abrupt("return");case 9:return e.prev=9,e.next=12,f(a,{user:n,combinedProducts:r},De,Ne,pe,ue,c,se[Je].value);case 12:return 200===(s=e.sent).status&&S("Objednavkabola vytvoren\xe1"),e.next=16,s.json();case 16:e.sent.order&&(qe(),t("/dashboard/objednavky"),Be()),w(!1),e.next=26;break;case 21:e.prev=21,e.t0=e.catch(9),console.log(e.t0),S("Nieco sa pokazilo"),w(!1);case 26:case"end":return e.stop()}}),e,null,[[9,21]])})));return function(n,t){return e.apply(this,arguments)}}(),Qe=function(){var e=Object(s.a)(i.a.mark((function e(n){var t,r,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return w(!0),P(!0),t={},t=5===X.type||4===X.type?{product:n.product}:{lenses:n.lenses,product:n.product,lens:n.lens},e.prev=4,e.next=7,m(t);case 7:return r=e.sent,e.next=10,r.json();case 10:if(!(a=e.sent).combinedProduct){e.next=17;break}return Q([].concat(Object(c.a)(K),[a.combinedProduct])),qe(),w(!1),z(),e.abrupt("return");case 17:S(a.message),w(!1),e.next=26;break;case 21:e.prev=21,e.t0=e.catch(4),console.log(e.t0),S("Nieco sa pokazilo"),w(!1);case 26:case"end":return e.stop()}}),e,null,[[4,21]])})));return function(n){return e.apply(this,arguments)}}(),Ge=function(){var e=Object(s.a)(i.a.mark((function e(n){var t,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return w(!0),P(!0),e.prev=2,e.next=5,v(a,n);case 5:return t=e.sent,e.next=8,t.json();case 8:r=e.sent,console.log(r),r.order&&(E(!0),Q(r.order.combinedProducts),F(r.order.status),H(r.order.premises)),w(!1),S(r.message),e.next=20;break;case 15:e.prev=15,e.t0=e.catch(2),console.log(e.t0),S("Nieco sa pokazilo"),w(!1);case 20:case"end":return e.stop()}}),e,null,[[2,15]])})));return function(n){return e.apply(this,arguments)}}(),We=function(){var e=Object(s.a)(i.a.mark((function e(n){var t,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return w(!0),P(!0),e.prev=2,e.next=5,g(a,n);case 5:return 400===(t=e.sent).status&&S("Objedn\xe1vka nieje priradena k prev\xe1dzke"),e.next=9,t.json();case 9:if(r=e.sent,console.log(r),!r.order){e.next=15;break}return Be(),w(!1),e.abrupt("return");case 15:w(!1),e.next=23;break;case 18:e.prev=18,e.t0=e.catch(2),console.log(e.t0),S("Nieco sa pokazilo"),w(!1);case 23:case"end":return e.stop()}}),e,null,[[2,18]])})));return function(n){return e.apply(this,arguments)}}(),Xe=function(){var e=Object(s.a)(i.a.mark((function e(n){var t,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return w(!0),P(!0),e.prev=2,e.next=5,y(a,n);case 5:return t=e.sent,e.next=8,t.json();case 8:if(r=e.sent,console.log(r),!r.order){e.next=14;break}return Be(),w(!1),e.abrupt("return");case 14:S(r.message),w(!1),e.next=23;break;case 18:e.prev=18,e.t0=e.catch(2),console.log(e.t0),S("Nieco sa pokazilo"),w(!1);case 23:case"end":return e.stop()}}),e,null,[[2,18]])})));return function(n){return e.apply(this,arguments)}}();return Object(u.useEffect)((function(){if(me){var e=me.address,n=me.city,t=me.psc,r=me.country,c=me.phone;ze(!!(e&&n&&t&&r&&c))}}),[me]),Object(u.useEffect)((function(){me&&me.lenses&&ie(Object(o.a)(Object(o.a)({},ae),{},{lenses:me.lenses}))}),[me]),Object(r.jsx)(k.Provider,{value:{selectedUser:me,setSelectedUser:ve,hasAddress:Pe,isDifferentAddress:De,setIsDifferentAddress:Ee,overwrite:Ne,coupon:pe,setCoupon:Oe,handleOverwriteChange:function(e){var n=e.target,t=n.name,r=n.value;Fe(Object(o.a)(Object(o.a)({},Ne),{},Object(d.a)({},t,r)))},handleChangeSelectedUser:function(e){var n=e.target,t=n.name,r=n.value;Ce(!0),ve(Object(o.a)(Object(o.a)({},me),{},Object(d.a)({},t,r)))},isSearchingUser:ke,handleSelectUser:function(e){console.log(e),ve(Object(o.a)({},e)),Ce(!1)},orders:J,getOrders:Be,productsToOrder:K,selectedProduct:X,selectedLenses:ne,combinedProduct:ae,paymentOptions:se,deposit:ue,setDeposit:je,steps:de,activeStep:Re,handleChangeStep:function(e){He(de[e])},selectedPayment:Je,handleChangePayment:function(e,n){e.preventDefault(),Ze(n)},handleSelectProduct:function(e,n){e.preventDefault(),Y(n),ie(Object(o.a)(Object(o.a)({},ae),{},{product:n._id,price:ae.price+n.price})),4===n.type||5===n.type?He(de[3]):He(de[1])},handleSelectLenses:function(e,n){e.preventDefault(),te(n),ie(Object(o.a)(Object(o.a)({},ae),{},{lens:n._id,price:ae.price+n.price})),He(de[2])},handleRemoveProduct:function(e,n){e.preventDefault(),Q(K.filter((function(e){return e._id!==n._id})))},handleParameterChange:function(e,n){var t=e.target,r=t.name,c=t.value,a=ae.lenses[r];a[n]=Number(c),ie(Object(o.a)(Object(o.a)({},ae),{},{lenses:Object(o.a)(Object(o.a)({},ae.lenses),{},Object(d.a)({},r,a))}))},createOrder:Ke,createCombinedProduct:Qe,getUserOrder:Ge,isUpdating:D,status:N,orderPremises:R,resetOrder:function(){console.log("reset order"),F(""),E(!1),Ze(0),je(0),Oe("")},handleFulfill:We,handleFinish:Xe},children:n})}},84:function(e,n,t){"use strict";t.d(n,"a",(function(){return d}));var r=t(9),c=t.n(r),a=t(12),i=t(10),s=t(0),d=function(e,n){var t=Object(s.useState)(null),r=Object(i.a)(t,2),d=r[0],o=r[1],l=Object(s.useState)(null),u=Object(i.a)(l,2),j=u[0],b=u[1],h=Object(s.useState)(!0),p=Object(i.a)(h,2),O=p[0],x=p[1];return Object(s.useEffect)((function(){(function(){var t=Object(a.a)(c.a.mark((function t(){var r,a;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("".concat("http://195.110.58.166:8080","/").concat(e),n);case 3:return r=t.sent,t.next=6,r.json();case 6:a=t.sent,o(a),x(!1),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(0),b(t.t0),x(!1);case 15:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(){return t.apply(this,arguments)}})()()}),[]),{response:d,isLoading:O,error:j}}}}]);
//# sourceMappingURL=12.6ec2912c.chunk.js.map