(this.webpackJsonpimooptik=this.webpackJsonpimooptik||[]).push([[9,25,36],{232:function(e,n,t){"use strict";t.r(n);var r=t(2),a=t(55),o=t(32),c=t(21),i=t(10),u=t(1),l=t(97),s=t(18),d=t(3),b=t(53),v=t(5),m=t(6);function f(){var e=Object(v.a)(["\n    margin-top: 2rem;\n    min-width: 16.5rem;\n    width: 100%;\n    background-color: var(--input-background-color);\n    color: var(--input-color);\n    border: none;\n    padding: .8rem 1rem .8rem 1rem;\n    font-size: inherit;\n    font-family: inherit;\n    display: block;\n"]);return f=function(){return e},e}var j=m.c.select(f()),p=function(e){var n=e.name,t=e.value,a=e.handleChange,o=e.listItems,c=e.defaultOption,i=void 0!==c&&c,u=e.defaultValue,l=e.defaultLabel;return Object(r.jsxs)(j,{name:n,value:t,onChange:function(e){return a(e)},children:[i&&Object(r.jsx)("option",{value:u,children:l}),o.map((function(e,n){if(4!==n)return Object(r.jsx)("option",{value:n+1,children:e},n)}))]})},h=t(52),O=t(30),x=t(54),g=t(65),k=t(68),y=t(14),w=t(28);function C(){var e=Object(v.a)(["\n    display: grid;\n    grid-template-columns: repeat(8, 1fr);\n    /* justify-items: center; */\n    /* align-items: center; */\n\n\n    select {\n        /* margin-top: 2rem; */\n        /* min-width: 16.5rem; */\n        width: 100%;\n        background-color: var(--input-background-color);\n        color: var(--input-color);\n        border: none;\n        padding: .8rem .5rem .8rem .5rem;\n        font-size: inherit;\n        font-family: inherit;\n        display: block;\n    }\n"]);return C=function(){return e},e}function N(){var e=Object(v.a)(["\n    padding: 2rem;\n    text-align: center;\n\n    border-right: ",";\n    display: flex;\n    align-items: center;\n    justify-content: center;\n"]);return N=function(){return e},e}function S(){var e=Object(v.a)(["\n    display: grid;\n    grid-template-columns: repeat(8, 1fr);\n    /* justify-items: center; */\n    border-bottom: 1px solid var(--secondary-text-color);\n"]);return S=function(){return e},e}function D(){var e=Object(v.a)(["\n    grid-column: 1/3;\n    padding: 2rem;\n    border-radius: .5rem;\n    background-color: var(--container-background-color);\n    box-shadow: var(--container-shadow);\n    margin-bottom: 3rem;\n    min-width: 90rem;\n\n    h3 {\n        margin-bottom: 2rem;\n    }\n\n    h4 {\n        margin-top: 2rem;\n    }\n"]);return D=function(){return e},e}function E(){var e=Object(v.a)(["\n    padding: 2rem;\n    border-radius: .5rem;\n    background-color: var(--container-background-color);\n    box-shadow: var(--container-shadow);\n    margin-bottom: 3rem;\n\n    h3 {\n        margin-bottom: 2rem;\n    }\n\n    h4 {\n        margin-top: 2rem;\n    }\n\n    select {\n        margin-top: 2rem;\n        /* min-width: 16.5rem; */\n        width: 100%;\n        background-color: var(--input-background-color);\n        color: var(--input-color);\n        border: none;\n        padding: .8rem .5rem .8rem .5rem;\n        font-size: inherit;\n        font-family: inherit;\n        display: block;\n    }\n"]);return E=function(){return e},e}function T(){var e=Object(v.a)(["\n    display: grid;\n    grid-template-columns: 1fr 1fr;\n    grid-gap: 3rem;\n    align-items: start;\n    margin-bottom: 5rem;\n"]);return T=function(){return e},e}function z(){var e=Object(v.a)(["\n    margin-top: 2rem;\n    background-color: var(--primary-color);\n    font-weight: bolder;\n"]);return z=function(){return e},e}function M(){var e=Object(v.a)(["\n    background-color: var(--color-red);\n"]);return M=function(){return e},e}function B(){var e=Object(v.a)(["\n    background-color: var(--primary-color);\n    font-weight: bolder;\n    margin-left: 1rem;\n"]);return B=function(){return e},e}function A(){var e=Object(v.a)(["\n    ","\n    padding-top: 3rem;\n    padding-bottom: 3rem;\n    display: flex;\n    justify-content: space-between;\n    color: var(--primary-text-color);\n"]);return A=function(){return e},e}var I=m.c.div(A(),y.e),L=Object(m.c)(w.a)(B()),P=Object(m.c)(w.a)(M()),F=Object(m.c)(w.a)(z()),X=m.c.div(T()),_=m.c.div(E()),H=m.c.div(D()),V=m.c.div(S()),J=m.c.div(N(),(function(e){return e.isFirst?"1px solid var(--secondary-text-color)":""})),K=m.c.div(C());n.default=function(){var e,n,t,v=Object(u.useContext)(s.a),m=v.closeModal,f=v.getMessage,j=v.setShowModal,y=v.isLoading,w=v.message,C=v.showModal,N=Object(u.useContext)(l.BookingContext),S=N.createCalendar,D=N.updateCalendar,E=N.deleteCalendar,T=Object(d.i)().calendarId,z=Object(x.b)("api/booking/calendars",T,"novy-kalendar"===T),M=z.response,B=z.isLoading,A=Object(u.useState)({}),R=Object(i.a)(A,2),U=R[0],Z=R[1],G=Object(u.useState)(!1),q=Object(i.a)(G,2),Q=q[0],W=q[1],Y=function(e){var n=e.target,t=n.name,r=n.value;if(""===r)return delete U[t],void Z(Object(c.a)({},U));Z((function(e){return Object(c.a)(Object(c.a)({},e),{},Object(o.a)({},t,r))}))},$=function(e,n){var t=e.target,r=t.name,a=t.value,i=U[r]?U[r]:["X","X","X","X","X","X","X"];i[n]=a,Z((function(e){return Object(c.a)(Object(c.a)({},e),{},Object(o.a)({},r,i))}))};return Object(u.useEffect)((function(){if(!B&&M.calendar)if(W(!0),M.calendar.exceptDays){var e=Object(k.f)(M.calendar.exceptDays);Z(Object(c.a)(Object(c.a)({},M.calendar),{},{exceptDays:e}))}else Z(M.calendar)}),[B]),Object(u.useEffect)((function(){return function(){W(!1),Z({})}}),[]),Object(r.jsxs)("section",{children:[C&&Object(r.jsx)(O.a,{loading:y,title:w,close:m}),Object(r.jsxs)(I,{children:[Object(r.jsx)("div",{children:Q?Object(r.jsxs)("h1",{children:["Kalend\xe1r: ",null===U||void 0===U?void 0:U.name]}):Object(r.jsx)("h1",{children:"Nov\xfd kalend\xe1r"})}),Object(r.jsxs)("div",{children:[Q&&Object(r.jsx)(P,{onClick:function(){return E(null===U||void 0===U?void 0:U._id)},children:"Vymaza\u0165"}),Object(r.jsx)(L,{onClick:function(){if(!U.name)return f("Meno Kalend\xe1ra je povinn\xe9"),void j(!0);if(!U.premises)return f("Nie je zvolen\xe1 prev\xe1dzka ku ktorej patr\xed kalend\xe1r"),void j(!0);if(!U.endTimes&&!U.startTimes)return f("Nie s\xfa vyplnen\xe9 \u010dasy na prehliadky"),void j(!0);if(!U.interval)return f("Nie je zvolen\xfd interval"),void j(!0);if(Q){var e=Object(k.e)(U);console.log("CALENDAR BEFORE UPDATE"),console.log(e),D(e,U._id)}else{var n={};n=U.exceptDays?Object(c.a)(Object(c.a)({},U),{},{exceptDays:Object(k.g)(U.exceptDays)}):Object(c.a)({},U),console.log("CALENDAR BEFORE CREATE"),console.log(n),S(n)}},children:Q?"Upravi\u0165":"Vytvori\u0165"})]})]}),Object(r.jsx)(b.a,{children:Object(r.jsxs)(X,{children:[Object(r.jsxs)("div",{children:[Object(r.jsxs)(_,{children:[Object(r.jsx)("h3",{children:"Z\xe1kladn\xe9 inform\xe1cie"}),Object(r.jsxs)("div",{children:[Object(r.jsx)("h4",{children:"Kalendar je pre prev\xe1dzku"}),Object(r.jsx)(p,{name:"premises",value:(null===U||void 0===U?void 0:U.premises)||"0",listItems:g.b,defaultOption:!0,defaultValue:0,defaultLabel:"Nezadan\xe9",handleChange:Y})]}),Object(r.jsxs)("div",{children:[Object(r.jsx)("h4",{children:"Meno kalend\xe1ra"}),Object(r.jsx)(h.a,{type:"text",label:"Meno*",name:"name",value:(null===U||void 0===U?void 0:U.name)||"",handleChange:Y})]})]}),Object(r.jsxs)(_,{children:[Object(r.jsx)("h3",{children:"Dni kedy sa nerobia prehliadky"}),(null===U||void 0===U?void 0:U.exceptDays)&&(null===U||void 0===U||null===(e=U.exceptDays)||void 0===e?void 0:e.map((function(e,n){return Object(r.jsx)("div",{children:Object(r.jsx)(h.a,{type:"date",name:"exceptDays",value:e||"",handleChange:function(e){return function(e,n){var t=e.target,r=t.name,a=t.value,i=U[r];i[n]=a,Z((function(e){return Object(c.a)(Object(c.a)({},e),{},Object(o.a)({},r,i))}))}(e,n)}})},n)}))),Object(r.jsx)(F,{onClick:function(){Z((function(e){return Object(c.a)(Object(c.a)({},e),{},{exceptDays:e.exceptDays?[].concat(Object(a.a)(e.exceptDays),[""]):[""]})}))},children:"Prida\u0165"})]})]}),Object(r.jsxs)(_,{children:[Object(r.jsx)("h3",{children:"Nastavenie kalend\xe1ra"}),Object(r.jsxs)("div",{children:[Object(r.jsx)("h4",{children:"Interval medzi prehliadkami"}),Object(r.jsxs)("select",{name:"interval",value:(null===U||void 0===U?void 0:U.interval)||"",onChange:Y,children:[Object(r.jsx)("option",{value:"",children:"Nezadan\xe9"}),Object(r.jsx)("option",{value:30,children:"30min"}),Object(r.jsx)("option",{value:60,children:"60min"})]})]}),Object(r.jsxs)("div",{children:[Object(r.jsx)("h4",{children:"\u010cas pred objednan\xedm"}),Object(r.jsx)(h.a,{type:"text",label:"Po\u010det min\xfat",name:"allowMinutesBefore",value:(null===U||void 0===U||null===(n=U.allowMinutesBefore)||void 0===n?void 0:n.toString())||"",handleChange:Y})]}),Object(r.jsxs)("div",{children:[Object(r.jsx)("h4",{children:"Ko\u013eko dn\xed dopredu sa d\xe1 objedna\u0165"}),Object(r.jsx)(h.a,{type:"text",label:"Po\u010det dn\xed",name:"daysIntoFuture",value:(null===U||void 0===U||null===(t=U.daysIntoFuture)||void 0===t?void 0:t.toString())||"",handleChange:Y})]})]}),Object(r.jsxs)(H,{children:[Object(r.jsx)("h3",{children:"Ordina\u010dn\xe9 hodiny"}),Object(r.jsxs)(V,{children:[Object(r.jsx)(J,{isFirst:!0,children:"\u010cas \\ Den"}),k.d.map((function(e,n){return Object(r.jsx)(J,{children:e},n)}))]}),Object(r.jsxs)(K,{children:[Object(r.jsx)(J,{isFirst:!0,children:"Za\u010diatok"}),Object(a.a)(Array(7)).map((function(e,n){return Object(r.jsx)(J,{children:Object(r.jsxs)("select",{name:"startTimes",value:(null===U||void 0===U?void 0:U.startTimes)?null===U||void 0===U?void 0:U.startTimes[n]:"x",onChange:function(e){return $(e,n)},children:[Object(r.jsx)("option",{value:"X",children:"\u017diadn\xfd"}),k.b.map((function(e,n){var t=e.name,a=e.value;return Object(r.jsx)("option",{value:a,children:t},n)}))]})},n)}))]}),Object(r.jsxs)(K,{children:[Object(r.jsx)(J,{isFirst:!0,children:"Koniec"}),Object(a.a)(Array(7)).map((function(e,n){return Object(r.jsx)(J,{children:Object(r.jsxs)("select",{name:"endTimes",value:(null===U||void 0===U?void 0:U.endTimes)?null===U||void 0===U?void 0:U.endTimes[n]:"x",onChange:function(e){return $(e,n)},children:[Object(r.jsx)("option",{value:"X",children:"\u017diadn\xfd"}),k.b.map((function(e,n){var t=e.name,a=e.value;return Object(r.jsx)("option",{value:a,children:t},n)}))]})},n)}))]})]})]})})]})}},52:function(e,n,t){"use strict";var r=t(2),a=t(21),o=t(31),c=(t(1),t(5)),i=t(6);function u(){var e=Object(c.a)(["\n    position: relative;\n\n    /* margin: 45px 0; */\n\n    .form-input {\n        /* background: none; */\n        background-color: var(--input-background-color);\n        color: var(--input-color);\n        font-size: 1.5rem;\n        padding: 1rem .5rem 1rem 2rem;\n        display: block;\n        width: 100%;\n        border: none;\n        border-radius: .5rem;\n        /* border-bottom: 1px solid #000; */\n        margin: 2rem 0 0;\n        font-family: inherit;\n\n        &:focus {\n        outline: none;\n        }\n\n        &:focus ~ .form-input-label {\n            ","\n        }\n    }\n\n    input[type = 'password'] {\n        letter-spacing: 0.3em;\n    }\n\n    .form-input-label {\n        color: var(--input-color);\n        font-size: 1.4rem;\n        font-weight: normal;\n        position: absolute;\n        pointer-events: none;\n        left: 1.5rem;\n        top: 1rem;\n        transition: 300ms ease all;\n\n        &.shrink {\n            ","\n        }\n    }\n\n    @media all and (max-width: 500px) {\n        .form-input {\n            font-size: 1.4rem;\n        }\n        /* padding: 1rem .5rem 1rem 2rem; */\n    }\n"]);return u=function(){return e},e}function l(){var e=Object(c.a)(["\n    left: .5rem;\n    top: -14px;\n    font-size: 12px;\n    color: var(--input-color);\n"]);return l=function(){return e},e}var s=Object(i.b)(l()),d=i.c.div(u(),s,s);n.a=function(e){var n=e.handleChange,t=e.label,c=e.name,i=Object(o.a)(e,["handleChange","label","name"]);return Object(r.jsxs)(d,{children:[Object(r.jsx)("input",Object(a.a)({className:"form-input",name:c,onChange:n},i)),t?Object(r.jsx)("label",{htmlFor:c,className:"".concat(i.value.length?"shrink":""," form-input-label"),children:t}):null]})}},53:function(e,n,t){"use strict";var r=t(2),a=(t(1),t(5)),o=t(6),c=t(14);function i(){var e=Object(a.a)(["\n    /* max-width: 115rem; */\n"]);return i=function(){return e},e}function u(){var e=Object(a.a)(["\n    width: 100%;\n    height: 100%;\n    /* height: 100%; */\n    overflow-y: scroll;\n    overflow-x: visible;\n    scroll-behavior: smooth;\n    ",";\n    padding-top: 1.5rem;\n    padding-bottom: 1.5rem;\n    color: var(--primary-text-color);\n\n\n\n\n    @media all and (max-width: 1150px) {\n        margin-bottom: 8rem;\n    }\n\n    ::-webkit-scrollbar {\n        width: 10px;\n    }\n\n    /* Track */\n    ::-webkit-scrollbar-track {\n        background:  var(--background-primary-color);\n    }\n\n    /* Handle */\n    ::-webkit-scrollbar-thumb {\n        background: var(--primary-color);\n    }\n\n    /* Handle on hover */\n    ::-webkit-scrollbar-thumb:hover {\n        background: var(--primary-color);\n    }\n"]);return u=function(){return e},e}var l=o.c.div(u(),c.e),s=o.c.div(i());n.a=function(e){var n=e.children;return Object(r.jsx)(l,{children:Object(r.jsx)(s,{children:n})})}},54:function(e,n,t){"use strict";t.d(n,"a",(function(){return u})),t.d(n,"c",(function(){return l})),t.d(n,"b",(function(){return s}));var r=t(7),a=t.n(r),o=t(12),c=t(10),i=t(1),u=function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=Object(i.useState)(null),r=Object(c.a)(t,2),u=r[0],l=r[1],s=Object(i.useState)(null),d=Object(c.a)(s,2),b=d[0],v=d[1],m=Object(i.useState)(null),f=Object(c.a)(m,2),j=f[0],p=f[1],h=Object(i.useState)(!0),O=Object(c.a)(h,2),x=O[0],g=O[1],k=Object(i.useState)(0),y=Object(c.a)(k,2),w=y[0],C=y[1],N=function(){return C((function(e){return e+1}))};return Object(i.useEffect)((function(){(function(){var t=Object(o.a)(a.a.mark((function t(){var r,o;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,t.next=5,fetch("".concat("http://195.110.58.166:8080","/").concat(e));case 5:return r=t.sent,t.next=8,r.json();case 8:o=t.sent,p(o.message),l(o),g(!1),t.next=19;break;case 14:t.prev=14,t.t0=t.catch(2),v(t.t0),g(!1),p("Nie\u010do sa pokazilo");case 19:case"end":return t.stop()}}),t,null,[[2,14]])})));return function(){return t.apply(this,arguments)}})()()}),[w]),{response:u,isLoading:x,error:b,message:j,refetch:N}},l=function(e,n){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=Object(i.useState)(null),u=Object(c.a)(r,2),l=u[0],s=u[1],d=Object(i.useState)(null),b=Object(c.a)(d,2),v=b[0],m=b[1],f=Object(i.useState)(!0),j=Object(c.a)(f,2),p=j[0],h=j[1],O=Object(i.useState)(0),x=Object(c.a)(O,2),g=x[0],k=x[1],y=function(){return k((function(e){return e+1}))},w=new Headers;w.append("auth-token",localStorage.getItem("mptkthtkn")),w.append("Content-Type","application/json");var C=JSON.stringify(n),N={method:"POST",headers:w,body:C,redirect:"follow"};return Object(i.useEffect)((function(){(function(){var n=Object(o.a)(a.a.mark((function n(){var r,o;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t){n.next=2;break}return n.abrupt("return");case 2:return h(!0),n.prev=3,n.next=6,fetch("".concat("http://195.110.58.166:8080","/").concat(e),N);case 6:return r=n.sent,n.next=9,r.json();case 9:o=n.sent,s(o),h(!1),n.next=18;break;case 14:n.prev=14,n.t0=n.catch(3),m(n.t0),h(!1);case 18:case"end":return n.stop()}}),n,null,[[3,14]])})));return function(){return n.apply(this,arguments)}})()()}),[g,e]),{response:l,isLoading:p,error:v,refetch:y}},s=function(e,n){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=Object(i.useState)(null),u=Object(c.a)(r,2),l=u[0],s=u[1],d=Object(i.useState)(null),b=Object(c.a)(d,2),v=b[0],m=b[1],f=Object(i.useState)(!0),j=Object(c.a)(f,2),p=j[0],h=j[1],O=Object(i.useState)(0),x=Object(c.a)(O,2),g=x[0],k=x[1],y=function(){return k((function(e){return e+1}))},w=new Headers;w.append("auth-token",localStorage.getItem("mptkthtkn")),w.append("Content-Type","application/json");var C={method:"GET",headers:w,redirect:"follow"};return Object(i.useEffect)((function(){(function(){var r=Object(o.a)(a.a.mark((function r(){var o,c;return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!t){r.next=2;break}return r.abrupt("return");case 2:return h(!0),r.prev=3,r.next=6,fetch("".concat("http://195.110.58.166:8080","/").concat(e,"/").concat(n),C);case 6:return o=r.sent,r.next=9,o.json();case 9:c=r.sent,s(c),h(!1),r.next=18;break;case 14:r.prev=14,r.t0=r.catch(3),m(r.t0),h(!1);case 18:case"end":return r.stop()}}),r,null,[[3,14]])})));return function(){return r.apply(this,arguments)}})()()}),[g,e,n]),{response:l,isLoading:p,error:v,refetch:y}}},55:function(e,n,t){"use strict";t.d(n,"a",(function(){return o}));var r=t(22);var a=t(33);function o(e){return function(e){if(Array.isArray(e))return Object(r.a)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Object(a.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},65:function(e,n,t){"use strict";t.d(n,"b",(function(){return r})),t.d(n,"c",(function(){return a})),t.d(n,"a",(function(){return o}));var r=["Obchodn\xe1 57, Bratislava","Mileti\u010dova 38, Bratislava","Vajnory, Bratislava","Senica, OC Bran\u010d","Trnava, City Ar\xe9na"],a=[{id:0,name:"E-shop"},{id:1,name:"Obchodn\xe1 57, Bratislava"},{id:2,name:"Mileti\u010dova 38, Bratislava"},{id:3,name:"Vajnory, Bratislava"},{id:4,name:"Senica, OC Bran\u010d"}],o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";e.toString();var n=0;return e.includes(",")?1===e.split(",")[1].length?(n=e.split(",")[0]+e.split(",")[1]+"0",Number(n)):(n=e.split(",")[0]+e.split(",")[1],Number(n)):Number(100*e)}},68:function(e,n,t){"use strict";t.d(n,"b",(function(){return o})),t.d(n,"d",(function(){return c})),t.d(n,"l",(function(){return i})),t.d(n,"a",(function(){return u})),t.d(n,"k",(function(){return l})),t.d(n,"j",(function(){return s})),t.d(n,"i",(function(){return d})),t.d(n,"h",(function(){return b})),t.d(n,"c",(function(){return v})),t.d(n,"e",(function(){return m})),t.d(n,"f",(function(){return f})),t.d(n,"g",(function(){return j}));var r=t(32),a=t(21),o=[{name:"00:00",value:"00/00"},{name:"00:30",value:"00/30"},{name:"01:00",value:"01/00"},{name:"01:30",value:"01/30"},{name:"02:00",value:"02/00"},{name:"02:30",value:"02/30"},{name:"03:00",value:"03/00"},{name:"03:30",value:"03/30"},{name:"04:00",value:"04/00"},{name:"04:30",value:"04/30"},{name:"05:00",value:"05/00"},{name:"05:30",value:"05/30"},{name:"06:00",value:"06/00"},{name:"06:30",value:"06/30"},{name:"07:00",value:"07/00"},{name:"07:30",value:"07/30"},{name:"08:00",value:"08/00"},{name:"08:30",value:"08/30"},{name:"09:00",value:"09/00"},{name:"09:30",value:"09/30"},{name:"10:00",value:"10/00"},{name:"10:30",value:"10/30"},{name:"11:00",value:"11/00"},{name:"11:30",value:"11/30"},{name:"12:00",value:"12/00"},{name:"12:30",value:"12/30"},{name:"13:00",value:"13/00"},{name:"13:30",value:"13/30"},{name:"14:00",value:"14/00"},{name:"14:30",value:"14/30"},{name:"15:00",value:"15/00"},{name:"15:30",value:"15/30"},{name:"16:00",value:"16/00"},{name:"16:30",value:"16/30"},{name:"17:00",value:"17/00"},{name:"17:30",value:"17/30"},{name:"18:00",value:"18/00"},{name:"18:30",value:"18/30"},{name:"19:00",value:"19/00"},{name:"19:30",value:"19/30"},{name:"20:00",value:"20/00"},{name:"20:30",value:"20/30"},{name:"21:00",value:"21/00"},{name:"22:30",value:"22/30"},{name:"23:00",value:"23/00"},{name:"23:30",value:"23/30"}],c=["Pondelok","Utorok","Streda","\u0160tvrtok","Piatok","Sobota","Nede\u013ea"],i=["janu\xe1r","febru\xe1r","marec","apr\xedl","m\xe1j","j\xfan","j\xfal","september","okt\xf3ber","november","december"],u=["Mesiac","T\xfd\u017eden"],l=function(e){for(var n=[],t=e;t>0;t--)n.push({dayNumber:t,isDisable:!0,isPrevDay:!0});return n},s=function(e){console.log(e);for(var n=[],t=1;t<=e;t++)n.push({dayNumber:t,isDisable:!0,isNextDay:!0});return n},d=function(e){for(var n=[],t=1;t<=e;t++)n.push({dayNumber:t});return n},b=function(e,n,t,r){if(!n.booked)return e;var a=Object.keys(null===n||void 0===n?void 0:n.booked).filter((function(e){var n=e.split("/"),a=!1;if(n.forEach((function(e){if(t+1===Number(n[1])&&r===Number(n[2]))return a=!0})),a)return e}));return e.map((function(e){var t={};return a.forEach((function(r){var o=r.split("/");return Number(o[0])===e.dayNumber?t={dayNumber:e.dayNumber,bookings:n.booked[r],bookingDate:a.find((function(e){return e===r}))}:t.bookings?void 0:t={dayNumber:e.dayNumber}})),t.bookings?t:{dayNumber:e.dayNumber}}))},v=function(e,n){var t=!1;return n&&n.forEach((function(n){var r=n.split("/");if(Number(r[0])===e+1)return t=!0})),t},m=function(e){var n=Object(a.a)({},e);return n.bookings&&delete n.bookings,void 0!==n.__v&&delete n.__v,n._id&&delete n._id,n.dateCreated&&delete n.dateCreated,n.exceptDays&&(n=Object(a.a)(Object(a.a)({},n),{},{exceptDays:j(n.exceptDays)})),n},f=function(e){return Object.keys(e).map((function(e){return e.split("/").reverse().join("-")}))},j=function(e){var n={};return e.map((function(e){return e.split("-").reverse().join("/")})).forEach((function(e){n=Object(a.a)(Object(a.a)({},n),{},Object(r.a)({},e,"00/00-23/59"))})),n}},97:function(e,n,t){"use strict";t.r(n),t.d(n,"BookingContext",(function(){return d}));var r=t(2),a=t(7),o=t.n(a),c=t(12),i=t(1),u=t(18),l=t(19),s=t(3),d=Object(i.createContext)({createCalendar:function(){},updateCalendar:function(){},deleteCalendar:function(){}});n.default=function(e){var n=e.children,t=Object(s.h)().push,a=Object(i.useContext)(l.a).token,b=Object(i.useContext)(u.a),v=b.getMessage,m=b.setIsLoading,f=b.setShowModal,j=b.closeModal,p=new Headers;p.append("auth-token",a),p.append("Content-Type","application/json");var h=function(){var e=Object(c.a)(o.a.mark((function e(n){var r,a,c,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(!0),f(!0),r=JSON.stringify(n),a={method:"POST",headers:p,body:r,redirect:"follow"},e.prev=4,e.next=7,fetch("".concat("http://195.110.58.166:8080","/api/admin/booking/calendars"),a);case 7:return c=e.sent,e.next=10,c.json();case 10:if(!(i=e.sent).calendar){e.next=16;break}return m(!1),j(),t("/dashboard/rezervacie"),e.abrupt("return");case 16:m(!1),v(i.message),e.next=25;break;case 20:e.prev=20,e.t0=e.catch(4),console.log(e.t0),v("Nieco sa pokazilo"),m(!1);case 25:case"end":return e.stop()}}),e,null,[[4,20]])})));return function(n){return e.apply(this,arguments)}}(),O=function(){var e=Object(c.a)(o.a.mark((function e(n,t){var r,a,c,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(!0),f(!0),r=JSON.stringify(n),a={method:"PATCH",headers:p,body:r,redirect:"follow"},e.prev=4,e.next=7,fetch("".concat("http://195.110.58.166:8080","/api/admin/booking/calendars/").concat(t),a);case 7:return c=e.sent,e.next=10,c.json();case 10:i=e.sent,console.log(i),m(!1),v(i.message),e.next=21;break;case 16:e.prev=16,e.t0=e.catch(4),console.log(e.t0),v("Nieco sa pokazilo"),m(!1);case 21:case"end":return e.stop()}}),e,null,[[4,16]])})));return function(n,t){return e.apply(this,arguments)}}(),x=function(){var e=Object(c.a)(o.a.mark((function e(n){var t,r,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(!0),f(!0),t={method:"DELETE",headers:p,redirect:"follow"},e.prev=3,e.next=6,fetch("".concat("http://195.110.58.166:8080","/api/admin/booking/calendars/").concat(n),t);case 6:return r=e.sent,e.next=9,r.json();case 9:a=e.sent,console.log(a),m(!1),v(a.message),e.next=20;break;case 15:e.prev=15,e.t0=e.catch(3),console.log(e.t0),v("Nieco sa pokazilo"),m(!1);case 20:case"end":return e.stop()}}),e,null,[[3,15]])})));return function(n){return e.apply(this,arguments)}}();return Object(r.jsx)(d.Provider,{value:{createCalendar:h,updateCalendar:O,deleteCalendar:x},children:n})}}}]);
//# sourceMappingURL=9.a956117a.chunk.js.map