(this.webpackJsonpimooptik=this.webpackJsonpimooptik||[]).push([[1],{11:function(e,n,t){"use strict";t.d(n,"a",(function(){return c}));var a=t(1),r=t(4),o=t(0),c=Object(o.createContext)({isLoading:!1,showModal:!1,message:"",closeModal:function(){},getMessage:function(){},setIsLoading:function(){},setShowModal:function(){}});n.b=function(e){var n=e.children,t=Object(o.useState)(!1),s=Object(r.a)(t,2),i=s[0],u=s[1],l=Object(o.useState)(!1),d=Object(r.a)(l,2),p=d[0],b=d[1],f=Object(o.useState)(""),h=Object(r.a)(f,2),m=h[0],j=h[1];return Object(a.jsx)(c.Provider,{value:{isLoading:i,showModal:p,message:m,closeModal:function(){u(!1),b(!1),j("")},getMessage:function(e){j(e)},setIsLoading:u,setShowModal:b},children:n})}},15:function(e,n,t){"use strict";t.d(n,"a",(function(){return g}));var a=t(1),r=(t(0),t(27)),o=t.n(r),c=t(16),s=t(5),i=t(6);function u(){var e=Object(s.a)(["\n    border: 5px solid transparent;\n    border-top: 5px solid rgb(256,172,1);\n    border-radius: 50%;\n    width: 38px;\n    height: 38px;\n    animation: spin 800ms linear infinite;\n\n    @keyframes spin {\n        0% { transform: rotate(0deg); }\n        100% { transform: rotate(360deg); }\n    }\n"]);return u=function(){return e},e}var l=i.c.div(u()),d=function(){return Object(a.jsx)(l,{})};function p(){var e=Object(s.a)(["\n    color: #383838;\n    font-size: 2.1rem;\n    font-weight: 700;\n    text-align: center;\n\n    margin-bottom: 2rem;\n"]);return p=function(){return e},e}function b(){var e=Object(s.a)(["\n    max-width: 50rem;\n\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n\n    padding: 2rem;\n\n    border-radius: .5rem;\n\n    background-color: white;\n"]);return b=function(){return e},e}function f(){var e=Object(s.a)(["\n    position: fixed;\n    left: 0;\n    right: 0;\n    top: 0;\n    bottom: 0;\n    z-index: 999999;\n    min-height: 100vh;\n\n    display: flex;\n    align-items: center;\n    justify-content: center;\n\n    background-color: rgba(0,0,0,0.3);\n"]);return f=function(){return e},e}var h=i.c.div(f()),m=i.c.div(b()),j=i.c.div(p());function g(e){var n=e.loading,t=e.title,r=e.close;return o.a.createPortal(Object(a.jsx)(h,{children:n?Object(a.jsx)(m,{children:Object(a.jsx)(d,{})}):Object(a.jsxs)(m,{children:[Object(a.jsx)(j,{children:t}),Object(a.jsx)(c.a,{onClick:r,children:"Zavrie\u0165"})]})}),document.getElementById("portal"))}},16:function(e,n,t){"use strict";var a=t(3),r=t(1),o=t(25),c=(t(0),t(5));function s(){var e=Object(c.a)(["\n    cursor: pointer;\n    background-color: #000;\n    color: #fff;\n    padding: .8rem 3rem;\n    font-size: inherit;\n    font-family: inherit;\n    border-radius: .2rem;\n    border: none;\n    outline: none;\n\n    &:focus {\n        outline: none\n    }\n\n    @media all and (max-width: 500px) {\n        padding: 0.5rem 1.5rem;\n        font-size: 1.4rem;\n    }\n"]);return s=function(){return e},e}var i=t(6).c.button(s());n.a=function(e){var n=e.children,t=Object(o.a)(e,["children"]);return Object(r.jsx)(i,Object(a.a)(Object(a.a)({},t),{},{children:n}))}},18:function(e,n,t){"use strict";var a=t(1),r=t(3),o=t(25),c=(t(0),t(5)),s=t(6);function i(){var e=Object(c.a)(["\n    position: relative;\n    /* margin: 45px 0; */\n\n    .form-input {\n        background: none;\n        background-color: #F5F5F5;\n        color: #000;\n        font-size: 1.5rem;\n        padding: 1rem .5rem 1rem 2rem;\n        display: block;\n        width: 100%;\n        border: none;\n        border-radius: .5rem;\n        /* border-bottom: 1px solid #000; */\n        margin: 2rem 0 0;\n        font-family: inherit;\n\n        &:focus {\n        outline: none;\n        }\n\n        &:focus ~ .form-input-label {\n            ","\n        }\n    }\n\n    input[type = 'password'] {\n        letter-spacing: 0.3em;\n    }\n\n    .form-input-label {\n        color: #B1B1B1;\n        font-size: 1.4rem;\n        font-weight: normal;\n        position: absolute;\n        pointer-events: none;\n        left: 1.5rem;\n        top: 1rem;\n        transition: 300ms ease all;\n\n        &.shrink {\n            ","\n        }\n    }\n\n    @media all and (max-width: 500px) {\n        .form-input {\n            font-size: 1.4rem;\n        }\n        /* padding: 1rem .5rem 1rem 2rem; */\n    }\n"]);return i=function(){return e},e}function u(){var e=Object(c.a)(["\n    left: .5rem;\n    top: -14px;\n    font-size: 12px;\n    color: #000;\n"]);return u=function(){return e},e}var l=Object(s.b)(u()),d=s.c.div(i(),l,l);n.a=function(e){var n=e.handleChange,t=e.label,c=e.name,s=Object(o.a)(e,["handleChange","label","name"]);return Object(a.jsxs)(d,{children:[Object(a.jsx)("input",Object(r.a)({className:"form-input",name:c,onChange:n},s)),t?Object(a.jsx)("label",{htmlFor:c,className:"".concat(s.value.length?"shrink":""," form-input-label"),children:t}):null]})}},21:function(e,n,t){"use strict";t.d(n,"c",(function(){return a})),t.d(n,"b",(function(){return r})),t.d(n,"d",(function(){return o})),t.d(n,"a",(function(){return c}));var a={name:"",description:"",price:"0",type:1,brand:"",soldAmount:0,available:[0,0,0,0,0],eanCode:"",colorCode:"",colorName:"",imagePath:"",image:null,eshop:!1,specs:{frameColor:"",frameMaterial:"",frameStyle:"",lensColor:"",sex:"M",size:[0,0,0]}},r={id:"",name:"",description:"",dioptersRange:["0","0"],cylinderRange:["0","0"],price:"0",brand:"",imagePath:""},o=[{name:"Dioptrick\xe9",value:1},{name:"Slne\u010dn\xe9",value:2},{name:"\u0160portov\xe9",value:3},{name:"\u0160o\u0161ovky",value:4},{name:"Doplnky",value:5}],c=["Adidas","Armani Exchange","Arnette","Blackfin","Blumarine","Burberry","Bvlgari","Calvin Klein","Carolina Herrera","Carrera","David Beckham","Dior","Dolce & Gabbana","Elle","Emporio Armani","Esprit","Etnia Barcelona","Fendi","Fossil","Furla","Giorgio Armani","Givenchy","Gucci","Guess","H.I.S","Hawkers","Hugo Boss","Jaguar","Jimmy Choo","Lacoste","Liu Jo","Marc Jacobs","Max Mara","Max&Co","Meller","Mexx","Michael Kors","Moschino","Oakley","Persol","Polaroid","Police","Polo Ralph Lauren","Prada","Prada Linea Rossa","Ralph","Ralph Lauren","Ray-Ban","Salvatore Ferragamo","Smith","Strellson","Tiffany&Co.","Tom Ford","Tommy Hilfiger","Versace","Vogue"]},26:function(e,n,t){"use strict";t.d(n,"a",(function(){return f}));var a=t(1),r=t(2),o=t.n(r),c=t(7),s=t(4),i=t(0),u=t(11),l=t(8),d=function(e,n,t,a){var r=new Headers;r.append("auth-token",e),r.append("Content-Type","application/json");var o={method:"POST",headers:r,body:JSON.stringify({name:t||" ",alt:a||" ",image:n}),redirect:"follow"};return fetch("".concat("http://195.110.58.166:8080","/api/admin/images/upload"),o)},p=function(e,n,t){var a=new Headers;a.append("Content-Type","application/json");var r={method:"POST",headers:a,body:JSON.stringify({sortBy:{dateCreated:-1},limit:n,skip:t}),redirect:"follow"};return fetch("".concat("http://195.110.58.166:8080","/api/images/filter"),r)},b=function(e,n){var t=new Headers;t.append("auth-token",e);var a={method:"DELETE",headers:t,redirect:"follow"};return fetch("".concat("http://195.110.58.166:8080","/api/admin/images/").concat(n),a)},f=Object(i.createContext)({isDisabled:!1,images:null,selectedImage:null,getImages:function(){},handleImage:function(){},handleDeleteImage:function(){},setSelectedImage:function(){},getNextImages:function(){},getPrevImage:function(){}});n.b=function(e){var n=e.children,t=Object(i.useContext)(u.a),r=t.getMessage,h=t.setIsLoading,m=t.setShowModal,j=t.closeModal,g=Object(i.useContext)(l.a).token,O=Object(i.useState)(!1),v=Object(s.a)(O,2),x=v[0],w=v[1],k=Object(i.useState)(null),y=Object(s.a)(k,2),C=y[0],S=y[1],z=Object(i.useState)(null),P=Object(s.a)(z,2),N=P[0],T=P[1],I=Object(i.useState)(4),M=Object(s.a)(I,2),L=M[0],E=(M[1],Object(i.useState)(0)),D=Object(s.a)(E,2),F=D[0],H=D[1],A=function(){var e=Object(c.a)(o.a.mark((function e(n,t,a,c,s){var i,u;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(!0),h(!0),w(!0),e.prev=3,e.next=6,d(g,n,t,a);case 6:return i=e.sent,e.next=9,i.json();case 9:u=e.sent,console.log(u),u.image&&(T(u.image),c(u.image),J(),s()),m(!1),h(!1),w(!1),e.next=23;break;case 17:e.prev=17,e.t0=e.catch(3),console.log(e.t0),r("Nieco sa pokazilo"),h(!1),w(!1);case 23:case"end":return e.stop()}}),e,null,[[3,17]])})));return function(n,t,a,r,o){return e.apply(this,arguments)}}(),R=function(){var e=Object(c.a)(o.a.mark((function e(n){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,C.length===L){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,p(0,L,F+n);case 5:return t=e.sent,e.next=8,t.json();case 8:(a=e.sent).images&&(S(a.images),H(F+n)),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0),r("Nieco sa pokazilo"),h(!1);case 17:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(n){return e.apply(this,arguments)}}(),U=function(){var e=Object(c.a)(o.a.mark((function e(n){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==F){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,p(0,L,F-n);case 5:return t=e.sent,e.next=8,t.json();case 8:(a=e.sent).images&&(S(a.images),H(F-n)),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(2),console.log(e.t0),r("Nieco sa pokazilo"),h(!1);case 17:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(n){return e.apply(this,arguments)}}(),J=function(){var e=Object(c.a)(o.a.mark((function e(){var n,t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(!0),h(!0),e.prev=2,e.next=5,p(0,L,F);case 5:return n=e.sent,e.next=8,n.json();case 8:(t=e.sent).images&&S(t.images),r(t.message),h(!1),j(),e.next=20;break;case 15:e.prev=15,e.t0=e.catch(2),console.log(e.t0),r("Nieco sa pokazilo"),h(!1);case 20:case"end":return e.stop()}}),e,null,[[2,15]])})));return function(){return e.apply(this,arguments)}}(),B=function(){var e=Object(c.a)(o.a.mark((function e(n,t){var a,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),m(!0),h(!0),e.prev=3,e.next=6,b(g,n);case 6:return a=e.sent,e.next=9,a.json();case 9:c=e.sent,r(c.message),h(!1),J(),e.next=20;break;case 15:e.prev=15,e.t0=e.catch(3),console.log(e.t0),r("Nieco sa pokazilo"),h(!1);case 20:case"end":return e.stop()}}),e,null,[[3,15]])})));return function(n,t){return e.apply(this,arguments)}}();return Object(a.jsx)(f.Provider,{value:{isDisabled:x,images:C,selectedImage:N,getImages:J,handleImage:A,handleDeleteImage:B,setSelectedImage:T,getNextImages:R,getPrevImage:U},children:n})}},30:function(e,n,t){"use strict";t.d(n,"a",(function(){return h}));var a=t(1),r=t(2),o=t.n(r),c=t(7),s=t(4),i=t(0),u=t(8),l=t(11),d=function(e){return fetch("".concat("http://195.110.58.166:8080","/api/blogs/").concat(e))},p=function(e,n,t,a,r,o){var c=new Headers;c.append("auth-token",e),c.append("Content-Type","application/json");var s={method:"POST",headers:c,body:JSON.stringify({name:n,description:t,draft:a,html:r,image:o}),redirect:"follow"};return fetch("".concat("http://195.110.58.166:8080","/api/admin/blogs"),s)},b=function(e,n,t,a,r,o,c){var s=new Headers;s.append("auth-token",e),s.append("Content-Type","application/json");var i={method:"PATCH",headers:s,body:JSON.stringify({name:n,description:t,draft:a,html:r,image:o}),redirect:"follow"};return fetch("".concat("http://195.110.58.166:8080","/api/admin/blogs/").concat(c),i)},f=function(e,n){var t=new Headers;t.append("auth-token",e),t.append("Content-Type","application/json");var a={method:"DELETE",headers:t,redirect:"follow"};return fetch("".concat("http://195.110.58.166:8080","/api/admin/blogs/").concat(n),a)},h=Object(i.createContext)({posts:null,post:null,postsCount:0,getPosts:function(){},createPost:function(){},getPost:function(){},handlePostUpdate:function(){},handlePostDelete:function(){}});n.b=function(e){var n=e.children,t=Object(i.useContext)(u.a).token,r=Object(i.useContext)(l.a),m=(r.closeModal,r.getMessage),j=r.setIsLoading,g=r.setShowModal,O=Object(i.useState)(null),v=Object(s.a)(O,2),x=v[0],w=v[1],k=Object(i.useState)(null),y=Object(s.a)(k,2),C=y[0],S=y[1],z=Object(i.useState)(0),P=Object(s.a)(z,2),N=P[0],T=P[1],I=function(){var e=Object(c.a)(o.a.mark((function e(){var n,t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(!0),j(!0),e.next=4,fetch("".concat("http://195.110.58.166:8080","/api/blogs"));case 4:return n=e.sent,e.next=7,n.json();case 7:t=e.sent,w(t.blogs),T(t.count),g(!1),j(!1);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),M=function(){var e=Object(c.a)(o.a.mark((function e(n){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(!0),j(!0),e.prev=2,e.next=5,d(n);case 5:return t=e.sent,e.next=8,t.json();case 8:if(a=e.sent,console.log(a),!a.blog){e.next=15;break}return S(a.blog),j(!1),m(a.message),e.abrupt("return");case 15:j(!1),m(a.message),e.next=24;break;case 19:e.prev=19,e.t0=e.catch(2),console.log(e.t0),m("Nieco sa pokazilo"),j(!1);case 24:g(!1),j(!1);case 26:case"end":return e.stop()}}),e,null,[[2,19]])})));return function(n){return e.apply(this,arguments)}}(),L=function(){var e=Object(c.a)(o.a.mark((function e(n,a,r,c,s){var i,u;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(!0),j(!0),e.prev=2,e.next=5,p(t,a,r,c,s,n);case 5:return i=e.sent,e.next=8,i.json();case 8:u=e.sent,m(u.message),j(!1),I(),e.next=19;break;case 14:e.prev=14,e.t0=e.catch(2),console.log(e.t0),m("Nieco sa pokazilo"),j(!1);case 19:case"end":return e.stop()}}),e,null,[[2,14]])})));return function(n,t,a,r,o){return e.apply(this,arguments)}}(),E=function(){var e=Object(c.a)(o.a.mark((function e(n,a,r,c,s,i){var u,l;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(!0),j(!0),e.prev=2,e.next=5,b(t,n,a,r,c,s,i);case 5:return u=e.sent,e.next=8,u.json();case 8:l=e.sent,m(l.message),j(!1),I(),e.next=19;break;case 14:e.prev=14,e.t0=e.catch(2),console.log(e.t0),m("Nieco sa pokazilo"),j(!1);case 19:case"end":return e.stop()}}),e,null,[[2,14]])})));return function(n,t,a,r,o,c){return e.apply(this,arguments)}}(),D=function(){var e=Object(c.a)(o.a.mark((function e(n){var a,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(!0),j(!0),e.prev=2,e.next=5,f(t,n);case 5:return a=e.sent,e.next=8,a.json();case 8:r=e.sent,m(r.message),j(!1),I(),e.next=19;break;case 14:e.prev=14,e.t0=e.catch(2),console.log(e.t0),m("Nieco sa pokazilo"),j(!1);case 19:case"end":return e.stop()}}),e,null,[[2,14]])})));return function(n){return e.apply(this,arguments)}}();return Object(a.jsx)(h.Provider,{value:{posts:x,post:C,postsCount:N,getPosts:I,createPost:L,getPost:M,handlePostUpdate:E,handlePostDelete:D},children:n})}},31:function(e,n,t){"use strict";t.d(n,"a",(function(){return S}));var a=t(1),r=t(2),o=t.n(r),c=t(7),s=t(17),i=t(3),u=t(4),l=t(0),d=t(9),p=t(11),b=t(8),f=t(26),h=function(e){var n=new Headers;n.append("auth-token",e);var t={method:"GET",headers:n,redirect:"follow"};return fetch("".concat("http://195.110.58.166:8080","/api/admin/products"),t)},m=function(e){return fetch("".concat("http://195.110.58.166:8080","/api/store/products/").concat(e))},j=function(e){var n=new Headers;n.append("auth-token",e);var t={method:"GET",headers:n,redirect:"follow"};return fetch("".concat("http://195.110.58.166:8080","/api/admin/lenses"),t)},g=function(e){return fetch("".concat("http://195.110.58.166:8080","/api/store/lenses/").concat(e))},O=function(e,n){var t=new Headers;t.append("auth-token",e);var a={method:"DELETE",headers:t,redirect:"follow"};return fetch("".concat("http://195.110.58.166:8080","/api/admin/lenses/").concat(n),a)},v=function(e,n){var t=n.brand,a=n.cylinderRange,r=n.description,o=n.dioptersRange,c=n.name,s=n.price,i=n.imagePath,u=n.eshop,l=new Headers;l.append("auth-token",e),l.append("Content-Type","application/json");var d={method:"POST",headers:l,body:JSON.stringify({brand:t||" ",cylinderRange:a.map((function(e){return Number(e)})),name:c,price:Number(s),description:r,image:i,dioptersRange:o.map((function(e){return Number(e)})),eshop:u}),redirect:"follow"};return fetch("".concat("http://195.110.58.166:8080","/api/admin/lenses"),d)},x=function(e,n){var t=n._id,a=n.brand,r=n.cylinderRange,o=n.description,c=n.dioptersRange,s=n.name,i=n.price,u=n.imagePath,l=n.eshop,d=new Headers;d.append("auth-token",e),d.append("Content-Type","application/json");var p={method:"PATCH",headers:d,body:JSON.stringify({brand:a||" ",cylinderRange:r.map((function(e){return Number(e)})),name:s,price:Number(i),description:o,image:u,dioptersRange:c.map((function(e){return Number(e)})),eshop:l}),redirect:"follow"};return fetch("".concat("http://195.110.58.166:8080","/api/admin/lenses/").concat(t),p)},w=function(e,n){var t=n.available,a=n.brand,r=n.colorCode,o=n.description,c=n.eanCode,s=n.eshop,i=n.name,u=n.price,l=n.specs,d=l.frameColor,p=l.frameMaterial,b=l.frameStyle,f=l.lensColor,h=l.sex,m=n.type,j=n.imagePath,g=new Headers;g.append("auth-token",e),g.append("Content-Type","application/json");var O={};O=4===m||5===m?JSON.stringify({available:t,brand:a||" ",colorCode:r||" ",description:o||" ",eanCode:c,eshop:s,name:i,price:u,type:m,image:j}):JSON.stringify({available:t,brand:a||" ",colorCode:r||" ",description:o||" ",eanCode:c,eshop:s,name:i,price:u,specs:{frameColor:d||" ",frameMaterial:p||" ",frameStyle:b||" ",lensColor:f||" ",sex:h},type:m,image:j}),console.log(O);var v={method:"POST",headers:g,body:O,redirect:"follow"};return fetch("".concat("http://195.110.58.166:8080","/api/admin/products"),v)},k=function(e,n){var t=n.available,a=n.brand,r=n.colorCode,o=n.description,c=n.eanCode,s=n.eshop,i=n.name,u=n.price,l=n.specs,d=l.frameColor,p=l.frameMaterial,b=l.frameStyle,f=l.lensColor,h=l.sex,m=n.type,j=n.imagePath,g=n._id,O=new Headers;O.append("auth-token",e),O.append("Content-Type","application/json");var v={};v=4===m||5===m?JSON.stringify({available:t,brand:a||" ",colorCode:r||" ",description:o||" ",eanCode:c,eshop:s,name:i,price:u,type:m,image:j}):JSON.stringify({available:t,brand:a||" ",colorCode:r||" ",description:o||" ",eanCode:c,eshop:s,name:i,price:u,specs:{frameColor:d||" ",frameMaterial:p||" ",frameStyle:b||" ",lensColor:f||" ",sex:h},type:m,image:j}),console.log(v);var x={method:"PATCH",headers:O,body:v,redirect:"follow"};return fetch("".concat("http://195.110.58.166:8080","/api/admin/products/").concat(g),x)},y=function(e,n){var t=new Headers;t.append("auth-token",e),t.append("Content-Type","application/json");var a={method:"DELETE",headers:t,redirect:"follow"};return fetch("".concat("http://195.110.58.166:8080","/api/admin/products/").concat(n),a)},C=t(21),S=Object(l.createContext)({formToShow:0,toggleProductForms:function(){},showUpdateForm:function(){},isUpdating:!1,activeCategoryIndex:0,categories:[],toggleDraft:function(){},handleCategoryChange:function(){},handleAvailableChange:function(){},handleSizeChange:function(){},selectImage:function(){},product:null,products:null,handleChange:function(){},handleSpecsChange:function(){},resetProduct:function(){},lenses:null,lensesArr:null,handleLensesChange:function(){},handleLensesDioptersRangeChange:function(){},handleLensesCylinderRangeChange:function(){},totalCount:0,getProducts:function(){},getSingleProduct:function(){},createNewProduct:function(){},handleProductDelete:function(){},updateProduct:function(){},createNewLenses:function(){},getLenses:function(){},getSigleLenses:function(){},updateLenses:function(){},deleteLenses:function(){}});n.b=function(e){var n=e.children,t=Object(l.useContext)(b.a).token,r=Object(l.useContext)(p.a),z=r.setIsLoading,P=r.setShowModal,N=r.getMessage,T=r.closeModal,I=Object(l.useContext)(f.a).setSelectedImage,M=Object(d.g)().push,L=Object(l.useState)(0),E=Object(u.a)(L,2),D=E[0],F=E[1],H=Object(l.useState)(!1),A=Object(u.a)(H,2),R=A[0],U=A[1],J=Object(l.useState)(0),B=Object(u.a)(J,2),Z=B[0],G=B[1],_=Object(l.useState)(0),q=Object(u.a)(_,2),K=q[0],V=q[1],W=Object(l.useState)(C.d),Y=Object(u.a)(W,1)[0],Q=Object(l.useState)(C.c),X=Object(u.a)(Q,2),$=X[0],ee=X[1],ne=Object(l.useState)(null),te=Object(u.a)(ne,2),ae=te[0],re=te[1],oe=Object(l.useState)(C.b),ce=Object(u.a)(oe,2),se=ce[0],ie=ce[1],ue=Object(l.useState)(null),le=Object(u.a)(ue,2),de=le[0],pe=le[1],be=function(){ee(C.c),ie(C.b),I(null),U(!1),G(0),V(0)},fe=function(){var e=Object(c.a)(o.a.mark((function e(){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return z(!0),P(!0),e.prev=2,e.next=5,h(t);case 5:return n=e.sent,e.next=8,n.json();case 8:if(!(a=e.sent).products){e.next=14;break}return F(D+a.count),re(a.products),z(!1),e.abrupt("return");case 14:N(a.message),z(!1),e.next=23;break;case 18:e.prev=18,e.t0=e.catch(2),console.log(e.t0),N("Nieco sa pokazilo"),z(!1);case 23:case"end":return e.stop()}}),e,null,[[2,18]])})));return function(){return e.apply(this,arguments)}}(),he=function(){var e=Object(c.a)(o.a.mark((function e(n){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return z(!0),P(!0),e.prev=2,e.next=5,m(n);case 5:return t=e.sent,e.next=8,t.json();case 8:if(!(a=e.sent).error){e.next=13;break}return N(a.message),z(!1),e.abrupt("return");case 13:a.product&&(ee(Object(i.a)(Object(i.a)(Object(i.a)({},$),a.product),{},{specs:Object(i.a)(Object(i.a)({},$.specs),a.product.specs),imagePath:a.product.image._id})),G(a.product.type),I(a.product.image),U(!0)),T(),e.next=22;break;case 17:e.prev=17,e.t0=e.catch(2),console.log(e.t0),N("Nieco sa pokazilo"),z(!1);case 22:case"end":return e.stop()}}),e,null,[[2,17]])})));return function(n){return e.apply(this,arguments)}}(),me=function(){var e=Object(c.a)(o.a.mark((function e(n){var a,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return z(!0),P(!0),e.prev=2,e.next=5,w(t,n);case 5:return a=e.sent,e.next=8,a.json();case 8:if(r=e.sent,console.log(r),!r.error){e.next=14;break}return N(r.message),z(!1),e.abrupt("return");case 14:z(!1),N(r.success),be(),M("/dashboard/obchod"),fe(),T(),e.next=27;break;case 22:e.prev=22,e.t0=e.catch(2),console.log(e.t0),N("Nieco sa pokazilo"),z(!1);case 27:case"end":return e.stop()}}),e,null,[[2,22]])})));return function(n){return e.apply(this,arguments)}}(),je=function(){var e=Object(c.a)(o.a.mark((function e(n){var a,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return z(!0),P(!0),e.prev=2,e.next=5,k(t,n);case 5:return a=e.sent,e.next=8,a.json();case 8:if(r=e.sent,console.log(r),!r.error){e.next=14;break}return N(r.message),z(!1),e.abrupt("return");case 14:N(r.message),z(!1),M("/dashboard/obchod"),fe(),e.next=25;break;case 20:e.prev=20,e.t0=e.catch(2),console.log(e.t0),N("Nieco sa pokazilo"),z(!1);case 25:case"end":return e.stop()}}),e,null,[[2,20]])})));return function(n){return e.apply(this,arguments)}}(),ge=function(){var e=Object(c.a)(o.a.mark((function e(n){var a,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return z(!0),P(!0),e.prev=2,e.next=5,y(t,n);case 5:return a=e.sent,e.next=8,a.json();case 8:r=e.sent,z(!1),N(r.message),fe(),M("/dashboard/obchod"),e.next=20;break;case 15:e.prev=15,e.t0=e.catch(2),console.log(e.t0),N("Nieco sa pokazilo"),z(!1);case 20:case"end":return e.stop()}}),e,null,[[2,15]])})));return function(n){return e.apply(this,arguments)}}(),Oe=function(){var e=Object(c.a)(o.a.mark((function e(){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return z(!0),P(!0),e.prev=2,e.next=5,j(t);case 5:return n=e.sent,e.next=8,n.json();case 8:if(!(a=e.sent).lenses){e.next=14;break}return F(D+a.count),pe(a.lenses),z(!1),e.abrupt("return");case 14:z(!1),N(a.message),e.next=23;break;case 18:e.prev=18,e.t0=e.catch(2),console.log(e.t0),N("Nieco sa pokazilo"),z(!1);case 23:case"end":return e.stop()}}),e,null,[[2,18]])})));return function(){return e.apply(this,arguments)}}(),ve=function(){var e=Object(c.a)(o.a.mark((function e(n){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return z(!0),P(!0),e.prev=2,e.next=5,g(n);case 5:return t=e.sent,e.next=8,t.json();case 8:if(a=e.sent,console.log(a),!a.error){e.next=14;break}return N(a.message),z(!1),e.abrupt("return");case 14:a.lenses&&(ie(Object(i.a)(Object(i.a)(Object(i.a)({},se),a.lenses),{},{imagePath:a.lenses.image._id})),I(a.lenses.image),U(!0)),T(),e.next=23;break;case 18:e.prev=18,e.t0=e.catch(2),console.log(e.t0),N("Nieco sa pokazilo"),z(!1);case 23:case"end":return e.stop()}}),e,null,[[2,18]])})));return function(n){return e.apply(this,arguments)}}(),xe=function(){var e=Object(c.a)(o.a.mark((function e(n){var a,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return z(!0),P(!0),e.prev=2,e.next=5,v(t,n);case 5:return a=e.sent,e.next=8,a.json();case 8:(r=e.sent)&&(z(!1),N(r.message),M("/dashboard/obchod"),Oe(),T()),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(2),console.log(e.t0),N("Nieco sa pokazilo"),z(!1);case 17:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(n){return e.apply(this,arguments)}}(),we=function(){var e=Object(c.a)(o.a.mark((function e(n){var a,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return z(!0),P(!0),e.prev=2,e.next=5,x(t,n);case 5:return a=e.sent,e.next=8,a.json();case 8:r=e.sent,console.log(r),r&&(z(!1),N(r.message),M("/dashboard/obchod"),Oe()),e.next=18;break;case 13:e.prev=13,e.t0=e.catch(2),console.log(e.t0),N("Nieco sa pokazilo"),z(!1);case 18:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(n){return e.apply(this,arguments)}}(),ke=function(){var e=Object(c.a)(o.a.mark((function e(n){var a,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return z(!0),P(!0),e.prev=2,e.next=5,O(t,n);case 5:return a=e.sent,e.next=8,a.json();case 8:(r=e.sent).error&&(z(!1),N(r.message)),Oe(),z(!1),N(r.message),M("/dashboard/obchod"),T(),e.next=22;break;case 17:e.prev=17,e.t0=e.catch(2),console.log(e.t0),N("Nieco sa pokazilo"),z(!1);case 22:case"end":return e.stop()}}),e,null,[[2,17]])})));return function(n){return e.apply(this,arguments)}}();return Object(a.jsx)(S.Provider,{value:{switchFormButtons:[{name:"Okuliare a i."},{name:"Skl\xe1"}],formToShow:K,toggleProductForms:function(e,n){e.preventDefault(),V(n)},showUpdateForm:function(e){V(e),U(!0)},isUpdating:R,activeCategoryIndex:Z,categories:Y,toggleDraft:function(){ee(Object(i.a)(Object(i.a)({},$),{},{eshop:!$.eshop})),ie(Object(i.a)(Object(i.a)({},se),{},{eshop:!$.eshop}))},handleCategoryChange:function(e){G(e),ee(Object(i.a)(Object(i.a)({},$),{},{type:e}))},handleAvailableChange:function(e,n){var t=$.available;t[n]=Number(e.target.value),ee(Object(i.a)(Object(i.a)({},$),{},{available:t}))},handleSizeChange:function(e,n){var t=$.specs.size;t[n]=Number(e.target.value),ee(Object(i.a)(Object(i.a)({},$),{},{specs:Object(i.a)(Object(i.a)({},$.specs),{},{size:t})}))},selectImage:function(e){ee(Object(i.a)(Object(i.a)({},$),{},{imagePath:e})),ie(Object(i.a)(Object(i.a)({},se),{},{imagePath:e}))},product:$,products:ae,handleChange:function(e){var n=e.target,t=n.name,a=n.value;ee(Object(i.a)(Object(i.a)({},$),{},Object(s.a)({},t,a)))},handleSpecsChange:function(e){var n=e.target,t=n.name,a=n.value;ee(Object(i.a)(Object(i.a)({},$),{},{specs:Object(i.a)(Object(i.a)({},$.specs),{},Object(s.a)({},t,a))}))},resetProduct:be,lenses:se,lensesArr:de,handleLensesChange:function(e){var n=e.target,t=n.name,a=n.value;ie(Object(i.a)(Object(i.a)({},se),{},Object(s.a)({},t,a)))},handleLensesDioptersRangeChange:function(e,n){var t=se.dioptersRange;t[n]=Number(e.target.value),ie(Object(i.a)(Object(i.a)({},se),{},{dioptersRange:t}))},handleLensesCylinderRangeChange:function(e,n){var t=se.cylinderRange;t[n]=Number(e.target.value),ie(Object(i.a)(Object(i.a)({},se),{},{cylinderRange:t}))},totalCount:D,getProducts:fe,getSingleProduct:he,createNewProduct:me,handleProductDelete:ge,updateProduct:je,createNewLenses:xe,getLenses:Oe,getSigleLenses:ve,updateLenses:we,deleteLenses:ke},children:n})}},36:function(e,n,t){"use strict";t.d(n,"a",(function(){return s})),t.d(n,"b",(function(){return i}));var a=t(5),r=t(6);function o(){var e=Object(a.a)(["\n    padding: 0 3rem;\n\n    @media all and (max-width: 800px) {\n        padding: 0 2rem;\n        @media all and (max-width: 500px) {\n            padding: 0 1.5rem;\n        }\n    }\n"]);return o=function(){return e},e}function c(){var e=Object(a.a)(["\n    *, *::before, *::after {\n        padding: 0;\n        margin: 0;\n        box-sizing: border-box;\n        font-family: 'Titillium Web', sans-serif;\n    }\n\n    html {\n        font-size: 62.5%;\n    }\n\n    body {\n        font-size: 1.6rem;\n        overflow: hidden;\n    }\n\n    section, form {\n        display: flex;\n        flex-direction: column;\n        height: 100vh;\n    }\n\n"]);return c=function(){return e},e}var s=Object(r.a)(c()),i=Object(r.b)(o())},37:function(e,n,t){"use strict";t.d(n,"a",(function(){return v}));var a=t(1),r=t(2),o=t.n(r),c=t(7),s=t(17),i=t(3),u=t(4),l=t(0),d=t(9),p=t(8),b=t(11),f=function(e){var n=new Headers;n.append("auth-token",e);var t={method:"GET",headers:n,redirect:"follow"};return fetch("".concat("http://195.110.58.166:8080","/api/admin/users"),t)},h=function(e,n){var t=new Headers;t.append("auth-token",e),t.append("Content-Type","application/json");var a={method:"GET",headers:t,redirect:"follow"};return fetch("".concat("http://195.110.58.166:8080","/api/admin/users/").concat(n),a)},m=function(e,n){var t=n._id,a=n.address,r=n.admin,o=n.city,c=n.country,s=n.email,i=n.lenses,u=i.cylinder,l=i.cylinderAxes,d=i.diopters,p=i.distance,b=n.name,f=n.phone,h=n.psc,m=n.premises,j=new Headers;j.append("auth-token",e);var g={method:"PATCH",headers:j,body:JSON.stringify({address:a||" ",admin:r,premises:m,city:o||" ",country:c||" ",email:s,lenses:{cylinder:u,cylinderAxes:l,diopters:d,distance:p},name:b,phone:f||" ",psc:h||" "}),redirect:"follow"};return fetch("".concat("http://195.110.58.166:8080","/api/admin/users/").concat(t),g)},j=function(e,n){console.log(n);var t=n.name,a=n.email,r=new Headers;r.append("auth-token",e),r.append("Content-Type","application/json");var o={method:"POST",headers:r,body:JSON.stringify({email:a,name:t}),redirect:"follow"};return fetch("".concat("http://195.110.58.166:8080","/api/auth/register"),o)},g=function(e,n){console.log(n);var t=n.name,a=n.email,r=n.password,o=n.premises,c=n.admin,s=new Headers;s.append("auth-token",e),s.append("Content-Type","application/json");var i={method:"POST",headers:s,body:JSON.stringify({admin:c,email:a,name:t,premises:o,password:r}),redirect:"follow"};return fetch("".concat("http://195.110.58.166:8080","/api/auth/register"),i)},O={address:"",admin:0,premises:0,boughtProducts:{},city:"",country:"",date:"",email:"",finishedRegistration:!1,lenses:{cylinder:[0,0],cylinderAxes:[0,0],diopters:[0,0],distance:[0,0]},name:"",orders:[],phone:"",psc:"",tempUser:!1,totalSpent:0,watchList:[],fName:"",lName:"",password:"",confirmPassword:""},v=Object(l.createContext)({isUpdating:!1,activeIndex:0,handleChangeFilterItem:function(){},filterItems:[],totalCount:0,users:null,user:null,getUsers:function(){},getUser:function(){},handleChange:function(){},handleDioptersChange:function(){},handleDistanceChange:function(){},handleCylinderChange:function(){},handleCylinderAxesChange:function(){},updateUser:function(){},resetUser:function(){},formToShow:0,switchFormButtons:[],toggleUserForm:function(){},createUser:function(){}});n.b=function(e){var n=e.children,t=Object(d.g)().push,r=Object(l.useContext)(p.a).token,x=Object(l.useContext)(b.a),w=x.closeModal,k=x.getMessage,y=x.setIsLoading,C=x.setShowModal,S=Object(l.useState)(O),z=Object(u.a)(S,2),P=z[0],N=z[1],T=Object(l.useState)(null),I=Object(u.a)(T,2),M=I[0],L=I[1],E=Object(l.useState)(0),D=Object(u.a)(E,2),F=D[0],H=D[1],A=Object(l.useState)(!1),R=Object(u.a)(A,2),U=R[0],J=R[1],B=Object(l.useState)(0),Z=Object(u.a)(B,2),G=Z[0],_=Z[1],q=Object(l.useState)(0),K=Object(u.a)(q,2),V=K[0],W=K[1];Object(l.useEffect)((function(){N(Object(i.a)(Object(i.a)({},P),{},{name:P.fName+" "+P.lName}))}),[P.fName,P.lName]);var Y=function(){var e=Object(c.a)(o.a.mark((function e(){var n,t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y(!0),C(!0),e.prev=2,e.next=5,f(r);case 5:return n=e.sent,e.next=8,n.json();case 8:t=e.sent,console.log(t),t.users?(L(t.users),H(t.count),y(!1),w()):(k(t.message),y(!1)),e.next=18;break;case 13:e.prev=13,e.t0=e.catch(2),console.log(e.t0),k("Nieco sa pokazilo"),y(!1);case 18:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(){return e.apply(this,arguments)}}(),Q=function(){var e=Object(c.a)(o.a.mark((function e(n){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y(!0),C(!0),J(!0),e.prev=3,e.next=6,h(r,n);case 6:return t=e.sent,e.next=9,t.json();case 9:(a=e.sent).user?(N(Object(i.a)(Object(i.a)(Object(i.a)({},P),a.user),{},{lenses:{cylinder:a.user.lenses.cylinder.length?a.user.lenses.cylinder:[0,0],cylinderAxes:a.user.lenses.cylinderAxes.length?a.user.lenses.cylinderAxes:[0,0],diopters:a.user.lenses.diopters.length?a.user.lenses.diopters:[0,0],distance:a.user.lenses.distance.length?a.user.lenses.distance:[0,0]},fName:a.user.name?a.user.name.split(" ")[0]:"",lName:a.user.name?a.user.name.split(" ")[1]:""})),y(!1),w()):(k(a.message),y(!1)),e.next=18;break;case 13:e.prev=13,e.t0=e.catch(3),console.log(e.t0),k("Nieco sa pokazilo"),y(!1);case 18:case"end":return e.stop()}}),e,null,[[3,13]])})));return function(n){return e.apply(this,arguments)}}(),X=function(){var e=Object(c.a)(o.a.mark((function e(n){var a,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y(!0),C(!0),console.log(n),e.prev=3,e.next=6,m(r,n);case 6:return a=e.sent,e.next=9,a.json();case 9:c=e.sent,console.log(c),c.error&&(y(!1),k(c.message)),y(!1),w(),t("/dashboard/zakaznici"),Y(),e.next=23;break;case 18:e.prev=18,e.t0=e.catch(3),console.log(e.t0),k("Nieco sa pokazilo"),y(!1);case 23:case"end":return e.stop()}}),e,null,[[3,18]])})));return function(n){return e.apply(this,arguments)}}(),$=function(){var e=Object(c.a)(o.a.mark((function e(n){var a,c,s,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(y(!0),C(!0),e.prev=2,0!==V){e.next=21;break}return e.next=6,j(r,n);case 6:return a=e.sent,e.next=9,a.json();case 9:if(c=e.sent,console.log(c),!c.error){e.next=15;break}return k(c.message),y(!1),e.abrupt("return");case 15:y(!1),Y(),t("/dashboard/zakaznici"),w(),e.next=36;break;case 21:return e.next=23,g(r,n);case 23:return s=e.sent,e.next=26,s.json();case 26:if(i=e.sent,console.log(i),!i.error){e.next=32;break}return k(i.message),y(!1),e.abrupt("return");case 32:y(!1),Y(),t("/dashboard/zakaznici"),w();case 36:e.next=43;break;case 38:e.prev=38,e.t0=e.catch(2),console.log(e.t0),k("Nieco sa pokazilo"),y(!1);case 43:case"end":return e.stop()}}),e,null,[[2,38]])})));return function(n){return e.apply(this,arguments)}}();return Object(a.jsx)(v.Provider,{value:{isUpdating:U,activeIndex:G,handleChangeFilterItem:function(e){_(e)},filterItems:[{id:0,name:"Z\xe1kaznici",filter:0},{id:1,name:"Zamestnanci 1",filter:1},{id:2,name:"Zamestnanci 2",filter:2},{id:3,name:"Admin 3",filter:3}],users:M,user:P,totalCount:F,getUsers:Y,getUser:Q,handleChange:function(e){var n=e.target,t=n.name,a=n.value;N(Object(i.a)(Object(i.a)({},P),{},Object(s.a)({},t,a)))},handleDioptersChange:function(e,n){var t=P.lenses.diopters;t[n]=Number(e.target.value),N(Object(i.a)(Object(i.a)({},P),{},{lenses:Object(i.a)(Object(i.a)({},P.lenses),{},{diopters:t})}))},handleDistanceChange:function(e,n){var t=P.lenses.distance;t[n]=Number(e.target.value),N(Object(i.a)(Object(i.a)({},P),{},{lenses:Object(i.a)(Object(i.a)({},P.lenses),{},{distance:t})}))},handleCylinderChange:function(e,n){var t=P.lenses.cylinder;t[n]=Number(e.target.value),N(Object(i.a)(Object(i.a)({},P),{},{lenses:Object(i.a)(Object(i.a)({},P.lenses),{},{cylinder:t})}))},handleCylinderAxesChange:function(e,n){var t=P.lenses.cylinderAxes;t[n]=Number(e.target.value),N(Object(i.a)(Object(i.a)({},P),{},{lenses:Object(i.a)(Object(i.a)({},P.lenses),{},{cylinderAxes:t})}))},updateUser:X,resetUser:function(){N(Object(i.a)({},O)),J(!1),W(0)},formToShow:V,switchFormButtons:[{name:"Z\xe1kazn\xedk"},{name:"Admin"}],toggleUserForm:function(e,n){e.preventDefault(),W(n)},createUser:$},children:n})}},54:function(e,n,t){"use strict";t.r(n);var a=t(1),r=t(0),o=t.n(r),c=t(27),s=t.n(c),i=t(8),u=t(36),l=t(19),d=t(9),p=t(4),b=t(2),f=t.n(b),h=t(7),m=t(11),j=t(18),g=t(15),O=t(5),v=t(6),x=t(16);function w(){var e=Object(O.a)(["\n    cursor: pointer;\n    background-color: transparent;\n    color: #DD4C4C;\n    font-family: inherit;\n    border: none;\n    outline: none;\n\n    &:focus {\n        outline: none;\n    }\n"]);return w=function(){return e},e}function k(){var e=Object(O.a)(["\n    margin-top: 2rem;\n\n    width: 100%;\n"]);return k=function(){return e},e}function y(){var e=Object(O.a)(["\n    display: block;\n    height: initial;\n    width: 100%;\n    max-width: 35rem;\n    padding: 3rem 4rem;\n    border-radius: .5rem;\n    box-shadow: 0 0 1.5rem 0 rgba(0,0,0, 0.08);\n    margin: 0 1rem 3rem;\n\n\n    h2 {\n        font-size: 2.8rem;\n        text-align: center;\n        margin-bottom: 5rem;\n\n        \n        @media all and (max-width: 500px) {\n            font-size: 2.5rem;\n        }\n    }\n"]);return y=function(){return e},e}var C=v.c.form(y()),S=Object(v.c)(x.a)(k()),z=v.c.button(w()),P=function(e){var n=e.showForgotPwsForm,t=Object(r.useState)(""),c=Object(p.a)(t,2),s=c[0],u=c[1],l=Object(r.useState)(""),d=Object(p.a)(l,2),b=d[0],O=d[1],v=Object(r.useContext)(i.a).logIn,x=Object(r.useContext)(m.a),w=x.isLoading,k=x.closeModal,y=x.message,P=x.showModal,N=function(){var e=Object(h.a)(f.a.mark((function e(n){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.preventDefault(),v(s,b),u(""),O("");case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return Object(a.jsxs)(o.a.Fragment,{children:[P&&Object(a.jsx)(g.a,{loading:w,title:y,close:k}),Object(a.jsxs)(C,{onSubmit:N,children:[Object(a.jsx)("h2",{children:"Prihl\xe1si\u0165 sa"}),Object(a.jsx)(j.a,{label:"E-mail",type:"email",name:"email",value:s,handleChange:function(e){return u(e.target.value)},required:!0}),Object(a.jsx)(j.a,{label:"Heslo",type:"password",name:"pwd",value:b,handleChange:function(e){return O(e.target.value)},required:!0}),Object(a.jsx)(S,{children:"Prihl\xe1si\u0165 sa"})]}),Object(a.jsx)(z,{onClick:function(){return n()},children:"Zabudol som heslo"})]})};function N(){var e=Object(O.a)(["\n    cursor: pointer;\n    background-color: transparent;\n    color: #DD4C4C;\n    font-family: inherit;\n    border: none;\n    outline: none;\n    margin-bottom: 1rem; \n\n    &:focus {\n        outline: none;\n    }\n"]);return N=function(){return e},e}function T(){var e=Object(O.a)(["\n    margin-top: 2rem;\n\n    width: 100%;\n"]);return T=function(){return e},e}function I(){var e=Object(O.a)(["\n    display: block;\n    height: initial;\n    width: 100%;\n    max-width: 35rem;\n    padding: 3rem 4rem;\n    border-radius: .5rem;\n    box-shadow: 0 0 1.5rem 0 rgba(0,0,0, 0.08);\n    margin: 0 1rem 3rem;\n\n\n    h2 {\n        font-size: 2.8rem;\n        text-align: center;\n        margin-bottom: 5rem;\n\n        \n        @media all and (max-width: 500px) {\n            font-size: 2.5rem;\n        }\n    }\n"]);return I=function(){return e},e}var M=v.c.form(I()),L=Object(v.c)(x.a)(T()),E=v.c.button(N()),D=function(e){var n=e.showSignInForm,t=Object(r.useState)(""),c=Object(p.a)(t,2),s=c[0],u=c[1],l=Object(r.useContext)(i.a),d=l.isWaitingForResponse,b=l.errMessage,m=l.isLoading,O=l.setIsLoading,v=l.handleResetPassword,x=function(){var e=Object(h.a)(f.a.mark((function e(n){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.preventDefault(),v(s);case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return Object(a.jsxs)(o.a.Fragment,{children:[m&&Object(a.jsx)(g.a,{loading:d,title:b,close:function(){return O(!1)}}),Object(a.jsxs)(M,{onSubmit:x,children:[Object(a.jsx)("h2",{children:"Zadaj e-mail"}),Object(a.jsx)(j.a,{label:"E-mail",type:"email",name:"email",value:s,handleChange:function(e){return u(e.target.value)},required:!0}),Object(a.jsx)(L,{children:"Odosla\u0165"})]}),Object(a.jsx)(E,{onClick:function(){return n()},children:"Sp\xe4t na prihl\xe1senie"})]})};function F(){var e=Object(O.a)(["\n    width: 100%;\n    height: 100vh;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n\n    h1 {\n        font-size: 8rem;\n        font-weight: 700;\n        margin-bottom: 5rem;\n\n        @media all and (max-width: 800px) {\n            font-size: 6rem;\n\n            @media all and (max-width: 500px) {\n            font-size: 5rem;\n\n            }\n        }   \n    }\n"]);return F=function(){return e},e}var H=v.c.div(F()),A=function(){var e=Object(r.useState)(!1),n=Object(p.a)(e,2),t=n[0],o=n[1];return Object(a.jsxs)(H,{children:[Object(a.jsx)("h1",{children:"IMOOPTIK"}),t?Object(a.jsx)(D,{showSignInForm:function(){o(!1)}}):Object(a.jsx)(P,{showForgotPwsForm:function(){o(!0)}})]})},R=t.p+"static/media/logo.361eddbd.png";function U(){var e=Object(O.a)(["\n                &:nth-child(1) {\n                    top: 0;\n                }\n\n                &:nth-child(2) {\n                    top: 50%;\n                    transform: translateY(-50%);\n                }\n\n                &:nth-child(3) {\n                    bottom: 0;\n                }\n            "]);return U=function(){return e},e}function J(){var e=Object(O.a)(["\n                &:nth-child(1) {\n                    top: 1rem;\n                    transform: rotate(45deg);\n                }\n\n                &:nth-child(2) {\n                    opacity: 0;\n                }\n\n                &:nth-child(3) {\n                    bottom: 1.3rem;\n                    transform: rotate(-45deg);\n                }\n            "]);return J=function(){return e},e}function B(){var e=Object(O.a)(["\n    cursor: pointer;\n    display: none;\n    outline: none;\n    border: none;\n    background-color: transparent;\n\n    &:focus {\n        outline: none;\n    }\n\n    @media all and (max-width: 1150px) {\n        top: 3rem;\n        left: ",";\n        transition: all .5s ease-out;\n        align-self: flex-start;\n        display: block;\n        background-color: transparent;\n        border: none;\n        width: 3.5rem;\n        height: 2.5rem;\n        position: absolute;\n\n        @media all and (max-width: 800px) {\n            left: ",";\n            @media all and (max-width: 500px) {\n                left: ",";\n            }\n        }\n\n        div {\n            position: absolute;\n            width: 3.5rem;\n            height: 2.5px;\n            background-color: #000000;\n            transition: all 0.3s ease-in-out;\n            ","\n        }\n \n    }\n"]);return B=function(){return e},e}function Z(){var e=Object(O.a)(["\n    min-width: 20rem;\n    cursor: pointer;\n    outline:none;\n    background-color: transparent;\n    border: none;\n    display: flex;\n    align-items: center;\n    color: #fff;\n    font-family: inherit;\n    font-weight: 700;\n    font-size: 1.8rem;\n    transition: .2s color ease-out;\n\n\n    @media all and (max-width: 500px) {\n        font-size: 1.6rem;\n    }\n\n    &:hover {\n        color: #eee;\n    }\n\n\n    &:focus {\n        outline: none;\n    }\n"]);return Z=function(){return e},e}function G(){var e=Object(O.a)(["\n    opacity: ",";\n    position: absolute;\n    width: 4px;\n    right: 0;\n    top: 0;\n    bottom: 0;\n    background-color: rgb(235, 172, 1);\n    transition: opacity .3s ease-out;\n"]);return G=function(){return e},e}function _(){var e=Object(O.a)(["\n    list-style: none;\n    width: 100%;\n    overflow-x: hidden;\n\n    @media all and (max-height: 725px) {\n        overflow-y: scroll;\n\n        ::-webkit-scrollbar {\n            width: 10px;\n        }\n\n        /* Track */\n        ::-webkit-scrollbar-track {\n            background:  #3E3E3E;\n        }\n\n        /* Handle */\n        ::-webkit-scrollbar-thumb {\n            background: #888;\n        }\n\n        /* Handle on hover */\n        ::-webkit-scrollbar-thumb:hover {\n            background: #555;\n        }\n    }\n\n    li {\n        position: relative;\n        display: flex;\n        align-items: center;\n        margin-bottom: 3rem;\n\n\n        div {\n            width: 5rem;\n            height: 5rem;\n            background-color: #3E3E3E;\n            margin-right: 3rem;\n            border-radius: 50%;\n\n            @media all and (max-width: 500px) {\n                margin-right: 2rem;\n\n            }\n        }\n    }\n"]);return _=function(){return e},e}function q(){var e=Object(O.a)(["\n    font-size: 3rem;\n    font-weight: 700;\n    color: #fff;\n    margin-bottom: 3rem;\n    margin-right: 3rem;\n\n    img {\n        width: 100%;\n    }\n\n    @media all and (max-width: 1150px) {\n        transition: opacity .5s ease-out;\n        opacity: ",";\n\n    }\n"]);return q=function(){return e},e}function K(){var e=Object(O.a)(["\n    position: relative;\n    background-color: #000000;\n    padding: 3rem 0 3rem 3rem;\n    height: 100%;\n    display: flex;\n    flex-direction: column;\n    justify-content: space-between;\n    z-index: 999;\n    overflow-x: hidden;\n\n    @media all and (max-width: 1150px) {\n        position: absolute;\n\n        width: ",";\n        transition: width .5s ease-out;\n\n        @media all and (max-width: 800px){\n            position: absolute;\n            transition: left .5s ease-out;\n            left: ",";\n        }\n\n        @media all and (max-width: 500px) {\n            width: 25rem;\n            left: ",";\n\n        }\n    }\n"]);return K=function(){return e},e}var V=v.c.aside(K(),(function(e){return e.isOpen?"30rem":"10rem"}),(function(e){return e.isOpen?0:"-30rem"}),(function(e){return e.isOpen?0:"-25rem"})),W=v.c.div(q(),(function(e){return e.isOpen?1:0})),Y=v.c.ul(_()),Q=v.c.span(G(),(function(e){return e.isActive?1:0})),X=v.c.button(Z()),$=v.c.button(B(),(function(e){return e.isOpen?"32rem":"12rem"}),(function(e){return e.isOpen?"32rem":"2rem"}),(function(e){return e.isOpen?"26rem":"1rem"}),(function(e){return e.isOpen?Object(v.b)(J()):Object(v.b)(U())})),ee=function(e){var n=e.routes,t=e.match,c=Object(r.useContext)(i.a).logOut,s=Object(d.g)().push,u=Object(r.useState)(!1),l=Object(p.a)(u,2),b=l[0],f=l[1],h=Object(r.useState)(0),m=Object(p.a)(h,2),j=m[0],g=m[1];return Object(a.jsxs)(o.a.Fragment,{children:[Object(a.jsxs)($,{onClick:function(){return f(!b)},isOpen:b,children:[Object(a.jsx)("div",{}),Object(a.jsx)("div",{}),Object(a.jsx)("div",{})]}),Object(a.jsxs)(V,{isOpen:b,children:[Object(a.jsx)(W,{isOpen:b,children:Object(a.jsx)("img",{src:R,alt:"imooptik logo"})}),Object(a.jsxs)(Y,{children:[n.map((function(e,n){return Object(a.jsxs)("li",{children:[Object(a.jsxs)(X,{onClick:function(){return function(e,n){b&&f(!1),g(n),s(e)}(t.url+e.path,n)},children:[Object(a.jsx)("div",{})," ",e.name]}),Object(a.jsx)(Q,{isActive:j===n})]},n)})),Object(a.jsx)("li",{children:Object(a.jsxs)(X,{onClick:c,children:[Object(a.jsx)("div",{})," Odhl\xe1si\u0165 sa",Object(a.jsx)(Q,{})]})})]}),Object(a.jsx)("div",{})]})]})},ne=t(30),te=t(37),ae=t(31),re=t(26);function oe(){var e=Object(O.a)(["\n    width: 100%;\n    height: 100vh;\n    display: grid;\n    grid-template-columns: 30rem 1fr;\n\n    @media all and (max-width: 1150px) {\n        grid-template-columns: 1fr;\n\n        main {\n            margin-top: 8rem;\n            margin-left: 10rem;\n        }\n\n        @media all and (max-width: 800px) {\n            grid-template-columns: 1fr;\n\n            main {\n                margin-left: unset;\n                height: 100%;\n\n            }\n        }\n    }\n"]);return oe=function(){return e},e}var ce=v.c.div(oe()),se=Object(r.lazy)((function(){return Promise.all([t.e(0),t.e(11)]).then(t.bind(null,214))})),ie=Object(r.lazy)((function(){return Promise.all([t.e(0),t.e(10)]).then(t.bind(null,218))})),ue=Object(r.lazy)((function(){return t.e(8).then(t.bind(null,211))})),le=Object(r.lazy)((function(){return t.e(13).then(t.bind(null,219))})),de=Object(r.lazy)((function(){return t.e(7).then(t.bind(null,215))})),pe=Object(r.lazy)((function(){return t.e(5).then(t.bind(null,213))})),be=Object(r.lazy)((function(){return t.e(9).then(t.bind(null,220))})),fe=Object(r.lazy)((function(){return t.e(12).then(t.bind(null,216))})),he=Object(r.lazy)((function(){return Promise.all([t.e(3),t.e(6)]).then(t.bind(null,221))})),me=Object(r.lazy)((function(){return t.e(14).then(t.bind(null,217))})),je=function(){var e=Object(d.i)();return 0===Object(r.useContext)(i.a).currentUser.admin?Object(a.jsx)(r.Suspense,{fallback:Object(a.jsx)(g.a,{loading:!0}),children:Object(a.jsx)(me,{})}):Object(a.jsxs)(ce,{children:[Object(a.jsx)(ee,{routes:[{name:"E-shop",path:"/obchod",permission:1},{name:"U\u017eivatelia",path:"/zakaznici",permission:1},{name:"Objedn\xe1vky",path:"/objednavky",permission:0},{name:"Rezerv\xe1cie",path:"/rezervacie",permission:0},{name:"Blog",path:"/blog",permission:0},{name:"Analytika",path:"/analytika",permission:1}],match:e}),Object(a.jsx)(re.b,{children:Object(a.jsx)("main",{children:Object(a.jsxs)(r.Suspense,{fallback:Object(a.jsx)(g.a,{loading:!0}),children:[Object(a.jsxs)(d.d,{children:[Object(a.jsx)(d.b,{path:"".concat(e.path,"/obchod"),render:function(){return Object(a.jsx)(ae.b,{children:Object(a.jsx)(se,{})})}}),Object(a.jsx)(d.b,{path:"".concat(e.path,"/sklad/:id"),render:function(){return Object(a.jsx)(ae.b,{children:Object(a.jsx)(pe,{})})}}),Object(a.jsx)(d.b,{path:"".concat(e.path,"/objednavky"),component:ue}),Object(a.jsx)(d.b,{path:"".concat(e.path,"/analytika"),component:le}),Object(a.jsx)(d.b,{path:"".concat(e.path,"/rezervacie"),component:fe}),Object(a.jsx)(d.b,{exact:!0,path:"".concat(e.path,"/blog"),render:function(){return Object(a.jsx)(ne.b,{children:Object(a.jsx)(be,{})})}}),Object(a.jsx)(d.b,{path:"".concat(e.path,"/blog/:id"),render:function(){return Object(a.jsx)(ne.b,{children:Object(a.jsx)(he,{})})}}),Object(a.jsxs)(te.b,{children:[Object(a.jsx)(d.b,{exact:!0,path:"".concat(e.path,"/zakaznici"),component:ie}),Object(a.jsx)(d.b,{path:"".concat(e.path,"/zakaznici/:id"),component:de})]})]}),Object(a.jsx)(d.a,{to:"".concat(e.path,"/obchod")})]})})})]})};function ge(){var e=Object(O.a)(["\n    width: 100%;\n"]);return ge=function(){return e},e}function Oe(){var e=Object(O.a)(["\n    width: 100%;\n    max-width: 35rem;\n    padding: 3rem 4rem;\n    border-radius: .5rem;\n    box-shadow: 0 0 1.5rem 0 rgba(0,0,0, 0.08);\n\n    margin: 0 1rem 3rem;\n\n\n    h2 {\n        font-size: 2.8rem;\n        text-align: center;\n        margin-bottom: 5rem;\n\n        @media all and (max-width: 500px) {\n            font-size: 2.5rem;\n        }\n    }\n"]);return Oe=function(){return e},e}function ve(){var e=Object(O.a)(["\n    width: 100%;\n    height: 100vh;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n"]);return ve=function(){return e},e}var xe=v.c.div(ve()),we=v.c.form(Oe()),ke=Object(v.c)(x.a)(ge()),ye=function(){var e=Object(r.useContext)(i.a),n=e.isLoading,t=e.isWaitingForResponse,c=e.setIsLoading,s=e.errMessage,u=e.handleCreatingNewPassword,l=Object(d.g)().push,b=Object(d.h)().token,f=Object(r.useState)(""),h=Object(p.a)(f,2),m=h[0],O=h[1];return Object(a.jsxs)(o.a.Fragment,{children:[n&&Object(a.jsx)(g.a,{loading:t,title:s,close:function(){c(!1),l("/")}}),Object(a.jsx)(xe,{children:Object(a.jsxs)(we,{onSubmit:function(e){e.preventDefault(),u(b,m)},children:[Object(a.jsx)("h2",{children:"Vytvori\u0165 nov\xe9 heslo"}),Object(a.jsx)(j.a,{label:"Nov\xe9 heslo",type:"password",name:"password",value:m,handleChange:function(e){return O(e.target.value)},required:!0}),Object(a.jsx)(ke,{children:"Odosla\u0165"})]})})]})},Ce=function(){console.log("RENDER APP");var e=Object(r.useContext)(i.a).currentUser;return Object(a.jsxs)(o.a.Fragment,{children:[Object(a.jsx)(u.a,{}),Object(a.jsx)(l.a,{basename:"/",children:Object(a.jsxs)(d.d,{children:[Object(a.jsx)(d.b,{path:"/prihlasenie",render:function(){return e?Object(a.jsx)(d.a,{to:"/dashboard"}):Object(a.jsx)(A,{})}}),Object(a.jsx)(d.b,{path:"/dashboard",render:function(){return e?Object(a.jsx)(je,{}):Object(a.jsx)(d.a,{to:"/prihlasenie"})}}),Object(a.jsx)(d.b,{path:"/reset/:token",component:ye}),e?Object(a.jsx)(d.a,{to:"/dashboard/obchod"}):Object(a.jsx)(d.a,{to:"/prihlasenie"})]})})]})},Se=function(e){e&&e instanceof Function&&t.e(15).then(t.bind(null,212)).then((function(n){var t=n.getCLS,a=n.getFID,r=n.getFCP,o=n.getLCP,c=n.getTTFB;t(e),a(e),r(e),o(e),c(e)}))};s.a.render(Object(a.jsx)(o.a.StrictMode,{children:Object(a.jsx)(m.b,{children:Object(a.jsx)(i.b,{children:Object(a.jsx)(Ce,{})})})}),document.getElementById("root")),Se()},8:function(e,n,t){"use strict";t.d(n,"a",(function(){return h}));var a=t(1),r=t(2),o=t.n(r),c=t(7),s=t(4),i=t(0),u=t(11),l=function(e){var n=e.email,t=e.password,a=new Headers;a.append("Content-Type","application/json");var r={method:"POST",headers:a,body:JSON.stringify({email:n,password:t}),redirect:"follow"};return fetch("".concat("http://195.110.58.166:8080","/api/auth/login"),r)},d=function(e){var n=e.name,t=e.email,a=e.password,r=new Headers;r.append("Content-Type","application/json");var o={method:"POST",headers:r,body:JSON.stringify({email:t,password:a,name:n}),redirect:"follow"};return fetch("".concat("http://195.110.58.166:8080","/api/auth/register"),o)},p=function(e){var n=new Headers;n.append("Content-Type","application/json");var t={method:"POST",headers:n,body:JSON.stringify({email:e}),redirect:"follow"};return fetch("".concat("http://195.110.58.166:8080","/api/auth/forgot"),t)},b=function(e,n){var t=new Headers;t.append("Content-Type","application/json");var a={method:"POST",headers:t,body:JSON.stringify({resetSecret:e,password:n}),redirect:"follow"};return fetch("".concat("http://195.110.58.166:8080","/api/auth/reset"),a)},f=function(e){var n=new Headers;n.append("auth-token",e),n.append("Content-Type","application/json");var t={method:"GET",headers:n,redirect:"follow"};return fetch("".concat("http://195.110.58.166:8080","/api/user/profile"),t)},h=Object(i.createContext)({currentUser:null,isAdmin:!1,token:null,logIn:function(){},logOut:function(){},register:function(){},handleResetPassword:function(){},handleCreatingNewPassword:function(){}});n.b=function(e){var n=e.children,t=Object(i.useContext)(u.a),r=t.setShowModal,m=t.setIsLoading,j=t.getMessage,g=t.closeModal,O=Object(i.useState)(null),v=Object(s.a)(O,2),x=v[0],w=v[1],k=Object(i.useState)(null),y=Object(s.a)(k,2),C=y[0],S=y[1],z=Object(i.useState)(!1),P=Object(s.a)(z,2),N=P[0],T=P[1],I=function(e){e.admin>1?T(!0):T(!1)},M=function(){var e=Object(c.a)(o.a.mark((function e(n,t){var a,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r(!0),m(!0),n){e.next=7;break}return console.log("Ziadny e-mail"),r(!1),m(!1),e.abrupt("return");case 7:if(t){e.next=12;break}return console.log("Ziadne heslo"),r(!1),m(!1),e.abrupt("return");case 12:return e.prev=12,e.next=15,l({email:n,password:t});case 15:return a=e.sent,e.next=18,a.json();case 18:c=e.sent,j(c.message),m(!1),c.user&&(w(c.user),S(c.authToken),localStorage.setItem("mptkthtkn",c.authToken),I(c.user),g()),e.next=29;break;case 24:e.prev=24,e.t0=e.catch(12),console.log(e.t0),j("Nieco sa pokazilo"),m(!1);case 29:case"end":return e.stop()}}),e,null,[[12,24]])})));return function(n,t){return e.apply(this,arguments)}}(),L=function(){var e=Object(c.a)(o.a.mark((function e(n,t,a,c){var s,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r(!0),m(!0),n){e.next=7;break}return console.log("Ziadne meno"),r(!1),m(!1),e.abrupt("return");case 7:if(t){e.next=12;break}return console.log("Ziadny e-mail"),r(!1),m(!1),e.abrupt("return");case 12:if(a){e.next=17;break}return console.log("Ziadne heslo"),r(!1),m(!1),e.abrupt("return");case 17:if(a===c){e.next=22;break}return console.log("hesla sa nezhoduju"),r(!1),m(!1),e.abrupt("return");case 22:return e.prev=22,e.next=25,d({name:n,email:t,password:a});case 25:return s=e.sent,e.next=28,s.json();case 28:i=e.sent,m(!1),j(i.message),e.next=38;break;case 33:e.prev=33,e.t0=e.catch(22),console.log(e.t0),j("Nieco sa pokazilo"),m(!1);case 38:case"end":return e.stop()}}),e,null,[[22,33]])})));return function(n,t,a,r){return e.apply(this,arguments)}}(),E=function(){var e=Object(c.a)(o.a.mark((function e(n){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r(!0),m(!0),n){e.next=7;break}return console.log("Ziadny e-mail"),r(!1),m(!1),e.abrupt("return");case 7:return e.prev=7,e.next=10,p(n);case 10:return t=e.sent,e.next=13,t.json();case 13:a=e.sent,j(a.message),m(!1),e.next=23;break;case 18:e.prev=18,e.t0=e.catch(7),console.log(e.t0),j("Nieco sa pokazilo"),m(!1);case 23:case"end":return e.stop()}}),e,null,[[7,18]])})));return function(n){return e.apply(this,arguments)}}(),D=function(){var e=Object(c.a)(o.a.mark((function e(n,t){var a,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r(!0),m(!0),n){e.next=7;break}return console.log("Ziadny reset token"),r(!1),m(!1),e.abrupt("return");case 7:if(t){e.next=12;break}return console.log("Ziadne heslo"),r(!1),m(!1),e.abrupt("return");case 12:return e.prev=12,e.next=15,b(n,t);case 15:return a=e.sent,e.next=18,a.json();case 18:c=e.sent,j(c.message),m(!1),e.next=28;break;case 23:e.prev=23,e.t0=e.catch(12),console.log(e.t0),j("Nieco sa pokazilo"),m(!1);case 28:case"end":return e.stop()}}),e,null,[[12,23]])})));return function(n,t){return e.apply(this,arguments)}}();return Object(i.useEffect)((function(){localStorage.getItem("mptkthtkn")&&S(localStorage.getItem("mptkthtkn"))}),[]),Object(i.useEffect)((function(){C&&function(){var e=Object(c.a)(o.a.mark((function e(){var n,t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(C);case 2:return n=e.sent,e.next=5,n.json();case 5:(t=e.sent).user&&(w(t.user),I(t.user));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[C]),Object(a.jsx)(h.Provider,{value:{token:C,currentUser:x,isAdmin:N,logIn:M,logOut:function(){localStorage.removeItem("mptkthtkn"),w(null),S(null)},register:L,handleResetPassword:E,handleCreatingNewPassword:D},children:n})}}},[[54,2,4]]]);
//# sourceMappingURL=main.b739bf34.chunk.js.map