{"version":3,"sources":["sections/calendar/calendar.styles.jsx","sections/calendar/calendar.section.jsx","components/custom-input/custom-input.styles.jsx","components/custom-input/custom-input.component.jsx","components/scroll-container/scroll-container.styles.jsx","components/scroll-container/scroll-container.component.jsx","components/product-input-row/product-input-row.styles.jsx","components/product-input-row/product-input-row.component.jsx","context/booking/booking.queries.jsx","context/booking/booking.utils.jsx","context/booking/booking.context.jsx"],"names":["Header","styled","div","paddingStyles","CreateCalendarButton","CustomButton","DeleteCalendarButton","DayTimesContainer","DayNames","CalendarSection","calendarId","useParams","useContext","BookingContext","isUpdatingCalendar","handleCalendarChange","handleDayTimeChange","getCalendar","createCalendar","updateCalendar","delCalendar","calendar","resetBooking","LoadingModalContext","closeModal","isLoading","message","showModal","useEffect","loading","title","close","console","log","onSubmit","e","preventDefault","name","onClick","label","example","type","value","handleChange","required","daysIntoFuture","toString","allowMinutesBefore","interval","startTimes","map","idx","endTimes","shrinkLabel","css","InputGroup","CustomInput","otherProps","className","onChange","htmlFor","length","Container","FixedContainer","ScrollContainer","children","InputRow","ProductInputRow","otherprops","fetchSingleCalendar","id","fetch","process","fetchUserBookings","token","myHeaders","Headers","append","requestOptions","method","headers","redirect","postCalendar","body","JSON","stringify","patchCalendar","_id","deleteCalendar","initCalendarObj","premises","exceptDays","createContext","calendars","getCalendars","bookings","getBookings","userBookings","getUserBookings","activeCalendar","selectedDate","setSelectedDate","BookingProvider","push","useHistory","AuthContext","getMessage","setIsLoading","setShowModal","useState","setIsUpdatingCalendar","setActiveCalendar","setCalendars","setCalendar","a","response","json","data","error","calendarToAdd","calendarToUpdate","setBookings","setUserBookings","Provider","target","arr"],"mappings":"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","file":"static/js/13.3453c45f.chunk.js","sourcesContent":["import styled from 'styled-components'\nimport { paddingStyles } from '../../global.styles'\nimport CustomButton from '../../components/custom-button/custom-button.component'\n\nexport const Header = styled.div`\n    ${paddingStyles}\n    padding-top: 3rem;\n    padding-bottom: 3rem;\n    display: flex;\n    justify-content: space-between;\n`\n\nexport const CreateCalendarButton = styled(CustomButton)`\n    margin-left: 1rem;\n`\nexport const DeleteCalendarButton = styled(CustomButton)`\n    background-color: #DD4C4C;\n\n`\n\nexport const DayTimesContainer = styled.div`\n    --gap: 2rem;\n    display: flex;\n    flex-wrap: wrap;\n    margin: calc(-1 * var(--gap)) 2rem 2rem calc(-1 * var(--gap));\n    /* width: calc(100% + var(--gap)); */\n\n    & > * {\n        margin: var(--gap) 2rem 2rem var(--gap);\n    }\n    margin-top: 3rem;\n\n`\n\nexport const DayNames = styled.div`\n    h3 {\n        margin-bottom: 3rem;\n    }\n\n    h4 {\n        margin-bottom: 3.74rem;\n        font-weight: lighter;\n    }\n`","import React, { useState, useContext, useEffect } from 'react'\nimport { BookingContext } from '../../context/booking/booking.context'\nimport { LoadingModalContext } from '../../context/loading-modal/loading-modal.contenxt'\nimport { useParams } from 'react-router-dom'\n\nimport ScrollContainer from '../../components/scroll-container/scroll-container.component'\nimport InputRow from '../../components/product-input-row/product-input-row.component'\nimport CustomInput from '../../components/custom-input/custom-input.component'\nimport Popup from '../../components/popup/pop-up.component'\n\nimport {\n    Header,\n    DayTimesContainer,\n    CreateCalendarButton,\n    DayNames,\n    DeleteCalendarButton\n} from './calendar.styles'\n\nconst CalendarSection = () => {\n    const { calendarId } = useParams()\n    const {\n        isUpdatingCalendar,\n        handleCalendarChange,\n        handleDayTimeChange,\n        getCalendar,\n        createCalendar,\n        updateCalendar,\n        delCalendar,\n        calendar,\n        resetBooking\n    } = useContext(BookingContext)\n\n    const {\n        closeModal,\n        isLoading,\n        message,\n        showModal\n    } = useContext(LoadingModalContext)\n\n    const handleSubmit = (e) => {\n        e.preventDefault()\n        if (calendarId === 'novy-kalendar') {\n            createCalendar(calendar)\n        } else {\n            console.log('update calendar')\n            updateCalendar(calendar)\n        }\n    }\n\n    useEffect(() => {\n        if (calendarId !== 'novy-kalendar') {\n            getCalendar(calendarId)\n        }\n    }, [calendarId])\n\n    useEffect(() => {\n        return () => {\n            resetBooking()\n        }\n    }, [])\n\n    if (!calendar || showModal) return <Popup loading={isLoading} title={message} close={closeModal} />\n\n\n    console.log(isUpdatingCalendar)\n    console.log(calendar)\n\n    return (\n        <section>\n            <form onSubmit={handleSubmit}>\n                <Header>\n                    <div>\n                        <h1>{isUpdatingCalendar ? `Kalendár: ${calendar.name}` : \"Nový kalendár\"}</h1>\n                    </div>\n                    <div>\n                        {isUpdatingCalendar && <DeleteCalendarButton onClick={() => delCalendar(calendarId)}>Odstrániť</DeleteCalendarButton>}\n                        <CreateCalendarButton>{isUpdatingCalendar ? \"Upraviť kalendár\" : \"Vytvoriť kalendár\"}</CreateCalendarButton>\n                    </div>\n                </Header>\n                <ScrollContainer>\n                    <InputRow\n                        label=\"Meno kalendáru\"\n                        example=''\n                    >\n                        <CustomInput\n                            label=\"Pobočka*\"\n                            type='text'\n                            name='name'\n                            value={calendar.name}\n                            handleChange={(e) => handleCalendarChange(e)}\n                            required\n                        />\n                    </InputRow>\n                    <InputRow\n                        label=\"Koľko dní dopredu sa da objednať\"\n                        example=''\n                    >\n                        <CustomInput\n                            label=\"Počet dní\"\n                            type='number'\n                            name='daysIntoFuture'\n                            value={calendar.daysIntoFuture.toString()}\n                            handleChange={(e) => handleCalendarChange(e)}\n                            required\n                        />\n                    </InputRow>\n                    <InputRow\n                        label=\"Minimalný čas k odoslaní rezervácie\"\n                        example=''\n                    >\n                        <CustomInput\n                            label=\"Min\"\n                            type='number'\n                            name='allowMinutesBefore'\n                            value={calendar.allowMinutesBefore.toString()}\n                            handleChange={(e) => handleCalendarChange(e)}\n                            required\n                        />\n                    </InputRow>\n                    <InputRow\n                        label=\"Čas medzi rezerváciami\"\n                        example=''\n                    >\n                        <CustomInput\n                            label=\"Min*\"\n                            type='number'\n                            name='interval'\n                            value={calendar.interval.toString()}\n                            handleChange={(e) => handleCalendarChange(e)}\n                            required\n                        />\n                    </InputRow>\n\n                    <DayTimesContainer>\n                        <DayNames>\n                            <h3>Den</h3>\n                            <div>\n                                <h4>Pondelok</h4>\n                            </div>\n                            <div>\n                                <h4>Utorok</h4>\n                            </div>\n                            <div>\n                                <h4>Streda</h4>\n                            </div>\n                            <div>\n                                <h4>Štvrtok</h4>\n                            </div>\n                            <div>\n                                <h4>Piatok</h4>\n                            </div>\n                            <div>\n                                <h4>Sobota</h4>\n                            </div>\n                            <div>\n                                <h4>Nedeľa</h4>\n                            </div>\n                        </DayNames>\n                        <div>\n                            <h3>Začiatok prehliadok</h3>\n                            {calendar.startTimes.map((value, idx) => (\n                                <div key={idx}>\n                                    <CustomInput\n                                        label=\"Čas: HH/MM*\"\n                                        type='text'\n                                        name='startTimes'\n                                        value={value}\n                                        handleChange={(e) => handleDayTimeChange(e, idx)}\n                                        required\n                                    />\n                                </div>\n                            ))}\n                        </div>\n                        <div>\n                            <h3>Koniec prehliadok</h3>\n                            {calendar.endTimes.map((value, idx) => (\n                                <div key={idx}>\n                                    <CustomInput\n                                        label=\"Čas: HH/MM*\"\n                                        type='text'\n                                        name='endTimes'\n                                        value={value}\n                                        handleChange={(e) => handleDayTimeChange(e, idx)}\n                                        required\n                                    />\n                                </div>\n                            ))}\n                        </div>\n                    </DayTimesContainer>\n                </ScrollContainer>\n            </form>\n        </section>\n    )\n}\n\nexport default CalendarSection\n","import styled, { css } from \"styled-components\"\n\nconst shrinkLabel = css`\n    left: .5rem;\n    top: -14px;\n    font-size: 12px;\n    color: #000;\n`\nexport const InputGroup = styled.div`\n    position: relative;\n    /* margin: 45px 0; */\n\n    .form-input {\n        background: none;\n        background-color: #F5F5F5;\n        color: #000;\n        font-size: 1.5rem;\n        padding: 1rem .5rem 1rem 2rem;\n        display: block;\n        width: 100%;\n        border: none;\n        border-radius: .5rem;\n        /* border-bottom: 1px solid #000; */\n        margin: 2rem 0 0;\n        font-family: inherit;\n\n        &:focus {\n        outline: none;\n        }\n\n        &:focus ~ .form-input-label {\n            ${shrinkLabel}\n        }\n    }\n\n    input[type = 'password'] {\n        letter-spacing: 0.3em;\n    }\n\n    .form-input-label {\n        color: #B1B1B1;\n        font-size: 1.4rem;\n        font-weight: normal;\n        position: absolute;\n        pointer-events: none;\n        left: 1.5rem;\n        top: 1rem;\n        transition: 300ms ease all;\n\n        &.shrink {\n            ${shrinkLabel}\n        }\n    }\n\n    @media all and (max-width: 500px) {\n        .form-input {\n            font-size: 1.4rem;\n        }\n        /* padding: 1rem .5rem 1rem 2rem; */\n    }\n`\n","import React from 'react'\n\nimport { InputGroup } from './custom-input.styles'\n\nconst CustomInput = ({ handleChange, label, name, ...otherProps }) => {\n    return (\n        <InputGroup>\n            <input\n                className='form-input'\n                name={name}\n                onChange={handleChange}\n                {...otherProps}\n            />\n            {label ? (\n                <label htmlFor={name} className={`${otherProps.value.length ? 'shrink' : ''} form-input-label`}>\n                    {label}\n                </label>\n            ) : null\n            }\n        </InputGroup>\n    )\n}\n\nexport default CustomInput","import styled from 'styled-components'\nimport { paddingStyles } from '../../global.styles'\n\nexport const Container = styled.div`\n    width: 100%;\n    height: 100%;\n    /* height: 100%; */\n    overflow-y: scroll;\n    overflow-x: visible;\n    scroll-behavior: smooth;\n    ${paddingStyles};\n    padding-top: 1.5rem;\n    padding-bottom: 1.5rem;\n\n    @media all and (max-width: 1150px) {\n        margin-bottom: 8rem;\n    }\n`\n\nexport const FixedContainer = styled.div`\n    max-width: 115rem;\n`","import React from 'react'\nimport { Container, FixedContainer } from './scroll-container.styles'\n\nconst ScrollContainer = ({ children }) => {\n    return (\n        <Container>\n            <FixedContainer>\n                {children}\n            </FixedContainer>\n        </Container>\n    )\n}\n\nexport default ScrollContainer","import styled from 'styled-components'\n\nexport const InputRow = styled.div`\n    display:flex;\n    align-items: center;\n\n    p {\n        margin-top: 1.8rem;\n        margin-left: 2rem;\n            opacity: .75;\n\n        span {\n            font-weight: 700;\n        }\n    }\n\n    @media all and (max-width: 800px) {\n        flex-direction: column-reverse;\n        align-items: flex-start;\n\n        p {\n            margin-left: unset;\n        }\n    }\n`","import React from 'react'\n\nimport { InputRow } from './product-input-row.styles'\n\nconst ProductInputRow = ({ children, label, example, ...otherprops }) => {\n    return (\n        <InputRow {...otherprops}>\n            <div>\n                {children}\n            </div>\n            <div>\n                <p>{label + \" \"}<span>{example}</span></p>\n            </div>\n        </InputRow>\n    )\n}\n\nexport default ProductInputRow\n","\n\nexport const fetchCalendars = () => {\n    return fetch(`${process.env.REACT_APP_BACKEND_ENDPOINT}/api/booking/calendars`)\n}\n\nexport const fetchSingleCalendar = (id) => {\n    return fetch(`${process.env.REACT_APP_BACKEND_ENDPOINT}/api/booking/calendars/${id}`)\n}\n\nexport const fetchBookings = () => {\n    return fetch(`${process.env.REACT_APP_BACKEND_ENDPOINT}/api/booking/bookings`)\n}\nexport const fetchBookingRows = () => {\n    return fetch(`${process.env.REACT_APP_BACKEND_ENDPOINT}/api/booking/bookingRows`)\n}\n\nexport const fetchUserBookings = (token) => {\n    const myHeaders = new Headers();\n    myHeaders.append(\"auth-token\", token);\n\n    const requestOptions = {\n        method: 'GET',\n        headers: myHeaders,\n        redirect: 'follow'\n    };\n\n    return fetch(`${process.env.REACT_APP_BACKEND_ENDPOINT}/api/admin/booking/userBookings`, requestOptions)\n}\n\n\nexport const postCalendar = (token, calendar) => {\n    const myHeaders = new Headers();\n    myHeaders.append(\"auth-token\", token);\n    myHeaders.append(\"Content-Type\", \"application/json\");\n\n    console.log(calendar)\n\n\n    const raw = JSON.stringify({\n        ...calendar\n    });\n\n    const requestOptions = {\n        method: 'POST',\n        headers: myHeaders,\n        body: raw,\n        redirect: 'follow'\n    };\n\n    return fetch(`${process.env.REACT_APP_BACKEND_ENDPOINT}/api/admin/booking/calendars`, requestOptions)\n}\n\nexport const patchCalendar = (token, calendar) => {\n    const myHeaders = new Headers();\n    myHeaders.append(\"auth-token\", token);\n    myHeaders.append(\"Content-Type\", \"application/json\");\n\n    console.log(calendar)\n\n    const {\n        name,\n        interval,\n        startTimes,\n        endTimes,\n        daysIntoFuture,\n        allowMinutesBefore\n    } = calendar\n\n    const raw = JSON.stringify({\n        name,\n        interval,\n        startTimes,\n        endTimes,\n        daysIntoFuture,\n        allowMinutesBefore\n    });\n\n    const requestOptions = {\n        method: 'PATCH',\n        headers: myHeaders,\n        body: raw,\n        redirect: 'follow'\n    };\n\n    return fetch(`${process.env.REACT_APP_BACKEND_ENDPOINT}/api/admin/booking/calendars/${calendar._id}`, requestOptions)\n}\n\nexport const deleteCalendar = (id) => {\n    // /api/admin/booking/calendars/:id\n    // const myHeaders = new Headers();\n    // myHeaders.append(\"auth-token\", token);\n    // myHeaders.append(\"Content-Type\", \"application/json\");\n\n    // console.log(calendar)\n\n\n    // const raw = JSON.stringify({\n    //     ...calendar\n    // });\n\n    const requestOptions = {\n        method: 'DELETE',\n        // headers: myHeaders,\n        // body: raw,\n        redirect: 'follow'\n    };\n\n    return fetch(`${process.env.REACT_APP_BACKEND_ENDPOINT}/api/admin/booking/calendars/${id}`, requestOptions)\n\n}","export const initCalendarObj = {\n    name: '',\n    interval: 30,\n    startTimes: [\"10/00\", \"10/00\", \"10/00\", \"10/00\", \"10/00\", \"X\", \"X\"],\n    endTimes: [\"16/00\", \"16/00\", \"18/00\", \"16/00\", \"16/00\", \"X\", \"X\"],\n    daysIntoFuture: 60,\n    premises: 1,\n    allowMinutesBefore: 120,\n    exceptDays: { \"24/12/2020\": \"00/00-23/59\" }\n}","import React, { createContext, useState, useContext } from 'react'\nimport { LoadingModalContext } from '../loading-modal/loading-modal.contenxt'\nimport { AuthContext } from '../auth/auth.context'\nimport { useHistory } from 'react-router-dom'\n\nimport {\n    fetchCalendars,\n    fetchSingleCalendar,\n    fetchBookings,\n    // fetchBookingRows,\n    fetchUserBookings,\n    postCalendar,\n    patchCalendar,\n    deleteCalendar\n} from './booking.queries'\n\nimport {\n    initCalendarObj\n} from './booking.utils'\n\nexport const BookingContext = createContext({\n    calendar: null,\n    calendars: null,\n    handleCalendarChange: () => { },\n    handleDayTimeChange: () => { },\n    getCalendars: () => { },\n    getCalendar: () => { },\n    createCalendar: () => { },\n    updateCalendar: () => { },\n    delCalendar: () => { },\n    isUpdatingCalendar: false,\n    bookings: null,\n    getBookings: () => { },\n    userBookings: null,\n    getUserBookings: () => { },\n    // bookingRows: null,\n    // getBookingRows: () => { },\n    activeCalendar: 0,\n    resetBooking: () => { },\n    selectedDate: {\n        name: \"\",\n        value: ''\n    },\n    setSelectedDate: () => { }\n})\n\nconst BookingProvider = ({ children }) => {\n    const { push } = useHistory()\n    const { token } = useContext(AuthContext)\n    const {\n        getMessage,\n        setIsLoading,\n        setShowModal,\n        closeModal\n    } = useContext(LoadingModalContext)\n\n    // ------------------------\n    // CALENDAR ACTIONS\n    // ------------------------\n    const [isUpdatingCalendar, setIsUpdatingCalendar] = useState(false)\n    const [activeCalendar, setActiveCalendar] = useState(0)\n    const [calendars, setCalendars] = useState(null)\n    const [calendar, setCalendar] = useState(initCalendarObj)\n    const [selectedDate, setSelectedDate] = useState({\n        name: '',\n        value: ''\n    })\n\n    const handleCalendarChange = (e) => {\n        const { name, value } = e.target\n        setCalendar({\n            ...calendar,\n            [name]: value\n        })\n    }\n\n    const handleDayTimeChange = (e, idx) => {\n        const { name, value } = e.target\n        let arr = calendar.startTimes\n        arr[idx] = value\n        setCalendar({\n            ...calendar,\n            [name]: arr\n        })\n    }\n\n    // Get all calendars\n    const getCalendars = async () => {\n        setIsLoading(true)\n        setShowModal(true)\n\n        try {\n            const response = await fetchCalendars()\n            const data = await response.json()\n\n            if (data.error) {\n                getMessage(data.message)\n                setIsLoading(false)\n                return\n            }\n\n            if (data.calendars) {\n                setCalendars(data.calendars)\n                setIsLoading(false)\n                closeModal()\n                return\n            }\n\n            getMessage(data.message)\n            setIsLoading(false)\n        } catch (err) {\n            console.log(err)\n            getMessage(\"Nieco sa pokazilo\")\n            setIsLoading(false)\n        }\n    }\n\n    // Get single calendar\n    const getCalendar = async (id, idx) => {\n        setIsLoading(true)\n        setShowModal(true)\n        setSelectedDate({\n            name: '',\n            value: ''\n        })\n        if (!idx) {\n            setIsUpdatingCalendar(true)\n        }\n\n        try {\n            const response = await fetchSingleCalendar(id)\n            const data = await response.json()\n\n            console.log(data)\n            if (data.calendar) {\n                setCalendar(data.calendar)\n                setActiveCalendar(idx)\n                closeModal()\n                return\n            }\n\n            getMessage(data.message)\n            setIsLoading(false)\n\n        } catch (err) {\n            console.log(err)\n            getMessage(\"Nieco sa pokazilo\")\n            setIsLoading(false)\n        }\n    }\n\n    const createCalendar = async (calendarToAdd) => {\n        setIsLoading(true)\n        setShowModal(true)\n        try {\n            const response = await postCalendar(token, calendarToAdd)\n            const data = await response.json()\n\n            if (data.calendar) {\n                setIsLoading(false)\n                closeModal()\n                getCalendars()\n                push('/dashboard/rezervacie')\n                return\n            }\n\n            setIsLoading(false)\n            getMessage(data.message)\n\n        } catch (err) {\n            console.log(err)\n            getMessage(\"Nieco sa pokazilo\")\n            setIsLoading(false)\n        }\n    }\n\n    const updateCalendar = async (calendarToUpdate) => {\n        setIsLoading(true)\n        setShowModal(true)\n\n        try {\n            const response = await patchCalendar(token, calendarToUpdate)\n            const data = await response.json()\n\n            console.log(data)\n            if (data.calendar) {\n                setIsLoading(false)\n                closeModal()\n                getCalendars()\n                push('/dashboard/rezervacie')\n                return\n            }\n\n            setIsLoading(false)\n            getMessage(data.message)\n\n        } catch (err) {\n            console.log(err)\n            getMessage(\"Nieco sa pokazilo\")\n            setIsLoading(false)\n        }\n    }\n\n    const delCalendar = async (id) => {\n        setIsLoading(true)\n        setShowModal(true)\n\n        try {\n            const response = await deleteCalendar(id)\n            const data = await response.json()\n\n            console.log(data)\n\n            setIsLoading(false)\n            getMessage(data.message)\n        } catch (err) {\n            console.log(err)\n            getMessage(\"Nieco sa pokazilo\")\n            setIsLoading(false)\n        }\n    }\n\n    // ------------------------\n    // BOOKINGS ACTIONS\n    // ------------------------\n    const [bookings, setBookings] = useState(null)\n    const [userBookings, setUserBookings] = useState(null)\n\n    const getBookings = async () => {\n        setIsLoading(true)\n        setShowModal(true)\n\n        try {\n            const response = await fetchBookings()\n            const data = await response.json()\n\n            if (data.error) {\n                getMessage(data.message)\n                setIsLoading(false)\n                return\n            }\n\n            if (data.bookings) {\n                setBookings(data.bookings)\n                setIsLoading(false)\n                closeModal()\n            }\n\n            getMessage(data.message)\n            setIsLoading(false)\n        } catch (err) {\n            console.log(err)\n            getMessage(\"Nieco sa pokazilo\")\n            setIsLoading(false)\n        }\n    }\n\n    const getUserBookings = async () => {\n        setIsLoading(true)\n        setShowModal(true)\n\n        try {\n            const response = await fetchUserBookings(token)\n            const data = await response.json()\n\n            if (data.userBookings) {\n                setUserBookings(data.userBookings)\n                closeModal()\n                return\n            }\n\n            getMessage(data.message)\n            setIsLoading(false)\n\n        } catch (err) {\n            console.log(err)\n            getMessage(\"Nieco sa pokazilo\")\n            setIsLoading(false)\n        }\n    }\n\n    const resetBooking = () => {\n        setActiveCalendar(0)\n        setCalendar(initCalendarObj)\n        setIsUpdatingCalendar(false)\n    }\n\n    return (\n        <BookingContext.Provider\n            value={{\n                calendar,\n                calendars,\n                handleCalendarChange,\n                handleDayTimeChange,\n                getCalendars,\n                getCalendar,\n                createCalendar,\n                updateCalendar,\n                delCalendar,\n                isUpdatingCalendar,\n                bookings,\n                getBookings,\n                userBookings,\n                getUserBookings,\n                // bookingRows,\n                // getBookingRows,\n                activeCalendar,\n                resetBooking,\n                selectedDate,\n                setSelectedDate,\n            }}\n        >\n            {children}\n        </BookingContext.Provider>\n    )\n}\n\nexport default BookingProvider"],"sourceRoot":""}