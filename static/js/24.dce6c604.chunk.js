(this.webpackJsonpimooptik=this.webpackJsonpimooptik||[]).push([[24],{238:function(e,n,t){"use strict";t.r(n);var a=t(2),r=t(31),c=t(21),i=t(10),l=t(1),o=t.n(l),s=t(19),d=t(85),u=t(18),j=t(3),m=t(55),b=t(124),h=t(5),O=t(6),f=t(28);function v(){var e=Object(h.a)(["\n    background-color: ",";\n    font-weight: 700;\n    margin-right: 2rem;\n"]);return v=function(){return e},e}function p(){var e=Object(h.a)(["\n    display: flex;\n    margin: 2rem 0;\n"]);return p=function(){return e},e}function x(){var e=Object(h.a)(["\n    margin-top: 2rem;\n    /* margin-bottom: 2rem; */\n"]);return x=function(){return e},e}var g=O.c.h3(x()),y=O.c.div(p()),C=Object(O.c)(f.a)(v(),(function(e){return e.isActive?"rgb(235, 172, 1)":"#000"})),k=function(e){var n=e.title,t=e.activeIndex,r=e.handleClick,c=e.items;return Object(a.jsxs)(o.a.Fragment,{children:[Object(a.jsx)(g,{children:n}),Object(a.jsx)(y,{children:c.map((function(e,n){return Object(a.jsx)(C,{isActive:t===n,onClick:function(e){return r(e,n)},children:e.name},n)}))})]})},w=t(88),N=t(52),P=t(99),U=t(57),z=t(54);function A(){var e=Object(h.a)(["\n    margin-top: 2rem;\n"]);return A=function(){return e},e}function F(){var e=Object(h.a)(["\n    display: grid;\n    grid-template-columns: 1fr 1fr;\n    max-width: 50rem;\n\n    div:not(:last-child) {\n        padding-right: 2rem;\n    }\n"]);return F=function(){return e},e}function I(){var e=Object(h.a)(["\n    input {\n        margin-bottom: 0 !important;\n    }\n"]);return I=function(){return e},e}function S(){var e=Object(h.a)(["\n    margin-bottom: 2rem;\n"]);return S=function(){return e},e}function D(){var e=Object(h.a)(["\n    padding: 2rem;\n    box-shadow: var(--container-shadow);\n    background-color: var(--container-background-color);\n\n"]);return D=function(){return e},e}function E(){var e=Object(h.a)(["\n    display: grid;\n    grid-template-columns: 1fr 50rem;\n    grid-gap: 2rem;\n    align-items: start;\n"]);return E=function(){return e},e}function M(){var e=Object(h.a)(["\n    margin-top: 1.5rem;\n    min-width: 16.5rem;\n    width: 100%;\n    background-color: var(--input-background-color);\n    color: var(--input-color);\n    border: none;\n    padding: .5rem .5rem .5rem 1rem;\n    font-size: inherit;\n    font-family: inherit;\n    display: block;\n\n        margin-bottom: 2rem;\n"]);return M=function(){return e},e}var V=O.c.select(M()),T=O.c.div(E()),B=O.c.div(D()),_=O.c.h2(S()),H=O.c.div(I()),J=O.c.div(F()),K=O.c.div(A()),L=function(e){var n,t,r,c,i,l,o,s,d,u,j,m,b,h,O,f,v,p,x,g,y=e.formToShow,C=e.switchFormButtons,A=e.toggleUserForm,F=e.user,I=e.handleChange,S=e.isAdmin,D=e.handleParameterChange,E=e.handleCompanyChange;return Object(a.jsxs)("div",{children:[S&&Object(a.jsx)(k,{items:C,title:"Ak\xe9ho u\u017eivatela chcete vytvori\u0165 ?",activeIndex:y,handleClick:A}),0===y?Object(a.jsxs)(T,{children:[Object(a.jsxs)(B,{children:[Object(a.jsx)("h2",{children:"Inform\xe1cie"}),Object(a.jsx)(N.a,{label:"Meno*",type:"text",name:"fName",value:null!==(n=F.fName)&&void 0!==n?n:"",handleChange:function(e){return I(e)}}),Object(a.jsx)(N.a,{label:"Priezvisko*",type:"text",name:"lName",value:null!==(t=F.lName)&&void 0!==t?t:"",handleChange:function(e){return I(e)}}),Object(a.jsx)(N.a,{label:"E-mail*",type:"email",name:"email",value:null!==(r=F.email)&&void 0!==r?r:"",handleChange:function(e){return I(e)}}),Object(a.jsx)(N.a,{label:"Telef\xf3nne \u010d\xedslo",type:"text",name:"phone",value:null!==(c=F.phone)&&void 0!==c?c:"",handleChange:function(e){return I(e)}}),Object(a.jsx)(w.a,{label:"D\xe1tum narodenia",example:"",children:Object(a.jsx)(N.a,{type:"date",name:"birthDate",value:F.birthDate,handleChange:function(e){return I(e)}})}),Object(a.jsxs)(K,{children:[Object(a.jsx)("h2",{children:"Parametre"}),Object(a.jsx)(P.a,{parameters:F.lenses,handleChange:D})]})]}),Object(a.jsxs)(B,{children:[Object(a.jsxs)("div",{children:[Object(a.jsx)("h2",{children:"Faktura\u010dn\xe9 \xfadaje"}),Object(a.jsxs)(J,{children:[Object(a.jsx)(H,{children:Object(a.jsx)(N.a,{label:"Ulica a \u010dislo domu",type:"text",name:"address",value:null!==(i=F.address)&&void 0!==i?i:"",handleChange:function(e){return I(e)}})}),Object(a.jsx)(H,{children:Object(a.jsx)(N.a,{label:"PS\u010c",type:"text",name:"psc",value:null!==(l=F.psc)&&void 0!==l?l:"",handleChange:function(e){return I(e)}})})]}),Object(a.jsxs)(J,{children:[Object(a.jsx)("div",{children:Object(a.jsx)(N.a,{label:"Mesto",type:"text",name:"city",value:null!==(o=F.city)&&void 0!==o?o:"",handleChange:function(e){return I(e)}})}),Object(a.jsx)("div",{children:Object(a.jsx)(N.a,{label:"Krajina",type:"text",name:"country",value:null!==(s=F.country)&&void 0!==s?s:"",handleChange:function(e){return I(e)}})})]})]}),Object(a.jsxs)(K,{children:[Object(a.jsx)("h2",{children:"Firemn\xe9 \xfadaje"}),Object(a.jsxs)(J,{children:[Object(a.jsx)(H,{children:Object(a.jsx)(N.a,{label:"I\u010cO",type:"text",name:"ico",value:null!==(d=F.company.ico)&&void 0!==d?d:"",handleChange:function(e){return E(e)}})}),Object(a.jsx)(H,{children:Object(a.jsx)(N.a,{label:"DI\u010c",type:"text",name:"dic",value:null!==(u=F.company.dic)&&void 0!==u?u:"",handleChange:function(e){return E(e)}})}),Object(a.jsx)(H,{children:Object(a.jsx)(N.a,{label:"I\u010c DPH",type:"text",name:"icdph",value:null!==(j=F.company.icdph)&&void 0!==j?j:"",handleChange:function(e){return E(e)}})}),Object(a.jsx)(H,{})]}),Object(a.jsxs)(J,{children:[Object(a.jsx)(H,{children:Object(a.jsx)(N.a,{label:"Ulica a \u010dislo domu",type:"text",name:"address",value:null!==(m=F.company.address)&&void 0!==m?m:"",handleChange:function(e){return E(e)}})}),Object(a.jsx)(H,{children:Object(a.jsx)(N.a,{label:"PS\u010c",type:"text",name:"psc",value:null!==(b=F.company.psc)&&void 0!==b?b:"",handleChange:function(e){return E(e)}})})]}),Object(a.jsxs)(J,{children:[Object(a.jsx)("div",{children:Object(a.jsx)(N.a,{label:"Mesto",type:"text",name:"city",value:null!==(h=F.company.city)&&void 0!==h?h:"",handleChange:function(e){return E(e)}})}),Object(a.jsx)("div",{children:Object(a.jsx)(N.a,{label:"Krajina",type:"text",name:"country",value:null!==(O=F.company.country)&&void 0!==O?O:"",handleChange:function(e){return E(e)}})})]})]})]})]}):Object(a.jsxs)(T,{children:[Object(a.jsxs)(B,{children:[Object(a.jsx)("h2",{children:"Inform\xe1cie"}),Object(a.jsx)(N.a,{label:"Meno*",type:"text",name:"fName",value:null!==(f=F.fName)&&void 0!==f?f:"",handleChange:function(e){return I(e)}}),Object(a.jsx)(N.a,{label:"Priezvisko*",type:"text",name:"lName",value:null!==(v=F.lName)&&void 0!==v?v:"",handleChange:function(e){return I(e)}}),Object(a.jsx)(N.a,{label:"E-mail*",type:"email",name:"email",value:null!==(p=F.email)&&void 0!==p?p:"",handleChange:function(e){return I(e)}}),Object(a.jsx)(N.a,{label:"Heslo*",type:"password",name:"password",value:null!==(x=F.password)&&void 0!==x?x:"",handleChange:function(e){return I(e)}}),Object(a.jsx)(N.a,{label:"Potvr\u010f heslo*",type:"password",name:"confirmPassword",value:null!==(g=F.confirmPassword)&&void 0!==g?g:"",handleChange:function(e){return I(e)}})]}),Object(a.jsxs)(B,{children:[Object(a.jsx)(_,{children:"Admin privil\xe9gi\xe1"}),Object(a.jsxs)("div",{children:[Object(a.jsx)("h4",{children:"Predaj\u0148a na ktorej zamestnanec pracuje"}),Object(a.jsxs)(V,{name:"premises",value:F.premises,onChange:function(e){return I(e)},children:[Object(a.jsx)("option",{value:0,children:"Nezadan\xe9"}),z.f.map((function(e,n){if(0!==n)return Object(a.jsx)("option",{value:n,children:e},n)}))]})]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("h4",{children:"V\xfd\u0161ka administrativn\xfdch pr\xe1v"}),Object(a.jsxs)(V,{name:"admin",value:F.admin,onChange:function(e){return I(e)},children:[Object(a.jsx)("option",{value:1,children:"Zamestnanec"}),Object(a.jsx)("option",{value:2,children:"Ved\xfaci"})]})]}),Object(a.jsx)(K,{children:Object(a.jsx)(U.a,{label:"Optometrista",handleClick:function(){return I({target:{name:"optometrist",value:!F.optometrist}})},isActive:F.optometrist})})]})]})]})},Z=t(32),q=t(14);function G(){var e=Object(h.a)(["\n    margin-left: 2rem;\n    font-size: 1.4rem;\n    background-color: var(--primary-color);\n    font-weight: bolder;\n"]);return G=function(){return e},e}function Q(){var e=Object(h.a)(["\n    background-color: var(--color-red);\n    font-size: 1.4rem;\n    margin-left: 2rem;\n"]);return Q=function(){return e},e}function R(){var e=Object(h.a)(["\n    ","\n    padding-top: 3rem;\n    padding-bottom: 3rem;\n\n    color: var(--primary-text-color);\n"]);return R=function(){return e},e}var W=O.c.div(R(),q.g),X=Object(O.c)(f.a)(Q()),Y=Object(O.c)(f.a)(G());n.default=function(){var e=Object(j.i)().id,n=Object(l.useContext)(s.a),t=n.isAdmin,o=n.isOptometrist,h=Object(l.useContext)(u.a),O=h.closeModal,f=h.isLoading,v=h.message,p=h.showModal,x=Object(l.useContext)(d.UserContext),g=x.isUpdating,y=x.user,C=x.getUser,k=x.handleChange,w=x.handleParameterChange,N=x.handleCompanyChange,P=x.updateUser,U=x.resetUser,z=x.formToShow,A=x.switchFormButtons,F=x.toggleUserForm,I=x.createUser,S=x.deleteUser,D=Object(l.useState)({}),E=Object(i.a)(D,2),M=E[0],V=E[1],T=function(e){var n=e.target,t=n.name,a=n.value;k(e),""!==a?V(Object(c.a)(Object(c.a)({},M),{},Object(r.a)({},t,a))):delete M[t]},B=function(e,n){var t=e.target,a=t.name,i=t.value,l=y.lenses[a];l[n]=i,w(e,n),V(Object(c.a)(Object(c.a)({},M),{},{lenses:Object(c.a)(Object(c.a)({},y.lenses),{},Object(r.a)({},a,l))}))},_=function(e){var n=e.target,t=n.name,a=n.value;if(N(e),""===a)return delete M.company[t],void(0===Object.keys(M.company).length&&delete M.company);V(Object(c.a)(Object(c.a)({},M),{},{company:Object(c.a)(Object(c.a)({},M.company),{},Object(r.a)({},t,a))}))},H=function(n,t){if(n.preventDefault(),"novy-zakaznik"===e){if((M.fName||M.lName)&&(delete M.fName,delete M.lName),1===z){var a=Object(c.a)(Object(c.a)({},M),{},{admin:M.admin||1});return void I(a,t)}I(M,t)}else{if(M.fName||M.lName?(delete M.fName,delete M.lName):M.fName&&M.lName||delete M.name,M.company){var r=Object(c.a)(Object(c.a)({},M),{},{company:Object(c.a)(Object(c.a)({},y.company),M.company)});return void P(r,y._id)}P(M,y._id)}};return Object(l.useEffect)((function(){V(Object(c.a)(Object(c.a)({},M),{},{name:y.fName+" "+y.lName}))}),[M.fName,M.lName]),Object(l.useEffect)((function(){"novy-zakaznik"!==e&&C(e)}),[e]),Object(l.useEffect)((function(){return function(){U(),k({target:{name:"lenses",value:{cylinder:[1001,1001,1001,1001],cylinderAxes:[1001,1001,1001,1001],diopters:[1001,1001,1001,1001],distance:[1001,1001,1001,1001],addition:[1001,1001,1001,1001],basis:[1001,1001,1001,1001],prism:[1001,1001,1001,1001]}}})}}),[]),Object(a.jsxs)("section",{children:[p&&Object(a.jsx)(Z.a,{loading:f,title:v,close:O}),Object(a.jsxs)("form",{children:[Object(a.jsx)(W,{children:Object(a.jsxs)(q.c,{children:[Object(a.jsx)("h1",{children:"Profil"}),Object(a.jsxs)("div",{children:[g&&Object(a.jsx)(X,{onClick:function(){return S(y._id)},type:"button",children:"Vymaza\u0165"}),!g&&Object(a.jsx)(Y,{onClick:function(e){return H(e,"profile")},children:"Vytvori\u0165 a prejs\u0165 na profil"}),!g&&!(1===z)&&Object(a.jsx)(Y,{onClick:function(e){return H(e,"order")},children:"Vytvori\u0165 a prejs\u0165 na objedn\xe1vku"}),Object(a.jsx)(Y,{onClick:function(e){return H(e,"customers")},children:g?"Ulo\u017ei\u0165 zmeny":"Vytvori\u0165"})]})]})}),Object(a.jsx)(m.a,{children:g?Object(a.jsx)(b.a,{user:y,isAdmin:t,isUpdating:g,isOptometrist:o,handleChange:T,handleParameterChange:B,handleCompanyChange:_}):Object(a.jsx)(L,{isAdmin:t,handleParameterChange:B,formToShow:z,switchFormButtons:A,toggleUserForm:F,user:y,handleChange:T,handleCompanyChange:_,resetUser:U})})]})]})}},56:function(e,n,t){"use strict";t.d(n,"a",(function(){return c}));var a=t(22);var r=t(33);function c(e){return function(e){if(Array.isArray(e))return Object(a.a)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Object(r.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}}}]);
//# sourceMappingURL=24.dce6c604.chunk.js.map