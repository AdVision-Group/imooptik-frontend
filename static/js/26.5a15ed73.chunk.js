(this.webpackJsonpimooptik=this.webpackJsonpimooptik||[]).push([[26],{244:function(e,n,t){"use strict";t.r(n);var a=t(2),r=t(31),c=t(13),i=t(5),l=t(1),o=t.n(l),s=t(20),d=t(88),u=t(19),j=t(3),m=t(56),b=t(128),h=t(6),O=t(7),v=t(28);function f(){var e=Object(h.a)(["\n    background-color: ",";\n    font-weight: 700;\n    margin-right: 2rem;\n"]);return f=function(){return e},e}function p(){var e=Object(h.a)(["\n    display: flex;\n    margin: 2rem 0;\n"]);return p=function(){return e},e}function x(){var e=Object(h.a)(["\n    margin-top: 2rem;\n    /* margin-bottom: 2rem; */\n"]);return x=function(){return e},e}var g=O.c.h3(x()),y=O.c.div(p()),C=Object(O.c)(v.a)(f(),(function(e){return e.isActive?"rgb(235, 172, 1)":"#000"})),k=function(e){var n=e.title,t=e.activeIndex,r=e.handleClick,c=e.items;return Object(a.jsxs)(o.a.Fragment,{children:[Object(a.jsx)(g,{children:n}),Object(a.jsx)(y,{children:c.map((function(e,n){return Object(a.jsx)(C,{isActive:t===n,onClick:function(e){return r(e,n)},children:e.name},n)}))})]})},w=t(91),N=t(53),P=t(105),U=t(59),z=t(55);function A(){var e=Object(h.a)(["\n    margin-top: 2rem;\n"]);return A=function(){return e},e}function S(){var e=Object(h.a)(["\n    display: grid;\n    grid-template-columns: 1fr 1fr;\n    max-width: 50rem;\n\n    div:not(:last-child) {\n        padding-right: 2rem;\n    }\n"]);return S=function(){return e},e}function F(){var e=Object(h.a)(["\n    input {\n        margin-bottom: 0 !important;\n    }\n"]);return F=function(){return e},e}function I(){var e=Object(h.a)(["\n    margin-bottom: 2rem;\n"]);return I=function(){return e},e}function M(){var e=Object(h.a)(["\n    padding: 2rem;\n    box-shadow: var(--container-shadow);\n    background-color: var(--container-background-color);\n\n"]);return M=function(){return e},e}function D(){var e=Object(h.a)(["\n    display: grid;\n    grid-template-columns: 1fr 50rem;\n    grid-gap: 2rem;\n    align-items: start;\n"]);return D=function(){return e},e}function E(){var e=Object(h.a)(["\n    margin-top: 1.5rem;\n    min-width: 16.5rem;\n    width: 100%;\n    background-color: var(--input-background-color);\n    color: var(--input-color);\n    border: none;\n    padding: .5rem .5rem .5rem 1rem;\n    font-size: inherit;\n    font-family: inherit;\n    display: block;\n\n        margin-bottom: 2rem;\n"]);return E=function(){return e},e}var T=O.c.select(E()),V=O.c.div(D()),B=O.c.div(M()),_=O.c.h2(I()),H=O.c.div(F()),J=O.c.div(S()),K=O.c.div(A()),L=function(e){var n,t,r,c,i,l,o,s,d,u,j,m,b,h,O,v,f,p,x,g,y=e.formToShow,C=e.switchFormButtons,A=e.toggleUserForm,S=e.user,F=e.handleChange,I=e.isAdmin,M=e.handleParameterChange,D=e.handleCompanyChange;return Object(a.jsxs)("div",{children:[I&&Object(a.jsx)(k,{items:C,title:"Ak\xe9ho u\u017eivatela chcete vytvori\u0165 ?",activeIndex:y,handleClick:A}),0===y?Object(a.jsxs)(V,{children:[Object(a.jsxs)(B,{children:[Object(a.jsx)("h2",{children:"Inform\xe1cie"}),Object(a.jsx)(N.a,{label:"Meno*",type:"text",name:"fName",value:null!==(n=S.fName)&&void 0!==n?n:"",handleChange:function(e){return F(e)}}),Object(a.jsx)(N.a,{label:"Priezvisko*",type:"text",name:"lName",value:null!==(t=S.lName)&&void 0!==t?t:"",handleChange:function(e){return F(e)}}),Object(a.jsx)(N.a,{label:"E-mail",type:"email",name:"email",value:null!==(r=S.email)&&void 0!==r?r:"",handleChange:function(e){return F(e)}}),Object(a.jsx)(N.a,{label:"Telef\xf3nne \u010d\xedslo*",type:"text",name:"phone",value:null!==(c=S.phone)&&void 0!==c?c:"",handleChange:function(e){return F(e)}}),Object(a.jsx)(w.a,{label:"D\xe1tum narodenia",example:"",children:Object(a.jsx)(N.a,{type:"date",name:"birthDate",value:S.birthDate,handleChange:function(e){return F(e)}})}),Object(a.jsxs)(K,{children:[Object(a.jsx)("h2",{children:"Parametre"}),Object(a.jsx)(P.a,{parameters:S.lenses,handleChange:M})]})]}),Object(a.jsxs)(B,{children:[Object(a.jsxs)("div",{children:[Object(a.jsx)("h2",{children:"Faktura\u010dn\xe9 \xfadaje"}),Object(a.jsxs)(J,{children:[Object(a.jsx)(H,{children:Object(a.jsx)(N.a,{label:"Ulica a \u010dislo domu",type:"text",name:"address",value:null!==(i=S.address)&&void 0!==i?i:"",handleChange:function(e){return F(e)}})}),Object(a.jsx)(H,{children:Object(a.jsx)(N.a,{label:"PS\u010c",type:"text",name:"psc",value:null!==(l=S.psc)&&void 0!==l?l:"",handleChange:function(e){return F(e)}})})]}),Object(a.jsxs)(J,{children:[Object(a.jsx)("div",{children:Object(a.jsx)(N.a,{label:"Mesto",type:"text",name:"city",value:null!==(o=S.city)&&void 0!==o?o:"",handleChange:function(e){return F(e)}})}),Object(a.jsx)("div",{children:Object(a.jsx)(N.a,{label:"Krajina",type:"text",name:"country",value:null!==(s=S.country)&&void 0!==s?s:"",handleChange:function(e){return F(e)}})})]})]}),Object(a.jsxs)(K,{children:[Object(a.jsx)("h2",{children:"Firemn\xe9 \xfadaje"}),Object(a.jsxs)(J,{children:[Object(a.jsx)(H,{children:Object(a.jsx)(N.a,{label:"I\u010cO",type:"text",name:"ico",value:null!==(d=S.company.ico)&&void 0!==d?d:"",handleChange:function(e){return D(e)}})}),Object(a.jsx)(H,{children:Object(a.jsx)(N.a,{label:"DI\u010c",type:"text",name:"dic",value:null!==(u=S.company.dic)&&void 0!==u?u:"",handleChange:function(e){return D(e)}})}),Object(a.jsx)(H,{children:Object(a.jsx)(N.a,{label:"I\u010c DPH",type:"text",name:"icdph",value:null!==(j=S.company.icdph)&&void 0!==j?j:"",handleChange:function(e){return D(e)}})}),Object(a.jsx)(H,{})]}),Object(a.jsxs)(J,{children:[Object(a.jsx)(H,{children:Object(a.jsx)(N.a,{label:"Ulica a \u010dislo domu",type:"text",name:"address",value:null!==(m=S.company.address)&&void 0!==m?m:"",handleChange:function(e){return D(e)}})}),Object(a.jsx)(H,{children:Object(a.jsx)(N.a,{label:"PS\u010c",type:"text",name:"psc",value:null!==(b=S.company.psc)&&void 0!==b?b:"",handleChange:function(e){return D(e)}})})]}),Object(a.jsxs)(J,{children:[Object(a.jsx)("div",{children:Object(a.jsx)(N.a,{label:"Mesto",type:"text",name:"city",value:null!==(h=S.company.city)&&void 0!==h?h:"",handleChange:function(e){return D(e)}})}),Object(a.jsx)("div",{children:Object(a.jsx)(N.a,{label:"Krajina",type:"text",name:"country",value:null!==(O=S.company.country)&&void 0!==O?O:"",handleChange:function(e){return D(e)}})})]})]})]})]}):Object(a.jsxs)(V,{children:[Object(a.jsxs)(B,{children:[Object(a.jsx)("h2",{children:"Inform\xe1cie"}),Object(a.jsx)(N.a,{label:"Meno*",type:"text",name:"fName",value:null!==(v=S.fName)&&void 0!==v?v:"",handleChange:function(e){return F(e)}}),Object(a.jsx)(N.a,{label:"Priezvisko*",type:"text",name:"lName",value:null!==(f=S.lName)&&void 0!==f?f:"",handleChange:function(e){return F(e)}}),Object(a.jsx)(N.a,{label:"E-mail",type:"email",name:"email",value:null!==(p=S.email)&&void 0!==p?p:"",handleChange:function(e){return F(e)}}),Object(a.jsx)(N.a,{label:"Heslo*",type:"password",name:"password",value:null!==(x=S.password)&&void 0!==x?x:"",handleChange:function(e){return F(e)}}),Object(a.jsx)(N.a,{label:"Potvr\u010f heslo*",type:"password",name:"confirmPassword",value:null!==(g=S.confirmPassword)&&void 0!==g?g:"",handleChange:function(e){return F(e)}})]}),Object(a.jsxs)(B,{children:[Object(a.jsx)(_,{children:"Admin privil\xe9gi\xe1"}),Object(a.jsxs)("div",{children:[Object(a.jsx)("h4",{children:"Predaj\u0148a na ktorej zamestnanec pracuje"}),Object(a.jsxs)(T,{name:"premises",value:S.premises,onChange:function(e){return F(e)},children:[Object(a.jsx)("option",{value:0,children:"Nezadan\xe9"}),z.g.map((function(e,n){if(0!==n)return Object(a.jsx)("option",{value:n,children:e},n)}))]})]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("h4",{children:"V\xfd\u0161ka administrativn\xfdch pr\xe1v"}),Object(a.jsxs)(T,{name:"admin",value:S.admin,onChange:function(e){return F(e)},children:[Object(a.jsx)("option",{value:1,children:"Zamestnanec"}),Object(a.jsx)("option",{value:2,children:"Ved\xfaci"})]})]}),Object(a.jsx)(K,{children:Object(a.jsx)(U.a,{label:"Optometrista",handleClick:function(){return F({target:{name:"optometrist",value:!S.optometrist}})},isActive:S.optometrist})})]})]})]})},Z=t(32),q=t(15);function G(){var e=Object(h.a)(["\n    margin-left: 2rem;\n    font-size: 1.4rem;\n    background-color: var(--primary-color);\n    font-weight: bolder;\n"]);return G=function(){return e},e}function Q(){var e=Object(h.a)(["\n    background-color: var(--color-red);\n    font-size: 1.4rem;\n    margin-left: 2rem;\n"]);return Q=function(){return e},e}function R(){var e=Object(h.a)(["\n    ","\n    padding-top: 3rem;\n    padding-bottom: 3rem;\n\n    color: var(--primary-text-color);\n"]);return R=function(){return e},e}var W=O.c.div(R(),q.g),X=Object(O.c)(v.a)(Q()),Y=Object(O.c)(v.a)(G());n.default=function(){var e=Object(j.i)().id,n=Object(l.useContext)(s.a),t=n.isAdmin,o=n.isOptometrist,h=Object(l.useContext)(u.a),O=h.closeModal,v=h.isLoading,f=h.message,p=h.showModal,x=h.setShowModal,g=h.getMessage,y=Object(l.useContext)(d.UserContext),C=y.isUpdating,k=y.user,w=y.getUser,N=y.handleChange,P=y.handleParameterChange,U=y.handleCompanyChange,z=y.updateUser,A=y.resetUser,S=y.formToShow,F=y.switchFormButtons,I=y.toggleUserForm,M=y.createUser,D=y.deleteUser,E=Object(l.useState)({}),T=Object(i.a)(E,2),V=T[0],B=T[1],_=function(e){var n=e.target,t=n.name,a=n.value;N(e),""!==a?B(Object(c.a)(Object(c.a)({},V),{},Object(r.a)({},t,a))):delete V[t]},H=function(e,n){var t=e.target,a=t.name,i=t.value,l=k.lenses[a];l[n]=i,P(e,n),B(Object(c.a)(Object(c.a)({},V),{},{lenses:Object(c.a)(Object(c.a)({},k.lenses),{},Object(r.a)({},a,l))}))},J=function(e){var n=e.target,t=n.name,a=n.value;if(U(e),""===a)return delete V.company[t],void(0===Object.keys(V.company).length&&delete V.company);B(Object(c.a)(Object(c.a)({},V),{},{company:Object(c.a)(Object(c.a)({},V.company),{},Object(r.a)({},t,a))}))};console.log(V);var K=function(n,t){if(n.preventDefault(),"novy-zakaznik"===e){if((V.fName||V.lName)&&(delete V.fName,delete V.lName),1===S){var a=Object(c.a)(Object(c.a)({},V),{},{admin:V.admin||1});return void M(a,t)}if(!(null===V||void 0===V?void 0:V.phone))return x(!0),void g("Tel. \u010d\xedslo je povinn\xe9");M(V,t)}else{if(V.fName||V.lName?(delete V.fName,delete V.lName):V.fName&&V.lName||delete V.name,V.company){var r=Object(c.a)(Object(c.a)({},V),{},{company:Object(c.a)(Object(c.a)({},k.company),V.company)});return void z(r,k._id)}z(V,k._id)}};return Object(l.useEffect)((function(){B(Object(c.a)(Object(c.a)({},V),{},{name:k.fName+" "+k.lName}))}),[V.fName,V.lName]),Object(l.useEffect)((function(){"novy-zakaznik"!==e&&w(e)}),[e]),Object(l.useEffect)((function(){return function(){A(),N({target:{name:"lenses",value:{cylinder:[1001,1001,1001,1001],cylinderAxes:[1001,1001,1001,1001],diopters:[1001,1001,1001,1001],distance:[1001,1001,1001,1001],addition:[1001,1001,1001,1001],basis:[1001,1001,1001,1001],prism:[1001,1001,1001,1001]}}})}}),[]),Object(a.jsxs)("section",{children:[p&&Object(a.jsx)(Z.a,{loading:v,title:f,close:O}),Object(a.jsxs)("form",{children:[Object(a.jsx)(W,{children:Object(a.jsxs)(q.c,{children:[Object(a.jsx)("h1",{children:"Profil"}),Object(a.jsxs)("div",{children:[C&&Object(a.jsx)(X,{onClick:function(){return D(k._id)},type:"button",children:"Vymaza\u0165"}),!C&&Object(a.jsx)(Y,{onClick:function(e){return K(e,"profile")},children:"Vytvori\u0165 a prejs\u0165 na profil"}),!C&&!(1===S)&&Object(a.jsx)(Y,{onClick:function(e){return K(e,"order")},children:"Vytvori\u0165 a prejs\u0165 na objedn\xe1vku"}),Object(a.jsx)(Y,{onClick:function(e){return K(e,"customers")},children:C?"Ulo\u017ei\u0165 zmeny":"Vytvori\u0165"})]})]})}),Object(a.jsx)(m.a,{children:C?Object(a.jsx)(b.a,{user:k,isAdmin:t,isUpdating:C,isOptometrist:o,handleChange:_,handleParameterChange:H,handleCompanyChange:J,isCustomer:0===k.admin}):Object(a.jsx)(L,{isAdmin:t,handleParameterChange:H,formToShow:S,switchFormButtons:F,toggleUserForm:I,user:k,handleChange:_,handleCompanyChange:J,resetUser:A})})]})]})}},57:function(e,n,t){"use strict";t.d(n,"a",(function(){return c}));var a=t(22);var r=t(33);function c(e){return function(e){if(Array.isArray(e))return Object(a.a)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Object(r.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}}}]);
//# sourceMappingURL=26.5a15ed73.chunk.js.map