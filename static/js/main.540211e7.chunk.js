(this.webpackJsonpimooptik=this.webpackJsonpimooptik||[]).push([[4],{14:function(n,e,t){"use strict";t.d(e,"b",(function(){return f})),t.d(e,"a",(function(){return b})),t.d(e,"e",(function(){return p})),t.d(e,"g",(function(){return h})),t.d(e,"f",(function(){return m})),t.d(e,"d",(function(){return j})),t.d(e,"c",(function(){return g}));var r=t(5),o=t(6);function a(){var n=Object(r.a)(["\n    max-width: 125rem;\n    display: flex;\n    justify-content: space-between;\n    @media all and (max-width: 600px) {\n        flex-wrap: wrap;\n    }\n"]);return a=function(){return n},n}function c(){var n=Object(r.a)(["\n    ",";    \n    /* margin-bottom: 3rem; */\n    /* max-width: 125rem; */\n"]);return c=function(){return n},n}function i(){var n=Object(r.a)(["\n    cursor: pointer;\n    position: absolute;\n    z-index: 9999;\n    bottom: 3rem;\n    right: 3rem; \n    width: 5rem;\n    height: 5rem;\n\n    display: flex;\n    justify-content: center;\n    align-items: center;\n\n    background-color: var(--primary-color);\n    font-size: 3rem;\n    color: var(--button-font-color);\n    border-radius: 50%;\n"]);return i=function(){return n},n}function u(){var n=Object(r.a)(["\n    padding: 0 3rem;\n\n    @media all and (max-width: 800px) {\n        padding: 0 2rem;\n        @media all and (max-width: 500px) {\n            padding: 0 1.5rem;\n        }\n    }\n"]);return u=function(){return n},n}function s(){var n=Object(r.a)(["\n    *, *::before, *::after {\n        padding: 0;\n        margin: 0;\n        box-sizing: border-box;\n        font-family: 'Titillium Web', sans-serif;\n    }\n\n    html {\n        font-size: 62.5%;\n    }\n\n    body {\n        font-size: 1.6rem;\n        overflow: hidden;\n        background-color: var(--body-background-primary-color);\n    }\n\n    section, form {\n        display: flex;\n        flex-direction: column;\n        height: 100vh;\n        background-color: var(--background-primary-color);\n        \n    }\n\n    input, button {\n        outline: none;\n\n        &:focus {\n            outline: none;\n        }\n\n        ::-webkit-calendar-picker-indicator {\n            filter: var(--calendar-indicator);\n        }\n    }\n\n    a {\n        text-decoration: none;\n        color: #000;\n        display:block;\n    }\n\n    button {\n        font-size: inherit;\n        font-family: inherit;\n        border: none;\n        background-color: transparent;\n    }\n\n"]);return s=function(){return n},n}function l(){var n=Object(r.a)(["\n    :root {\n        --primary-color: #c28e01;\n        --secondary-color: #000;\n        --primary-text-color: #c7c6c6;\n        --secondary-text-color: #a0a0a0;\n        --body-background-primary-color: #252525;\n        --background-primary-color: #2c2c2c;\n\n        --navlink-color: #c7c6c6;\n        --table-head-color: #c7c6c6;\n        --table-border: 1px solid rgba(0,0,0,0.1);\n\n        --appointment-container-border: none;\n        --appointment-container-background-color: #333;\n        --appointment-container-text-color: #ffffff;\n\n\n        --container-shadow: none;\n        --container-background-color: #252525;\n        \n        --container-background-table-row: #252525;\n        --container-background-table-row-odd: #2c2c2c;\n\n        --backbutton-color: #c28e01;\n        --dropdownbutton-background-color: #121212;\n        --dropdownbutton-background-color-odd: #121212;\n\n        --dropdownbutton-color: #c28e01;\n        --dropdown-background-color: #121212;\n        --dropdown-hover-background-color: #181818;\n\n        --input-background-color: #121212;\n        --input-color: #c5c4c4;\n\n        --image-background-color: #252525;\n\n\n        --button-font-color: #fff;\n        --secondary-button-font-color: #c28e01;\n\n        --color-red: #d63636;\n        --color-green: #32AA5F;\n        --color-black: #000;\n\n        --calendar-indicator: invert(1);\n    }\n"]);return l=function(){return n},n}function d(){var n=Object(r.a)(["\n    :root {\n        --primary-color: #ebac01;\n        --secondary-color: #000;\n        --primary-text-color: #000000;\n        --secondary-text-color: rgba(0, 0, 0, 0.822);\n        --body-background-primary-color: #f5f5f5;\n        --background-primary-color: #fff;\n\n        --navlink-color: #ffffff;\n        --table-head-color: #ffffff;\n        --table-border: 1px solid rgba(0,0,0,0.1);\n\n        --appointment-container-border: none;\n        --appointment-container-background-color: #eee;\n        --appointment-container-text-color: #fff;\n\n        --container-shadow: 0 0 1.5rem 0 rgba(0,0,0,.08);\n        --container-background-color: #fff;\n\n        --container-background-table-row: #f5f5f5;\n        --container-background-table-row-odd: #fff;\n\n\n        --backbutton-color: #ebac01;\n        --dropdownbutton-background-color: #f5f5f5;\n        --dropdownbutton-background-color-odd: #fff;\n        --dropdownbutton-color: #ebac01;\n        --dropdown-background-color: #fff;\n        --dropdown-hover-background-color: #f5f5f5;\n\n        --input-background-color: #f5f5f5;\n        --input-color: #000;\n\n        --image-background-color: none;\n\n        --button-font-color: #fff;\n        --secondary-button-font-color: #000;\n\n        --color-red: #DD4C4C;\n        --color-green: #32AA5F;\n        --color-black: #000;\n\n        --calendar-indicator: invert(-1);\n\n    }\n"]);return d=function(){return n},n}var f=Object(o.a)(d()),b=Object(o.a)(l()),p=Object(o.a)(s()),h=Object(o.b)(u()),m=o.c.button(i()),j=o.c.div(c(),h),g=o.c.div(a())},18:function(n,e,t){"use strict";t.d(e,"a",(function(){return c}));var r=t(2),o=t(10),a=t(1),c=Object(a.createContext)({isLoading:!1,showModal:!1,message:"",closeModal:function(){},getMessage:function(){},setIsLoading:function(){},setShowModal:function(){}});e.b=function(n){var e=n.children,t=Object(a.useState)(!1),i=Object(o.a)(t,2),u=i[0],s=i[1],l=Object(a.useState)(!1),d=Object(o.a)(l,2),f=d[0],b=d[1],p=Object(a.useState)(""),h=Object(o.a)(p,2),m=h[0],j=h[1];return Object(r.jsx)(c.Provider,{value:{isLoading:u,showModal:f,message:m,closeModal:function(){s(!1),b(!1),j("")},getMessage:function(n){j(n)},setIsLoading:s,setShowModal:b},children:e})}},19:function(n,e,t){"use strict";t.d(e,"a",(function(){return h}));var r=t(2),o=t(7),a=t.n(o),c=t(12),i=t(10),u=t(1),s=t(18),l=function(n){var e=n.email,t=n.password,r=new Headers;r.append("Content-Type","application/json");var o={method:"POST",headers:r,body:JSON.stringify({email:e,password:t}),redirect:"follow"};return fetch("".concat("http://195.110.58.166:8080","/api/auth/login"),o)},d=function(n){var e=n.name,t=n.email,r=n.password,o=new Headers;o.append("Content-Type","application/json");var a={method:"POST",headers:o,body:JSON.stringify({email:t,password:r,name:e}),redirect:"follow"};return fetch("".concat("http://195.110.58.166:8080","/api/auth/register"),a)},f=function(n){var e=new Headers;e.append("Content-Type","application/json");var t={method:"POST",headers:e,body:JSON.stringify({email:n}),redirect:"follow"};return fetch("".concat("http://195.110.58.166:8080","/api/auth/forgot"),t)},b=function(n,e){var t=new Headers;t.append("Content-Type","application/json");var r={method:"POST",headers:t,body:JSON.stringify({resetSecret:n,password:e}),redirect:"follow"};return fetch("".concat("http://195.110.58.166:8080","/api/auth/reset"),r)},p=function(n){var e=new Headers;e.append("auth-token",n),e.append("Content-Type","application/json");var t={method:"GET",headers:e,redirect:"follow"};return fetch("".concat("http://195.110.58.166:8080","/api/user/profile"),t)},h=Object(u.createContext)({currentUser:null,isAdmin:!1,isOptometrist:!1,token:null,stats:null,logIn:function(){},logOut:function(){},register:function(){},handleResetPassword:function(){},handleCreatingNewPassword:function(){}});e.b=function(n){var e=n.children,t=Object(u.useContext)(s.a),o=t.setShowModal,m=t.setIsLoading,j=t.getMessage,g=t.closeModal,x=Object(u.useState)(null),v=Object(i.a)(x,2),O=v[0],k=v[1],w=Object(u.useState)(null),y=Object(i.a)(w,2),S=y[0],z=y[1],C=Object(u.useState)(!1),T=Object(i.a)(C,2),P=T[0],I=T[1],M=Object(u.useState)(!1),N=Object(i.a)(M,2),Z=N[0],F=N[1],L=Object(u.useState)(null),A=Object(i.a)(L,2),E=A[0],H=A[1],J=function(n){n.admin>1?I(!0):I(!1)},B=function(){var n=Object(c.a)(a.a.mark((function n(e,t){var r,c;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o(!0),m(!0),e){n.next=7;break}return console.log("Ziadny e-mail"),o(!1),m(!1),n.abrupt("return");case 7:if(t){n.next=12;break}return console.log("Ziadne heslo"),o(!1),m(!1),n.abrupt("return");case 12:return n.prev=12,n.next=15,l({email:e,password:t});case 15:return r=n.sent,n.next=18,r.json();case 18:c=n.sent,j(c.message),m(!1),c.user&&(k(c.user),z(c.authToken),localStorage.setItem("mptkthtkn",c.authToken),J(c.user),g()),n.next=29;break;case 24:n.prev=24,n.t0=n.catch(12),console.log(n.t0),j("Nieco sa pokazilo"),m(!1);case 29:case"end":return n.stop()}}),n,null,[[12,24]])})));return function(e,t){return n.apply(this,arguments)}}(),D=function(){var n=Object(c.a)(a.a.mark((function n(e,t,r,c){var i,u;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o(!0),m(!0),e){n.next=7;break}return console.log("Ziadne meno"),o(!1),m(!1),n.abrupt("return");case 7:if(t){n.next=12;break}return console.log("Ziadny e-mail"),o(!1),m(!1),n.abrupt("return");case 12:if(r){n.next=17;break}return console.log("Ziadne heslo"),o(!1),m(!1),n.abrupt("return");case 17:if(r===c){n.next=22;break}return console.log("hesla sa nezhoduju"),o(!1),m(!1),n.abrupt("return");case 22:return n.prev=22,n.next=25,d({name:e,email:t,password:r});case 25:return i=n.sent,n.next=28,i.json();case 28:u=n.sent,m(!1),j(u.messageSK),n.next=38;break;case 33:n.prev=33,n.t0=n.catch(22),console.log(n.t0),j("Nieco sa pokazilo"),m(!1);case 38:case"end":return n.stop()}}),n,null,[[22,33]])})));return function(e,t,r,o){return n.apply(this,arguments)}}(),K=function(){var n=Object(c.a)(a.a.mark((function n(e){var t,r;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o(!0),m(!0),e){n.next=7;break}return console.log("Ziadny e-mail"),o(!1),m(!1),n.abrupt("return");case 7:return n.prev=7,n.next=10,f(e);case 10:return t=n.sent,n.next=13,t.json();case 13:r=n.sent,j(r.messageSK),m(!1),n.next=23;break;case 18:n.prev=18,n.t0=n.catch(7),console.log(n.t0),j("Nieco sa pokazilo"),m(!1);case 23:case"end":return n.stop()}}),n,null,[[7,18]])})));return function(e){return n.apply(this,arguments)}}(),U=function(){var n=Object(c.a)(a.a.mark((function n(e,t){var r,c;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o(!0),m(!0),e){n.next=7;break}return console.log("Ziadny reset token"),o(!1),m(!1),n.abrupt("return");case 7:if(t){n.next=12;break}return console.log("Ziadne heslo"),o(!1),m(!1),n.abrupt("return");case 12:return n.prev=12,n.next=15,b(e,t);case 15:return r=n.sent,n.next=18,r.json();case 18:c=n.sent,j(c.messageSK),m(!1),n.next=28;break;case 23:n.prev=23,n.t0=n.catch(12),console.log(n.t0),j("Nieco sa pokazilo"),m(!1);case 28:case"end":return n.stop()}}),n,null,[[12,23]])})));return function(e,t){return n.apply(this,arguments)}}(),G=new Headers;G.append("auth-token",S),G.append("Content-Type","application/json");var R=function(){var n=Object(c.a)(a.a.mark((function n(){var e,t,r;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o(!0),m(!0),e={method:"GET",headers:G,redirect:"follow"},n.prev=3,n.next=6,fetch("".concat("http://195.110.58.166:8080","/api/admin/stats/collectionCounts"),e);case 6:return t=n.sent,n.next=9,t.json();case 9:r=n.sent,H(r),n.next=18;break;case 13:n.prev=13,n.t0=n.catch(3),console.log(n.t0),j("Nieco sa pokazilo"),m(!1);case 18:case"end":return n.stop()}}),n,null,[[3,13]])})));return function(){return n.apply(this,arguments)}}();return Object(u.useEffect)((function(){localStorage.getItem("mptkthtkn")&&z(localStorage.getItem("mptkthtkn"))}),[]),Object(u.useEffect)((function(){S&&(function(){var n=Object(c.a)(a.a.mark((function n(){var e,t;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,p(S);case 2:return e=n.sent,n.next=5,e.json();case 5:(t=n.sent).user&&(k(t.user),J(t.user),t.user.optometrist?F(!0):F(!1));case 7:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}()(),R())}),[S]),Object(r.jsx)(h.Provider,{value:{token:S,currentUser:O,isAdmin:P,isOptometrist:Z,stats:E,logIn:B,logOut:function(){localStorage.removeItem("mptkthtkn"),k(null),z(null)},register:D,handleResetPassword:K,handleCreatingNewPassword:U},children:e})}},28:function(n,e,t){"use strict";var r=t(21),o=t(2),a=t(30),c=(t(1),t(5));function i(){var n=Object(c.a)(["\n    cursor: pointer;\n    background-color: #000;\n    color: #fff;\n    padding: .8rem 3rem;\n    font-size: inherit;\n    font-family: inherit;\n    border-radius: .2rem;\n    border: none;\n    outline: none;\n\n    &:focus {\n        outline: none\n    }\n\n    @media all and (max-width: 500px) {\n        padding: 0.5rem 1.5rem;\n        font-size: 1.4rem;\n    }\n"]);return i=function(){return n},n}var u=t(6).c.button(i());e.a=function(n){var e=n.children,t=Object(a.a)(n,["children"]);return Object(o.jsx)(u,Object(r.a)(Object(r.a)({},t),{},{children:e}))}},32:function(n,e,t){"use strict";t.d(e,"a",(function(){return m}));var r=t(2),o=(t(1),t(20)),a=t.n(o),c=t(28),i=t(34),u=t(5),s=t(6);function l(){var n=Object(u.a)(["\n    color: var(--primary-text-color);\n    font-size: 2.1rem;\n    font-weight: 700;\n    text-align: center;\n\n    margin-bottom: 2rem;\n"]);return l=function(){return n},n}function d(){var n=Object(u.a)(["\n    max-width: 50rem;\n\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n\n    padding: 2rem;\n\n    border-radius: .5rem;\n\n    background-color: var(--background-primary-color);\n"]);return d=function(){return n},n}function f(){var n=Object(u.a)(["\n    position: fixed;\n    left: 0;\n    right: 0;\n    top: 0;\n    bottom: 0;\n    z-index: 999999;\n    min-height: 100vh;\n\n    display: flex;\n    align-items: center;\n    justify-content: center;\n\n    background-color: rgba(0,0,0,0.3);\n"]);return f=function(){return n},n}var b=s.c.div(f()),p=s.c.div(d()),h=s.c.div(l());function m(n){var e=n.loading,t=n.title,o=n.close;return a.a.createPortal(Object(r.jsx)(b,{children:e?Object(r.jsx)(p,{children:Object(r.jsx)(i.a,{})}):Object(r.jsxs)(p,{children:[Object(r.jsx)(h,{children:t}),Object(r.jsx)(c.a,{onClick:o,children:"Zavrie\u0165"})]})}),document.getElementById("portal"))}},34:function(n,e,t){"use strict";var r=t(2),o=(t(1),t(5));function a(){var n=Object(o.a)(["\n    border: 5px solid transparent;\n    border-top: 5px solid rgb(256,172,1);\n    border-radius: 50%;\n    width: 38px;\n    height: 38px;\n    animation: spin 800ms linear infinite;\n\n    @keyframes spin {\n        0% { transform: rotate(0deg); }\n        100% { transform: rotate(360deg); }\n    }\n"]);return a=function(){return n},n}var c=t(6).c.div(a());e.a=function(){return Object(r.jsx)(c,{})}},51:function(n,e,t){"use strict";t.r(e);var r=t(2),o=t(1),a=t.n(o),c=t(20),i=t.n(c),u=t(10),s=t(19),l=t(14),d=t(29),f=t(3),b=t(32),p=t(38),h=Object(o.lazy)((function(){return t.e(20).then(t.bind(null,235))})),m=Object(o.lazy)((function(){return Promise.all([t.e(36),t.e(33)]).then(t.bind(null,238))})),j=Object(o.lazy)((function(){return t.e(19).then(t.bind(null,243))})),g=function(){var n=Object(o.useContext)(s.a).currentUser,e=Object(o.useState)("light"),t=Object(u.a)(e,2),c=t[0],i=t[1];return Object(r.jsxs)(a.a.Fragment,{children:["dark"===c?Object(r.jsx)(l.a,{}):Object(r.jsx)(l.b,{}),Object(r.jsx)(l.e,{}),Object(r.jsx)(o.Suspense,{fallback:Object(r.jsx)(b.a,{loading:!0}),children:Object(r.jsx)(d.a,{basename:"/",children:Object(r.jsxs)(f.e,{children:[Object(r.jsx)(f.c,{path:"/prihlasenie",render:function(){return n?Object(r.jsx)(f.b,{to:"/dashboard"}):Object(r.jsx)(h,{})}}),Object(r.jsx)(f.c,{path:"/dashboard",render:function(){return n?Object(r.jsx)(m,{}):Object(r.jsx)(f.b,{to:"/prihlasenie"})}}),Object(r.jsx)(f.c,{path:"/reset/:token",component:j}),n?Object(r.jsx)(f.b,{to:"/dashboard/rezervacie"}):Object(r.jsx)(f.b,{to:"/prihlasenie"})]})})}),Object(r.jsx)(l.f,{onClick:function(){return i((function(n){return"dark"===n?"light":"dark"}))},children:Object(r.jsx)(p.a,{})})]})},x=function(n){n&&n instanceof Function&&t.e(37).then(t.bind(null,230)).then((function(e){var t=e.getCLS,r=e.getFID,o=e.getFCP,a=e.getLCP,c=e.getTTFB;t(n),r(n),o(n),a(n),c(n)}))},v=t(18);i.a.render(Object(r.jsx)(a.a.StrictMode,{children:Object(r.jsx)(v.b,{children:Object(r.jsx)(s.b,{children:Object(r.jsx)(g,{})})})}),document.getElementById("root")),x()}},[[51,5,7]]]);
//# sourceMappingURL=main.540211e7.chunk.js.map