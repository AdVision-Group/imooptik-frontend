(this.webpackJsonpimooptik=this.webpackJsonpimooptik||[]).push([[15],{128:function(n,e){function t(n,e){if((n=n.replace(/\s+/g,""))===(e=e.replace(/\s+/g,"")))return 1;if(n.length<2||e.length<2)return 0;for(var t=new Map,r=0;r<n.length-1;r++){var i=n.substring(r,r+2),c=t.has(i)?t.get(i)+1:1;t.set(i,c)}for(var o=0,a=0;a<e.length-1;a++){var l=e.substring(a,a+2),u=t.has(l)?t.get(l):0;u>0&&(t.set(l,u-1),o++)}return 2*o/(n.length+e.length-2)}n.exports={compareTwoStrings:t,findBestMatch:function(n,e){if(!function(n,e){return"string"===typeof n&&(!!Array.isArray(e)&&(!!e.length&&!e.find((function(n){return"string"!==typeof n}))))}(n,e))throw new Error("Bad arguments: First argument should be a string, second should be an array of strings");for(var r=[],i=0,c=0;c<e.length;c++){var o=e[c],a=t(n,o);r.push({target:o,rating:a}),a>r[i].rating&&(i=c)}var l=r[i];return{ratings:r,bestMatch:l,bestMatchIndex:i}}}},233:function(n,e,t){"use strict";t.r(e);var r=t(2),i=t(21),c=t(10),o=t(1),a=t.n(o),l=t(3),u=t(18),d=t(19),s=t(54),b=t(32),j=t(5),v=t(6),f=t(28);function m(){var n=Object(j.a)(["\n    margin-top: 2rem;\n    font-size: 1.4rem;\n    display: block;\n    margin-left: 2rem;;\n"]);return m=function(){return n},n}function h(){var n=Object(j.a)(["\n    margin-top: 2rem;\n    font-size: 1.4rem;\n    display: block;\n    background-color: ",";\n    font-weight: bolder;\n    color: ",";\n"]);return h=function(){return n},n}function O(){var n=Object(j.a)(["\n    display: flex;\n"]);return O=function(){return n},n}function p(){var n=Object(j.a)(["\n    padding: 2rem;\n    box-shadow: var(--container-shadow);\n    background-color: var(--container-background-color);\n\n    &:not(:last-child) {\n        /* margin-right: 2rem; */\n    }\n\n    h3  { \n        font-size: 1.8rem;\n    }\n\n    p {\n        font-size: 1.4rem;\n        opacity: .83;\n\n        span {\n            font-weight: bolder;\n        }\n    }\n"]);return p=function(){return n},n}var g=v.c.div(p()),x=v.c.div(O()),k=Object(v.c)(f.a)(h(),(function(n){return n.isActive?"var(--primary-color)":"var(--body-background-primary-color)"}),(function(n){return n.isActive?"var(--button-font-color)":"var(--primary-color)"})),y=Object(v.c)(f.a)(m()),w=function(n){var e=n.calendar,t=void 0===e?{}:e,i=n.selectedCalendar,c=void 0===i?null:i,o=n.handleShowUpClick,a=void 0===o?function(){}:o,l=n.handleUpdateClick,u=void 0===l?function(){}:l;return Object(r.jsxs)(g,{children:[Object(r.jsx)("h3",{children:null===t||void 0===t?void 0:t.name}),Object(r.jsxs)("p",{children:["Interval medzi vy\u0161etreniami: ",Object(r.jsxs)("span",{children:[null===t||void 0===t?void 0:t.interval,"min"]})]}),Object(r.jsxs)("p",{children:["Po\u010det min\xfat pred rezerv\xe1ciou: ",Object(r.jsxs)("span",{children:[null===t||void 0===t?void 0:t.allowMinutesBefore,"min"]})]}),Object(r.jsxs)("p",{children:["Ko\u013eko dn\xed dopredu sa da objedna\u0165: ",Object(r.jsx)("span",{children:null===t||void 0===t?void 0:t.daysIntoFuture})]}),Object(r.jsxs)(x,{children:[Object(r.jsx)(k,{isActive:c===(null===t||void 0===t?void 0:t._id),onClick:a,children:"Zobrazi\u0165"}),Object(r.jsx)(y,{onClick:u,children:"Upravi\u0165"})]})]})},C=t(7),D=t.n(C),z=t(12),B=t(57),S=t(53),M=function(n,e){if(!isNaN(n)){var t=n*e,r=Math.floor(t/60);return A(r,t%60)}},A=function(n,e){return n<10&&0===e?"0".concat(n,"/0").concat(e):n<10?"0".concat(n,"/").concat(e):0===e?"".concat(n,"/0").concat(e):"".concat(n,"/").concat(e)},N=function(n){if(n)return n.replace("/",":")},I=function(n,e,t,r,i){if(!(null===n||void 0===n?void 0:n.booked))return null;var c=Object.keys(null===n||void 0===n?void 0:n.booked).find((function(n){var e=n.split("/").map((function(n){return Number(n)}));return e[0]===t&&e[1]===r+1&&e[2]===i&&n}));if(!c)return null;var o=M(e,n.interval),a=n.booked[c].find((function(n){return n===o}));return a?{time:a,date:n.booked[c],dueDate:"".concat(a,":").concat(c)}:null},E=Object(o.createContext)({timeline:null,getDayData:function(){},refetchWeekCalendar:function(){},cancelUserBooking:function(){}}),T=function(n){var e=n.children,t=n.calendar,i=n.month,a=n.year,l=Object(S.b)("api/booking/calendars",t,!t),s=l.response,b=l.isLoading,j=l.refetch,v=Object(o.useContext)(u.a),f=v.closeModal,m=v.setIsLoading,h=v.setShowModal,O=v.getMessage,p=Object(o.useContext)(d.a).token,g=Object(o.useState)(0),x=Object(c.a)(g,2),k=x[0],y=x[1],w=Object(o.useState)(null),C=Object(c.a)(w,2),A=C[0],N=C[1],T=new Headers;T.append("auth-token",p),T.append("Content-Type","application/json");var U=function(){var n=Object(z.a)(D.a.mark((function n(e,t,r){var i,c,o;return D.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return h(!0),m(!0),i={method:"POST",headers:T,redirect:"follow"},n.prev=3,n.next=6,fetch("".concat("http://195.110.58.166:8080","/api/booking/userBookings/").concat(e,"/cancel"),i);case 6:return c=n.sent,n.next=9,c.json();case 9:(o=n.sent).userBooking&&(f(),r(),setTimeout((function(){t()}),200)),O(o.messageSK),m(!1),n.next=20;break;case 15:n.prev=15,n.t0=n.catch(3),console.log(n.t0),O("Nie\u010do sa pokazilo"),m(!1);case 20:case"end":return n.stop()}}),n,null,[[3,15]])})));return function(e,t,r){return n.apply(this,arguments)}}();return Object(o.useEffect)((function(){if(!b){30===s.calendar.interval&&y(48),60===s.calendar.interval&&y(24);var n=function(n,e,t){var r=n.filter((function(n){return"X"!==n})).map((function(n){return Number(n.split("/")[0])})),i=e.filter((function(n){return"X"!==n})).map((function(n){return Number(n.split("/")[0])})),c=e.filter((function(n){return"X"!==n})).map((function(n){return Number(n.split("/")[1])})),o=Math.min.apply(Math,Object(B.a)(r)),a=Math.max.apply(Math,Object(B.a)(i)),l=Math.max.apply(Math,Object(B.a)(c));return Object(B.a)(Array(30===t?48:24)).map((function(n,e){var r=M(e,t),i=r.split("/").map((function(n){return Number(n)}));return o>i[0]||a<i[0]||a===i[0]&&l!==i[1]&&30===i[1]?null:r})).filter((function(n){return null!==n}))}(s.calendar.startTimes,s.calendar.endTimes,s.calendar.interval);N(n)}}),[b]),Object(r.jsx)(E.Provider,{value:{timeline:A,getDayData:function(n,e,t){if(t){var r=t.startTimes.filter((function(n){return"X"!==n})).map((function(n){return Number(n.split("/")[0])})),c=Math.min.apply(Math,Object(B.a)(r));return Object(B.a)(Array(k)).map((function(r,o){var l,u,d=null===(l=t.startTimes[e])||void 0===l?void 0:l.split("/").map((function(n){return Number(n)})),s=null===(u=t.endTimes[e])||void 0===u?void 0:u.split("/").map((function(n){return Number(n)})),b=M(o,t.interval),j=b.split("/").map((function(n){return Number(n)}));if(!(c>j[0])){if(d[0]>c&&d[0]>j[0])return{empty:!0};if(d[0]>c&&d[0]>j[0]&&d[1]!==j[1]&&30===j[1])return{empty:!0};if(!(s[0]<j[0])&&"X"!==t.startTimes[e]&&(s[0]!==j[0]||s[1]===j[1]||30!==j[1]))return{id:o,time:b,userBookings:I(t,o,n,i,a)}}})).filter((function(n){return void 0!==n}))}},refetchWeekCalendar:j,cancelUserBooking:U},children:e})},U=t(67);function P(){var n=Object(j.a)(["\n    height: 8rem;\n    display: flex;\n    justify-content: space-between;\n    align-items: flex-end;\n    border: 1px solid rgba(0,0,0,.1);\n    padding: .6rem 1rem;\n\n    transition: all .15s;\n\n    p {\n        span {\n            width: 3rem;\n            height: 3rem;\n            display: flex;\n            justify-content: center;\n            align-items: center;\n            border-radius: 50%;\n            background-color: var(--body-background-primary-color);\n            color: var(--primary-color);\n            font-weight: bolder;\n            font-size: 1.5rem;\n        }\n    }\n\n    ",";\n\n\n\n"]);return P=function(){return n},n}function H(){var n=Object(j.a)(["\n    cursor: default;\n    height: 8rem;\n    background-color: var(--color-black);\n    color: var(--table-head-color);\n    display: flex;\n    align-items:center;\n    justify-content:center;\n    font-weight: 700;\n"]);return H=function(){return n},n}function F(){var n=Object(j.a)(["\n    width: 100%;\n    display: grid;\n    grid-template-columns: repeat(7, 1fr);\n    border: 1px solid rgba(0,0,0,.1);\n    min-width: 55rem;\n"]);return F=function(){return n},n}var _=v.c.div(F()),L=v.c.div(H()),K=v.c.div(P(),(function(n){return n.faded?"opacity: .6":"    \n        cursor: pointer;\n        &:hover {\n        background-color: var(--body-background-primary-color);\n        }\n    "})),W=function(n){var e=n.calendar,t=n.month,i=n.year,a=n.handleCalendarBlockClick;(new Date).setDate(1);var l=new Date(i,t+1,0).getDate(),u=new Date(i,t,0).getDate(),d=new Date(i,t,0).getDay(),s=7-new Date(i,t+1,0).getDay(),b=Object(S.b)("api/booking/calendars",e,!e),j=b.response,v=b.isLoading,f=b.refetch,m=Object(o.useState)([]),h=Object(c.a)(m,2),O=h[0],p=h[1],g=Object(o.useState)([]),x=Object(c.a)(g,2),k=x[0],y=x[1],w=Object(o.useState)([]),C=Object(c.a)(w,2),D=C[0],z=C[1];return Object(o.useEffect)((function(){f()}),[t]),Object(o.useEffect)((function(){e&&f()}),[e]),Object(o.useEffect)((function(){if(!v&&(null===j||void 0===j?void 0:j.calendar)){var n=Object(U.n)(d),e=Object(U.l)(l),r=Object(U.m)(s),c=Object(U.k)(e,j.calendar,t,i);p(n),y(c),z(r)}}),[v]),Object(o.useEffect)((function(){return function(){p([]),y([]),z([])}}),[]),Object(r.jsxs)(_,{children:[U.c.map((function(n,e){return Object(r.jsx)(L,{children:n},e)})),O.map((function(n,e){return Object(r.jsxs)(K,{faded:!0,children:[Object(r.jsx)("p",{}),Object(r.jsx)("p",{children:u-e})]},e)})),k.map((function(n,e){var t=n.dayNumber,i=n.bookings;return Object(r.jsxs)(K,{onClick:function(){return a(n)},children:[Object(r.jsx)("p",{children:i&&Object(r.jsx)("span",{children:i.length})}),Object(r.jsx)("p",{children:t})]},e)})),D.map((function(n,e){return Object(r.jsxs)(K,{faded:!0,children:[Object(r.jsx)("p",{}),Object(r.jsx)("p",{children:e+1})]},e)}))]})},V=t(69),X=t(20),Z=t.n(X),q=t(34),R=t(55);function Y(){var n=Object(j.a)(["\n    "," {\n        margin-bottom: 3rem;\n    }\n"]);return Y=function(){return n},n}function J(){var n=Object(j.a)(["\n    display: block;\n    background-color: var(--primary-color);\n    font-weight: bolder;\n"]);return J=function(){return n},n}function G(){var n=Object(j.a)(["\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    margin-bottom: 2rem;\n"]);return G=function(){return n},n}function Q(){var n=Object(j.a)(["\n    padding: 1rem;\n    background-color: var(--body-background-primary-color);\n\n    h3 {\n        font-size: 1.3rem;\n        font-weight: lighter;\n        opacity: .8;\n        margin-bottom: .5rem;\n    }\n\n    p {\n        font-size: 1.8rem;\n        margin-left: 2rem;\n    }\n"]);return Q=function(){return n},n}function $(){var n=Object(j.a)(["\n    display: grid;\n    grid-template-columns: 1fr 1fr;\n    align-items: start;\n    grid-gap: 3rem;\n    margin-bottom: 3rem;\n\n"]);return $=function(){return n},n}function nn(){var n=Object(j.a)(["\n    width: 100%;\n    height: 100%;\n\n    position: fixed;\n    left: 0;\n    right: 0;\n    z-index: 99999;\n\n    border: none;\n    outline: none;\n    opacity: 0;\n\n    &:focus {\n        outline: none\n    }\n"]);return nn=function(){return n},n}function en(){var n=Object(j.a)(["\n    width:100%;\n    max-width: 65rem;\n    max-height: 60rem;\n\n    overflow-y: scroll;\n\n    padding: 2rem;\n    border-radius: .5rem;\n    background-color: var(--background-primary-color);\n    color: var(--primary-text-color);\n\n    position: relative;\n    z-index: 999999; \n\n    h2{ \n        margin-bottom: 2rem;\n        /* text-align: center; */\n    }\n\n    ::-webkit-scrollbar {\n        width: 10px;\n    }\n\n    /* Track */\n    ::-webkit-scrollbar-track {\n        background:  var(--background-primary-color);\n    }\n\n    /* Handle */\n    ::-webkit-scrollbar-thumb {\n        background: var(--primary-color);\n    }\n\n    /* Handle on hover */\n    ::-webkit-scrollbar-thumb:hover {\n        background: var(--primary-color);\n    }\n"]);return en=function(){return n},n}function tn(){var n=Object(j.a)(["\n    position: fixed;\n    left: 0;\n    right: 0;\n    top: 0;\n    bottom: 0;\n    z-index: 99999;\n\n    display: flex;\n    align-items: center;\n    justify-content: center;\n\n    background-color: rgba(0,0,0,0.3);\n"]);return tn=function(){return n},n}var rn=v.c.div(tn()),cn=v.c.div(en()),on=v.c.button(nn()),an=v.c.div($()),ln=v.c.div(Q()),un=v.c.div(G()),dn=Object(v.c)(f.a)(J()),sn=v.c.div(Y(),ln),bn=function(n){var e,t,i,a,l=n.close,u=n.userBooking,d=n.calendarId,s=n.cancelUserBooking,b=Object(S.c)("api/booking/calendars/".concat(d,"/dayInfo"),{date:null===u||void 0===u||null===(e=u.userBookings)||void 0===e?void 0:e.dueDate.split(":")[1]},!u),j=b.response,v=b.isLoading,f=Object(o.useState)(null),m=Object(c.a)(f,2),h=m[0],O=m[1];return Object(o.useEffect)((function(){if(!v&&j){var n=j.userBookings.find((function(n){return n.dueTime===u.userBookings.dueDate}));O(n)}}),[v]),Z.a.createPortal(Object(r.jsxs)(rn,{children:[Object(r.jsx)(on,{onClick:l}),Object(r.jsxs)(cn,{children:[!h&&Object(r.jsx)(q.a,{}),Object(r.jsx)("h2",{children:null===h||void 0===h||null===(t=h.booking)||void 0===t?void 0:t.name}),Object(r.jsxs)(un,{children:[Object(r.jsx)("h3",{children:"Inform\xe1cie:"}),Object(r.jsx)(dn,{onClick:function(){return s(h._id)},children:"Zru\u0161i\u0165 rezerv\xe1ciu"})]}),Object(r.jsxs)(an,{children:[Object(r.jsxs)(ln,{children:[Object(r.jsx)("h3",{children:"Meno a priezvisko"}),Object(r.jsx)("p",{children:null===h||void 0===h?void 0:h.name})]}),Object(r.jsxs)(ln,{children:[Object(r.jsx)("h3",{children:"Prevadzka"}),Object(r.jsx)("p",{children:R.f[null===h||void 0===h||null===(i=h.booking)||void 0===i?void 0:i.premises]})]}),Object(r.jsxs)(ln,{children:[Object(r.jsx)("h3",{children:"Tel. \u010d\xedslo"}),Object(r.jsx)("p",{children:null===h||void 0===h?void 0:h.phone})]}),Object(r.jsxs)(ln,{children:[Object(r.jsx)("h3",{children:"E-mail"}),Object(r.jsx)("p",{children:null===h||void 0===h?void 0:h.email})]}),Object(r.jsxs)(ln,{children:[Object(r.jsx)("h3",{children:"D\xe1tum"}),Object(r.jsx)("p",{children:null===h||void 0===h?void 0:h.dueTime})]}),Object(r.jsxs)(ln,{children:[Object(r.jsx)("h3",{children:"Zru\u0161en\xe9"}),Object(r.jsx)("p",{children:(null===h||void 0===h?void 0:h.cancelled)?"Ano":"Nie"})]})]}),Object(r.jsxs)(sn,{children:[Object(r.jsxs)(ln,{children:[Object(r.jsx)("h3",{children:"Pozn\xe1mka"}),(null===h||void 0===h?void 0:h.note)?Object(r.jsx)("p",{children:null===h||void 0===h?void 0:h.note}):Object(r.jsx)("p",{children:"\u017diadn\xe1 pozn\xe1mka"})]}),Object(r.jsxs)(ln,{children:[Object(r.jsx)("h3",{children:"Popis"}),Object(r.jsx)("p",{children:null===h||void 0===h||null===(a=h.booking)||void 0===a?void 0:a.description})]})]})]})]}),document.getElementById("portal"))},jn=t(31),vn=t(52),fn=t(61),mn=t(60);function hn(){var n=Object(j.a)(["\n    display: grid;\n    grid-template-columns: 2fr 1fr .4rem 1fr;\n    grid-gap: 1rem;\n\n    p {\n        align-self: center;\n    }\n"]);return hn=function(){return n},n}function On(){var n=Object(j.a)(["\n    margin-top: 2rem;\n    /* min-width: 16.5rem; */\n    width: 100%;\n    background-color: var(--input-background-color);\n    color: var(--input-color);\n    border: none;\n    padding: .8rem .5rem .8rem .5rem;\n    font-size: inherit;\n    font-family: inherit;\n    display: block;\n\n    margin-bottom: 2rem;\n"]);return On=function(){return n},n}function pn(){var n=Object(j.a)(["\n    padding: 2rem;\n    text-align: center;\n"]);return pn=function(){return n},n}function gn(){var n=Object(j.a)(["\n    display: grid;\n    grid-template-columns: 1fr 1fr 1fr;\n\n    cursor: pointer;\n    align-content: center;\n    margin-bottom: 1rem;\n    box-shadow: var(--container-shadow);\n    background-color: var(--container-background-color);\n\n    transition: all .3s ease-out;\n\n    &:hover {\n        background-color: var(--primary-color); \n        font-weight: bolder;\n        color: var(--button-font-color);\n    }\n\n"]);return gn=function(){return n},n}function xn(){var n=Object(j.a)(["\n    display: grid;\n    grid-template-columns: 1fr 1fr 1fr;\n"]);return xn=function(){return n},n}function kn(){var n=Object(j.a)(["\n    p {\n        text-align: center;\n        opacity: .6;\n    }\n        margin-bottom: 3rem;\n"]);return kn=function(){return n},n}function yn(){var n=Object(j.a)(["\n    button {\n        margin-top: 2rem;\n    }\n"]);return yn=function(){return n},n}function wn(){var n=Object(j.a)(["\n    ul {\n        justify-content: center;\n    }\n"]);return wn=function(){return n},n}function Cn(){var n=Object(j.a)(["\n    display: block;\n    margin: 0 auto;\n    background-color: var(--primary-color);\n    font-weight: bolder;\n"]);return Cn=function(){return n},n}function Dn(){var n=Object(j.a)(["\n    width: 100%;\n    height: 100%;\n\n    position: fixed;\n    left: 0;\n    right: 0;\n    z-index: 99999;\n\n    border: none;\n    outline: none;\n    opacity: 0;\n\n    &:focus {\n        outline: none\n    }\n"]);return Dn=function(){return n},n}function zn(){var n=Object(j.a)(["\n    width:100%;\n    max-width: 65rem;\n    max-height: 60rem;\n\n    overflow-y: scroll;\n\n    padding: 2rem;\n    border-radius: .5rem;\n    background-color: var(--background-primary-color);\n    color: var(--primary-text-color);\n\n    position: relative;\n    z-index: 999999;\n\n    h2{ \n        margin-bottom: 2rem;\n        text-align: center;\n    }\n\n    ::-webkit-scrollbar {\n        width: 10px;\n    }\n\n    /* Track */\n    ::-webkit-scrollbar-track {\n        background:  var(--background-primary-color);\n    }\n\n    /* Handle */\n    ::-webkit-scrollbar-thumb {\n        background: var(--primary-color);\n    }\n\n    /* Handle on hover */\n    ::-webkit-scrollbar-thumb:hover {\n        background: var(--primary-color);\n    }\n"]);return zn=function(){return n},n}function Bn(){var n=Object(j.a)(["\n    position: fixed;\n    left: 0;\n    right: 0;\n    top: 0;\n    bottom: 0;\n    z-index: 99999;\n\n    display: flex;\n    align-items: center;\n    justify-content: center;\n\n    background-color: rgba(0,0,0,0.3);\n"]);return Bn=function(){return n},n}var Sn=v.c.div(Bn()),Mn=v.c.div(zn()),An=v.c.button(Dn()),Nn=Object(v.c)(f.a)(Cn()),In=Object(v.c)(mn.a)(wn()),En=v.c.div(yn()),Tn=v.c.div(kn()),Un=v.c.div(xn()),Pn=v.c.div(gn()),Hn=v.c.div(pn()),Fn=v.c.select(On()),_n=v.c.div(hn()),Ln=function(n){var e,t,l,u=n.refetchWeekCalendar,d=n.close,s=n.day,b=n.calendar,j=n.refetchCalendar,v=n.createUserBooking,f=Object(o.useState)(null),m=Object(c.a)(f,2),h=m[0],O=m[1],p=Object(o.useState)(0),g=Object(c.a)(p,2),x=g[0],k=g[1],y=Object(o.useState)({}),w=Object(c.a)(y,2),C=w[0],D=w[1],z=Object(o.useState)({date:"",hour:"",min:0}),B=Object(c.a)(z,2),M=B[0],A=B[1],N=Object(o.useState)(null),I=Object(c.a)(N,2),E=I[0],T=I[1],P=Object(o.useState)(null),H=Object(c.a)(P,2),F=H[0],_=H[1],L=Object(S.c)("api/admin/users/filter",h,!h),K=L.refetch,W=L.response,V=function(n){var e=n.target,t=e.name,r=e.value;if(""===r)return delete C[t],void D(Object(i.a)({},C));D((function(n){return Object(i.a)(Object(i.a)({},n),{},Object(jn.a)({},t,r))}))},X=function(n){var e=n.target,t=e.name,r=e.value;A((function(n){return Object(i.a)(Object(i.a)({},n),{},Object(jn.a)({},t,r))}))};return Object(o.useEffect)((function(){if(s){var n=s.time,e=s.dayNumber,t=s.month,r=s.year;T(Object(U.g)(b,s)),_(Object(U.e)(b,s)),A({date:"".concat(r,"-").concat(t<9?"0".concat(t+1):t+1,"-").concat(e<10?"0".concat(e):e),hour:Number(null===n||void 0===n?void 0:n.split("/")[0]),min:Number(null===n||void 0===n?void 0:n.split("/")[1])})}}),[s]),Object(o.useEffect)((function(){return function(){D({}),O(null),k(0)}}),[]),Z.a.createPortal(Object(r.jsxs)(Sn,{children:[Object(r.jsx)(An,{onClick:d}),Object(r.jsxs)(Mn,{children:[Object(r.jsx)("h2",{children:"Objedna\u0165 z\xe1kazn\xedka"}),Object(r.jsx)(In,{items:Kn,activeIndex:x,setActiveIndex:k}),1===x?Object(r.jsxs)(En,{children:[Object(r.jsx)(vn.a,{label:"Meno, priezvisko, e-mail alebo tel. \u010d\xedslo",name:"query",value:h?null===h||void 0===h?void 0:h.query:"",handleChange:function(n){return O({limit:10,query:n.target.value})},onKeyPress:function(n){null!==h&&"Enter"===n.key&&K()}}),Object(r.jsx)(Nn,{onClick:function(){h&&K()},children:"H\u013eada\u0165"}),Object(r.jsxs)(Tn,{children:[Object(r.jsxs)(Un,{children:[Object(r.jsx)(Hn,{children:"Meno"}),Object(r.jsx)(Hn,{children:"E-mail"}),Object(r.jsx)(Hn,{children:"Tel. \u010d\xedslo"})]}),(null===W||void 0===W?void 0:W.users)?null===W||void 0===W||null===(e=W.users)||void 0===e?void 0:e.map((function(n,e){var t=n.name,c=n.email,o=n.phone;return Object(r.jsxs)(Pn,{onClick:function(){return n={name:t,email:c,phone:o},D((function(e){return Object(i.a)(Object(i.a)({},e),n)})),k(0),void O(null);var n},children:[Object(r.jsx)(Hn,{children:t}),Object(r.jsx)(Hn,{children:c}),Object(r.jsx)(Hn,{children:o})]},e)})):Object(r.jsx)("div",{children:Object(r.jsx)("p",{children:"\u017diaden v\xfdsledok"})})]})]}):Object(r.jsxs)(a.a.Fragment,{children:[Object(r.jsxs)("div",{children:[Object(r.jsx)("h3",{children:"D\xe1tum vy\u0161etrenia"}),Object(r.jsxs)(_n,{children:[Object(r.jsx)(vn.a,{label:"",type:"date",name:"date",handleChange:X,value:null===M||void 0===M?void 0:M.date}),Object(r.jsx)("div",{children:Object(r.jsx)(vn.a,{label:"\u010cas",type:"number",name:"hour",value:null===M||void 0===M||null===(t=M.hour)||void 0===t?void 0:t.toString(),min:null===E||void 0===E?void 0:E.split(":")[0],max:null===F||void 0===F?void 0:F.split(":")[0],handleChange:X,step:"1"})}),Object(r.jsx)("p",{children:":"}),Object(r.jsx)("div",{children:Object(r.jsxs)(Fn,{name:"min",value:null===M||void 0===M||null===(l=M.min)||void 0===l?void 0:l.toString(),onChange:X,children:[Object(r.jsx)("option",{value:0,children:"00"}),30===(null===b||void 0===b?void 0:b.interval)&&Object(r.jsx)("option",{value:30,children:"30"})]})})]})]}),Object(r.jsx)("div",{children:Object(r.jsx)(vn.a,{label:"Meno*",name:"name",value:(null===C||void 0===C?void 0:C.name)||"",handleChange:V})}),Object(r.jsx)("div",{children:Object(r.jsx)(vn.a,{label:"E-mail*",name:"email",value:(null===C||void 0===C?void 0:C.email)||"",handleChange:V})}),Object(r.jsx)("div",{children:Object(r.jsx)(vn.a,{label:"Tel. \u010d\xedslo*",name:"phone",value:(null===C||void 0===C?void 0:C.phone)||"",handleChange:V})}),Object(r.jsx)("div",{children:Object(r.jsx)(fn.a,{label:"Pozn\xe1mka",name:"note",rows:"5",value:(null===C||void 0===C?void 0:C.note)||"",handleChange:V})}),Object(r.jsxs)("div",{children:[Object(r.jsx)("h3",{children:"Vy\u0161etrenie"}),Object(r.jsxs)(Fn,{name:"booking",value:(null===C||void 0===C?void 0:C.booking)||"",onChange:V,children:[Object(r.jsx)("option",{value:"",children:"Nezvolen\xe9"}),null===b||void 0===b?void 0:b.bookings.map((function(n,e){if(!1!==n.active)return Object(r.jsx)("option",{value:n._id,children:n.name},e)}))]})]})]}),0===x&&Object(r.jsx)(Nn,{onClick:function(){var n=Object(i.a)(Object(i.a)({},C),{},{dueTime:Object(U.h)(M),values:{}});v(n,j,d,u)},children:"Vytvori\u0165"})]})]}),document.getElementById("portal"))},Kn=[{id:0,name:"Nov\xfd z\xe1kazn\xedk"},{id:1,name:"Vyhlada\u0165 z\xe1kazn\xedka"}],Wn=t(128),Vn=t.n(Wn);function Xn(){var n=Object(j.a)(["\n    cursor: pointer;\n    border: var(--appointment-container-border);\n    background-color: ",";\n    color: var(--appointment-container-text-color);\n    font-weight: bolder;\n    width: 100%;\n    height: 100%;\n    padding: .5rem;\n    position: absolute;\n    bottom: ",";\n    top: ",";\n    font-size: 1.2rem;\n    z-index: 99;\n\n    h4 {\n        width: 8rem;\n        white-space: nowrap;\n        overflow: hidden;\n        text-overflow: ellipsis;\n    }\n"]);return Xn=function(){return n},n}var Zn=v.c.div(Xn(),(function(n){var e=n.color;return e||"transparent"}),(function(n){return n.isHalfHour?0:"unset"}),(function(n){return n.isHalfHour?"unset":0})),qn=function(n){var e,t,i,l=n.dayData,u=n.calendarId,d=n.time,s=n.userBookings,b=n.open,j=Object(o.useState)(!1),v=Object(c.a)(j,2),f=v[0],m=v[1],h=Object(S.c)("api/booking/calendars/".concat(u,"/dayInfo"),{date:l.bookingDate},!(null===l||void 0===l?void 0:l.bookingDate)),O=h.response,p=h.isLoading,g=h.refetch,x=Object(o.useState)(null),k=Object(c.a)(x,2),y=k[0],w=k[1],C=Object(o.useState)(!1),D=Object(c.a)(C,2),z=D[0],B=D[1];return Object(o.useEffect)((function(){var n;if(!p){var e=null===O||void 0===O||null===(n=O.userBookings)||void 0===n?void 0:n.filter((function(n){return!(null===n||void 0===n?void 0:n.cancelled)})).map((function(n){return null===n||void 0===n?void 0:n.dueTime}));if((null===e||void 0===e?void 0:e.length)>0){var t,r,i,c=Vn.a.findBestMatch(null===s||void 0===s?void 0:s.dueDate,e),o=null===O||void 0===O||null===(t=O.userBookings)||void 0===t?void 0:t.find((function(n){return(null===n||void 0===n?void 0:n.dueTime)===(null===s||void 0===s?void 0:s.dueDate)})),a=null===O||void 0===O||null===(r=O.userBookings)||void 0===r?void 0:r.find((function(n){var e;return(null===n||void 0===n?void 0:n.dueTime)===(null===c||void 0===c||null===(e=c.bestMatch)||void 0===e?void 0:e.target)}));(null===s||void 0===s?void 0:s.dueDate)===(null===o||void 0===o?void 0:o.dueTime)?B(!0):(null===c||void 0===c||null===(i=c.bestMatch)||void 0===i||i.target,null===a||void 0===a||a.dueTime),w(o)}}}),[p]),Object(o.useEffect)((function(){(null===l||void 0===l?void 0:l.bookingDate)&&g()}),[null===l||void 0===l?void 0:l.bookingDate]),Object(o.useEffect)((function(){return function(){m(!1),B(!1)}}),[]),Object(r.jsx)(a.a.Fragment,{children:Object(r.jsx)(Zn,{onClick:z?b:function(){},color:(null===y||void 0===y||null===(e=y.booking)||void 0===e?void 0:e.color)?"#".concat(null===y||void 0===y||null===(t=y.booking)||void 0===t?void 0:t.color):"var(--appointment-container-background-color)",isHalfHour:f,children:z&&Object(r.jsxs)("div",{children:[Object(r.jsx)("h4",{children:y&&(null===y||void 0===y||null===(i=y.booking)||void 0===i?void 0:i.name)}),Object(r.jsx)("h5",{children:d})]})})})};function Rn(){var n=Object(j.a)(["\n    cursor: pointer;\n    border: var(--appointment-container-border);\n    background-color: var(--appointment-container-background-color);\n    color: var(--appointment-container-text-color);\n    font-weight: bolder;\n    width: 100%;\n    height: 50%;\n    padding: .5rem;\n    /* position: absolute; */\n\n"]);return Rn=function(){return n},n}function Yn(){var n=Object(j.a)(['\n    content: "";\n    position: relative;\n    /* position: absolute; */\n    /* width: 5rem; */\n    height: 100%;\n    /* top: 0;\n    left: 0;\n    bottom: 0;\n    right: 0; */\n    /* background-color: red; */\n']);return Yn=function(){return n},n}function Jn(){var n=Object(j.a)(["\n    cursor: pointer;\n    position: relative;\n    /* width: 15rem; */\n    height: 10rem;\n    border-bottom: var(--table-border);\n    background-color: var(--background-primary-color);\n\n\n    span {\n        display: none;\n    }\n"]);return Jn=function(){return n},n}function Gn(){var n=Object(j.a)(["\n    display: block;\n    /* position: relative; */\n    p {\n        /* width: 6rem; */\n        display: block;\n        opacity: .6;\n        /* position: absolute; */\n        top: 0rem;\n        /* left: -5.8rem; */\n        left: 0;\n        font-size: 1.4rem;\n        padding: .5rem 1rem .5rem .2rem;\n        border-radius: 9999rem;\n        text-align: end;\n        letter-spacing: .05rem;\n    }\n"]);return Gn=function(){return n},n}function Qn(){var n=Object(j.a)(["\n    background-color: transparent;\n    height: 10rem;\n\n"]);return Qn=function(){return n},n}function $n(){var n=Object(j.a)(["\n    background-color: var(--body-background-primary-color);\n\n"]);return $n=function(){return n},n}function ne(){var n=Object(j.a)(["\n    cursor: default;\n    height: 8rem;\n    background-color: var(--color-black);\n    color: var(--table-head-color);\n    display: flex;\n    flex-direction: column;\n    align-items:center;\n    justify-content:center;\n    font-weight: 700;\n\n    p:first-child {\n        font-weight: lighter;\n    }\n\n    /* background-color: red; */\n    ","\n"]);return ne=function(){return n},n}function ee(){var n=Object(j.a)(["\n    display: grid;\n    grid-template-columns: 6rem repeat(7, 1fr);\n\n    background-color: var(--color-black);\n\n    /* border: var(--table-border); */\n    min-width: 55rem;\n    /* padding-left: 5rem; */\n    padding-right: 1rem;\n\n"]);return ee=function(){return n},n}function te(){var n=Object(j.a)(["\n    position: relative;\n\n    overflow-y: scroll;\n    /* overflow-x: auto; */\n    height: 60rem;\n    display: grid;\n    grid-template-columns: 6rem repeat(7, 1fr);\n    /* border: var(--table-border); */\n    min-width: 55rem;\n    /* padding-left: 5rem; */\n\n\n   ::-webkit-scrollbar {\n        width: 1rem;\n    }\n\n    /* Track */\n    ::-webkit-scrollbar-track {\n        background:  var(--background-primary-color);\n    }\n\n    /* Handle */\n    ::-webkit-scrollbar-thumb {\n        background: var(--primary-color);\n    }\n\n    /* Handle on hover */\n    ::-webkit-scrollbar-thumb:hover {\n        background: var(--primary-color);\n    }\n"]);return te=function(){return n},n}function re(){var n=Object(j.a)(["\n    width: 100%;\n"]);return re=function(){return n},n}var ie=v.c.div(re()),ce=v.c.div(te()),oe=v.c.div(ee()),ae=v.c.div(ne(),(function(n){return n.isDisabled?"\n        opacity: .6;\n    ":""})),le=v.c.div($n()),ue=v.c.div(Qn()),de=v.c.div(Gn()),se=v.c.div(Jn()),be=v.c.div(Yn()),je=(v.c.div(Rn()),function(n){var e=n.calendar,t=n.year,l=n.month,u=n.weekIndex,d=n.showUserBooking,s=n.setShowUserBooking,b=n.handleOpenUserBookingModal,j=n.selectedDay,v=Object(o.useContext)(E),f=v.timeline,m=v.getDayData,h=v.refetchWeekCalendar,O=v.cancelUserBooking,p=Object(o.useContext)(V.BookingContext).createUserBooking,g=Object(S.b)("api/booking/calendars",e,!e),x=g.response,k=g.isLoading,y=g.refetch,w=new Date(t,l+1,0).getDate(),C=new Date(t,l,0).getDay(),D=new Date(t,l+1,0).getDay(),z=new Date(t,l,0).getDate(),M=7-D,A=Object(o.useState)([]),I=Object(c.a)(A,2),T=I[0],P=I[1],H=Object(o.useState)(!1),F=Object(c.a)(H,2),_=F[0],L=F[1],K=Object(o.useState)(null),W=Object(c.a)(K,2),X=W[0],Z=W[1];return Object(o.useEffect)((function(){if(!k&&x.calendar){var n=Object(U.n)(C),e=Object(U.l)(w),r=Object(U.m)(M),i=Object(U.k)(e,x.calendar,l,t);P([].concat(Object(B.a)(n),Object(B.a)(i),Object(B.a)(r)))}}),[k]),Object(o.useEffect)((function(){y()}),[l]),Object(r.jsxs)("div",{children:[_&&Object(r.jsx)(bn,{cancelUserBooking:function(n){O(n,y,L)},refetchCalendar:y,calendarId:e,userBooking:X,close:function(){return L(!1)}}),d&&Object(r.jsx)(Ln,{refetchWeekCalendar:h,createUserBooking:p,refetchCalendar:y,calendar:null===x||void 0===x?void 0:x.calendar,day:j,close:function(){return s(!1)}}),Object(r.jsxs)(ie,{children:[Object(r.jsxs)(oe,{children:[Object(r.jsx)(ae,{children:" "}),T.slice(7*u,7*u+7).map((function(n,e){var i=n.dayNumber,c=n.isDisable,o=n.isPrevDay,u=n.isNextDay;return Object(r.jsx)(ae,{isDisabled:c,children:o?Object(r.jsxs)(a.a.Fragment,{children:[Object(r.jsx)("p",{children:U.c[new Date(t,l-1,z-i).getDay()]}),Object(r.jsx)("p",{children:z-(i-1)})]}):u?Object(r.jsxs)(a.a.Fragment,{children:[Object(r.jsx)("p",{children:U.c[new Date(t,l+1,i-1).getDay()]}),Object(r.jsxs)("p",{children:[i," "]})]}):Object(r.jsxs)(a.a.Fragment,{children:[Object(r.jsx)("p",{children:U.c[new Date(t,l,i-1).getDay()]}),Object(r.jsxs)("p",{children:[i," "]})]})},e)}))]}),Object(r.jsxs)(ce,{children:[Object(r.jsx)(le,{children:f&&f.map((function(n,e){var t,i;return Object(r.jsx)(se,{style:60===(null===x||void 0===x||null===(t=x.calendar)||void 0===t?void 0:t.interval)?{height:"10rem"}:{height:"5rem"},children:Object(r.jsx)(de,{children:Object(r.jsx)("p",{children:null!==(i=N(n))&&void 0!==i?i:""})})},e)}))}),T.length>0&&T.slice(7*u,7*u+7).map((function(n,c){var o=m(null===n||void 0===n?void 0:n.dayNumber,c,x.calendar);return Object(r.jsx)(le,{children:o&&o.map((function(c,o){var a,u;return(null===c||void 0===c?void 0:c.empty)?Object(r.jsx)(ue,{style:60===(null===x||void 0===x||null===(a=x.calendar)||void 0===a?void 0:a.interval)?{height:"10rem"}:{height:"5rem"}}):Object(r.jsxs)(se,{style:60===(null===x||void 0===x||null===(u=x.calendar)||void 0===u?void 0:u.interval)?{height:"10rem"}:{height:"5rem"},children:[(null===c||void 0===c?void 0:c.userBookings)&&Object(r.jsx)(qn,{dayData:n,calendarId:e,time:c.time,userBookings:c.userBookings,open:function(){return Z(c),void L(!0)}}),Object(r.jsx)(be,{onClick:n.isDisable?function(){}:function(){return b(Object(i.a)(Object(i.a)({},n),{},{time:c.time,year:t,month:l}))}})]},o)}))},c)}))]})]})]})}),ve=t(56);function fe(){var n=Object(j.a)(["\n    margin-top: 1.5rem;\n    min-width: 16.5rem;\n    width: 100%;\n    background-color: var(--input-background-color);\n    color: var(--input-color);\n    border: none;\n    padding: .5rem .5rem .5rem 1rem;\n    font-size: inherit;\n    font-family: inherit;\n    display: block;\n"]);return fe=function(){return n},n}function me(){var n=Object(j.a)(["\n    display: block;\n    margin: 0 auto;\n    background-color: var(--primary-color);\n    font-weight: bolder;\n"]);return me=function(){return n},n}function he(){var n=Object(j.a)(["\n    margin-bottom: 2rem;\n"]);return he=function(){return n},n}function Oe(){var n=Object(j.a)(["\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n\n"]);return Oe=function(){return n},n}function pe(){var n=Object(j.a)(["\n    width: 100%;\n    height: 100%;\n\n    position: fixed;\n    left: 0;\n    right: 0;\n    z-index: 99999;\n\n    border: none;\n    outline: none;\n    opacity: 0;\n\n    &:focus {\n        outline: none\n    }\n"]);return pe=function(){return n},n}function ge(){var n=Object(j.a)(["\n    width:100%;\n    max-width: 50rem;\n    max-height: 60rem;\n\n    overflow-y: scroll;\n\n    /* display: flex;\n    flex-direction: column;\n    align-items: center; */\n\n    padding: 2rem;\n    border-radius: .5rem;\n    background-color: var(--background-primary-color);\n    color: var(--primary-text-color);\n\n    position: relative;\n    z-index: 999999;\n\n    ::-webkit-scrollbar {\n        width: 10px;\n    }\n\n    /* Track */\n    ::-webkit-scrollbar-track {\n        background:  var(--background-primary-color);\n    }\n\n    /* Handle */\n    ::-webkit-scrollbar-thumb {\n        background: var(--primary-color);\n    }\n\n    /* Handle on hover */\n    ::-webkit-scrollbar-thumb:hover {\n        background: var(--primary-color);\n    }\n"]);return ge=function(){return n},n}function xe(){var n=Object(j.a)(["\n    position: fixed;\n    left: 0;\n    right: 0;\n    top: 0;\n    bottom: 0;\n    z-index: 99999;\n\n    display: flex;\n    align-items: center;\n    justify-content: center;\n\n    background-color: rgba(0,0,0,0.3);\n"]);return xe=function(){return n},n}var ke=v.c.div(xe()),ye=v.c.div(ge()),we=v.c.button(pe()),Ce=v.c.div(Oe()),De=v.c.div(he()),ze=Object(v.c)(f.a)(me()),Be=v.c.select(fe()),Se=function(n){var e=n.close,t=n.calendarId,a=n.refetch,l=n.selectedBooking,u=Object(o.useContext)(V.BookingContext),d=u.createBooking,s=u.updateBooking,b=Object(S.b)("api/booking/bookings",l,!l),j=b.response,v=b.isLoading,f=Object(o.useState)({}),m=Object(c.a)(f,2),h=m[0],O=m[1],p=Object(o.useState)(!1),g=Object(c.a)(p,2),x=g[0],k=g[1],y=function(n){var e=n.target,t=e.name,r=e.value;if(""===r)return delete h[t],void O(Object(i.a)({},h));O((function(n){return Object(i.a)(Object(i.a)({},n),{},Object(jn.a)({},t,r))}))},w=function(){if(null===h||void 0===h?void 0:h.name){if(x){var n=Object(U.d)(h);s(n,h._id)}else{var r=Object(i.a)(Object(i.a)({},h),{},{calendar:t});d(r)}a(),e()}};return Object(o.useEffect)((function(){v||(null===j||void 0===j?void 0:j.booking)&&(k(!0),O(null===j||void 0===j?void 0:j.booking))}),[l,v]),Object(o.useEffect)((function(){return function(){k(!1),O({})}}),[]),Z.a.createPortal(Object(r.jsxs)(ke,{children:[Object(r.jsx)(we,{onClick:e}),Object(r.jsxs)(ye,{children:[Object(r.jsxs)(Ce,{children:[!x&&Object(r.jsx)("h2",{children:"Nov\xe9 vy\u0161etrenie"}),x&&Object(r.jsx)("h2",{children:"Upravi\u0165 vy\u0161etrenie"}),Object(r.jsx)("div",{children:Object(r.jsx)(ve.a,{label:"Aktivn\xe9",isActive:(null===h||void 0===h?void 0:h.active)||!1,name:"active",handleClick:function(){return y({target:{name:"active",value:!(null===h||void 0===h?void 0:h.active)||!(null===h||void 0===h?void 0:h.active)}})}})})]}),Object(r.jsx)(De,{children:Object(r.jsx)(vn.a,{label:"N\xe1zov vy\u0161etrenia*",name:"name",value:(null===h||void 0===h?void 0:h.name)||"",handleChange:y})}),Object(r.jsx)(De,{children:Object(r.jsx)(vn.a,{label:"Cena",name:"price",value:(null===h||void 0===h?void 0:h.price)||"",handleChange:y})}),Object(r.jsx)(De,{children:Object(r.jsx)(vn.a,{label:"\u010cas",name:"time",value:(null===h||void 0===h?void 0:h.time)||"",handleChange:y})}),Object(r.jsx)(De,{children:Object(r.jsxs)(Be,{label:"Farba",type:"text",name:"color",value:(null===h||void 0===h?void 0:h.color)||"",onChange:y,children:[Object(r.jsx)("option",{value:"DD4C4C",children:"\u010cerven\xe1"}),Object(r.jsx)("option",{value:"ebac01",children:"\u017dlt\xe1"}),Object(r.jsx)("option",{value:"32AA5F",children:"Zelen\xe1"})]})}),Object(r.jsx)(De,{children:Object(r.jsx)(fn.a,{label:"Popis",rows:"5",name:"description",value:(null===h||void 0===h?void 0:h.description)||"",handleChange:y})}),!x&&Object(r.jsx)(ze,{onClick:w,children:"Prida\u0165"}),x&&Object(r.jsx)(ze,{onClick:w,children:"Ulo\u017ei\u0165"})]})]}),document.getElementById("portal"))};function Me(){var n=Object(j.a)(["\n    margin-left: 1rem;\n    opacity: .6;\n"]);return Me=function(){return n},n}function Ae(){var n=Object(j.a)(["\n    background-color: var(--primary-color);\n    font-weight: bolder;\n    font-size: 1.2rem;\n"]);return Ae=function(){return n},n}function Ne(){var n=Object(j.a)(["\n    background-color: var(--color-red);\n    font-size: 1.2rem;\n    margin-left: 1rem;\n"]);return Ne=function(){return n},n}function Ie(){var n=Object(j.a)(["\n    display: flex;\n    justify-content: flex-end;\n"]);return Ie=function(){return n},n}function Ee(){var n=Object(j.a)(["\n    opacity: .8;\n    margin-bottom: 2rem;\n"]);return Ee=function(){return n},n}function Te(){var n=Object(j.a)(["\n    font-size: 1.2rem;\n    color: ",";\n"]);return Te=function(){return n},n}function Ue(){var n=Object(j.a)(["\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    margin-bottom: 1rem;\n"]);return Ue=function(){return n},n}function Pe(){var n=Object(j.a)(["\n    padding: 2rem;\n    box-shadow: var(--container-shadow);\n    background-color: var(--container-background-color);\n    border-radius: .5rem;\n    margin-bottom: 3rem;\n"]);return Pe=function(){return n},n}function He(){var n=Object(j.a)(["\n    background-color: var(--primary-color);\n    font-weight: bolder;\n"]);return He=function(){return n},n}function Fe(){var n=Object(j.a)(["\n    display: flex;\n    justify-content: space-between;\n    align-items: center; \n    margin-bottom: 3rem;\n"]);return Fe=function(){return n},n}function _e(){var n=Object(j.a)(["\n    display: grid;\n    grid-template-columns: 1fr 1fr;\n    grid-gap: 3rem;\n    margin-bottom: 10rem;\n\n    @media all and (max-width: 1150px) {\n        grid-template-columns: 2fr 1fr;\n        @media all and (max-width: 800px) {\n            grid-template-columns: 3fr 1fr;\n            @media all and (max-width: 500px) {\n                grid-template-columns: 1fr;\n            }\n        }\n\n    }\n"]);return _e=function(){return n},n}var Le=v.c.div(_e()),Ke=v.c.div(Fe()),We=Object(v.c)(f.a)(He()),Ve=v.c.div(Pe()),Xe=v.c.div(Ue()),Ze=v.c.span(Te(),(function(n){return n.isActive?"var(--color-green)":"var(--color-red)"})),qe=v.c.div(Ee()),Re=v.c.div(Ie()),Ye=Object(v.c)(f.a)(Ne()),Je=Object(v.c)(f.a)(Ae()),Ge=v.c.div(Me()),Qe=function(n){var e,t,i,a,l=n.calendarId,u=Object(o.useContext)(d.a).isAdmin,s=Object(o.useContext)(V.BookingContext).deleteBooking,b=Object(S.b)("api/booking/calendars",l,!l),j=b.response,v=b.isLoading,f=b.refetch,m=Object(o.useState)(!1),h=Object(c.a)(m,2),O=h[0],p=h[1],g=Object(o.useState)(null),x=Object(c.a)(g,2),k=x[0],y=x[1];return v?Object(r.jsx)(q.a,{}):Object(r.jsxs)(Le,{children:[O&&Object(r.jsx)(Se,{selectedBooking:k,calendarId:l,close:function(){p(!1),y(null)},refetch:f}),Object(r.jsxs)("div",{children:[Object(r.jsxs)(Ke,{children:[Object(r.jsx)("h3",{children:"Vy\u0161etrenia"}),u&&Object(r.jsx)(We,{onClick:function(){return p(!0)},children:"Prida\u0165"})]}),Object(r.jsxs)("div",{children:[null===j||void 0===j||null===(e=j.calendar)||void 0===e||null===(t=e.bookings)||void 0===t?void 0:t.map((function(n,e){return Object(r.jsxs)(Ve,{children:[Object(r.jsxs)(Xe,{children:[Object(r.jsxs)("div",{children:[Object(r.jsx)("h4",{children:n.name}),Object(r.jsx)(Ze,{isActive:null===n||void 0===n?void 0:n.active,children:(null===n||void 0===n?void 0:n.active)?"Aktivn\xe9":"Neaktivn\xe9"})]}),Object(r.jsx)("div",{children:Object(r.jsxs)("p",{children:[n.price,"\u20ac"]})})]}),Object(r.jsx)(qe,{children:Object(r.jsx)("p",{children:n.description})}),u&&Object(r.jsxs)(Re,{children:[Object(r.jsx)(Je,{onClick:function(){return e=n._id,y(e),void p(!0);var e},children:"Upravi\u0165"}),Object(r.jsx)(Ye,{onClick:function(){return e=n._id,s(e),void f();var e},children:"Vymaza\u0165"})]})]},e)})),!(null===j||void 0===j||null===(i=j.calendar)||void 0===i||null===(a=i.bookings)||void 0===a?void 0:a.length)&&Object(r.jsx)(Ge,{children:"\u017diadn\xe9 vy\u0161etrenia"})]})]})]})},$e=t(58),nt=t(14);function et(){var n=Object(j.a)(["\n    background-color: ",";\n    color: ",";\n    cursor: pointer;\n    padding: 0.5rem 2rem;\n\n    transition: all .3s ease-in-out;\n"]);return et=function(){return n},n}function tt(){var n=Object(j.a)(["\n    display: flex;\n    align-items: center;\n\n    button {\n        cursor: pointer;\n        font-size: 2rem;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        color: var(--primary-color);\n\n    }\n\n    div {\n        text-align: center;\n        margin: 0 1rem;\n    }\n\n    p {\n        text-transform: capitalize;\n        margin: 0 1rem;\n    }\n"]);return tt=function(){return n},n}function rt(){var n=Object(j.a)(["\n    display: flex; \n    justify-content: space-between;\n    align-items: center;\n\n    ul {\n        list-style: none;\n        display: flex;\n        /* gap: 2rem; */\n\n\n    }\n"]);return rt=function(){return n},n}function it(){var n=Object(j.a)(["\n    display: flex;\n    justify-content:center;\n    align-items: center;\n    color: var(--primary-color);\n    font-size: 3rem;\n    margin-left: 1rem;\n"]);return it=function(){return n},n}function ct(){var n=Object(j.a)(["\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    margin-bottom: 3rem;\n\n    div {\n        display: flex;\n        align-items: center;\n        cursor: pointer;\n    }\n"]);return ct=function(){return n},n}function ot(){var n=Object(j.a)(["\n    margin-top: 3rem;\n    margin-bottom: 3rem;\n"]);return ot=function(){return n},n}function at(){var n=Object(j.a)(["\n    display: grid;\n    grid-template-columns: repeat( auto-fit, minmax(27rem, 1fr) );\n    margin-bottom: 3rem;\n    grid-gap: 2rem;\n"]);return at=function(){return n},n}function lt(){var n=Object(j.a)(["\n    /* margin-bottom: 2rem; */\n"]);return lt=function(){return n},n}function ut(){var n=Object(j.a)(["\n    background-color: var(--primary-color);\n    font-weight: bolder;\n    margin-left: 2rem;\n"]);return ut=function(){return n},n}function dt(){var n=Object(j.a)(["\n    ","\n    padding-top: 2rem;\n    padding-bottom: 3rem;\n    color: var(--primary-text-color);\n"]);return dt=function(){return n},n}var st=v.c.div(dt(),nt.g),bt=Object(v.c)(f.a)(ut()),jt=v.c.h2(lt()),vt=v.c.div(at()),ft=v.c.div(ot()),mt=v.c.div(ct()),ht=v.c.div(it()),Ot=v.c.div(rt()),pt=v.c.div(tt()),gt=v.c.li(et(),(function(n){return n.isActive?"var(--primary-color)":"none"}),(function(n){return n.isActive?"var(--button-font-color)":"var(--primary-color)"}));e.default=function(){var n,e=Object(o.useContext)(d.a),t=e.isAdmin,j=e.currentUser,v=e.isOptometrist,f=Object(o.useContext)(u.a),m=f.showModal,h=f.setShowModal,O=f.message,p=f.closeModal,g=Object(l.h)().push,x=Object(o.useState)(!0),k=Object(c.a)(x,2),y=k[0],C=k[1],D=Object(o.useState)(1),z=Object(c.a)(D,2),B=z[0],M=z[1],A=Object(o.useState)([]),N=Object(c.a)(A,2),I=N[0],E=N[1],P=Object(o.useState)(null),H=Object(c.a)(P,2),F=H[0],_=H[1],L=Object(o.useState)((new Date).getMonth()),K=Object(c.a)(L,2),V=K[0],X=K[1],Z=Object(o.useState)((new Date).getFullYear()),q=Object(c.a)(Z,2),R=q[0],Y=q[1],J=Object(o.useState)(0),G=Object(c.a)(J,2),Q=G[0],$=G[1],nn=Object(o.useState)(null),en=Object(c.a)(nn,2),tn=en[0],rn=en[1],cn=Object(o.useState)(!1),on=Object(c.a)(cn,2),an=on[0],ln=on[1],un=function(n){null!==n&&rn(Object(i.a)({},n)),ln(!0)},dn=Object(S.a)("api/booking/calendars"),sn=dn.isLoading,bn=dn.response,jn=function(n){n&&(_(n),C(!1),fn())},vn=function(){var n=new Date(R,V,0).getDate();7*Q>=n-7?($(0),X((function(n){return n+1})),11===V&&(Y((function(n){return n+1})),X(0),$(0))):$((function(n){return n+1}))},fn=function(){X((new Date).getMonth()),Y((new Date).getFullYear()),$(Math.ceil((new Date).getDate()/7)-1)},mn=function(n){$(Math.ceil(n.dayNumber/7)-1),M(1)};return Object(o.useEffect)((function(){if(!sn&&bn){if(t){E(bn.calendars);var n=bn.calendars.find((function(n){return n.premises===j.premises}));jn(null===n||void 0===n?void 0:n._id),h(!1)}else{E(bn.calendars.filter((function(n){return n.premises===j.premises})));var e=bn.calendars.find((function(n){return n.premises===j.premises}));jn(null===e||void 0===e?void 0:e._id),h(!1)}p()}}),[sn]),Object(o.useEffect)((function(){return function(){h(!0),C(!0),M(0),E([]),_(null),X((new Date).getMonth()),Y((new Date).getFullYear()),$(0),rn(null),p()}}),[]),Object(r.jsxs)("section",{children:[m&&Object(r.jsx)(b.a,{loading:sn,title:O,close:function(){return h(!1)}}),t&&Object(r.jsx)(st,{children:Object(r.jsxs)(nt.c,{children:[Object(r.jsx)("div",{children:Object(r.jsx)("h1",{children:"Rezerv\xe1cie"})}),Object(r.jsxs)("div",{children:[Object(r.jsx)(bt,{onClick:function(){return un(null)},children:"Prida\u0165 rezerv\xe1ciu"}),Object(r.jsx)(bt,{onClick:function(){return g("rezervacie/novy-kalendar")},children:"Prida\u0165 kalend\xe1r"})]})]})}),!v&&!t&&Object(r.jsx)(st,{children:Object(r.jsxs)(nt.c,{children:[Object(r.jsx)("div",{children:Object(r.jsx)("h1",{children:"Rezerv\xe1cie"})}),F?Object(r.jsx)("div",{children:Object(r.jsx)(bt,{onClick:function(){return un(null)},children:"Prida\u0165 rezerv\xe1ciu"})}):Object(r.jsx)("div",{children:Object(r.jsx)("p",{children:"K va\u0161emu \xfa\u010dtu nieje priraden\xe1 prev\xe1dzka"})})]})}),v&&!t&&Object(r.jsx)(st,{children:Object(r.jsxs)(nt.c,{children:[Object(r.jsx)("div",{children:Object(r.jsx)("h1",{children:"Rezerv\xe1cie"})}),F?Object(r.jsxs)("div",{children:[Object(r.jsx)(bt,{onClick:function(){return un(null)},children:"Prida\u0165 rezerv\xe1ciu"}),Object(r.jsx)(bt,{onClick:function(){return g("rezervacie/".concat(F))},children:"Upravi\u0165 kalend\xe1r"})]}):Object(r.jsx)("div",{children:Object(r.jsx)("p",{children:"K va\u0161emu \xfa\u010dtu nieje priraden\xe1 prev\xe1dzka"})})]})}),Object(r.jsxs)(s.a,{children:[t&&Object(r.jsxs)(mt,{children:[Object(r.jsx)(jt,{children:"Pobo\u010dky"}),Object(r.jsxs)("div",{onClick:function(){return C((function(n){return!n}))},children:[Object(r.jsx)("p",{children:null===(n=I.find((function(n){return n._id===F})))||void 0===n?void 0:n.name}),Object(r.jsx)(ht,{children:y?Object(r.jsx)($e.r,{}):Object(r.jsx)($e.f,{})})]})]}),y&&Object(r.jsx)(vt,{children:I&&I.map((function(n,e){return Object(r.jsx)(w,{calendar:n,selectedCalendar:F,handleShowUpClick:function(){return jn(n._id)},handleUpdateClick:function(){return g("rezervacie/".concat(n._id))}},e)}))}),F&&Object(r.jsxs)(a.a.Fragment,{children:[Object(r.jsxs)(Ot,{children:[Object(r.jsx)(jt,{children:"Kalend\xe1r"}),0===B?Object(r.jsxs)(pt,{children:[Object(r.jsx)("button",{onClick:function(){0===V?(Y((function(n){return n-1})),X(11)):X((function(n){return n-1}))},children:Object(r.jsx)($e.m,{})}),Object(r.jsx)("p",{children:U.o[V]}),Object(r.jsx)("button",{onClick:function(){11===V?(Y((function(n){return n+1})),X(0)):X((function(n){return n+1}))},children:Object(r.jsx)($e.p,{})})]}):Object(r.jsxs)(pt,{children:[Object(r.jsx)("button",{onClick:function(){Q-1<0?0===V?(Y((function(n){return n-1})),X(11),$(Math.ceil(new Date(R,V,0).getDate()/7)-1)):(X((function(n){return n-1})),$(Math.ceil(new Date(R,V,0).getDate()/7)-1)):$((function(n){return n-1}))},children:Object(r.jsx)($e.m,{})}),Object(r.jsxs)("div",{children:[Object(r.jsx)("p",{children:Q+1}),Object(r.jsx)("p",{children:U.o[V]})]}),Object(r.jsx)("button",{onClick:vn,children:Object(r.jsx)($e.p,{})})]}),Object(r.jsx)("ul",{children:U.a.map((function(n,e){return Object(r.jsx)(gt,{isActive:B===e,onClick:function(){return M(e)},children:n},e)}))})]}),Object(r.jsx)(ft,{children:0===B?Object(r.jsx)(W,{calendar:F,month:V,year:R,handleCalendarBlockClick:mn}):Object(r.jsx)(T,{calendar:F,month:V,year:R,weekIndex:Q,handleCalendarBlockClick:mn,children:Object(r.jsx)(je,{calendar:F,month:V,year:R,weekIndex:Q,handleCalendarBlockClick:mn,showUserBooking:an,setShowUserBooking:ln,handleOpenUserBookingModal:un,selectedDay:tn,getNextWeek:vn})})}),Object(r.jsx)(Qe,{calendarId:F})]})]})]})}},56:function(n,e,t){"use strict";var r=t(21),i=t(2),c=t(30),o=(t(1),t(5));function a(){var n=Object(o.a)(["\n    display: inline-block;\n    cursor: pointer;\n    font-size: 1.5rem;\n    font-weight: 700;\n    /* margin-right: 2rem; */\n    background-color: ",";\n    color: ",";\n    /* font-weight: ","; */\n    padding: .8rem 3rem;\n    border-radius: .2rem;\n    transition: all .2s ease-out;\n\n    @media all and (max-width: 500px) {\n        padding: 0.5rem 1.5rem;\n        font-size: 1.4rem;\n    }\n"]);return a=function(){return n},n}var l=t(6).c.div(a(),(function(n){return n.isActive?"var(--primary-color)":"var(--body-background-primary-color)"}),(function(n){return n.isActive?"var(--button-font-color)":"var(--secondary-text-color)"}),(function(n){return n.isActive?"border":"normal"}));e.a=function(n){var e=n.label,t=n.isActive,o=n.handleClick,a=Object(c.a)(n,["label","isActive","handleClick"]);return Object(i.jsx)(l,Object(r.a)(Object(r.a)({isActive:t,onClick:o},a),{},{children:e}))}},60:function(n,e,t){"use strict";var r=t(21),i=t(2),c=t(30),o=(t(1),t(5)),a=t(6),l=t(28),u=t(14);function d(){var n=Object(o.a)(["\n    transition: all 0.3s ease-out;\n    background-color: ",";\n    color: ",";\n    font-weight: ",";\n    padding: ",";\n    font-weight: ",";\n"]);return d=function(){return n},n}function s(){var n=Object(o.a)(["\n    margin-bottom: 3rem;\n    /* "," */\n\n    ul {\n        display: flex;\n        list-style: none;\n\n        li {\n            margin-right: 1.5rem;\n        }\n    }\n"]);return s=function(){return n},n}var b=a.c.div(s(),u.g),j=Object(a.c)(l.a)(d(),(function(n){return n.active?"var(--primary-color)":"var(--background-primary-color)"}),(function(n){return n.active?"#fff":"var(--primary-text-color)"}),(function(n){return n.active?400:700}),(function(n){return n.active?".5rem 2.5rem":".5rem 1rem .5rem 0"}),(function(n){return n.active?"bolder":"normal"}));e.a=function(n){var e=n.items,t=n.activeIndex,o=n.setActiveIndex,a=Object(c.a)(n,["items","activeIndex","setActiveIndex"]);return Object(i.jsx)(b,Object(r.a)(Object(r.a)({},a),{},{children:Object(i.jsx)("ul",{children:e.map((function(n){return Object(i.jsx)("li",{children:Object(i.jsx)(j,{active:n.id===t,onClick:function(){return o(n.id)},children:n.name})},n.id)}))})}))}},61:function(n,e,t){"use strict";var r=t(2),i=t(21),c=t(30),o=(t(1),t(5)),a=t(6);function l(){var n=Object(o.a)(["\n    position: relative;\n    /* margin: 45px 0; */\n\n    .form-input {\n        background: none;\n        background-color: var(--input-background-color);\n        color: var(--input-color);\n\n        font-size: 1.5rem;\n        padding: .5rem .5rem .5rem 2rem;\n        display: block;\n        width: 100%;\n        border: none;\n        border-radius: .5rem;\n        /* border-bottom: 1px solid #000; */\n        margin: 25px 0;\n        font-family: inherit;\n        resize: none;\n\n        &:focus {\n        outline: none;\n        }\n\n        &:focus ~ .form-input-label {\n            ","\n        }\n    }\n\n    .form-input-label {\n        color: var(--input-color);\n        font-size: 1.4rem;\n        font-weight: normal;\n        position: absolute;\n        pointer-events: none;\n        left: 1.5rem;\n        top: .6rem;\n        transition: 300ms ease all;\n\n        &.shrink {\n            ","\n        }\n    }\n"]);return l=function(){return n},n}function u(){var n=Object(o.a)(["\n    left: .5rem;\n    top: -14px;\n    font-size: 12px;\n    color: var(--input-color);\n"]);return u=function(){return n},n}var d=Object(a.b)(u()),s=a.c.div(l(),d,d);e.a=function(n){var e=n.handleChange,t=n.label,o=n.name,a=Object(c.a)(n,["handleChange","label","name"]);return Object(r.jsxs)(s,{children:[Object(r.jsx)("textarea",Object(i.a)({className:"form-input",name:o,onChange:e},a)),t?Object(r.jsx)("label",{htmlFor:o,className:"".concat(a.value.length?"shrink":""," form-input-label"),children:t}):null]})}}}]);
//# sourceMappingURL=15.cbe43c17.chunk.js.map