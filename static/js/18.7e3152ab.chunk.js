(this.webpackJsonpimooptik=this.webpackJsonpimooptik||[]).push([[18],{234:function(e,n,t){"use strict";t.r(n);var r=t(2),a=t(21),c=t(31),o=t(10),i=t(1),l=t.n(i),u=t(19),d=t(99),s=t(86),b=t(18),j=t(3),m=t(55),p=t(124),h=t(56),v=t(20),g=t.n(v),f=t(52),O=t(53),x=t(65),y=t(5),k=t(6),C=t(28);function w(){var e=Object(y.a)(["\n    cursor: pointer;\n    display: grid;\n    align-content: center;\n    grid-template-columns: 15rem 10rem 35rem 20rem 10rem 20rem;\n    margin-bottom: 1rem;\n    box-shadow: var(--container-shadow);\n    background-color: var(--container-background-color);\n\n    transition: all .3s ease-out;\n\n\n    &:hover {\n        "," {\n            background-color: var(--primary-color);\n            font-weight: bolder;\n            color: var(--button-font-color);\n        }\n    }\n\n\n"]);return w=function(){return e},e}function P(){var e=Object(y.a)(["\n    width: 100%;\n\n    display: grid;\n    align-items: center;\n    grid-template-columns: 15rem 10rem 35rem 20rem 10rem 20rem;\n    font-weight: bolder;\n\n"]);return P=function(){return e},e}function S(){var e=Object(y.a)(["\n    min-width: inherit;\n    padding: 2rem;\n    text-align: center;\n    background-color: ",";\n    border-bottom: ",";\n\n    img {\n        width: 5rem;\n    }\n\n"]);return S=function(){return e},e}function z(){var e=Object(y.a)(["\n    margin: 5rem 0;\n    overflow-x: auto;\n\n    ::-webkit-scrollbar {\n        width: 10px;\n    }\n\n    /* Track */\n    ::-webkit-scrollbar-track {\n        background:  var(--background-primary-color);\n    }\n\n    /* Handle */\n    ::-webkit-scrollbar-thumb {\n        background: var(--primary-color);\n    }\n\n    /* Handle on hover */\n    ::-webkit-scrollbar-thumb:hover {\n        background: var(--primary-color);\n    }\n"]);return z=function(){return e},e}function I(){var e=Object(y.a)(["\n    display: block;\n    margin-left: auto;\n    margin-top: 2rem;\n    background-color: var(--primary-color);\n"]);return I=function(){return e},e}function L(){var e=Object(y.a)(["\n    width: 100%;\n    height: 100%;\n\n    position: fixed;\n    left: 0;\n    right: 0;\n    z-index: 99999;\n\n    border: none;\n    outline: none;\n    opacity: 0;\n\n    &:focus {\n        outline: none\n    }\n"]);return L=function(){return e},e}function N(){var e=Object(y.a)(["\n    width:100%;\n    max-width: 65rem;\n    max-height: 60rem;\n\n    overflow-y: scroll;\n\n    padding: 2rem;\n    border-radius: .5rem;\n    background-color: var(--background-primary-color);\n    color: var(--primary-text-color);\n\n    position: relative;\n    z-index: 999999;\n\n    h2{ \n        margin-bottom: 2rem;\n        text-align: center;\n    }\n\n    ::-webkit-scrollbar {\n        width: 10px;\n    }\n\n    /* Track */\n    ::-webkit-scrollbar-track {\n        background:  var(--background-primary-color);\n    }\n\n    /* Handle */\n    ::-webkit-scrollbar-thumb {\n        background: var(--primary-color);\n    }\n\n    /* Handle on hover */\n    ::-webkit-scrollbar-thumb:hover {\n        background: var(--primary-color);\n    }\n"]);return N=function(){return e},e}function H(){var e=Object(y.a)(["\n    position: fixed;\n    left: 0;\n    right: 0;\n    top: 0;\n    bottom: 0;\n    z-index: 99999;\n\n    display: flex;\n    align-items: center;\n    justify-content: center;\n\n    background-color: rgba(0,0,0,0.3);\n"]);return H=function(){return e},e}var T=k.c.div(H()),E=k.c.div(N()),D=k.c.button(L()),A=Object(k.c)(C.a)(I()),_=k.c.div(z()),M=k.c.div(S(),(function(e){return e.isHead?"unset":"var(--container-background-color)"}),(function(e){return e.isHead?"1px solid var(--secondary-text-color)":"unset"})),R=k.c.div(P()),U=k.c.div(w(),M),G=function(e){var n=e.close,t=e.getSingleProduct,c=e.productObj,l=e.setProductObj,u=Object(i.useState)(""),d=Object(o.a)(u,2),s=d[0],b=d[1],j=Object(i.useState)([]),m=Object(o.a)(j,2),p=m[0],v=m[1],y=Object(i.useState)({limit:10,skip:0,filters:{type:c.type}}),k=Object(o.a)(y,2),C=k[0],w=k[1],P=Object(O.c)("api/admin/products/filter",C),S=P.response,z=P.isLoading,I=P.refetch;return Object(i.useEffect)((function(){z||v(S.products)}),[z]),g.a.createPortal(Object(r.jsxs)(T,{children:[Object(r.jsx)(D,{onClick:n}),Object(r.jsxs)(E,{children:[Object(r.jsx)("h2",{children:"Vyhladat produkt"}),Object(r.jsx)("div",{children:Object(r.jsx)(f.a,{label:"N\xe1zov produktu, eanCode alebo popis",value:s,handleChange:function(e){return b(e.target.value)},onKeyPress:function(e){""!==s&&"Enter"===e.key&&(w(Object(a.a)(Object(a.a)({},C),{},{query:s})),I())}})}),Object(r.jsx)(A,{onClick:function(){""!==s&&(w(Object(a.a)(Object(a.a)({},C),{},{query:s})),I())},children:"H\u013eada\u0165"}),Object(r.jsxs)(_,{children:[Object(r.jsxs)(R,{children:[Object(r.jsx)(M,{isHead:!0,children:"eanK\xf3d"}),Object(r.jsx)(M,{isHead:!0,children:"Obr\xe1zok"}),Object(r.jsx)(M,{isHead:!0,children:"N\xe1zov"}),Object(r.jsx)(M,{isHead:!0,children:"Zna\u010dka"}),Object(r.jsx)(M,{isHead:!0,children:"Cena"}),Object(r.jsx)(M,{isHead:!0,children:"Na sklade"})]}),p.map((function(e,c){return Object(r.jsxs)(U,{onClick:function(){return r=e._id,t(r,(function(e){console.log("DATA"),console.log(e);var n,t=e.product;1!==t.type&&2!==t.type&&4!==t.type||(delete t.__v,delete t.soldAmount,delete t.ordered,delete t._id,delete t.boughtTogether,delete t.contactLenses,delete t.date,l(Object(a.a)(Object(a.a)(Object(a.a)({},t),!t._id&&{_id:t._id}),{},{price:(t.price/100).toFixed(2),colorCode:null!==(n=t.colorCode)&&void 0!==n?n:"",image:t.image._id,specs:Object(a.a)(Object(a.a)({},t.specs),{},{size:Object(h.a)(Array(4)).map((function(e,n){return t.specs.size[n]?t.specs.size[n]:0}))})}))),3===t.type&&(delete t.__v,delete t.soldAmount,delete t.ordered,delete t._id,delete t.boughtTogether,delete t.specs,delete t.date,l(Object(a.a)(Object(a.a)(Object(a.a)({},t),!t._id&&{_id:t._id}),{},{price:(t.price/100).toFixed(2),image:t.image._id})))})),void n();var r},children:[Object(r.jsx)(M,{children:e.eanCode}),Object(r.jsx)(M,{children:(null===e||void 0===e?void 0:e.image)&&Object(r.jsx)("img",{src:"".concat("http://195.110.58.166:8080","/uploads/").concat(e.image.imagePath),alt:e.image.alt})}),Object(r.jsx)(M,{children:e.name}),Object(r.jsx)(M,{children:e.brand}),Object(r.jsxs)(M,{children:[(e.price/100).toFixed(2),"\u20ac"]}),Object(r.jsx)(M,{children:6===e.type?"Slu\u017eba":Object(x.a)(e.available)})]},c)}))]})]})]}),document.getElementById("portal"))};function Z(){var e=Object(y.a)(["\n    cursor: pointer;\n    display: grid;\n    align-content: center;\n    grid-template-columns: 15rem 10rem 35rem 20rem 10rem 20rem;\n    margin-bottom: 1rem;\n    box-shadow: var(--container-shadow);\n    background-color: var(--container-background-color);\n\n    transition: all .3s ease-out;\n\n\n    &:hover {\n        "," {\n            background-color: var(--primary-color);\n            font-weight: bolder;\n            color: var(--button-font-color);\n        }\n    }\n\n\n"]);return Z=function(){return e},e}function q(){var e=Object(y.a)(["\n    width: 100%;\n\n    display: grid;\n    align-items: center;\n    grid-template-columns: 15rem 10rem 35rem 20rem 10rem 20rem;\n    font-weight: bolder;\n\n"]);return q=function(){return e},e}function V(){var e=Object(y.a)(["\n    min-width: inherit;\n    padding: 2rem;\n    text-align: center;\n    background-color: ",";\n    border-bottom: ",";\n\n    img {\n        width: 5rem;\n    }\n\n"]);return V=function(){return e},e}function F(){var e=Object(y.a)(["\n    margin: 5rem 0;\n    overflow-x: auto;\n\n    ::-webkit-scrollbar {\n        width: 10px;\n    }\n\n    /* Track */\n    ::-webkit-scrollbar-track {\n        background:  var(--background-primary-color);\n    }\n\n    /* Handle */\n    ::-webkit-scrollbar-thumb {\n        background: var(--primary-color);\n    }\n\n    /* Handle on hover */\n    ::-webkit-scrollbar-thumb:hover {\n        background: var(--primary-color);\n    }\n"]);return F=function(){return e},e}function K(){var e=Object(y.a)(["\n    display: block;\n    margin-left: auto;\n    margin-top: 2rem;\n    background-color: var(--primary-color);\n"]);return K=function(){return e},e}function J(){var e=Object(y.a)(["\n    width: 100%;\n    height: 100%;\n\n    position: fixed;\n    left: 0;\n    right: 0;\n    z-index: 99999;\n\n    border: none;\n    outline: none;\n    opacity: 0;\n\n    &:focus {\n        outline: none\n    }\n"]);return J=function(){return e},e}function B(){var e=Object(y.a)(["\n    width:100%;\n    max-width: 65rem;\n    max-height: 60rem;\n\n    overflow-y: scroll;\n\n    padding: 2rem;\n    border-radius: .5rem;\n    background-color: var(--background-primary-color);\n    color: var(--primary-text-color);\n\n    position: relative;\n    z-index: 999999;\n\n    h2{ \n        margin-bottom: 2rem;\n        text-align: center;\n    }\n\n    ::-webkit-scrollbar {\n        width: 10px;\n    }\n\n    /* Track */\n    ::-webkit-scrollbar-track {\n        background:  var(--background-primary-color);\n    }\n\n    /* Handle */\n    ::-webkit-scrollbar-thumb {\n        background: var(--primary-color);\n    }\n\n    /* Handle on hover */\n    ::-webkit-scrollbar-thumb:hover {\n        background: var(--primary-color);\n    }\n"]);return B=function(){return e},e}function W(){var e=Object(y.a)(["\n    position: fixed;\n    left: 0;\n    right: 0;\n    top: 0;\n    bottom: 0;\n    z-index: 99999;\n\n    display: flex;\n    align-items: center;\n    justify-content: center;\n\n    background-color: rgba(0,0,0,0.3);\n"]);return W=function(){return e},e}var Y=k.c.div(W()),Q=k.c.div(B()),X=k.c.button(J()),$=Object(k.c)(C.a)(K()),ee=k.c.div(F()),ne=k.c.div(V(),(function(e){return e.isHead?"unset":"var(--container-background-color)"}),(function(e){return e.isHead?"1px solid var(--secondary-text-color)":"unset"})),te=k.c.div(q()),re=k.c.div(Z(),ne),ae=function(e){var n=e.close,t=e.getSingleLenses,c=(e.productObj,e.setProductObj),l=e.fillProductData,u=Object(i.useState)(""),d=Object(o.a)(u,2),s=d[0],b=d[1],j=Object(i.useState)([]),m=Object(o.a)(j,2),p=m[0],h=m[1],v=Object(i.useState)({limit:10,skip:0}),x=Object(o.a)(v,2),y=x[0],k=x[1],C=Object(O.c)("api/admin/lenses/filter",y),w=C.response,P=C.isLoading,S=C.refetch;return Object(i.useEffect)((function(){P||h(w.lenses)}),[P]),g.a.createPortal(Object(r.jsxs)(Y,{children:[Object(r.jsx)(X,{onClick:n}),Object(r.jsxs)(Q,{children:[Object(r.jsx)("h2",{children:"Vyh\u013eada\u0165 \u0161o\u0161ovky"}),Object(r.jsx)("div",{children:Object(r.jsx)(f.a,{label:"N\xe1zov \u0161o\u0161oviek, eanCode alebo popis",value:s,handleChange:function(e){return b(e.target.value)},onKeyPress:function(e){""!==s&&"Enter"===e.key&&(k(Object(a.a)(Object(a.a)({},y),{},{query:s})),S())}})}),Object(r.jsx)($,{onClick:function(){""!==s&&(k(Object(a.a)(Object(a.a)({},y),{},{query:s})),S())},children:"H\u013eada\u0165"}),Object(r.jsxs)(ee,{children:[Object(r.jsxs)(te,{children:[Object(r.jsx)(ne,{isHead:!0,children:"eanK\xf3d"}),Object(r.jsx)(ne,{isHead:!0,children:"N\xe1zov"}),Object(r.jsx)(ne,{isHead:!0,children:"Dioptrie"}),Object(r.jsx)(ne,{isHead:!0,children:"Cylinder"}),Object(r.jsx)(ne,{isHead:!0,children:"Cena"})]}),p.map((function(e,o){return Object(r.jsxs)(re,{onClick:function(){return r=e._id,t(r,(function(e){var n=e.lenses;delete n.__v,delete n._id,delete n.soldAmount,delete n.dateCreated,console.log("lenses"),console.log("lenses"),console.log(n),console.log(c),l(Object(a.a)(Object(a.a)({},n),{},{image:n.image._id,lensType:n.type||"\u010d\xedre",dioptric:n.dioptric||!1,type:0,price:(n.price/100).toFixed(2)}))})),void n();var r},children:[Object(r.jsx)(ne,{children:e.eanCode}),Object(r.jsx)(ne,{children:e.name}),Object(r.jsx)(ne,{children:e.dioptersRange&&Object(r.jsx)("p",{children:"od ".concat(e.dioptersRange[0]," do ").concat(e.dioptersRange[1])})}),Object(r.jsx)(ne,{children:e.cylinderRange&&Object(r.jsx)("p",{children:"od ".concat(e.cylinderRange[0]," do ").concat(e.cylinderRange[1])})}),Object(r.jsxs)(ne,{children:[(e.price/100).toFixed(2),"\u20ac"]})]},o)}))]})]})]}),document.getElementById("portal"))},ce=t(32),oe=t(60),ie=t(54),le=t(58),ue=t(57);function de(){var e=Object(y.a)(["\n    cursor: pointer;\n    position: absolute;\n    right: 2rem;\n    top: 2rem;\n    color: var(--primary-color);\n"]);return de=function(){return e},e}function se(){var e=Object(y.a)(["\n    margin-top: 1.5rem;\n    min-width: 16.5rem;\n    width: 100%;\n    background-color: var(--input-background-color);\n    color: var(--input-color);\n    border: none;\n    padding: .5rem .5rem .5rem 1rem;\n    font-size: inherit;\n    font-family: inherit;\n    display: block;\n"]);return se=function(){return e},e}function be(){var e=Object(y.a)(["\n    padding: 2rem; \n    box-shadow: var(--container-shadow);\n    background-color: var(--container-background-color);\n\n    border-radius: .5rem;\n"]);return be=function(){return e},e}function je(){var e=Object(y.a)(["\n    padding: 2rem; \n    box-shadow: var(--container-shadow);\n    background-color: var(--container-background-color);\n\n    border-radius: .5rem;\n    margin-bottom: 3rem;\n\n    h4 {\n        margin-top: 2rem;\n    }\n"]);return je=function(){return e},e}function me(){var e=Object(y.a)(["\n    position: relative;\n    padding: 2rem; \n    box-shadow: var(--container-shadow);\n    background-color: var(--container-background-color);\n\n    border-radius: .5rem;\n"]);return me=function(){return e},e}function pe(){var e=Object(y.a)(["\n    display: grid;\n    grid-template-columns: 1fr 1fr;\n    grid-gap: 3rem;\n    align-items: start;\n"]);return pe=function(){return e},e}function he(){var e=Object(y.a)(["\n    cursor: pointer;\n    display:flex;\n    align-items: center;\n    justify-content:center;\n    background-color: ",";\n    margin: 3rem 0 2rem;\n    min-height: 20rem;\n    position: relative;\n    /* max-width: 45rem; */\n\n    img {\n        width: 100%;\n        object-fit:cover;\n        object-position:center;\n        left: 0;\n        top: 0;\n    }\n"]);return he=function(){return e},e}function ve(){var e=Object(y.a)(["\n    margin-top: 2rem;\n    \n"]);return ve=function(){return e},e}function ge(){var e=Object(y.a)(["\n    margin-top: 2rem;\n"]);return ge=function(){return e},e}var fe=Object(k.c)(ue.a)(ge()),Oe=k.c.div(ve()),xe=k.c.div(he(),(function(e){return e.hasImage?"transparent":"var(--input-background-color)"})),ye=k.c.div(pe()),ke=k.c.div(me()),Ce=k.c.div(je()),we=k.c.div(be()),Pe=k.c.select(se()),Se=k.c.button(de()),ze=function(e){var n,t,a,c,u,d,s,b,j,m,p,h,v=e.product,g=e.handleChange,O=e.selectedImage,x=e.retailNames,y=e.currentUser,k=e.checkParameter,C=e.handleAvailableChange,w=e.handleGlassesParametersChange,P=e.handleGlassesSpecsSizeChange,S=e.handleSpecsChange,z=e.glassesParameters,I=e.setImageModal,L=e.isUpdating,N=e.filters,H=e.handleGetProductData,T=Object(i.useState)(!0),E=Object(o.a)(T,2),D=E[0],A=E[1];return Object(i.useEffect)((function(){"Nezna\u010dkov\xe9"===v.brand&&A(!1)}),[D]),Object(r.jsxs)(ye,{children:[Object(r.jsxs)(ke,{children:[Object(r.jsx)(Se,{onClick:function(){return H(!0)},children:Object(r.jsx)(le.f,{})}),Object(r.jsx)("h3",{children:"Z\xe1kladn\xe9 inform\xe1cie"}),Object(r.jsx)(f.a,{label:"eanCode*",type:"text",name:"eanCode",value:null!==(n=v.eanCode.toString())&&void 0!==n?n:"",handleChange:function(e){return g(e)}}),Object(r.jsx)(f.a,{label:"N\xe1zov produktu*",type:"text",name:"name",value:null!==(t=v.name)&&void 0!==t?t:"",handleChange:function(e){return g(e)}}),Object(r.jsx)(fe,{label:"Zna\u010dkov\xe9",isActive:D,handleClick:function(){D?(g({target:{name:"brand",value:"Nezna\u010dkov\xe9"}}),A(!1)):(g({target:{name:"brand",value:""}}),A(!0))}}),D&&Object(r.jsxs)(l.a.Fragment,{children:[Object(r.jsx)(f.a,{label:"Zna\u010dka",type:"text",name:"brand",value:null!==(a=v.brand)&&void 0!==a?a:"",handleChange:function(e){return g(e)},list:"brands"}),Object(r.jsx)("datalist",{id:"brands",children:(null===N||void 0===N?void 0:N.brands)&&(null===N||void 0===N?void 0:N.brands.map((function(e,n){return Object(r.jsx)("option",{value:e},n)})))})]}),L&&Object(r.jsx)(f.a,{label:"Link",type:"text",name:"link",value:null!==(c=v.link)&&void 0!==c?c:"",handleChange:function(e){return g(e)}}),Object(r.jsx)(oe.a,{label:"Popis",name:"description",rows:"5",value:null!==(u=v.description)&&void 0!==u?u:"",handleChange:function(e){return g(e)},required:!0}),Object(r.jsx)(f.a,{label:"Cena*",type:"text",name:"price",value:null!==(d=v.price.toString())&&void 0!==d?d:"",handleChange:function(e){return g(e)},required:!0}),Object(r.jsx)(Oe,{children:Object(r.jsxs)(xe,{onClick:function(){return I(!0)},hasImage:O,children:[!O&&"Vybra\u0165 obr\xe1zok",O&&Object(r.jsx)("img",{src:"".concat("http://195.110.58.166:8080","/uploads/").concat(O.imagePath),alt:O.alt})]})})]}),Object(r.jsxs)("div",{children:[Object(r.jsxs)(Ce,{children:[Object(r.jsx)("h3",{children:"Parametre"}),Object(r.jsx)(f.a,{label:"Farebn\xfd k\xf3d",type:"text",name:"colorCode",value:null!==(s=z.colorCode)&&void 0!==s?s:"",handleChange:function(e){return w(e)}}),Object(r.jsxs)("div",{children:[Object(r.jsx)(f.a,{label:"Farba r\xe1mu",type:"text",name:"frameColor",value:null!==(b=z.specs.frameColor)&&void 0!==b?b:"",handleChange:function(e){return S(e)},list:"colors"}),Object(r.jsx)("datalist",{id:"colors",children:ie.c.map((function(e,n){return Object(r.jsx)("option",{value:e},n)}))}),Object(r.jsx)(f.a,{label:"Materi\xe1l r\xe1mu",type:"text",name:"frameMaterial",value:null!==(j=z.specs.frameMaterial)&&void 0!==j?j:"",handleChange:function(e){return S(e)},list:"materials"}),Object(r.jsx)("datalist",{id:"materials",children:ie.d.map((function(e,n){return Object(r.jsx)("option",{value:e},n)}))}),Object(r.jsx)(f.a,{label:"Tvar r\xe1mu",type:"text",name:"frameStyle",value:null!==(m=z.specs.frameStyle)&&void 0!==m?m:"",handleChange:function(e){return S(e)},list:"shapes"}),Object(r.jsx)("datalist",{id:"shapes",children:ie.e.map((function(e,n){return Object(r.jsx)("option",{value:e},n)}))}),Object(r.jsx)(f.a,{label:"Farba \u0161o\u0161ovky",type:"text",name:"lensColor",value:null!==(p=z.specs.lensColor)&&void 0!==p?p:"",handleChange:function(e){return S(e)}}),Object(r.jsxs)(Pe,{label:"Pohlavie",type:"text",name:"sex",value:(null===z||void 0===z||null===(h=z.specs)||void 0===h?void 0:h.sex)||"",onChange:function(e){return S(e)},children:[Object(r.jsx)("option",{value:"",children:"-"}),Object(r.jsx)("option",{value:"M",children:"P\xe1nske"}),Object(r.jsx)("option",{value:"W",children:"D\xe1mske"}),Object(r.jsx)("option",{value:"CH",children:"Detsk\xe9"}),Object(r.jsx)("option",{value:"U",children:"Nez\xe1le\u017e\xed"})]})]}),Object(r.jsxs)("div",{children:[Object(r.jsx)("h4",{children:"Velkos\u0165"}),z.specs.size.map((function(e,n){return Object(r.jsx)(f.a,{label:0===n?"\u0160\xedrka o\u010dnice (mm)":1===n?"V\xfd\u0161ka o\u010dnice (mm)":2===n?"Ve\u013ekos\u0165 nosn\xedka (mm)":"D\u013a\u017eka stranice (mm)",type:"text",name:"size",value:k(z.specs.size,n),handleChange:function(e){return P(e,n)}},n)}))]})]}),y.admin>=2?Object(r.jsxs)(we,{children:[Object(r.jsx)("h3",{children:"Skladov\xe9 z\xe1soby"}),v.available.map((function(e,n){if(0!==n)return Object(r.jsx)(f.a,{label:1===y.admin?x[y.premises]:x[n],type:"number",name:"available",value:k(v.available,n),handleChange:function(e){return C(e,n)}},n)}))]}):Object(r.jsxs)(we,{children:[Object(r.jsx)("h3",{children:"Skladov\xe9 z\xe1soby"}),Object(r.jsx)(f.a,{label:(y.admin,x[y.premises]),type:"number",name:"available",value:k(v.available,y.premises),handleChange:function(e){return C(e,y.premises)}})]})]})]})},Ie=t(67);function Le(){var e=Object(y.a)(["\n    cursor: pointer;\n    position: absolute;\n    right: 2rem;\n    top: 2rem;\n    color: var(--primary-color);\n"]);return Le=function(){return e},e}function Ne(){var e=Object(y.a)(["\n    &:not(:last-child) {\n        margin-right: 2rem;\n    }\n"]);return Ne=function(){return e},e}function He(){var e=Object(y.a)(["\n    padding: 2rem;\n    box-shadow: var(--container-shadow);\n    background-color: var(--container-background-color);\n    margin-bottom: 3rem;\n\n    h3 {\n        margin-bottom: 1rem;\n    }\n\n    h4 {\n        margin-top: 2rem;\n    }\n\n    div {\n        :not(:last-child) {\n            margin-bottom: 1rem;\n        }\n    }\n"]);return He=function(){return e},e}function Te(){var e=Object(y.a)(["\n\n"]);return Te=function(){return e},e}function Ee(){var e=Object(y.a)(["\n    cursor: pointer;\n    display:flex;\n    align-items: center;\n    justify-content:center;\n    background-color: ",";\n    margin: 3rem 0 2rem;\n    min-height: 20rem;\n    position: relative;\n    /* max-width: 45rem; */\n\n    img {\n        width: 100%;\n        object-fit:cover;\n        object-position:center;\n        left: 0;\n        top: 0;\n    }\n"]);return Ee=function(){return e},e}function De(){var e=Object(y.a)(["\n    margin-top: 2rem;\n    \n"]);return De=function(){return e},e}function Ae(){var e=Object(y.a)(["\n    padding: 2rem; \n    box-shadow: var(--container-shadow);\n    background-color: var(--container-background-color);\n\n    h3 {\n        /* margin-bottom: 1rem; */\n    }\n\n    h4 {\n        margin-top: 2rem;\n    }\n"]);return Ae=function(){return e},e}function _e(){var e=Object(y.a)(["\n    position: relative;\n    /* width: 45rem; */\n    padding: 2rem; \n    box-shadow: var(--container-shadow);\n    background-color: var(--container-background-color);\n    border-radius: .5rem;\n    /* display: inline-block; */\n    /* padding-bottom: 4rem;  */\n    margin-bottom: 5rem;\n"]);return _e=function(){return e},e}function Me(){var e=Object(y.a)(["\n    display: grid;\n    grid-template-columns: 1fr 1fr;\n    grid-gap: 3rem;\n    align-items: start;\n\n    @media all and (max-width: 1000px) {\n        grid-template-columns: 1fr;\n    }\n"]);return Me=function(){return e},e}var Re=k.c.div(Me()),Ue=k.c.div(_e()),Ge=k.c.div(Ae()),Ze=k.c.div(De()),qe=k.c.div(Ee(),(function(e){return e.hasImage?"transparent":"var(--input-background-color)"})),Ve=k.c.div(Te()),Fe=k.c.div(He()),Ke=Object(k.c)(ue.a)(Ne()),Je=k.c.button(Le()),Be=function(e){var n,t,a,c,o,i,l=e.lenses,u=e.selectedImage,d=e.setImageModal,s=e.handleChange,b=e.handleParameterChange,j=e.checkParameter,m=e.filters,p=e.handleGetProductData;return Object(r.jsxs)(Re,{children:[Object(r.jsxs)(Ue,{children:[Object(r.jsx)(Je,{onClick:function(){return p(!0)},children:Object(r.jsx)(le.f,{})}),Object(r.jsx)("h3",{children:"Z\xe1kladn\xe9 inform\xe1cie"}),Object(r.jsx)(f.a,{label:"eanCode*",type:"text",name:"eanCode",value:null!==(n=null===l||void 0===l||null===(t=l.eanCode)||void 0===t?void 0:t.toString())&&void 0!==n?n:"",handleChange:function(e){return s(e)}}),Object(r.jsx)(f.a,{label:"N\xe1zov \u0161o\u0161oviek*",type:"text",name:"name",value:null!==(a=l.name)&&void 0!==a?a:"",handleChange:function(e){return s(e)}}),Object(r.jsx)(f.a,{label:"Zna\u010dka*",type:"text",name:"brand",value:null!==(c=l.brand)&&void 0!==c?c:"",handleChange:function(e){return s(e)},list:"brands"}),Object(r.jsx)("datalist",{id:"brands",children:(null===m||void 0===m?void 0:m.brands)&&(null===m||void 0===m?void 0:m.brands.map((function(e,n){return Object(r.jsx)("option",{value:e},n)})))}),Object(r.jsx)(oe.a,{label:"Popis*",name:"description",rows:"5",value:null!==(o=l.description)&&void 0!==o?o:"",handleChange:function(e){return s(e)},required:!0}),Object(r.jsx)(f.a,{label:"Cena*",type:"text",name:"price",value:null!==(i=l.price.toString())&&void 0!==i?i:"",handleChange:function(e){return s(e)},required:!0}),Object(r.jsx)(Ze,{children:Object(r.jsxs)(qe,{onClick:function(){return d(!0)},hasImage:u,children:[!u&&"Vybra\u0165 obr\xe1zok",u&&Object(r.jsx)("img",{src:"".concat("http://195.110.58.166:8080","/uploads/").concat(u.imagePath),alt:u.alt})]})})]}),Object(r.jsxs)(Ve,{children:[Object(r.jsxs)(Fe,{children:[Object(r.jsx)("h3",{children:"Druh"}),Object(r.jsx)("div",{children:Ie.l.map((function(e,n){return Object(r.jsx)(Ke,{label:e,value:e,name:"lensType",isActive:e===(null===l||void 0===l?void 0:l.lensType),handleClick:function(){return s({target:{name:"lensType",value:e}})}},n)}))}),Object(r.jsx)("div",{children:Object(r.jsx)(Ke,{label:"Dioptrick\xe9",value:l.dioptric,name:"dioptric",isActive:l.dioptric,handleClick:function(){return s({target:{name:"dioptric",value:!l.dioptric}})}})})]}),Object(r.jsxs)(Ge,{children:[Object(r.jsx)("h3",{children:"Parametre"}),Object(r.jsx)("h4",{children:"Dioptrie"}),Object(h.a)(Array(2)).map((function(e,n){var t=0===n?"minimum*":"maximum*";return Object(r.jsx)("div",{children:Object(r.jsx)(f.a,{label:t,type:"number",name:"dioptersRange",value:j(l.dioptersRange,n),handleChange:function(e){return b(e,n)}})},n)})),Object(r.jsx)("h4",{children:"Cylinder"}),Object(h.a)(Array(2)).map((function(e,n){var t=0===n?"minimum*":"maximum*";return Object(r.jsx)("div",{children:Object(r.jsx)(f.a,{label:t,type:"number",name:"cylinderRange",value:j(l.cylinderRange,n),handleChange:function(e){return b(e,n)}})},n)}))]})]})]})};function We(){var e=Object(y.a)(["\n    padding: 2rem; \n    box-shadow: var(--container-shadow);\n    background-color: var(--container-background-color);\n    border-radius: .5rem;\n"]);return We=function(){return e},e}function Ye(){var e=Object(y.a)(["\n    padding: 2rem; \n    box-shadow: var(--container-shadow);\n    background-color: var(--container-background-color);\n    border-radius: .5rem;\n"]);return Ye=function(){return e},e}function Qe(){var e=Object(y.a)(["\n    display: grid;\n    grid-template-columns: 1fr 1fr;\n    grid-gap: 3rem;\n    align-items: start;\n"]);return Qe=function(){return e},e}function Xe(){var e=Object(y.a)(["\n    cursor: pointer;\n    display:flex;\n    align-items: center;\n    justify-content:center;\n    background-color: ",";\n    margin: 3rem 0 2rem;\n    min-height: 20rem;\n    position: relative;\n    /* max-width: 45rem; */\n\n    img {\n        width: 100%;\n        object-fit:cover;\n        object-position:center;\n        left: 0;\n        top: 0;\n    }\n"]);return Xe=function(){return e},e}function $e(){var e=Object(y.a)(["\n    margin-top: 2rem;\n    \n"]);return $e=function(){return e},e}var en=k.c.div($e()),nn=k.c.div(Xe(),(function(e){return e.hasImage?"transparent":"var(--input-background-color)"})),tn=k.c.div(Qe()),rn=k.c.div(Ye()),an=k.c.div(We()),cn=function(e){var n,t,a,c,o,i,l=e.product,u=e.handleChange,d=e.selectedImage,s=e.setImageModal,b=e.handleAvailableChange,j=e.checkParameter,m=e.retailNames,p=e.currentUser,h=e.isUpdating,v=e.filters;return Object(r.jsxs)(tn,{children:[Object(r.jsxs)(rn,{children:[Object(r.jsx)("h3",{children:"Z\xe1kladn\xe9 inform\xe1cie"}),Object(r.jsx)(f.a,{label:"eanCode*",type:"text",name:"name",value:null!==(n=l.eanCode.toString())&&void 0!==n?n:"",handleChange:function(e){return u(e)}}),Object(r.jsx)(f.a,{label:"N\xe1zov doplnku*",type:"text",name:"name",value:null!==(t=l.name)&&void 0!==t?t:"",handleChange:function(e){return u(e)}}),Object(r.jsx)(f.a,{label:"Zna\u010dka",type:"text",name:"brand",value:null!==(a=l.brand)&&void 0!==a?a:"",handleChange:function(e){return u(e)},list:"brands"}),Object(r.jsx)("datalist",{id:"brands",children:(null===v||void 0===v?void 0:v.brands)&&(null===v||void 0===v?void 0:v.brands.map((function(e,n){return Object(r.jsx)("option",{value:e},n)})))}),h&&Object(r.jsx)(f.a,{label:"Link",type:"text",name:"link",value:null!==(c=l.link)&&void 0!==c?c:"",handleChange:function(e){return u(e)}}),Object(r.jsx)(oe.a,{label:"Popis",name:"description",rows:"5",value:null!==(o=l.description)&&void 0!==o?o:"",handleChange:function(e){return u(e)},required:!0}),Object(r.jsx)(f.a,{label:"Cena*",type:"text",name:"price",value:null!==(i=l.price.toString())&&void 0!==i?i:"",handleChange:function(e){return u(e)},required:!0}),Object(r.jsx)(en,{children:Object(r.jsxs)(nn,{onClick:function(){return s(!0)},hasImage:d,children:[!d&&"Vybra\u0165 obr\xe1zok",d&&Object(r.jsx)("img",{src:"".concat("http://195.110.58.166:8080","/uploads/").concat(d.imagePath),alt:d.alt})]})})]}),p.admin>=2?Object(r.jsxs)(an,{children:[Object(r.jsx)("h3",{children:"Skladov\xe9 z\xe1soby"}),l.available.map((function(e,n){if(0!==n)return Object(r.jsx)(f.a,{label:1===p.admin?m[p.premises-1]:m[n],type:"number",name:"available",value:j(l.available,n),handleChange:function(e){return b(e,n)}},n)}))]}):Object(r.jsxs)(an,{children:[Object(r.jsx)("h3",{children:"Skladov\xe9 z\xe1soby"}),Object(r.jsx)(f.a,{label:(p.admin,m[p.premises]),type:"number",name:"available",value:j(l.available,p.premises),handleChange:function(e){return b(e,p.premises)}})]})]})};function on(){var e=Object(y.a)(["\n    cursor: pointer;\n    position: absolute;\n    right: 2rem;\n    top: 2rem;\n    color: var(--primary-color);\n"]);return on=function(){return e},e}function ln(){var e=Object(y.a)(["\n    padding: 2rem; \n    box-shadow: var(--container-shadow);\n    background-color: var(--container-background-color);\n\n    border-radius: .5rem;\n"]);return ln=function(){return e},e}function un(){var e=Object(y.a)(["\n    margin-top: 2rem;\n    font-size: 1.4rem;\n\n"]);return un=function(){return e},e}function dn(){var e=Object(y.a)(["\n    padding: 2rem; \n    box-shadow: var(--container-shadow);\n    background-color: var(--container-background-color);\n\n    border-radius: .5rem;\n    margin-bottom: 3rem;\n\n    h4 {\n        margin-top: 1rem;\n    }\n"]);return dn=function(){return e},e}function sn(){var e=Object(y.a)(["\n    padding: 2rem; \n    box-shadow: var(--container-shadow);\n    background-color: var(--container-background-color);\n    border-radius: .5rem;\n    position: relative;\n\n"]);return sn=function(){return e},e}function bn(){var e=Object(y.a)(["\n    display: grid;\n    grid-template-columns: 1fr 1fr;\n    grid-gap: 3rem;\n    align-items: start;\n"]);return bn=function(){return e},e}function jn(){var e=Object(y.a)(["\n    cursor: pointer;\n    display:flex;\n    align-items: center;\n    justify-content:center;\n    background-color: ",";\n    margin: 3rem 0 2rem;\n    min-height: 20rem;\n    position: relative;\n    /* max-width: 45rem; */\n\n    img {\n        width: 100%;\n        object-fit:cover;\n        object-position:center;\n        left: 0;\n        top: 0;\n    }\n"]);return jn=function(){return e},e}function mn(){var e=Object(y.a)(["\n    margin-top: 2rem;\n    \n"]);return mn=function(){return e},e}var pn=k.c.div(mn()),hn=k.c.div(jn(),(function(e){return e.hasImage?"transparent":"var(--input-background-color)"})),vn=k.c.div(bn()),gn=k.c.div(sn()),fn=k.c.div(dn()),On=Object(k.c)(C.a)(un()),xn=k.c.div(ln()),yn=k.c.button(on()),kn=function(e){var n,t,a,c,o,i,l=e.product,u=e.handleChange,d=e.setImageModal,s=e.selectedImage,b=e.checkParameter,j=e.handleContactLensesChange,m=e.handleAddNewParameter,p=e.contactLensesParameters,h=e.retailNames,v=e.currentUser,g=e.handleAvailableChange,O=e.isUpdating,x=e.filters,y=e.handleGetProductData;return Object(r.jsxs)(vn,{children:[Object(r.jsxs)(gn,{children:[Object(r.jsx)(yn,{onClick:function(){return y(!0)},children:Object(r.jsx)(le.f,{})}),Object(r.jsx)("h3",{children:"Z\xe1kladn\xe9 inform\xe1cie"}),Object(r.jsx)(f.a,{label:"eanCode*",type:"text",name:"name",value:null!==(n=l.eanCode.toString())&&void 0!==n?n:"",handleChange:function(e){return u(e)}}),Object(r.jsx)(f.a,{label:"N\xe1zov doplnku*",type:"text",name:"name",value:null!==(t=l.name)&&void 0!==t?t:"",handleChange:function(e){return u(e)}}),Object(r.jsx)(f.a,{label:"Zna\u010dka",type:"text",name:"brand",value:null!==(a=l.brand)&&void 0!==a?a:"",handleChange:function(e){return u(e)},list:"brands"}),Object(r.jsx)("datalist",{id:"brands",children:(null===x||void 0===x?void 0:x.brands)&&(null===x||void 0===x?void 0:x.brands.map((function(e,n){return Object(r.jsx)("option",{value:e},n)})))}),O&&Object(r.jsx)(f.a,{label:"Link",type:"text",name:"link",value:null!==(c=l.link)&&void 0!==c?c:"",handleChange:function(e){return u(e)}}),Object(r.jsx)(oe.a,{label:"Popis",name:"description",rows:"5",value:null!==(o=l.description)&&void 0!==o?o:"",handleChange:function(e){return u(e)},required:!0}),Object(r.jsx)(f.a,{label:"Cena*",type:"text",name:"price",value:null!==(i=l.price.toString())&&void 0!==i?i:"",handleChange:function(e){return u(e)},required:!0}),Object(r.jsx)(pn,{children:Object(r.jsxs)(hn,{onClick:function(){return d(!0)},hasImage:s,children:[!s&&"Vybra\u0165 obr\xe1zok",s&&Object(r.jsx)("img",{src:"".concat("http://195.110.58.166:8080","/uploads/").concat(s.imagePath),alt:s.alt})]})})]}),Object(r.jsxs)("div",{children:[Object(r.jsxs)(fn,{children:[Object(r.jsx)("h3",{children:"Parametre"}),Object(r.jsxs)("div",{children:[Object(r.jsx)("h4",{children:"Zakrivenie"}),p.allowedCurves.map((function(e,n){return Object(r.jsx)(f.a,{label:n+1,type:"text",name:"allowedCurves",value:b(p.allowedCurves,n),handleChange:function(e){return j(e,n)}},n)})),Object(r.jsx)(On,{onClick:function(){return m({target:{name:"allowedCurves"}})},children:"Prida\u0165"})]}),Object(r.jsxs)("div",{children:[Object(r.jsx)("h4",{children:"Priemery"}),p.allowedDiameters.map((function(e,n){return Object(r.jsx)(f.a,{label:n+1,type:"text",name:"allowedDiameters",value:b(p.allowedDiameters,n),handleChange:function(e){return j(e,n)}},n)})),Object(r.jsx)(On,{onClick:function(){return m({target:{name:"allowedDiameters"}})},children:"Prida\u0165"})]}),Object(r.jsxs)("div",{children:[Object(r.jsx)("h4",{children:"Dioptrie"}),p.dioptersRange.map((function(e,n){var t=0===n?"minimum":"maximum";return Object(r.jsx)(f.a,{label:t,type:"text",name:"dioptersRange",value:b(p.dioptersRange,n),handleChange:function(e){return j(e,n)}},n)}))]})]}),v.admin>=2?Object(r.jsxs)(xn,{children:[Object(r.jsx)("h3",{children:"Skladov\xe9 z\xe1soby"}),l.available.map((function(e,n){if(0!==n)return Object(r.jsx)(f.a,{label:1===v.admin?h[v.premises]:h[n],type:"number",name:"available",value:b(l.available,n),handleChange:function(e){return g(e,n)}},n)}))]}):Object(r.jsxs)(xn,{children:[Object(r.jsx)("h3",{children:"Skladov\xe9 z\xe1soby"}),Object(r.jsx)(f.a,{label:(v.admin,h[v.premises]),type:"number",name:"available",value:b(l.available,v.premises),handleChange:function(e){return g(e,v.premises)}})]})]})]})};function Cn(){var e=Object(y.a)(["\n    cursor: pointer;\n    display:flex;\n    align-items: center;\n    justify-content:center;\n    background-color: ",";\n    margin: 3rem 0 2rem;\n    min-height: 20rem;\n    position: relative;\n    /* max-width: 45rem; */\n\n    img {\n        width: 100%;\n        object-fit:cover;\n        object-position:center;\n        left: 0;\n        top: 0;\n    }\n"]);return Cn=function(){return e},e}function wn(){var e=Object(y.a)(["\n    margin-top: 2rem;\n    \n"]);return wn=function(){return e},e}function Pn(){var e=Object(y.a)(["\n    padding: 2rem; \n    box-shadow: var(--container-shadow);\n    background-color: var(--container-background-color);\n    border-radius: .5rem;\n"]);return Pn=function(){return e},e}function Sn(){var e=Object(y.a)(["\n    display: grid;\n    grid-template-columns: 1fr 1fr;\n    grid-gap: 3rem;\n    align-items: start;\n"]);return Sn=function(){return e},e}var zn=k.c.div(Sn()),In=k.c.div(Pn()),Ln=(k.c.div(wn()),k.c.div(Cn(),(function(e){return e.hasImage?"transparent":"var(--input-background-color)"})),function(e){var n,t,a,c,o=e.product,i=e.handleChange;e.selectedImage,e.setImageModal;return Object(r.jsx)(zn,{children:Object(r.jsxs)(In,{children:[Object(r.jsx)("h3",{children:"Z\xe1kladn\xe9 inform\xe1cie"}),Object(r.jsx)(f.a,{label:"eanCode*",type:"text",name:"name",value:null!==(n=o.eanCode.toString())&&void 0!==n?n:"",handleChange:function(e){return i(e)}}),Object(r.jsx)(f.a,{label:"N\xe1zov slu\u017eby*",type:"text",name:"name",value:null!==(t=o.name)&&void 0!==t?t:"",handleChange:function(e){return i(e)}}),Object(r.jsx)(f.a,{label:"Cena*",type:"text",name:"price",value:null!==(a=o.price.toString())&&void 0!==a?a:"",handleChange:function(e){return i(e)},required:!0}),Object(r.jsx)(oe.a,{label:"Popis",name:"description",rows:"5",value:null!==(c=o.description)&&void 0!==c?c:"",handleChange:function(e){return i(e)},required:!0})]})})}),Nn=t(14);function Hn(){var e=Object(y.a)(["\n    &:not(:last-child) {\n        margin-right: 2rem;\n    }\n"]);return Hn=function(){return e},e}function Tn(){var e=Object(y.a)(["\n    padding: 2rem; \n    box-shadow: var(--container-shadow);\n    background-color: var(--container-background-color);\n    border-radius: .5rem;\n    display: inline-block;\n    margin-bottom: 3rem;\n\n    h3 {\n        margin-bottom: 1.5rem;\n    }\n"]);return Tn=function(){return e},e}function En(){var e=Object(y.a)(["\n    margin-right: 2rem;\n"]);return En=function(){return e},e}function Dn(){var e=Object(y.a)(["\n\n"]);return Dn=function(){return e},e}function An(){var e=Object(y.a)(["\n    ","\n    padding-top: 3rem;\n    padding-bottom: 3rem;\n    color: var(--primary-text-color);\n\n"]);return An=function(){return e},e}var _n=k.c.div(An(),Nn.g),Mn=Object(k.c)(C.a)(Dn()),Rn=Object(k.c)(ue.a)(En()),Un=k.c.div(Tn()),Gn=Object(k.c)(ue.a)(Hn());n.default=function(){var e=Object(j.i)().id,n=Object(i.useContext)(u.a).currentUser,t=Object(i.useContext)(b.a),l=t.closeModal,h=t.message,v=t.isLoading,g=t.showModal,f=t.getMessage,x=t.setShowModal,y=Object(i.useContext)(s.ImageContext),k=y.selectedImage,C=y.setSelectedImage,w=Object(i.useState)(!1),P=Object(o.a)(w,2),S=P[0],z=P[1],I=Object(i.useState)(!1),L=Object(o.a)(I,2),N=L[0],H=L[1],T=Object(i.useState)(!1),E=Object(o.a)(T,2),D=E[0],A=E[1],_=Object(i.useState)(!1),M=Object(o.a)(_,2),R=M[0],U=M[1],Z=Object(i.useContext)(d.WarehouseContext),q=Z.eanCode,V=Z.product,F=Z.lenses,K=Z.contactLensesParameters,J=Z.glassesParameters,B=Z.handleLensesChange,W=Z.handleLensesParameterChange,Y=Z.createProduct,Q=Z.updateProduct,X=Z.resetProduct,$=Z.resetLenses,ee=Z.resetContactLenses,ne=Z.resetGlassesParameters,te=Z.createLenses,re=Z.updateLenses,oe=Z.handleProductChange,le=Z.handleProductAvailableChange,ue=Z.getEanCode,de=Z.handleAddNewParameter,se=Z.handleContactLensesParameterChange,be=Z.handleGlassesParameterChange,je=Z.handleGlassesParameterSpecsChange,me=Z.handleGlassesSizeChange,pe=Z.getSingleProduct,he=Z.getSingleLenses,ve=Object(i.useState)(!1),ge=Object(o.a)(ve,2),fe=ge[0],Oe=ge[1],xe=Object(i.useState)({}),ye=Object(o.a)(xe,2),ke=ye[0],Ce=ye[1],we=Object(O.a)("api/store/products/".concat(null===ke||void 0===ke?void 0:ke.type,"/filters"),!(null===ke||void 0===ke?void 0:ke.type),"GET"),Pe=we.response,Se=we.isLoading,Le=we.refetch,Ne=Object(i.useState)(null),He=Object(o.a)(Ne,2),Te=He[0],Ee=He[1],De=function(e){H(e)},Ae=function(e){A(e)},_e=function(e){Oe(!0);var n=e.target,t=n.name,r=n.value;if(!R)if(0===ke.type){if(Object.keys(ke).length>2){if(!window.confirm("Rozpisane polia bud\xfa vymazane"))return;$(),C("")}}else if(Object.keys(ke).length>2){if(!window.confirm("Rozpisane polia bud\xfa vymazane"))return;X(),ee(),ne(),C("")}Ce(Object(c.a)({},t,r))};console.count("PRODUCT OBJ"),console.log(ke);var Me=function(e){Oe(!0);var n=e.target,t=n.name,r=n.value;if(0===ke.type&&B(e),6===ke.type&&oe(e),5===ke.type&&oe(e),4===ke.type&&oe(e),3===ke.type&&oe(e),2===ke.type&&oe(e),1===ke.type&&oe(e),""!==r){var o;if(R)if("name"===t)return void Ce(Object(a.a)(Object(a.a)({},ke),{},(o={},Object(c.a)(o,t,r),Object(c.a)(o,"link",Object(Ie.e)(r)),o)));Ce(Object(a.a)(Object(a.a)({},ke),{},Object(c.a)({},t,r)))}else delete ke[t]},Re=function(e,n){var t=e.target,r=t.name,o=t.value,i=V[r];i[n]=""===o?1001:Number(o),le(e,n),Ce(Object(a.a)(Object(a.a)({},ke),{},Object(c.a)({},r,i)))},Ue=Object(i.useState)(null),Ge=Object(o.a)(Ue,2),Ze=(Ge[0],Ge[1]);return Object(i.useEffect)((function(){(null===ke||void 0===ke?void 0:ke.type)&&(Ee(null),Le())}),[null===ke||void 0===ke?void 0:ke.type]),Object(i.useEffect)((function(){if(0===ke.type){if(ke.lensType)return;console.log("SET LENS TYPE"),console.log(F),Me({target:{name:"lensType",value:null===F||void 0===F?void 0:F.type}})}}),[F.lensType]),Object(i.useEffect)((function(){Se||(null===Pe||void 0===Pe?void 0:Pe.filters)&&Ee(null===Pe||void 0===Pe?void 0:Pe.filters)}),[Se]),Object(i.useEffect)((function(){"novy-produkt"===e&&(q?void 0!==ke.type&&Me({target:{name:"eanCode",value:q}}):ue())}),[e,q,ke.type,ke.eanCode,V.type]),Object(i.useEffect)((function(){"novy-produkt"!==e&&(pe(e,(function(){})),U(!0),ke.type||_e({target:{name:"type",value:V.type}}))}),[e,V.type]),Object(i.useEffect)((function(){V.image&&C(V.image),F.image&&C(F.image)}),[V.image,F.image]),Object(i.useEffect)((function(){return function(){X(),$(),ee(),ne(),Ce({}),C(null),U(!1)}}),[]),Object(r.jsxs)("section",{children:[Object(r.jsx)(j.a,{when:fe,message:"Chcete opusti\u0165 formul\xe1r?"}),D&&Object(r.jsx)(ae,{close:function(){return Ae(!1)},getSingleProduct:pe,productObj:ke,setProductObj:Ce,getSingleLenses:he,fillProductData:function(e){console.log("productData"),console.log("productData"),console.log(e),Ze(Object(a.a)(Object(a.a)({},ke),e)),Ce(Object(a.a)(Object(a.a)({},ke),e))}}),N&&Object(r.jsx)(G,{close:function(){return H(!1)},getSingleProduct:pe,productObj:ke,setProductObj:Ce}),g&&Object(r.jsx)(ce.a,{loading:v,title:h,close:l}),S&&Object(r.jsx)(p.a,{close:function(){return z(!1)},setImage:function(e){Oe(!0),Ce(Object(a.a)(Object(a.a)({},ke),{},{image:e}))}}),Object(r.jsx)(_n,{children:Object(r.jsxs)(Nn.c,{children:[Object(r.jsx)("div",{children:Object(r.jsx)("h1",{children:R?"Upravi\u0165 produkt":"Nov\xfd produkt"})}),Object(r.jsxs)("div",{children:[Object(r.jsx)(Rn,{label:"Verejn\xe9",name:"eshop",isActive:V.eshop,handleClick:function(){return Me({target:{name:"eshop",value:!V.eshop}})}}),Object(r.jsx)(Mn,{onClick:function(t){t.preventDefault();var r=Object(a.a)(Object(a.a)(Object(a.a)({},ke),0===ke.type&&{type:F.lensType}),0===ke.type&&{dioptric:F.dioptric});if(n.admin<2?r.available&&(r=Object(a.a)(Object(a.a)({},ke),{},{available:ke.available[n.premises]})):r.available&&(r=Object(a.a)(Object(a.a)({},ke),{},{available:r.available?r.available.map((function(e){return 1001===e?0:e})):[0,0,0,0,0,0]})),R){if(console.log(r),0===r.type||"string"===typeof r.type){Oe(!1),delete r.link;var c=Object(a.a)(Object(a.a)({},r),{},{type:r.lensType,eanCode:F.eanCode});return delete c.lensType,console.log(e),void re(c,e)}return 3===r.type?(Oe(!1),delete r.type,void Q(Object(a.a)(Object(a.a)({},r),{},{contactLenses:{}}))):(Oe(!1),delete r.type,void Q(r))}if(0===ke.type){if(console.log("NEW LENSES OBJ"),console.log(r),!(r.name&&r.brand&&r.description&&r.price&&r.image&&r.dioptersRange&&r.cylinderRange))return x(!0),void f("Povinn\xe9 \xfadaje s\xfa pr\xe1zdne");Oe(!1);var o=Object(a.a)(Object(a.a)({},r),{},{type:r.lensType});delete o.lensType,te(o)}if(6===r.type||5===r.type||4===r.type||3===r.type||2===r.type||1===r.type){if(!r.name||!r.price)return x(!0),void f("Povinn\xe9 \xfadaje s\xfa pr\xe1zdne");Oe(!1),delete r._id,Y(r)}},children:R?"Upravi\u0165":"Vytvori\u0165"})]})]})}),Object(r.jsxs)(m.a,{children:[!R&&Object(r.jsxs)(Un,{children:[Object(r.jsx)("h3",{children:"Ak\xfd produkt chcete prida\u0165?"}),Ie.m.map((function(e,n){return Object(r.jsx)(Gn,{label:e.name,value:e.value,name:"type",isActive:e.value===ke.type,handleClick:function(){return _e({target:{name:"type",value:e.value}})}},n)}))]}),0===ke.type&&Object(r.jsx)(Be,{lenses:F,selectedImage:k,setImageModal:z,handleChange:Me,handleParameterChange:function(e,n){var t=e.target,r=t.name,o=t.value,i=F[r];i[n]=""===o?1001:Number(o),W(e,n),Ce(Object(a.a)(Object(a.a)({},ke),{},Object(c.a)({},r,i)))},checkParameter:Ie.b,filters:Te,handleGetProductData:Ae}),6===ke.type&&Object(r.jsx)(Ln,{product:V,isUpdating:R,handleChange:Me,selectedImage:k,setImageModal:z,filters:Te}),5===ke.type&&Object(r.jsx)(cn,{product:V,isUpdating:R,currentUser:n,retailNames:ie.f,selectedImage:k,handleChange:Me,setImageModal:z,checkParameter:Ie.b,handleAvailableChange:Re,filters:Te}),3===ke.type&&Object(r.jsx)(kn,{product:V,isUpdating:R,retailNames:ie.f,currentUser:n,selectedImage:k,contactLensesParameters:K,handleChange:Me,setImageModal:z,checkParameter:Ie.b,handleAddNewParameter:de,handleAvailableChange:Re,handleContactLensesChange:function(e,n){var t=e.target,r=t.name,o=t.value,i=K[r];if(i[n]=""===o?1001:o,se(e,n),""===o)return ke.contactLenses[r].length>1?(i.splice(n,1),Ce(Object(a.a)(Object(a.a)({},ke),{},{contactLenses:Object(a.a)(Object(a.a)({},ke.contactLenses),{},Object(c.a)({},r,i))}))):delete ke.contactLenses[r],void(0===Object.keys(ke.contactLenses).length&&delete ke.contactLenses);Ce(Object(a.a)(Object(a.a)({},ke),{},{contactLenses:Object(a.a)(Object(a.a)({},ke.contactLenses),{},Object(c.a)({},r,i))}))},filters:Te,handleGetProductData:De}),(1===ke.type||2===ke.type||4===ke.type)&&Object(r.jsx)(ze,{product:V,isUpdating:R,retailNames:ie.f,currentUser:n,selectedImage:k,glassesParameters:J,handleChange:Me,setImageModal:z,checkParameter:Ie.b,handleSpecsChange:function(e){Oe(!0);var n=e.target,t=n.name,r=n.value;if(je(e),""===r)return delete ke.specs[t],void(0===Object.keys(ke.specs).length&&delete ke.specs);Ce(Object(a.a)(Object(a.a)({},ke),{},{specs:Object(a.a)(Object(a.a)({},ke.specs),{},Object(c.a)({},t,r))}))},handleAvailableChange:Re,handleGlassesSpecsSizeChange:function(e,n){var t=e.target,r=t.name,o=t.value,i=J.specs[r];if(i[n]=""===o?1001:o,me(e,n),""!==o)Ce(Object(a.a)(Object(a.a)({},ke),{},{specs:Object(a.a)(Object(a.a)({},ke.specs),{},Object(c.a)({},r,i))}));else{if(ke.specs[r].length>1){i[n]=1001;var l=i[0];!1===i.map((function(e){return l===e})).find((function(e){return!1===e}))?Ce(Object(a.a)(Object(a.a)({},ke),{},{specs:Object(a.a)(Object(a.a)({},ke.specs),{},Object(c.a)({},r,i))})):delete ke.specs[r]}0===Object.keys(ke.specs).length&&delete ke.specs}},handleGlassesParametersChange:function(e){Oe(!0);var n=e.target,t=n.name,r=n.value;be(e),""!==r?Ce(Object(a.a)(Object(a.a)({},ke),{},Object(c.a)({},t,r))):delete ke[t]},filters:Te,handleGetProductData:De})]})]})}},53:function(e,n,t){"use strict";t.d(n,"a",(function(){return l})),t.d(n,"c",(function(){return u})),t.d(n,"b",(function(){return d}));var r=t(7),a=t.n(r),c=t(12),o=t(10),i=t(1),l=function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",r=Object(i.useState)(null),l=Object(o.a)(r,2),u=l[0],d=l[1],s=Object(i.useState)(null),b=Object(o.a)(s,2),j=b[0],m=b[1],p=Object(i.useState)(null),h=Object(o.a)(p,2),v=h[0],g=h[1],f=Object(i.useState)(!0),O=Object(o.a)(f,2),x=O[0],y=O[1],k=Object(i.useState)(0),C=Object(o.a)(k,2),w=C[0],P=C[1],S=function(){return P((function(e){return e+1}))},z={method:t,redirect:"follow"};return Object(i.useEffect)((function(){(function(){var t=Object(c.a)(a.a.mark((function t(){var r,c;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=2;break}return t.abrupt("return");case 2:return y(!0),t.prev=3,t.next=6,fetch("".concat("http://195.110.58.166:8080","/").concat(e),z);case 6:return r=t.sent,t.next=9,r.json();case 9:c=t.sent,g(c.message),d(c),y(!1),t.next=20;break;case 15:t.prev=15,t.t0=t.catch(3),m(t.t0),y(!1),g("Nie\u010do sa pokazilo");case 20:case"end":return t.stop()}}),t,null,[[3,15]])})));return function(){return t.apply(this,arguments)}})()()}),[w]),{response:u,isLoading:x,error:j,message:v,refetch:S}},u=function(e,n){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=Object(i.useState)(null),l=Object(o.a)(r,2),u=l[0],d=l[1],s=Object(i.useState)(null),b=Object(o.a)(s,2),j=b[0],m=b[1],p=Object(i.useState)(!0),h=Object(o.a)(p,2),v=h[0],g=h[1],f=Object(i.useState)(0),O=Object(o.a)(f,2),x=O[0],y=O[1],k=function(){return y((function(e){return e+1}))},C=new Headers;C.append("auth-token",localStorage.getItem("mptkthtknv2")),C.append("Content-Type","application/json");var w=JSON.stringify(n),P={method:"POST",headers:C,body:w,redirect:"follow"};return Object(i.useEffect)((function(){(function(){var n=Object(c.a)(a.a.mark((function n(){var r,c;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t){n.next=2;break}return n.abrupt("return");case 2:return g(!0),n.prev=3,n.next=6,fetch("".concat("http://195.110.58.166:8080","/").concat(e),P);case 6:return r=n.sent,n.next=9,r.json();case 9:c=n.sent,d(c),g(!1),n.next=18;break;case 14:n.prev=14,n.t0=n.catch(3),m(n.t0),g(!1);case 18:case"end":return n.stop()}}),n,null,[[3,14]])})));return function(){return n.apply(this,arguments)}})()()}),[x,e]),{response:u,isLoading:v,error:j,refetch:k}},d=function(e,n){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=Object(i.useState)(null),l=Object(o.a)(r,2),u=l[0],d=l[1],s=Object(i.useState)(null),b=Object(o.a)(s,2),j=b[0],m=b[1],p=Object(i.useState)(!0),h=Object(o.a)(p,2),v=h[0],g=h[1],f=Object(i.useState)(0),O=Object(o.a)(f,2),x=O[0],y=O[1],k=function(){return y((function(e){return e+1}))},C=new Headers;C.append("auth-token",localStorage.getItem("mptkthtknv2")),C.append("Content-Type","application/json");var w={method:"GET",headers:C,redirect:"follow"};return Object(i.useEffect)((function(){(function(){var r=Object(c.a)(a.a.mark((function r(){var c,o;return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!t){r.next=2;break}return r.abrupt("return");case 2:return g(!0),r.prev=3,r.next=6,fetch("".concat("http://195.110.58.166:8080","/").concat(e,"/").concat(n),w);case 6:return c=r.sent,r.next=9,c.json();case 9:o=r.sent,d(o),g(!1),r.next=18;break;case 14:r.prev=14,r.t0=r.catch(3),m(r.t0),g(!1);case 18:case"end":return r.stop()}}),r,null,[[3,14]])})));return function(){return r.apply(this,arguments)}})()()}),[x,e,n]),{response:u,isLoading:v,error:j,refetch:k}}},65:function(e,n,t){"use strict";t.d(n,"b",(function(){return r})),t.d(n,"a",(function(){return a})),t.d(n,"c",(function(){return c})),t.d(n,"d",(function(){return o}));var r=function(e){return!!e&&("number"===typeof e?e>0:e.reduce((function(e,n){return e+n}))>0)},a=function(e){if(!e)return"Nedostupn\xe9";if("number"===typeof e)return e>0?"".concat(e,"ks"):"Nedostupn\xe9";var n=e.reduce((function(e,n){return e+n}));return n>0?"".concat(n,"ks"):"Nedostupn\xe9"},c=function(e){return"cash"===e?"Hotovos\u0165":"card"===e?"Karta":"coupon"===e?"Kup\xf3n":e},o=function(e){return"finished"===e?"Dokon\u010den\xe9":"fulfilled"===e?"Vybaven\xe9":"pending"===e?"\u010cak\xe1 na vybavenie":"paid"===e?"Zaplaten\xe9":"half-paid"===e?"Z\xe1lohovan\xe9":"cancelled"===e?"Zru\u0161en\xe9":void 0}}}]);
//# sourceMappingURL=18.7e3152ab.chunk.js.map