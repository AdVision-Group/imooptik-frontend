(this.webpackJsonpimooptik=this.webpackJsonpimooptik||[]).push([[17,29],{225:function(n,e,r){"use strict";r.r(e);var t=r(2),c=r(31),o=r(21),i=r(55),a=r(10),d=r(1),l=r(18),s=r(3),u=r(54),b=r(32),j=r(96),v=r(52),m=r(5),O=r(6),h=r(28);function f(){var n=Object(m.a)(["\n    max-width: 40rem;\n    padding: 2rem;\n    box-shadow: var(--container-shadow);\n    background-color: var(--container-background-color);\n    margin: 0 auto;\n    border-radius: .5rem;\n\n    h3 {\n        text-align: center;\n        font-size: 3rem;\n    }\n\n    div {\n\n        &:not(:last-child) {\n            margin-bottom: 3rem;\n\n        }\n    }\n"]);return f=function(){return n},n}function p(){var n=Object(m.a)(["\n    padding: 2rem;\n    text-align: center;\n\n    img {\n        width: 5rem;\n    }\n"]);return p=function(){return n},n}function x(){var n=Object(m.a)(["\n    margin: 5rem 0;\n"]);return x=function(){return n},n}function g(){var n=Object(m.a)(["\n    display: block;\n    margin: 0 auto;\n"]);return g=function(){return n},n}function y(){var n=Object(m.a)(["\n    cursor: pointer;\n    display: grid;\n    align-content: center;\n    grid-template-columns: 1fr 2fr 25rem;\n    margin-bottom: 1rem;\n    box-shadow: var(--container-shadow);\n    background-color: var(--container-background-color);\n\n    transition: all .3s ease-out;\n\n    &:hover {\n        background-color: var(--primary-color); \n        font-weight: bolder;\n        color: var(--button-font-color);\n    }\n"]);return y=function(){return n},n}function k(){var n=Object(m.a)(["\n    display: grid;\n    align-content: center;\n    grid-template-columns: 1fr 2fr 25rem;\n    border-bottom: 1px solid var(--secondary-text-color);\n    font-weight: bolder;\n"]);return k=function(){return n},n}var w=O.c.div(k()),C=O.c.div(y()),P=Object(O.c)(h.a)(g()),S=O.c.div(x()),D=O.c.div(p()),E=O.c.div(f()),z=function(n){var e=n.next,r=n.addToOrder,c=Object(d.useState)(""),o=Object(a.a)(c,2),i=o[0],l=o[1],s=Object(d.useState)([]),u=Object(a.a)(s,2),b=u[0],m=u[1],O=Object(d.useContext)(j.UserContext),h=O.users,f=O.getFilteredUsers,p=O.getUserByQuery;return Object(d.useEffect)((function(){h||f({limit:5}),h&&m(h)}),[h]),Object(d.useEffect)((function(){h&&""===i&&(f({limit:5}),m(h))}),[i]),Object(d.useEffect)((function(){return function(){l(""),m([])}}),[]),Object(t.jsxs)("div",{children:[Object(t.jsxs)(E,{children:[Object(t.jsx)("h3",{children:"Vyh\u013eada\u0165 z\xe1kaznika"}),Object(t.jsx)("div",{children:Object(t.jsx)(v.a,{label:"Meno, priezvisko, email alebo tel. \u010d\xedslo",value:i,onChange:function(n){return l(n.target.value)},onKeyPress:function(n){""!==i&&"Enter"===n.key&&p({query:i})}})}),Object(t.jsx)(P,{onClick:function(){""!==i&&p({query:i})},children:"H\u013eada\u0165"})]}),Object(t.jsxs)(S,{children:[Object(t.jsxs)(w,{children:[Object(t.jsx)(D,{children:"Meno a priezvisko"}),Object(t.jsx)(D,{children:"Email"}),Object(t.jsx)(D,{children:"Mo\u017enosti"})]}),b.map((function(n,c){return Object(t.jsxs)(C,{onClick:function(){return function(n){r({name:"user",value:n}),e()}(n)},children:[Object(t.jsx)(D,{children:n.name}),Object(t.jsx)(D,{children:n.email}),Object(t.jsx)(D,{children:n.phone})]},c)}))]})]})},A=r(72),M=r(57),T=r(56);function N(){var n=Object(m.a)(["\n    display: grid;\n    grid-template-columns: 1fr 1fr;\n    grid-gap: 2rem;\n    margin: 0 1rem 2rem;\n    padding: 0 1rem;\n"]);return N=function(){return n},n}function L(){var n=Object(m.a)(["\n    margin-top: 1.5rem;\n    min-width: 16.5rem;\n    width: 100%;\n    background-color: var(--input-background-color);\n    color: var(--input-color);\n    border: none;\n    padding: .5rem .5rem .5rem 1rem;\n    font-size: inherit;\n    font-family: inherit;\n    display: block;\n    outline: none;\n\n    &:focus {\n        outline: none;\n    }\n"]);return L=function(){return n},n}function R(){var n=Object(m.a)(["\n    margin-top: 1rem;\n    margin-right: 2rem;\n\n\n"]);return R=function(){return n},n}function F(){var n=Object(m.a)(["\n    padding: 1rem 1rem;\n    margin: 0 1rem 1rem;\n    /* background-color: red; */\n    display: flex;\n    justify-content: space-between;\n    align-items: flex-end;\n    border-bottom: .05rem solid var(--secondary-text-color);\n\n\n"]);return F=function(){return n},n}function B(){var n=Object(m.a)(["\n    grid-column: 1/5;\n\n"]);return B=function(){return n},n}function H(){var n=Object(m.a)(["\n    cursor: pointer;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    color: var(--primary-color);\n    font-size: 2rem;\n"]);return H=function(){return n},n}function I(){var n=Object(m.a)(["\n    padding: 2rem;\n    text-align: center;\n\n"]);return I=function(){return n},n}function U(){var n=Object(m.a)(["\n    display:grid; \n    grid-template-columns: 5rem 3fr 2fr 1fr;\n    background-color: var(--background-primary-color);\n    /* border: .05rem solid var(--secondary-text-color); */\n"]);return U=function(){return n},n}var K=O.c.div(U()),V=O.c.div(I()),J=O.c.div(H()),Z=O.c.div(B()),G=O.c.div(F()),_=Object(O.c)(T.a)(R()),q=O.c.select(L()),W=O.c.div(N()),Q=function(n){var e=n.item,r=n.idx,i=n.addProperties,l=Object(d.useState)(!1),s=Object(a.a)(l,2),u=s[0],b=s[1],j=Object(d.useState)(""),m=Object(a.a)(j,2),O=m[0],h=m[1],f=Object(d.useState)(null),p=Object(a.a)(f,2),x=p[0],g=p[1],y=Object(d.useState)({}),k=Object(a.a)(y,2),w=k[0],C=k[1],P=function(n){g(""===n?null:{}),h(n)},S=function(n,e,r){var t=n.target,i=t.name,a=t.value,d=r;d[e]=""===a?1001:Number(a),C(Object(o.a)(Object(o.a)({},w),{},Object(c.a)({},i,d)))};return Object(d.useEffect)((function(){e.product.type&&3===e.product.type&&C({curve:[e.product.contactLenses.allowedCurves[0],e.product.contactLenses.allowedCurves[0]],diameter:[e.product.contactLenses.allowedDiameters[0],e.product.contactLenses.allowedDiameters[0]],diopters:[0,0]})}),[e.product]),Object(d.useEffect)((function(){i(r,Object(o.a)(Object(o.a)({},x&&{discount:Object(o.a)({},x)}),3===e.product.type&&{contactLenses:Object(o.a)({},w)}))}),[x,w]),console.log("COMBINED PRODUCT DETAILS"),console.log(w),console.log("PRODUCT DISCOUNT"),console.log(x),Object(t.jsxs)(K,{children:[Object(t.jsx)(V,{children:r+1}),Object(t.jsx)(V,{children:e.product.name}),Object(t.jsxs)(V,{children:[(e.product.price/100).toFixed(2),"\u20ac"]}),Object(t.jsx)(V,{children:Object(t.jsx)(J,{onClick:function(){b((function(n){return!n}))},children:Object(t.jsx)(M.a,{})})}),u&&Object(t.jsxs)(Z,{children:[3===e.product.type&&Object(t.jsxs)(W,{children:[Object(t.jsxs)("div",{children:[Object(t.jsx)("h4",{children:"\u013dave oko"}),Object(t.jsx)(q,{name:"curve",value:w.curve[0],onChange:function(n){return S(n,0,w.curve)},children:e.product.contactLenses.allowedCurves.map((function(n,e){return Object(t.jsx)("option",{value:n,children:n},e)}))}),Object(t.jsx)(q,{name:"diameter",value:w.diameter[0],onChange:function(n){return S(n,0,w.diameter)},children:e.product.contactLenses.allowedDiameters.map((function(n,e){return Object(t.jsx)("option",{value:n,children:n},e)}))}),Object(t.jsx)(v.a,{name:"diopters",type:"number",value:w.diopters[0],min:e.product.contactLenses.dioptersRange[0],max:e.product.contactLenses.dioptersRange[1],step:.25,onChange:function(n){return S(n,0,w.diopters)}})]}),Object(t.jsxs)("div",{children:[Object(t.jsx)("h4",{children:"Prav\xe9 oko"}),Object(t.jsx)(q,{name:"curve",value:w.curve[1],onChange:function(n){return S(n,1,w.curve)},children:e.product.contactLenses.allowedCurves.map((function(n,e){return Object(t.jsx)("option",{value:n,children:n},e)}))}),Object(t.jsx)(q,{name:"diameter",value:w.diameter[1],onChange:function(n){return S(n,1,w.diameter)},children:e.product.contactLenses.allowedDiameters.map((function(n,e){return Object(t.jsx)("option",{value:n,children:n},e)}))}),Object(t.jsx)(v.a,{type:"number",value:w.diopters[1],min:e.product.contactLenses.dioptersRange[0],max:e.product.contactLenses.dioptersRange[1],step:.25,name:"diopters",onChange:function(n){return S(n,1,w.diopters)}})]})]}),Object(t.jsxs)(G,{children:[Object(t.jsxs)("div",{children:[Object(t.jsx)("h4",{children:"Z\u013eava"}),Object(t.jsx)(_,{label:"Fixn\xe1 suma",value:"flat",name:"flat",isActive:"flat"===O,handleClick:function(){return P("flat"===O?"":"flat")}}),Object(t.jsx)(_,{label:"Percert\xe1",value:"percent",name:"percent",isActive:"percent"===O,handleClick:function(){return P("percent"===O?"":"percent")}})]}),Object(t.jsx)("div",{children:Object(t.jsx)(v.a,{label:"Hodnota",value:"flat"===O?(null===x||void 0===x?void 0:x.flat)||"":(null===x||void 0===x?void 0:x.percent)||"",onChange:function(n){!function(n){var e=n.target,r=e.name,t=e.value;if(""===t)return delete x[r],void g(Object(o.a)({},x));g(Object(o.a)(Object(o.a)({},x),{},Object(c.a)({},r,t)))}({target:{name:O,value:n.target.value}})}})})]})]})]})},X=r(223);function Y(){var n=Object(m.a)(["\n    cursor: pointer;\n    border: 4px solid var(--backbutton-color);\n    color: var(--backbutton-color);\n    border-radius: 50%;\n    padding: 1.2rem 1.2rem;\n    display: inline-flex;\n    align-items: center;\n    justify-content: center;\n    margin-bottom: 3rem;\n"]);return Y=function(){return n},n}var $=O.c.div(Y()),nn=function(n){var e=Object.assign({},n);return Object(t.jsx)($,Object(o.a)(Object(o.a)({},e),{},{children:Object(t.jsx)(X.a,{})}))};function en(){var n=Object(m.a)(["\n    cursor: pointer;\n    display: grid;\n    align-content: center;\n    grid-template-columns: 10rem 15rem 1fr 1fr 10rem 1fr;\n    margin-bottom: 1rem;\n    box-shadow: var(--container-shadow);\n    background-color: var(--container-background-color);\n\n    transition: all .3s ease-out;\n\n    &:hover {\n        background-color: var(--primary-color); \n        font-weight: bolder;\n        color: var(--button-font-color);\n    }\n"]);return en=function(){return n},n}function rn(){var n=Object(m.a)(["\n    display: grid;\n    align-content: center;\n    grid-template-columns: 10rem 15rem 1fr 1fr 10rem 1fr;\n    border-bottom: 1px solid var(--secondary-text-color);\n    font-weight: bolder;\n\n\n"]);return rn=function(){return n},n}function tn(){var n=Object(m.a)(["\n    padding: 2rem;\n    text-align: center;\n\n    img {\n        width: 5rem;\n    }\n"]);return tn=function(){return n},n}function cn(){var n=Object(m.a)(["\n    margin: 5rem 0;\n\n"]);return cn=function(){return n},n}function on(){var n=Object(m.a)(["\n    display: block;\n    margin-left: auto;\n"]);return on=function(){return n},n}function an(){var n=Object(m.a)(["\n    /* max-width: 40rem; */\n    padding: 2rem;\n    box-shadow: var(--container-shadow);\n    background-color: var(--container-background-color);\n    /* margin: 0 auto; */\n    border-radius: .5rem;\n\n    h3 {\n        /* text-align: center; */\n        font-size: 2.5rem;\n    }\n\n    div {\n\n        &:not(:last-child) {\n            margin-bottom: 3rem;\n\n        }\n    }\n"]);return an=function(){return n},n}function dn(){var n=Object(m.a)(["\n    font-size: 1.4rem;\n    background-color: var(--primary-color);\n    font-weight: bolder;\n    display: block;\n    margin-left: 1rem;\n    /* margin: 2rem 2rem 2rem auto; */\n"]);return dn=function(){return n},n}function ln(){var n=Object(m.a)(["\n    font-size: 1.4rem;\n    display: block;\n\n"]);return ln=function(){return n},n}function sn(){var n=Object(m.a)(["\n    margin: 2rem 2rem;\n    display: flex;\n    justify-content: flex-end;\n"]);return sn=function(){return n},n}function un(){var n=Object(m.a)(["\n    padding-top: 2rem;\n    padding-left: 2rem;\n    opacity: .6;\n"]);return un=function(){return n},n}function bn(){var n=Object(m.a)(["\n    display:grid; \n    grid-template-columns: 5rem 3fr 2fr 1fr;\n    background-color: var(--background-primary-color);\n    border-bottom: 1px solid var(--secondary-text-color);\n    margin: 2rem;\n    margin-right: calc(2rem + 10px);\n    margin-bottom: 0;\n"]);return bn=function(){return n},n}function jn(){var n=Object(m.a)(["\n    max-height: 30rem;\n    overflow-y: scroll;\n    padding: 2rem 2rem 0 2rem;\n    padding-top: 0;\n\n    ::-webkit-scrollbar {\n        width: 10px;\n    }\n\n    /* Track */\n    ::-webkit-scrollbar-track {\n        background:  var(--background-primary-color);\n    }\n\n    /* Handle */\n    ::-webkit-scrollbar-thumb {\n        background: var(--primary-color);\n    }\n\n    /* Handle on hover */\n    ::-webkit-scrollbar-thumb:hover {\n        background: var(--primary-color);\n    }\n"]);return jn=function(){return n},n}function vn(){var n=Object(m.a)(["\n    box-shadow: var(--container-shadow);\n    background-color: var(--container-background-color);\n\n    h3 {\n        padding: 2rem;\n        font-size: 2.5rem;\n\n    }\n"]);return vn=function(){return n},n}function mn(){var n=Object(m.a)(["\n    display: grid;\n    grid-template-columns: 1fr 2fr;\n    grid-gap: 3rem;\n    align-items: start;\n\n"]);return mn=function(){return n},n}var On=O.c.div(mn()),hn=O.c.div(vn()),fn=O.c.div(jn()),pn=O.c.div(bn()),xn=O.c.p(un()),gn=O.c.div(sn()),yn=Object(O.c)(h.a)(ln()),kn=Object(O.c)(h.a)(dn()),wn=O.c.div(an()),Cn=Object(O.c)(h.a)(on()),Pn=O.c.div(cn()),Sn=O.c.div(tn()),Dn=O.c.div(rn()),En=O.c.div(en()),zn=function(n){var e=n.back,r=n.next,c=n.addToOrder,l=(n.showModal,n.showErrorMessage),s=n.order,u=Object(d.useState)(""),b=Object(a.a)(u,2),j=b[0],m=b[1],O=Object(d.useState)([]),h=Object(a.a)(O,2),f=h[0],p=h[1],x=Object(d.useState)([]),g=Object(a.a)(x,2),y=g[0],k=g[1],w=Object(d.useContext)(A.WarehouseContext),C=w.products,P=w.getProductsByQuery,S=function(n,e){console.log("INDEX: ".concat(n)),console.log("OBJ TO ADD:"),console.log(e);var r=y;Object.keys(e).length>0?r[n]=Object(o.a)(Object(o.a)({},y[n]),e):r[n]={product:y[n].product},k(r),c({name:"products",value:r}),console.log("NEW CART ITEMS"),console.log(r)};return Object(d.useEffect)((function(){s.products&&0===y.length&&k(s.products)}),[s.products]),Object(d.useEffect)((function(){(!C||f.length<1)&&P({limit:10}),C&&p(C)}),[C]),Object(d.useEffect)((function(){C&&""===j&&P({limit:10})}),[j]),Object(d.useEffect)((function(){return function(){p([]),k([])}}),[]),console.log("CART ITEMS"),console.log(y),Object(t.jsxs)("div",{children:[Object(t.jsx)(nn,{onClick:e}),Object(t.jsxs)(On,{children:[Object(t.jsxs)(wn,{children:[Object(t.jsx)("h3",{children:"Vyh\u013eada\u0165 produkt"}),Object(t.jsx)("div",{children:Object(t.jsx)(v.a,{label:"N\xe1zov produktu, eanCode alebo popis",value:j,handleChange:function(n){return m(n.target.value)},onKeyPress:function(n){""!==j&&"Enter"===n.key&&P({query:j})}})}),Object(t.jsx)(Cn,{onClick:function(){""!==j&&P({query:j})},children:"H\u013eada\u0165"})]}),Object(t.jsxs)(hn,{children:[Object(t.jsx)("h3",{children:"Vybrat\xe9 polo\u017eky"}),Object(t.jsxs)(pn,{children:[Object(t.jsx)(Sn,{children:"#"}),Object(t.jsx)(Sn,{children:"Produkt"}),Object(t.jsx)(Sn,{children:"Cena"}),Object(t.jsx)(Sn,{children:"Mo\u017enosti"})]}),Object(t.jsxs)(fn,{children:[y.map((function(n,e){return Object(t.jsx)(Q,{item:n,idx:e,addProperties:S},e)})),0===y.length&&Object(t.jsx)(xn,{children:"Nie s\xfa vybran\xe9 \u017eiadn\xe9 produkty"})]}),Object(t.jsxs)(gn,{children:[Object(t.jsx)(yn,{onClick:function(){return r("selectLenses")},children:"Preis\u0165 na \u0161osovky"}),Object(t.jsx)(kn,{onClick:function(){var n=y.map((function(n){return Object(o.a)(Object(o.a)({product:n.product._id},n.discount&&{discount:n.discount}),n.contactLenses&&{contactLenses:n.contactLenses})}));console.log("PRODUCT IDs"),console.log(n)},children:"Dokon\u010di\u0165 objedn\xe1vku"})]})]})]}),Object(t.jsxs)(Pn,{children:[Object(t.jsxs)(Dn,{children:[Object(t.jsx)(Sn,{children:"eanCode"}),Object(t.jsx)(Sn,{children:"Obr\xe1zok"}),Object(t.jsx)(Sn,{children:"N\xe1zov"}),Object(t.jsx)(Sn,{children:"Zna\u010dka"}),Object(t.jsx)(Sn,{children:"Cena"}),Object(t.jsx)(Sn,{children:"Dostupnos\u0165"})]}),f.map((function(n,e){return Object(t.jsxs)(En,{onClick:function(){return(e=n.available)&&("number"===typeof e?e>0:e.reduce((function(n,e){return n+e}))>0)?function(n){k((function(e){return[].concat(Object(i.a)(e),[{product:n}])}))}(n):l("Produkt nieje na sklade.");var e},children:[Object(t.jsx)(Sn,{children:n.eanCode}),Object(t.jsx)(Sn,{children:(null===n||void 0===n?void 0:n.image)&&Object(t.jsx)("img",{src:"".concat("http://195.110.58.166:8080","/uploads/").concat(n.image.imagePath),alt:n.image.alt})}),Object(t.jsx)(Sn,{children:n.name}),Object(t.jsx)(Sn,{children:n.brand}),Object(t.jsxs)(Sn,{children:[(n.price/100).toFixed(2),"\u20ac"]}),Object(t.jsx)(Sn,{children:(r=n.available,r?"number"===typeof r?r>0?"Na sklade":"Nedostupn\xe9":r.reduce((function(n,e){return n+e}))>0?"Na sklade":"Nedostupn\xe9":"Nedostupn\xe9")})]},e);var r}))]})]})};function An(){var n=Object(m.a)(["\n    margin-top: 1rem;\n    margin-right: 2rem;\n\n\n"]);return An=function(){return n},n}function Mn(){var n=Object(m.a)(["\n    padding: 1rem 1rem;\n    margin: 0 1rem 1rem;\n    /* background-color: red; */\n    display: flex;\n    justify-content: space-between;\n    align-items: flex-end;\n    border-bottom: .05rem solid var(--secondary-text-color);\n\n\n"]);return Mn=function(){return n},n}function Tn(){var n=Object(m.a)(["\n    grid-column: 1/5;\n\n"]);return Tn=function(){return n},n}function Nn(){var n=Object(m.a)(["\n    cursor: pointer;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    color: var(--primary-color);\n    font-size: 2rem;\n"]);return Nn=function(){return n},n}function Ln(){var n=Object(m.a)(["\n    padding: 2rem;\n    text-align: center;\n\n"]);return Ln=function(){return n},n}function Rn(){var n=Object(m.a)(["\n    display:grid; \n    grid-template-columns: 5rem 3fr 2fr 1fr;\n    background-color: var(--background-primary-color);\n    /* border: .05rem solid var(--secondary-text-color); */\n"]);return Rn=function(){return n},n}var Fn=O.c.div(Rn()),Bn=O.c.div(Ln()),Hn=O.c.div(Nn()),In=O.c.div(Tn()),Un=O.c.div(Mn()),Kn=Object(O.c)(T.a)(An()),Vn=function(n){var e=n.idx,r=n.item,i=Object(d.useState)(!1),l=Object(a.a)(i,2),s=l[0],u=l[1],b=Object(d.useState)(""),j=Object(a.a)(b,2),m=j[0],O=j[1],h=Object(d.useState)(null),f=Object(a.a)(h,2),p=f[0],x=f[1],g=function(n){x(""===n?null:{}),O(n)};return Object(t.jsxs)(Fn,{children:[Object(t.jsx)(Bn,{children:e+1}),Object(t.jsx)(Bn,{children:r.lens.name}),Object(t.jsxs)(Bn,{children:[(r.lens.price/100).toFixed(2),"\u20ac"]}),Object(t.jsx)(Bn,{children:Object(t.jsx)(Hn,{onClick:function(){u((function(n){return!n}))},children:Object(t.jsx)(M.a,{})})}),s&&Object(t.jsx)(In,{children:Object(t.jsxs)(Un,{children:[Object(t.jsxs)("div",{children:[Object(t.jsx)("h4",{children:"Z\u013eava"}),Object(t.jsx)(Kn,{label:"Fixn\xe1 suma",value:"flat",name:"flat",isActive:"flat"===m,handleClick:function(){return g("flat"===m?"":"flat")}}),Object(t.jsx)(Kn,{label:"Percert\xe1",value:"percent",name:"percent",isActive:"percent"===m,handleClick:function(){return g("percent"===m?"":"percent")}})]}),Object(t.jsx)("div",{children:Object(t.jsx)(v.a,{label:"Hodnota",value:"flat"===m?(null===p||void 0===p?void 0:p.flat)||"":(null===p||void 0===p?void 0:p.percent)||"",onChange:function(n){!function(n){var e=n.target,r=e.name,t=e.value;if(""===t)return delete p[r],void x(Object(o.a)({},p));x(Object(o.a)(Object(o.a)({},p),{},Object(c.a)({},r,t)))}({target:{name:m,value:n.target.value}})}})})]})})]})};function Jn(){var n=Object(m.a)(["\n    font-size: 1.4rem;\n    background-color: var(--primary-color);\n    font-weight: bolder;\n    display: block;\n    margin-left: 1rem;\n    /* margin: 2rem 2rem 2rem auto; */\n"]);return Jn=function(){return n},n}function Zn(){var n=Object(m.a)(["\n    font-size: 1.4rem;\n    display: block;\n\n"]);return Zn=function(){return n},n}function Gn(){var n=Object(m.a)(["\n    background-color: var(--container-background-color);\n\n    margin: 2rem 2rem;\n    display: flex;\n    justify-content: flex-end;\n"]);return Gn=function(){return n},n}function _n(){var n=Object(m.a)(["\n    padding-top: 2rem;\n    padding-left: 2rem;\n    opacity: .6;\n"]);return _n=function(){return n},n}function qn(){var n=Object(m.a)(["\n    display:grid; \n    grid-template-columns: 5rem 3fr 2fr 1fr;\n    background-color: var(--background-primary-color);\n    border-bottom: 1px solid var(--secondary-text-color);\n    margin: 2rem;\n    margin-right: calc(2rem + 10px);\n    margin-bottom: 0;\n"]);return qn=function(){return n},n}function Wn(){var n=Object(m.a)(["\n    padding: 2rem;\n    text-align: center;\n\n"]);return Wn=function(){return n},n}function Qn(){var n=Object(m.a)(["\n    max-height: 30rem;\n    overflow-y: scroll;\n    padding: 2rem 2rem 0 2rem;\n    padding-top: 0;\n\n    ::-webkit-scrollbar {\n        width: 10px;\n    }\n\n    /* Track */\n    ::-webkit-scrollbar-track {\n        background:  var(--background-primary-color);\n    }\n\n    /* Handle */\n    ::-webkit-scrollbar-thumb {\n        background: var(--primary-color);\n    }\n\n    /* Handle on hover */\n    ::-webkit-scrollbar-thumb:hover {\n        background: var(--primary-color);\n    }\n"]);return Qn=function(){return n},n}function Xn(){var n=Object(m.a)(["\n    grid-column: 2/3;\n    box-shadow: var(--container-shadow);\n    background-color: var(--container-background-color);\n\n    h3 {\n        padding: 2rem;\n        font-size: 2.5rem;\n\n    }\n"]);return Xn=function(){return n},n}function Yn(){var n=Object(m.a)(["\n    background-color: var(--background-primary-color);\n    border-radius: 50%;\n    width: 10rem;\n    height: 10rem;\n    margin: 0 auto;\n    margin-bottom: 1.5rem;\n"]);return Yn=function(){return n},n}function $n(){var n=Object(m.a)(["\n    cursor: pointer;\n    width: 100%;\n    max-width: 32rem;\n    padding: 2rem;\n    border-radius: .5rem;\n    box-shadow: var(--container-shadow);\n    background-color: var(--container-background-color);\n    text-align: center;\n    transition: transform .3s ease-out,\n                box-shadow .3s ease-out;\n\n    &:last-child {\n        display:flex;\n        flex-direction: column;\n        justify-content: space-between;\n    }\n\n    h4 {\n        font-size: 2.5rem;\n        margin-bottom: 1.5rem\n    }\n\n    img {\n        /* background-color:#000; */\n        width: 15rem;\n        height: 15rem;\n        margin-bottom: 1rem; \n        object-fit: contain;\n        object-position: center;\n    }\n\n    p {\n        opacity: .65;\n        &:not(:last-child){\n            margin-bottom: .5rem;\n        }\n    }\n\n    h5 {\n        font-size: 2.5rem;\n    }\n\n    &:hover {\n        transform: scale(1.03);\n        box-shadow: var(--container-shadow);\n    }\n"]);return $n=function(){return n},n}function ne(){var n=Object(m.a)(["\n    display: flex;\n    flex-wrap: wrap;\n    gap: 2rem;\n"]);return ne=function(){return n},n}function ee(){var n=Object(m.a)(["\n    margin: 5rem 0;\n\n    h3 {\n        font-size: 3rem;\n        margin-bottom: 3rem;\n    }\n"]);return ee=function(){return n},n}function re(){var n=Object(m.a)(["\n    display: grid;\n    grid-template-columns: 1fr 2fr;\n    grid-gap: 3rem;\n    align-items: start;\n\n"]);return re=function(){return n},n}var te=O.c.div(re()),ce=O.c.div(ee()),oe=O.c.div(ne()),ie=O.c.div($n()),ae=O.c.div(Yn()),de=O.c.div(Xn()),le=O.c.div(Qn()),se=O.c.div(Wn()),ue=O.c.div(qn()),be=O.c.p(_n()),je=O.c.div(Gn()),ve=(Object(O.c)(h.a)(Zn()),Object(O.c)(h.a)(Jn())),me=function(n){var e=n.back,r=(n.next,n.addToOrder,n.order,n.showModal,Object(d.useState)([])),c=Object(a.a)(r,2),l=c[0],s=c[1],u=Object(d.useContext)(A.WarehouseContext),b=u.lensesProducts,j=u.getLenses,v=Object(d.useState)([]),m=Object(a.a)(v,2),O=m[0],h=m[1],f=function(n){h((function(e){return[].concat(Object(i.a)(e),[{lens:Object(o.a)({},n)}])}))};return Object(d.useEffect)((function(){b||j(),b&&s(b)}),[b]),console.log(O),Object(t.jsxs)("div",{children:[Object(t.jsx)(nn,{onClick:e}),Object(t.jsx)(te,{children:Object(t.jsxs)(de,{children:[Object(t.jsx)("h3",{children:"Vybrat\xe9 polo\u017eky"}),Object(t.jsxs)(ue,{children:[Object(t.jsx)(se,{children:"#"}),Object(t.jsx)(se,{children:"Produkt"}),Object(t.jsx)(se,{children:"Cena"}),Object(t.jsx)(se,{children:"Mo\u017enosti"})]}),Object(t.jsxs)(le,{children:[O.map((function(n,e){return Object(t.jsx)(Vn,{idx:e,item:n},e)})),0===O.length&&Object(t.jsx)(be,{children:"Nie s\xfa vybran\xe9 \u017eiadn\xe9 produkty"})]}),Object(t.jsx)(je,{children:Object(t.jsx)(ve,{children:"Dokon\u010di\u0165 objedn\xe1vku"})})]})}),Object(t.jsxs)(ce,{children:[Object(t.jsx)("h3",{children:"V\xfdber \u0160o\u0161oviek"}),Object(t.jsxs)(oe,{children:[l.map((function(n,e){return Object(t.jsxs)(ie,{onClick:function(){return f(n)},children:[Object(t.jsx)("h4",{children:n.name}),Object(t.jsx)(ae,{}),Object(t.jsx)("p",{children:n.description}),n.dioptersRange&&Object(t.jsx)("p",{children:"Dioptrie od ".concat(n.dioptersRange[0]," do ").concat(n.dioptersRange[1])}),n.cylinderRange&&Object(t.jsx)("p",{children:"Cylinder  od ".concat(n.cylinderRange[0]," do ").concat(n.cylinderRange[1])}),Object(t.jsxs)("h5",{children:[(n.price/100).toFixed(2),"\u20ac"]})]},e)})),Object(t.jsxs)(ie,{onClick:function(){return f(null)},children:[Object(t.jsx)("h4",{children:"\u017diadn\xe9 skl\xe1"}),Object(t.jsx)(ae,{}),Object(t.jsx)("h5",{children:"0\u20ac"})]})]})]})]})},Oe=r(73),he=r(97),fe=r(58);function pe(){var n=Object(m.a)(["\n    display: flex;\n    align-items: center;\n    margin-bottom: 2rem;\n\n\n    label {\n        display: block;\n        outline: none;\n        margin-left: 1rem;\n\n        &:focus {\n            outline: none;\n\n        }\n    }\n\n    input: {\n        display: block;\n    }\n"]);return pe=function(){return n},n}function xe(){var n=Object(m.a)(["\n    display: flex;\n    align-items: center;\n    margin-bottom: 2rem;\n\n\n    label {\n        display: block;\n        outline: none;\n        margin-left: 1rem;\n\n        &:focus {\n            outline: none;\n\n        }\n    }\n\n    input: {\n        display: block;\n    }\n"]);return xe=function(){return n},n}function ge(){var n=Object(m.a)(["\n    margin-top: 2rem;\n    margin-right: 2rem;\n"]);return ge=function(){return n},n}function ye(){var n=Object(m.a)(["\n    margin-top: 1.5rem;\n    min-width: 16.5rem;\n    width: 100%;\n    background-color: var(--input-background-color);\n    color: var(--input-color);\n    border: none;\n    padding: .5rem .5rem .5rem 1rem;\n    font-size: inherit;\n    font-family: inherit;\n    display: block;\n    outline: none;\n    margin-bottom: 2rem;\n\n    &:focus {\n        outline: none;\n    }\n"]);return ye=function(){return n},n}function ke(){var n=Object(m.a)(["\n    display: block;\n    margin: 2rem auto 0;\n"]);return ke=function(){return n},n}function we(){var n=Object(m.a)(["\n    width: 100%;\n    height: 100%;\n\n    position: fixed;\n    left: 0;\n    right: 0;\n    z-index: 99999;\n\n    border: none;\n    outline: none;\n    opacity: 0;\n\n    &:focus {\n        outline: none\n    }\n"]);return we=function(){return n},n}function Ce(){var n=Object(m.a)(["\n    width:100%;\n    max-width: 50rem;\n    max-height: 60rem;\n\n    overflow-y: scroll;\n\n    /* display: flex;\n    flex-direction: column;\n    align-items: center; */\n\n    padding: 2rem;\n    border-radius: .5rem;\n    background-color: var(--background-primary-color);\n\n    position: relative;\n    z-index: 999999;\n\n    h2{ \n        margin-bottom: 2rem;\n        text-align: center;\n    }\n    h4{ \n        margin-top: 2rem;\n    }\n\n    ::-webkit-scrollbar {\n        width: 10px;\n    }\n\n    /* Track */\n    ::-webkit-scrollbar-track {\n        background:  var(--background-primary-color);\n    }\n\n    /* Handle */\n    ::-webkit-scrollbar-thumb {\n        background: var(--primary-color);\n    }\n\n    /* Handle on hover */\n    ::-webkit-scrollbar-thumb:hover {\n        background: var(--primary-color);\n    }\n"]);return Ce=function(){return n},n}function Pe(){var n=Object(m.a)(["\n    position: fixed;\n    left: 0;\n    right: 0;\n    top: 0;\n    bottom: 0;\n    z-index: 99999;\n\n    display: flex;\n    align-items: center;\n    justify-content: center;\n\n    background-color: rgba(0,0,0,0.3);\n"]);return Pe=function(){return n},n}var Se=O.c.div(Pe()),De=O.c.div(Ce()),Ee=O.c.button(we()),ze=Object(O.c)(h.a)(ke()),Ae=O.c.select(ye()),Me=Object(O.c)(T.a)(ge()),Te=O.c.div(xe()),Ne=O.c.div(pe()),Le=function(n){var e,r,i,l,s,u,b,j,m,O,h=n.close,f=n.order,p=n.combinedProducts,x=n.createOrder,g=n.setHasChanged,y=n.isUpdating,k=n.updateOrder,w=Object(d.useState)({paymentType:"cash"}),C=Object(a.a)(w,2),P=C[0],S=C[1],D=Object(d.useState)(!1),E=Object(a.a)(D,2),z=E[0],A=E[1],M=Object(d.useState)(!1),T=Object(a.a)(M,2),N=T[0],L=T[1],R=function(n){var e=n.target,r=e.name,t=e.value;if(""===t)return delete P[r],void S(Object(o.a)({},P));S(Object(o.a)(Object(o.a)({},P),{},Object(c.a)({},r,t)))},F=function(n){var e=n.target,r=e.name,t=e.value;if(""===t)return delete P.overwrite[r],void S(Object(o.a)({},P));S(Object(o.a)(Object(o.a)({},P),{},{overwrite:Object(o.a)(Object(o.a)({},P.overwrite),{},Object(c.a)({},r,t))}))};return Object(d.useEffect)((function(){var n,e;y&&((null===f||void 0===f?void 0:f.order)&&(R({target:{name:"shouldDeliver",value:null===f||void 0===f||null===(n=f.order)||void 0===n?void 0:n.shouldDeliver}}),R({target:{name:"buyingAsCompany",value:null===f||void 0===f||null===(e=f.order)||void 0===e?void 0:e.buyingAsCompany}})))}),[y,f]),Object(d.useEffect)((function(){return function(){S({paymentType:"cash"}),A(!1),L(!1)}}),[]),Object(t.jsxs)(Se,{children:[Object(t.jsx)(Ee,{onClick:h}),Object(t.jsxs)(De,{children:[Object(t.jsx)("h2",{children:y?"Upravi\u0165 objedn\xe1vku":"Dokon\u010deni\u0165 objedn\xe1vky"}),!y&&Object(t.jsxs)("div",{children:[Object(t.jsx)("h4",{children:"Sp\xf4sob platby"}),Object(t.jsxs)(Ae,{name:"paymentType",value:null!==(e=null===P||void 0===P?void 0:P.paymentType)&&void 0!==e?e:"cash",onChange:function(n){return R(n)},children:[Object(t.jsx)("option",{value:"cash",children:"Hotovos\u0165"}),Object(t.jsx)("option",{value:"card",children:"Karta"}),Object(t.jsx)("option",{value:"coupon",children:"Kup\xf3n"})]}),Object(t.jsxs)(Ne,{children:[Object(t.jsx)("input",{id:"hasDeposit",name:"hasDeposit",type:"checkbox",value:z,onChange:function(){z?(A(!1),P.paidAlready&&(delete P.paidAlready,S(Object(o.a)({},P)))):A(!0)}}),Object(t.jsx)("label",{htmlFor:"hasDeposit",children:"Prida\u0165 z\xe1lohu"})]}),z&&Object(t.jsx)(v.a,{label:"Zaplaten\xe1 z\xe1loha",name:"paidAlready",type:"text",value:null!==(r=null===P||void 0===P?void 0:P.paidAlready)&&void 0!==r?r:"",onChange:function(n){return R(n)}})]}),Object(t.jsxs)("div",{children:[Object(t.jsx)("h4",{children:"Inform\xe1cie o doru\u010den\xed"}),Object(t.jsx)(Me,{label:"Doru\u010di\u0165 na adresu",isActive:null===P||void 0===P?void 0:P.shouldDeliver,handleClick:function(){return R({target:{name:"shouldDeliver",value:!(null===P||void 0===P?void 0:P.shouldDeliver)||!(null===P||void 0===P?void 0:P.shouldDeliver)}})}}),Object(t.jsx)(Me,{label:"N\xe1kup na firmu",isActive:null===P||void 0===P?void 0:P.buyingAsCompany,handleClick:function(){return R({target:{name:"buyingAsCompany",value:!(null===P||void 0===P?void 0:P.buyingAsCompany)||!(null===P||void 0===P?void 0:P.buyingAsCompany)}})}}),(null===P||void 0===P?void 0:P.shouldDeliver)&&Object(t.jsxs)("div",{children:[Object(t.jsx)("h4",{children:"Adresa"}),Object(t.jsx)("p",{children:f.user.psc}),Object(t.jsx)("p",{children:f.user.address}),Object(t.jsx)("p",{children:f.user.city}),Object(t.jsx)("p",{children:f.user.country}),Object(t.jsxs)("div",{children:[Object(t.jsxs)(Te,{children:[Object(t.jsx)("input",{id:"overwrite",name:"overwrite",type:"checkbox",value:N,onChange:function(){N?(L(!1),P.overwrite&&(delete P.overwrite,S(Object(o.a)({},P)))):L(!0)}}),Object(t.jsx)("label",{htmlFor:"overwrite",children:"In\xe1 adresa"})]}),N&&Object(t.jsxs)("div",{children:[Object(t.jsx)(v.a,{label:"Adresa",name:"address",type:"text",value:null!==(i=null===P||void 0===P||null===(l=P.overwrite)||void 0===l?void 0:l.address)&&void 0!==i?i:"",onChange:function(n){return F(n)}}),Object(t.jsx)(v.a,{label:"PS\u010c",name:"psc",type:"text",value:null!==(s=null===P||void 0===P||null===(u=P.overwrite)||void 0===u?void 0:u.psc)&&void 0!==s?s:"",onChange:function(n){return F(n)}}),Object(t.jsx)(v.a,{label:"Mesto",name:"city",type:"text",value:null!==(b=null===P||void 0===P||null===(j=P.overwrite)||void 0===j?void 0:j.city)&&void 0!==b?b:"",onChange:function(n){return F(n)}}),Object(t.jsx)(v.a,{label:"\u0160t\xe1t",name:"country",type:"text",value:null!==(m=null===P||void 0===P||null===(O=P.overwrite)||void 0===O?void 0:O.country)&&void 0!==m?m:"",onChange:function(n){return F(n)}})]})]})]})]}),Object(t.jsx)(ze,{onClick:function(n){if(n.preventDefault(),y){var e=Object(o.a)({},P);delete e.paymentType,delete e.shouldDeliver,g(!1),k(e,f.order._id)}else{var r=Object(o.a)(Object(o.a)({},P),{},{user:f.user._id,combinedProducts:p.map((function(n){return n._id})),status:z?"half-paid":"paid"});P.paidAlready&&(r=Object(o.a)(Object(o.a)({},r),{},{paidAlready:Object(fe.b)(P.paidAlready)})),console.log(r),g(!1),x(r)}},children:"Vytvori\u0165 objedn\xe1vku"})]})]})},Re=r(53),Fe=function(n){var e=n.productId,r=Object(Re.b)("api/store/products",e,!e),c=r.isLoading,o=r.response;return Object(t.jsx)("span",{style:{whiteSpace:"nowrap"},children:c?"H\u013eadam...":o.product.name.slice(0,6).concat("...")})},Be=function(n){var e=n.lensesId,r=Object(Re.b)("api/store/lenses",e,!e),c=r.isLoading,o=r.response;return Object(t.jsx)("span",{style:{whiteSpace:"nowrap"},children:c?"H\u013eadam...":o.lenses.name.slice(0,8).concat("...")})},He=r(61);function Ie(){var n=Object(m.a)(["\n    &:not(:last-child) {\n        margin-right: .5rem;\n    }\n\n    &:last-child {\n        background-color: var(--primary-color);\n        font-weight: bolder;\n    }\n"]);return Ie=function(){return n},n}function Ue(){var n=Object(m.a)(["\n    padding: 2rem;\n    border-radius: .5rem;\n    box-shadow: var(--container-shadow);\n    background-color: var(--container-background-color);\n    margin-bottom: 3rem;\n\n\n    h3 {\n        margin-bottom: 1rem;\n    }\n"]);return Ue=function(){return n},n}function Ke(){var n=Object(m.a)(["\n    padding: 2rem;\n    border-radius: .5rem;\n    box-shadow: var(--container-shadow);\n    background-color: var(--container-background-color);\n    margin-bottom: 3rem;\n\n    h3 {\n        margin-bottom: 1rem;\n    }\n\n    h4 {\n        margin-top: 1rem;\n        margin-bottom: .5rem;\n    }\n\n    div {\n        p {\n            opacity: .83;\n        }\n\n        &:not(:last-child) {\n            margin-bottom: 1rem;\n        }\n\n        a {\n            background-color: #000;\n            color: #fff;\n            display: inline-block;\n            padding: .5rem 2.5rem;\n            margin-top: 1rem;\n        }\n    }\n\n"]);return Ke=function(){return n},n}function Ve(){var n=Object(m.a)(["\n    opacity: .83;\n    font-size: 1.4rem;\n    margin-left: 1.5rem;\n\n    &:not(:last-child) {\n        margin-bottom: .5rem;\n    }\n"]);return Ve=function(){return n},n}function Je(){var n=Object(m.a)(["\n    padding: 2rem;\n    border-radius: .5rem;\n    box-shadow: var(--container-shadow);\n    background-color: var(--container-background-color);\n\n\n    h3 {\n        margin-bottom: .5rem;\n    }\n\n    h4 {\n        margin-top: 1rem;\n        margin-bottom: .5rem;\n    }\n\n"]);return Je=function(){return n},n}function Ze(){var n=Object(m.a)(["\n    display: grid;\n    grid-template-columns: 1fr 1fr;\n    grid-gap: 3rem;\n    align-items: start;\n"]);return Ze=function(){return n},n}function Ge(){var n=Object(m.a)(["\n    margin-top: 2rem;\n    display:flex;\n    justify-content: flex-end;\n    align-items: center;\n\n    span {\n        display: block;\n        margin-right: .5rem;\n        \n    }\n\n    p {\n        font-weight: bolder;\n        font-size: 2.5rem;\n    }\n"]);return Ge=function(){return n},n}function _e(){var n=Object(m.a)(["\n    padding: 2rem;\n    text-align: center;\n\n    img {\n        width: 5rem;\n    }\n"]);return _e=function(){return n},n}function qe(){var n=Object(m.a)(["\n    display: grid;\n    align-content: center;\n    grid-template-columns: 5rem 1fr 10rem 10rem 1fr 10rem 10rem 10rem 10rem;\n    /* box-shadow: 0 0 1.5rem 0 rgba(0,0,0, 0.08); */\n    /* margin-bottom: 1rem; */\n"]);return qe=function(){return n},n}function We(){var n=Object(m.a)(["\n    display: grid;\n    align-content: center;\n    grid-template-columns: 5rem 1fr 10rem 10rem 1fr 10rem 10rem 10rem 10rem;\n    font-weight: bolder;\n    border-bottom: 1px solid var(--secondary-text-color);\n"]);return We=function(){return n},n}function Qe(){var n=Object(m.a)(["\n    margin-bottom: 3rem;\n"]);return Qe=function(){return n},n}function Xe(){var n=Object(m.a)(["\n    padding: 2rem;\n    border-radius: .5rem;\n    box-shadow: var(--container-shadow);\n    margin-bottom: 3rem;\n    background-color: var(--container-background-color);\n\n"]);return Xe=function(){return n},n}var Ye=O.c.div(Xe()),$e=O.c.h3(Qe()),nr=O.c.div(We()),er=O.c.div(qe()),rr=O.c.div(_e()),tr=O.c.div(Ge()),cr=O.c.div(Ze()),or=O.c.div(Je()),ir=O.c.p(Ve()),ar=O.c.div(Ke()),dr=O.c.div(Ue()),lr=Object(O.c)(h.a)(Ie()),sr=function(n){var e,r,c,o,i,l,s,u,b,j,v,m,O,h,f,p,x,g,y=n.order,k=n.combinedProducts,w=n.addNextProduct,C=n.setHasChanged,P=n.isUpdating,S=Object(d.useContext)(Oe.OrdersContext),D=S.createOrder,E=S.updateOrder,z=Object(d.useState)(!1),A=Object(a.a)(z,2),M=A[0],T=A[1],N=Object(d.useState)(0),L=Object(a.a)(N,2),R=L[0],F=L[1],B=new Date(null===y||void 0===y||null===(e=y.order)||void 0===e?void 0:e.date);console.log(y),console.log(k),Object(d.useEffect)((function(){k&&F(k.reduce((function(n,e){return n+e.discountedPrice}),0))}),[k]);var H;return Object(t.jsxs)("div",{children:[M&&Object(t.jsx)(Le,{close:function(){return T(!1)},order:y,combinedProducts:k,createOrder:D,setHasChanged:C,isUpdating:P,updateOrder:E}),Object(t.jsxs)(Ye,{children:[Object(t.jsx)($e,{children:"Preh\u013aad objedn\xe1vky"}),Object(t.jsxs)(nr,{children:[Object(t.jsx)(rr,{children:"#"}),Object(t.jsx)(rr,{children:"ProduktID"}),Object(t.jsx)(rr,{children:"Cena"}),Object(t.jsx)(rr,{children:"Po zlave"}),Object(t.jsx)(rr,{children:"\u0160osovkyID"}),Object(t.jsx)(rr,{children:"Cena"}),Object(t.jsx)(rr,{children:"Po zlave"}),Object(t.jsx)(rr,{children:"Dohromady"}),Object(t.jsx)(rr,{children:"Po zlave"})]}),k.map((function(n,e){var r,c,o,i;return Object(t.jsxs)(er,{children:[Object(t.jsx)(rr,{children:e+1}),Object(t.jsx)(rr,{children:(null===n||void 0===n?void 0:n.product)?Object(t.jsx)(Fe,{productId:null===n||void 0===n?void 0:n.product}):""}),Object(t.jsx)(rr,{children:(null===n||void 0===n?void 0:n.productPrice)?"".concat(((null===n||void 0===n||null===(r=n.productPrice)||void 0===r?void 0:r.full)/100).toFixed(2),"\u20ac"):""}),Object(t.jsx)(rr,{children:(null===n||void 0===n?void 0:n.productPrice)?"".concat(((null===n||void 0===n||null===(c=n.productPrice)||void 0===c?void 0:c.discounted)/100).toFixed(2),"\u20ac"):""}),Object(t.jsx)(rr,{children:(null===n||void 0===n?void 0:n.lens)?Object(t.jsx)(Be,{lensesId:null===n||void 0===n?void 0:n.lens}):""}),Object(t.jsx)(rr,{children:(null===n||void 0===n?void 0:n.lensPrice)?"".concat(((null===n||void 0===n||null===(o=n.lensPrice)||void 0===o?void 0:o.full)/100).toFixed(2),"\u20ac"):""}),Object(t.jsx)(rr,{children:(null===n||void 0===n?void 0:n.lensPrice)?"".concat(((null===n||void 0===n||null===(i=n.lensPrice)||void 0===i?void 0:i.discounted)/100).toFixed(2),"\u20ac"):""}),Object(t.jsx)(rr,{children:(null===n||void 0===n?void 0:n.price)?"".concat(((null===n||void 0===n?void 0:n.price)/100).toFixed(2),"\u20ac"):""}),Object(t.jsxs)(rr,{children:[((null===n||void 0===n?void 0:n.discountedPrice)/100).toFixed(2),"\u20ac"]})]},e)})),Object(t.jsx)(tr,{children:Object(t.jsxs)("p",{children:["Spolu: ",(R/100).toFixed(2),"\u20ac"]})})]}),Object(t.jsxs)(cr,{children:[Object(t.jsxs)(or,{children:[Object(t.jsx)("h3",{children:"Z\xe1kaznik"}),Object(t.jsxs)("div",{children:[Object(t.jsx)("h4",{children:"Meno a prizvisko"}),Object(t.jsx)(ir,{children:null===y||void 0===y||null===(r=y.user)||void 0===r?void 0:r.name})]}),Object(t.jsxs)("div",{children:[Object(t.jsx)("h4",{children:"Adresa"}),Object(t.jsx)(ir,{children:null===y||void 0===y||null===(c=y.user)||void 0===c?void 0:c.psc}),Object(t.jsx)(ir,{children:null===y||void 0===y||null===(o=y.user)||void 0===o?void 0:o.address}),Object(t.jsx)(ir,{children:null===y||void 0===y||null===(i=y.user)||void 0===i?void 0:i.city}),Object(t.jsx)(ir,{children:null===y||void 0===y||null===(l=y.user)||void 0===l?void 0:l.country})]}),Object(t.jsxs)("div",{children:[Object(t.jsx)("h4",{children:"Kontakt"}),Object(t.jsx)(ir,{children:null===y||void 0===y||null===(s=y.user)||void 0===s?void 0:s.email}),Object(t.jsx)(ir,{children:null===y||void 0===y||null===(u=y.user)||void 0===u?void 0:u.phone})]}),Object(t.jsxs)("div",{children:[Object(t.jsx)("h4",{children:"Parametre"}),y&&y.user&&Object(t.jsx)(he.a,{parameters:null===y||void 0===y||null===(b=y.user)||void 0===b?void 0:b.lenses,disabledInputs:!0})]})]}),Object(t.jsxs)("div",{children:[!P&&Object(t.jsxs)(dr,{children:[Object(t.jsx)("h3",{children:"Mo\u017enosti"}),Object(t.jsx)(lr,{onClick:w,children:"Prida\u0165 produkt"}),Object(t.jsx)(lr,{onClick:function(){return T(!0)},children:"Vytvori\u0165 objednavku"})]}),P&&Object(t.jsxs)(dr,{children:[Object(t.jsx)("h3",{children:"Mo\u017enosti"}),Object(t.jsx)(lr,{onClick:function(){return T(!0)},children:"Upravi\u0165 objednavku"})]}),P&&(null===y||void 0===y||null===(j=y.order)||void 0===j?void 0:j.overwrite)&&Object(t.jsxs)(ar,{children:[Object(t.jsx)("h3",{children:"Doru\u010dovacia adresa"}),Object(t.jsxs)("div",{children:[Object(t.jsx)("h4",{children:"Adresa"}),Object(t.jsx)(ir,{children:null===y||void 0===y||null===(v=y.order)||void 0===v||null===(m=v.overwrite)||void 0===m?void 0:m.psc}),Object(t.jsx)(ir,{children:null===y||void 0===y||null===(O=y.order)||void 0===O||null===(h=O.overwrite)||void 0===h?void 0:h.address}),Object(t.jsx)(ir,{children:null===y||void 0===y||null===(f=y.order)||void 0===f||null===(p=f.overwrite)||void 0===p?void 0:p.city}),Object(t.jsx)(ir,{children:null===y||void 0===y||null===(x=y.order)||void 0===x||null===(g=x.overwrite)||void 0===g?void 0:g.country})]})]}),y.order&&Object(t.jsxs)(ar,{children:[Object(t.jsx)("h3",{children:"Detaily objedn\xe1vky"}),Object(t.jsxs)("div",{children:[Object(t.jsx)("h4",{children:"D\xe1tum objedn\xe1vky"}),Object(t.jsx)(ir,{children:B.toLocaleDateString("sk-SK",{weekday:"long",month:"long",day:"numeric"})})]}),Object(t.jsxs)("div",{children:[Object(t.jsx)("h4",{children:"Doru\u010di\u0165 na adresu"}),Object(t.jsx)(ir,{children:y.order.shouldDeliver?"\xc1no":"Nie"})]}),Object(t.jsxs)("div",{children:[Object(t.jsx)("h4",{children:"N\xe1kup na firmu"}),Object(t.jsx)(ir,{children:y.order.buyingAsCompany?"\xc1no":"Nie"})]}),Object(t.jsxs)("div",{children:[Object(t.jsx)("h4",{children:"Sp\xf4sob \xfahrady"}),Object(t.jsx)(ir,{children:(H=y.order.paymentType,"cash"===H?"Hotovos\u0165":"card"===H?"Karta":"coupon"===H?"Kup\xf3n":H)})]}),Object(t.jsxs)("div",{children:[Object(t.jsx)("h4",{children:"Stav objedn\xe1vky"}),Object(t.jsx)(ir,{children:"half-paid"===y.order.status?"Z\xe1loha: ".concat((y.order.paidAlready/100).toFixed(2),"\u20ac"):"Zaplaten\xe9"})]}),Object(t.jsxs)("div",{children:[Object(t.jsx)("h4",{children:"Vybavuje prev\xe1dzka"}),Object(t.jsx)(ir,{children:0===y.order.premises?"Neuveden\xe9":He.n[y.order.premises-1]})]}),Object(t.jsxs)("div",{children:[Object(t.jsx)("h4",{children:"PDF"}),Object(t.jsx)("a",{href:"".concat("http://195.110.58.166:8080","/uploads/pdf/").concat(y.order.pdfPath),target:"_blank",rel:"noreferrer noopener",children:"Zobraz PDF"})]})]})]})]})]})},ur=r(14);function br(){var n=Object(m.a)(["\n    display: flex;\n    justify-content: space-between;\n\n    ","\n    padding-top: 3rem;\n    padding-bottom: 3rem;\n\n    h1 {\n        color: var(--primary-text-color);\n    }\n\n    @media all and (max-width: 800px) {\n        flex-wrap: wrap;\n\n        div:nth-child(2) {\n            margin-bottom: 2rem;\n        }\n    }\n"]);return br=function(){return n},n}var jr=O.c.div(br(),ur.e);e.default=function(){var n,e=Object(s.i)(),r=e.userId,i=e.orderId,j=Object(d.useState)("selectUser"),v=Object(a.a)(j,2),m=v[0],O=v[1],h=Object(d.useState)({}),f=Object(a.a)(h,2),p=f[0],x=f[1],g=Object(d.useState)(!1),y=Object(a.a)(g,2),k=y[0],w=y[1],C=Object(d.useState)(!1),P=Object(a.a)(C,2),S=(P[0],P[1]),D=Object(d.useState)(!1),E=Object(a.a)(D,2),A=E[0],M=E[1],T=Object(d.useState)([]),N=Object(a.a)(T,2),L=N[0],R=N[1],F=function(n){w(!0);var e=n.name,r=n.value;x(Object(o.a)(Object(o.a)({},p),{},Object(c.a)({},e,r)))},B=Object(d.useContext)(l.a),H=B.getMessage,I=B.setShowModal,U=B.closeModal,K=B.isLoading,V=B.showModal,J=B.message,Z=Object(Re.b)("api/admin/users",r,!(r&&i)),G=Object(Re.b)("api/admin/orders",i,!i);return Object(d.useEffect)((function(){"nova-objednavka"!==r&&i?(M(!0),O("summary"),G.response&&(x(Object(o.a)(Object(o.a)({},p),{},{order:G.response.order,user:G.response.order.orderedBy})),R(G.response.order.combinedProducts))):"nova-objednavka"!==r&&void 0===i&&(O("findProduct"),Z.response&&x((function(n){return Object(o.a)(Object(o.a)({},n),{},{user:Z.response.user})})))}),[r,i,Z.response,G.response]),Object(d.useEffect)((function(){return function(){O("selectUser"),x({}),w(!1),S(!1),R([]),M(!1)}}),[]),console.log("ORDER OBJECT"),console.log(p),Object(t.jsxs)("section",{children:[Object(t.jsx)(s.a,{when:k,message:"M\xe1te nedokon\u010den\xfa objedn\xe1vku, skuto\u010dne chcete od\xeds\u0165?"}),V&&Object(t.jsx)(b.a,{loading:K,title:J,close:U}),Object(t.jsx)(jr,{children:Object(t.jsx)("div",{children:Object(t.jsx)("h1",{children:A?"Objednavka \u010d\xedslo ".concat(null===p||void 0===p||null===(n=p.order)||void 0===n?void 0:n.customId):"Nov\xe1 objedn\xe1vka"})})}),Object(t.jsx)(u.a,{children:Object(t.jsxs)("div",{children:["selectUser"===m&&Object(t.jsx)(z,{next:function(){return O("findProduct")},addToOrder:F}),"findProduct"===m&&Object(t.jsx)(zn,{order:p,back:function(){return O("selectUser")},next:O,addToOrder:F,showErrorMessage:function(n){H(n),I(!0)},showModal:function(){return S(!0)}}),"selectLenses"===m&&Object(t.jsx)(me,{back:function(){return O("findProduct")},next:function(){return O("summary")},addToOrder:F,order:p,showModal:function(){return S(!0)}}),"summary"===m&&Object(t.jsx)(sr,{order:p,isUpdating:A,combinedProducts:L,back:function(){return O("selectLenses")},addNextProduct:function(){O("findProduct"),(null===p||void 0===p?void 0:p.product)&&((null===p||void 0===p?void 0:p.lenses)?(delete p.lenses,delete p.product):delete p.product,x(Object(o.a)({},p)))},setHasChanged:w})]})})]})}},58:function(n,e,r){"use strict";r.d(e,"a",(function(){return t})),r.d(e,"c",(function(){return c})),r.d(e,"d",(function(){return o})),r.d(e,"e",(function(){return i})),r.d(e,"b",(function(){return a}));var t=["Adidas","Armani Exchange","Arnette","Blackfin","Blumarine","Burberry","Bvlgari","Calvin Klein","Carolina Herrera","Carrera","David Beckham","Dior","Dolce & Gabbana","Elle","Emporio Armani","Esprit","Etnia Barcelona","Fendi","Fossil","Furla","Giorgio Armani","Givenchy","Gucci","Guess","H.I.S","Hawkers","Hugo Boss","Jaguar","Jimmy Choo","Lacoste","Liu Jo","Marc Jacobs","Max Mara","Max&Co","Meller","Mexx","Michael Kors","Moschino","Oakley","Persol","Polaroid","Police","Polo Ralph Lauren","Prada","Prada Linea Rossa","Ralph","Ralph Lauren","Ray-Ban","Salvatore Ferragamo","Smith","Strellson","Tiffany&Co.","Tom Ford","Tommy Hilfiger","Versace","Vogue"],c=["Acuvue","Adore","Air Optix","Biofinity","Biomedics","Clariti","ColourVue","Comfilcon A","Dailies","Freshlook","Lenjoy","Proclear","Purevision","Soflens"],o=["Obchodn\xe1 57, Bratislava","Mileti\u010dova 38, Bratislava","Vajnory, Bratislava","Senica, OC Bran\u010d","Trnava, City Ar\xe9na"],i=[{id:0,name:"E-shop"},{id:1,name:"Obchodn\xe1 57, Bratislava"},{id:2,name:"Mileti\u010dova 38, Bratislava"},{id:3,name:"Vajnory, Bratislava"},{id:4,name:"Senica, OC Bran\u010d"}],a=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";n.toString();var e=0;return n.includes(",")?1===n.split(",")[1].length?(e=n.split(",")[0]+n.split(",")[1]+"0",Number(e)):(e=n.split(",")[0]+n.split(",")[1],Number(e)):Number(100*n)}},73:function(n,e,r){"use strict";r.r(e),r.d(e,"OrdersContext",(function(){return j}));var t=r(2),c=r(21),o=r(7),i=r.n(o),a=r(12),d=r(10),l=r(1),s=r(3),u=r(19),b=r(18),j=Object(l.createContext)({orders:null,getOrders:function(){},createOrder:function(){},updateOrder:function(){},finishOrder:function(){}});e.default=function(n){var e=n.children,r=Object(s.h)().push,o=Object(l.useContext)(b.a),v=o.setIsLoading,m=o.setShowModal,O=o.getMessage,h=o.closeModal,f=Object(l.useContext)(u.a).token,p=Object(l.useState)(null),x=Object(d.a)(p,2),g=x[0],y=x[1],k=new Headers;k.append("auth-token",f),k.append("Content-Type","application/json");var w=function(){var n=Object(a.a)(i.a.mark((function n(){var e,r,t;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return v(!0),m(!0),e={method:"GET",headers:k,redirect:"follow"},n.prev=3,n.next=6,fetch("".concat("http://195.110.58.166:8080","/api/admin/orders"),e);case 6:return r=n.sent,n.next=9,r.json();case 9:if(t=n.sent,console.log(t),!t.orders){n.next=15;break}return y(t.orders),h(),n.abrupt("return");case 15:O(t.messageSK),v(!1),n.next=24;break;case 19:n.prev=19,n.t0=n.catch(3),console.log(n.t0),O("Nieco sa pokazilo"),v(!1);case 24:case"end":return n.stop()}}),n,null,[[3,19]])})));return function(){return n.apply(this,arguments)}}(),C=function(){var n=Object(a.a)(i.a.mark((function n(e){var t,o,a,d,l;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return v(!0),m(!0),t=Object(c.a)({},e),console.log("ORDER BEFORE SEND"),console.log(t),o=JSON.stringify(t),a={method:"POST",headers:k,body:o,redirect:"follow"},n.prev=7,n.next=10,fetch("".concat("http://195.110.58.166:8080","/api/admin/orders"),a);case 10:return d=n.sent,n.next=13,d.json();case 13:l=n.sent,console.log(l),l.order&&(w(),h(),r("/dashboard/objednavky")),O(l.messageSK),v(!1),n.next=25;break;case 20:n.prev=20,n.t0=n.catch(7),console.log(n.t0),O("Nieco sa pokazilo"),v(!1);case 25:case"end":return n.stop()}}),n,null,[[7,20]])})));return function(e){return n.apply(this,arguments)}}(),P=function(){var n=Object(a.a)(i.a.mark((function n(e,t){var o,a,d,l,s;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return v(!0),m(!0),o=Object(c.a)({},e),console.log("ORDER BEFORE SEND"),console.log(o),a=JSON.stringify(o),d={method:"PATCH",headers:k,body:a,redirect:"follow"},n.prev=7,n.next=10,fetch("".concat("http://195.110.58.166:8080","/api/admin/orders/").concat(t),d);case 10:return l=n.sent,n.next=13,l.json();case 13:s=n.sent,console.log(s),s.order&&(w(),h(),r("/dashboard/objednavky")),O(s.messageSK),v(!1),n.next=25;break;case 20:n.prev=20,n.t0=n.catch(7),console.log(n.t0),O("Nieco sa pokazilo"),v(!1);case 25:case"end":return n.stop()}}),n,null,[[7,20]])})));return function(e,r){return n.apply(this,arguments)}}(),S=function(){var n=Object(a.a)(i.a.mark((function n(e){var r,t,c;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return v(!0),m(!0),r={method:"POST",headers:k,redirect:"follow"},n.prev=3,n.next=6,fetch("".concat("http://195.110.58.166:8080","/api/admin/orders/").concat(e,"/fulfill"),r);case 6:return t=n.sent,n.next=9,t.json();case 9:if(c=n.sent,console.log(c),!c.order){n.next=14;break}return h(),n.abrupt("return");case 14:O(c.messageSK),v(!1),n.next=23;break;case 18:n.prev=18,n.t0=n.catch(3),console.log(n.t0),O("Nieco sa pokazilo"),v(!1);case 23:case"end":return n.stop()}}),n,null,[[3,18]])})));return function(e){return n.apply(this,arguments)}}();return Object(t.jsx)(j.Provider,{value:{orders:g,getOrders:w,createOrder:C,updateOrder:P,finishOrder:S},children:e})}}}]);
//# sourceMappingURL=17.c148973e.chunk.js.map