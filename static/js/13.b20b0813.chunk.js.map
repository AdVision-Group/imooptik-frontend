{"version":3,"sources":["components/booking-calendar-overview/booking-calendar-overview.styles.jsx","components/booking-calendar-overview/booking-calendar-overview.component.jsx","utils/week-calendar.utils.jsx","context/week-calendar/week-calendar.context.jsx","components/calendar/calendar.styles.jsx","components/calendar/calendar.component.jsx","components/modal-userbookings-details/modal-userbookings-details.styles.jsx","components/modal-userbookings-details/modal-userbookings-details.component.jsx","components/modal-user-bookings/modal-user-booking.styles.jsx","components/modal-user-bookings/modal-user-booking.component.jsx","components/calendar-booked-day/calendar-booked-day.styles.jsx","components/calendar-booked-day/calendar-booked-day.component.jsx","components/calendar-weekdays/calendar-weekdays.styles.jsx","components/calendar-weekdays/calendar-weekdays.component.jsx","components/booking-appoinment/booking-appoinment.component.jsx","components/booking-appoinments/booking-appoinment.styles.jsx","components/booking-appoinments/booking-appoinment.component.jsx","components/modal-booking/modal-booking.styles.jsx","components/modal-booking/modal-booking.component.jsx","components/booking-calendar-bookings/booking-calendar-bookings.styles.jsx","components/booking-calendar-bookings/booking-calendar-bookings.component.jsx","sections/booking/booking.styles.jsx","sections/booking/booking.section.jsx","components/custom-checkbox/custom-checkbox.styles.jsx","components/custom-checkbox/custom-checkbox.component.jsx","components/section-header/section-header.styles.jsx","components/section-header/section-header.component.jsx","components/section-navbar/section-navbar.styles.jsx","components/section-navbar/section-navbar.component.jsx","components/custom-textarea/custom-textarea.styles.jsx","components/custom-textarea/custom-textarea.component.jsx"],"names":["ContainerOverview","styled","div","Options","ShowButton","CustomButton","isActive","UpdateButton","BookingCalendarOverview","calendar","selectedCalendar","handleShowUpClick","handleUpdateClick","name","interval","allowMinutesBefore","daysIntoFuture","_id","onClick","getHourTime","idx","NaN","Number","totalMinutes","hours","Math","floor","formatTime","hour","min","changeSlash","time","replace","checkBookings","calendarDataObj","day","month","year","booked","bookedDate","Object","keys","find","date","splitedDate","split","map","value","bookingTime","bookTime","dueDate","WeekCalendarContext","createContext","getDayData","refetchWeekCalendar","WeekCalendarProvider","children","useFetchById","response","isLoading","refetch","useState","setCalendarDataObj","numberOfHours","setNumberOfHours","useEffect","Provider","dayNumber","dayIdx","Array","splitedStartTime","startTimes","splitedEndTime","endTimes","splitedTime","id","userBookings","filter","item","undefined","Container","HeaderBlock","Dayblock","faded","Calendar","handleCalendarBlockClick","Date","setDate","lastDay","getDate","prevLastDay","firstDayIndex","getDay","nextDays","prevDays","setPrevDays","currentMonthDays","setCurrentMonthDays","nextMonthDays","setMonthNextDays","prevDaysArr","getPreviousMonthDays","arr","getCurrentMonthDays","nextDaysArr","getNextMonthDays","checkedArr","getBooking","dayNames","data","bookings","length","ModalContainer","Modal","CloseButton","button","GridContainer","BlockContainer","Header","CancelButton","UserbookingDetailsModal","close","userBooking","calendarId","useFetchByQuery","booking","setBooking","newBooking","dueTime","console","log","ReactDOM","createPortal","retailNames","premises","phone","email","canceled","description","document","getElementById","SubmitButton","Navbar","SectionNavbar","SearchTab","UserTable","TableHead","Tablebody","TableCol","CustomSelect","select","DateContainer","UserBookingModal","refetchCalendar","createUserBooking","query","setQuery","activeTab","setActiveTab","setUserBooking","bookingDate","setBookingDate","startTime","formatCalendarStartTime","endTime","formatCalendarEndTime","handleUserBookingChange","e","target","prevValue","handleChangeDate","items","optionTabs","activeIndex","setActiveIndex","label","handleChange","limit","onKeyPress","key","users","userObj","Fragment","type","toString","max","step","onChange","rows","note","active","bookingToAdd","formatDate","values","BookedDayContainer","isHalfHour","CalendarBookedDay","dayData","open","setIsHalfHour","appointment","setAppointment","isValidDueTime","setIsValiDueTime","todayBooking","HourGrid","isDisabled","HourBlock","HourBlockContainer","EmptyContainer","WeekDays","weekIndex","useContext","BookingContext","lastDayIndex","calendarDays","setCalendarDays","selectedDay","setSelectedDay","showUserBooking","setShowUserBooking","showBookingDetails","setShowBookingDetails","selectedUserBooking","setSelectedUserBooking","prevMonthDays","monthDays","monthDaysWithBookings","slice","isDisable","isPrevDay","isNextDay","style","height","handleOpenUserBookingModal","BookingAppoinment","bookingId","TableRow","BookingAppoinments","filters","ModalHeader","InputContainer","BookingModal","selectedBooking","createBooking","updateBooking","isUpdating","setIsUpdating","handleBookingChange","handleSubmit","bookingToUpdate","formatBookingObj","handleClick","price","AddButton","ContainerHeader","ActiveSpan","span","ContainerBody","ContainerOptions","DeleteButton","InfoParagraph","BookingCalendarBookings","isAdmin","AuthContext","deleteBooking","showBookingModal","setShowBookingModal","setSelectedBooking","paddingStyles","Title","h2","GridRow","CalendarGridContainer","CalendarHeading","IconContainer","CalendarHeader","CalendarMonthContainer","CalendarFormat","li","BookingSection","currentUser","isOptometrist","LoadingModalContext","showModal","setShowModal","message","closeModal","push","useHistory","showPremisesSection","setShowPremisesSection","activeCalendarFormat","setActiveCalendarFormat","searchQuery","setSearchQuery","calendars","setCalendars","setSelectedCalendar","getMonth","selectedMonth","setSelectedMonth","getFullYear","selectedYear","setSelectedYear","calendarWeekIndex","setCalendarWeekIndex","useFetch","handleShowCalendarClick","resetCalendarToDefault","ceil","userCalendar","loading","title","handleAddButton","months","calendarFormat","CheckboxContainer","CustomCheckbox","otherprops","HeaderContainer","Left","Right","SearchButton","SectionHeader","handleSearch","count","NavbarContainer","NavButton","otherProps","shrinkLabel","css","InputGroup","CustomTextarea","className","htmlFor"],"mappings":"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","file":"static/js/13.b20b0813.chunk.js","sourcesContent":["import styled from \"styled-components\"\nimport CustomButton from '../custom-button/custom-button.component'\n\nexport const ContainerOverview = styled.div`\n    padding: 2rem;\n    box-shadow: var(--container-shadow);\n    background-color: var(--container-background-color);\n\n    &:not(:last-child) {\n        /* margin-right: 2rem; */\n    }\n\n    h3  { \n        font-size: 1.8rem;\n    }\n\n    p {\n        font-size: 1.4rem;\n        opacity: .83;\n\n        span {\n            font-weight: bolder;\n        }\n    }\n`\n\nexport const Options = styled.div`\n    display: flex;\n`\n\nexport const ShowButton = styled(CustomButton)`\n    margin-top: 2rem;\n    font-size: 1.4rem;\n    display: block;\n    background-color: ${({ isActive }) => isActive ? \"var(--primary-color)\" : \"var(--body-background-primary-color)\"};\n    font-weight: bolder;\n    color: ${({ isActive }) => isActive ? \"var(--button-font-color)\" : \"var(--primary-color)\"};\n`\nexport const UpdateButton = styled(CustomButton)`\n    margin-top: 2rem;\n    font-size: 1.4rem;\n    display: block;\n    margin-left: 2rem;;\n`\n","import React from 'react'\n\nimport {\n    ContainerOverview,\n    UpdateButton,\n    Options,\n    ShowButton\n} from './booking-calendar-overview.styles'\n\nconst BookingCalendarOverview = ({\n    calendar = {},\n    selectedCalendar = null,\n    handleShowUpClick = () => { },\n    handleUpdateClick = () => { }\n}) => {\n    return (\n        <ContainerOverview>\n            <h3>{calendar?.name}</h3>\n            <p>Interval medzi vyšetreniami: <span>{calendar?.interval}min</span></p>\n            <p>Počet minút pred rezerváciou: <span>{calendar?.allowMinutesBefore}min</span></p>\n            <p>Koľko dní dopredu sa da objednať: <span>{calendar?.daysIntoFuture}</span></p>\n            <Options>\n                <ShowButton isActive={selectedCalendar === calendar?._id} onClick={handleShowUpClick}>Zobraziť</ShowButton>\n                <UpdateButton onClick={handleUpdateClick}>Upraviť</UpdateButton>\n            </Options>\n        </ContainerOverview>\n    )\n}\n\nexport default BookingCalendarOverview\n","export const getTimefromIndex = (idx, isHalf) => {\n    if (Number(idx) === NaN) return\n    console.log(isHalf)\n    let time = \"\"\n    if (isHalf) {\n        time = idx < 10 ? `0${idx}:30` : `${idx}:30`\n    } else {\n        time = idx < 10 ? `0${idx}:00` : `${idx}:00`\n    }\n\n    return time;\n}\n\nexport const getHourTime = (idx, interval) => {\n    if (Number(idx) === NaN) return\n    const totalMinutes = idx * interval\n\n    const hours = Math.floor(totalMinutes / 60);\n    const minutes = totalMinutes % 60;\n    const time = formatTime(hours, minutes)\n    return time\n}\n\nconst formatTime = (hour, min) => {\n    if (hour < 10 && min === 0) return `0${hour}/0${min}`\n    if (hour < 10) return `0${hour}/${min}`\n    if (min === 0) return `${hour}/0${min}`\n    return `${hour}/${min}`\n}\n\nexport const changeSlash = time => {\n    if (!time) return\n    return time.replace(\"/\", \":\")\n}\n\nexport const checkBookings = (calendarDataObj, idx, day, month, year) => {\n    if (!calendarDataObj?.booked) return null\n    const dates = Object.keys(calendarDataObj?.booked)\n\n    const bookedDate = dates.find(date => {\n        const splitedDate = date.split(\"/\").map(value => Number(value))\n        if (splitedDate[0] === day && splitedDate[1] === month + 1 && splitedDate[2] === year) {\n            return date\n        }\n    })\n\n    if (!bookedDate) return null\n\n    const time = getHourTime(idx, calendarDataObj.interval)\n    const bookingTime = calendarDataObj.booked[bookedDate].find(bookTime => bookTime === time)\n\n    return bookingTime ? ({\n        time: bookingTime,\n        date: calendarDataObj.booked[bookedDate],\n        dueDate: `${bookingTime}:${bookedDate}`\n    }) : null\n}","import React, { createContext, useState, useEffect } from 'react'\n\nimport { useFetchById } from '../../hooks/useFetch'\nimport {\n    getHourTime,\n    checkBookings\n} from '../../utils/week-calendar.utils'\n\nexport const WeekCalendarContext = createContext({\n    getDayData: () => { },\n    refetchWeekCalendar: () => { },\n})\n\nconst WeekCalendarProvider = ({ children, calendar, month, year, ...otherProps }) => {\n    const { response, isLoading, refetch } = useFetchById('api/booking/calendars', calendar, !calendar)\n    const [calendarDataObj, setCalendarDataObj] = useState(null)\n    const [numberOfHours, setNumberOfHours] = useState(0)\n\n\n    const getDayData = (dayNumber, dayIdx) => {\n        if (!calendarDataObj) return\n        const newDay = [...Array(numberOfHours)].map((value, idx) => {\n            const splitedStartTime = calendarDataObj.startTimes[dayIdx]?.split(\"/\").map(value => Number(value))\n            const splitedEndTime = calendarDataObj.endTimes[dayIdx]?.split(\"/\").map(value => Number(value))\n            const time = getHourTime(idx, calendarDataObj.interval)\n            const splitedTime = time.split('/').map(value => Number(value))\n            if (splitedStartTime[0] > splitedTime[0]) return\n            if (splitedEndTime[0] < splitedTime[0]) return\n            if (calendarDataObj.startTimes[dayIdx] === 'X') return\n            if (splitedEndTime[0] === splitedTime[0] && !(splitedEndTime[1] === splitedTime[1]) && splitedTime[1] === 30) return\n\n            return ({\n                id: idx,\n                time: time,\n                userBookings: checkBookings(calendarDataObj, idx, dayNumber, month, year)\n            })\n        })\n\n        return newDay.filter(item => item !== undefined)\n    }\n\n    useEffect(() => {\n        if (isLoading) return\n        setCalendarDataObj(response.calendar)\n        if (response.calendar.interval === 30) setNumberOfHours(48)\n        if (response.calendar.interval === 60) setNumberOfHours(24)\n    }, [isLoading])\n\n    useEffect(() => {\n        return () => {\n            setCalendarDataObj(null)\n        }\n    }, [])\n\n    return (\n        <WeekCalendarContext.Provider\n            value={{\n                getDayData,\n                refetchWeekCalendar: refetch,\n            }}\n        >\n            {children}\n        </WeekCalendarContext.Provider>\n    )\n}\n\nexport default WeekCalendarProvider","import styled from 'styled-components'\n\nexport const Container = styled.div`\n    width: 100%;\n    display: grid;\n    grid-template-columns: repeat(7, 1fr);\n    border: 1px solid rgba(0,0,0,.1);\n    min-width: 55rem;\n`\n\nexport const HeaderBlock = styled.div`\n    cursor: default;\n    height: 8rem;\n    background-color: var(--color-black);\n    color: var(--table-head-color);\n    display: flex;\n    align-items:center;\n    justify-content:center;\n    font-weight: 700;\n`\n\nexport const Dayblock = styled.div`\n    height: 8rem;\n    display: flex;\n    justify-content: space-between;\n    align-items: flex-end;\n    border: 1px solid rgba(0,0,0,.1);\n    padding: .6rem 1rem;\n\n    transition: all .15s;\n\n    p {\n        span {\n            width: 3rem;\n            height: 3rem;\n            display: flex;\n            justify-content: center;\n            align-items: center;\n            border-radius: 50%;\n            background-color: var(--body-background-primary-color);\n            color: var(--primary-color);\n            font-weight: bolder;\n            font-size: 1.5rem;\n        }\n    }\n\n    ${({ faded }) => faded ? \"opacity: .6\" : (`    \n        cursor: pointer;\n        &:hover {\n        background-color: var(--body-background-primary-color);\n        }\n    `)};\n\n\n\n`\n","import React, { useState, useEffect } from 'react'\n\nimport {\n    dayNames,\n    getPreviousMonthDays,\n    getNextMonthDays,\n    getCurrentMonthDays,\n    getBooking\n} from '../../utils/calendar.utils'\n\nimport { useFetchById } from '../../hooks/useFetch'\n\nimport {\n    Container,\n    HeaderBlock,\n    Dayblock,\n\n} from './calendar.styles'\n\nconst Calendar = ({\n    calendar,\n    month,\n    year,\n    handleCalendarBlockClick\n}) => {\n    const date = new Date()\n\n    date.setDate(1)\n    const lastDay = new Date(year, month + 1, 0).getDate()\n    const prevLastDay = new Date(year, month, 0).getDate()\n\n    const firstDayIndex = new Date(year, month, 0).getDay();\n    const lastDayIndex = new Date(year, month + 1, 0).getDay()\n\n    const nextDays = 7 - lastDayIndex\n\n    const { response, isLoading, refetch } = useFetchById('api/booking/calendars', calendar, !calendar)\n    const [prevDays, setPrevDays] = useState([])\n    const [currentMonthDays, setCurrentMonthDays] = useState([])\n    const [nextMonthDays, setMonthNextDays] = useState([])\n\n    useEffect(() => {\n        refetch()\n    }, [month])\n\n    useEffect(() => {\n        if (calendar) {\n            refetch()\n        }\n    }, [calendar])\n\n    useEffect(() => {\n        if (!isLoading) {\n            if (response?.calendar) {\n                const prevDaysArr = getPreviousMonthDays(firstDayIndex)\n                const arr = getCurrentMonthDays(lastDay)\n                const nextDaysArr = getNextMonthDays(nextDays)\n                const checkedArr = getBooking(arr, response.calendar, month, year)\n\n                setPrevDays(prevDaysArr)\n                setCurrentMonthDays(checkedArr)\n                setMonthNextDays(nextDaysArr)\n            }\n        }\n    }, [isLoading])\n\n    return (\n        <Container>\n\n            {dayNames.map((name, idx) => (\n                <HeaderBlock key={idx}>\n                    {name}\n                </HeaderBlock>\n            ))}\n\n            {prevDays.map((value, idx) => (\n                <Dayblock faded={true} key={idx}>\n                    <p>\n                    </p>\n                    <p>\n                        {prevLastDay - idx}\n                    </p>\n                </Dayblock>\n            ))}\n\n            {currentMonthDays.map((data, idx) => {\n                const { dayNumber, bookings } = data\n                return (\n                    <Dayblock key={idx} onClick={() => handleCalendarBlockClick(data)}>\n                        <p>\n                            {bookings && <span>\n                                {bookings.length}\n                            </span>}\n                        </p>\n                        <p>\n                            {dayNumber}\n                        </p>\n                    </Dayblock>\n                )\n            })}\n            {nextMonthDays.map((value, idx) => (\n                <Dayblock faded={true} key={idx}>\n                    <p>\n                    </p>\n                    <p>\n                        {idx + 1}\n                    </p>\n                </Dayblock>\n            ))}\n        </Container>\n    )\n}\n\nexport default Calendar\n","import styled from 'styled-components'\nimport CustomButton from '../custom-button/custom-button.component'\n\nexport const ModalContainer = styled.div`\n    position: fixed;\n    left: 0;\n    right: 0;\n    top: 0;\n    bottom: 0;\n    z-index: 99999;\n\n    display: flex;\n    align-items: center;\n    justify-content: center;\n\n    background-color: rgba(0,0,0,0.3);\n`\n\nexport const Modal = styled.div`\n    width:100%;\n    max-width: 65rem;\n    max-height: 60rem;\n\n    overflow-y: scroll;\n\n    padding: 2rem;\n    border-radius: .5rem;\n    background-color: var(--background-primary-color);\n    color: var(--primary-text-color);\n\n    position: relative;\n    z-index: 999999; \n\n    h2{ \n        margin-bottom: 2rem;\n        /* text-align: center; */\n    }\n\n    ::-webkit-scrollbar {\n        width: 10px;\n    }\n\n    /* Track */\n    ::-webkit-scrollbar-track {\n        background:  var(--background-primary-color);\n    }\n\n    /* Handle */\n    ::-webkit-scrollbar-thumb {\n        background: var(--primary-color);\n    }\n\n    /* Handle on hover */\n    ::-webkit-scrollbar-thumb:hover {\n        background: var(--primary-color);\n    }\n`\n\nexport const CloseButton = styled.button`\n    width: 100%;\n    height: 100%;\n\n    position: fixed;\n    left: 0;\n    right: 0;\n    z-index: 99999;\n\n    border: none;\n    outline: none;\n    opacity: 0;\n\n    &:focus {\n        outline: none\n    }\n`\n\nexport const GridContainer = styled.div`\n    display: grid;\n    grid-template-columns: 1fr 1fr;\n    align-items: start;\n    grid-gap: 3rem;\n    margin-bottom: 3rem;\n\n`\n\nexport const BlockContainer = styled.div`\n    padding: 1rem;\n    background-color: var(--body-background-primary-color);\n\n    h3 {\n        font-size: 1.3rem;\n        font-weight: lighter;\n        opacity: .8;\n        margin-bottom: .5rem;\n    }\n\n    p {\n        font-size: 1.8rem;\n        margin-left: 2rem;\n    }\n`\n\nexport const Header = styled.div`\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    margin-bottom: 2rem;\n`\n\nexport const CancelButton = styled(CustomButton)`\n    display: block;\n    background-color: var(--primary-color);\n    font-weight: bolder;\n`","import React, { useState, useEffect } from 'react'\nimport ReactDOM from 'react-dom'\n\nimport Spinner from '../spinner/spinner.component'\n\nimport { useFetchByQuery } from '../../hooks/useFetch'\nimport { retailNames } from '../../utils/warehouse.utils'\n\nimport {\n    ModalContainer,\n    Modal,\n    CloseButton,\n    GridContainer,\n    BlockContainer,\n    Header,\n    CancelButton\n} from './modal-userbookings-details.styles'\n\nconst UserbookingDetailsModal = ({ close, userBooking, calendarId }) => {\n    const { response, isLoading } = useFetchByQuery(`api/booking/calendars/${calendarId}/dayInfo`, {\n        date: userBooking?.userBookings?.dueDate.split(\":\")[1]\n    }, !userBooking)\n\n    const [booking, setBooking] = useState(null)\n\n    useEffect(() => {\n        if (isLoading) return\n        if (!response) return\n\n        const newBooking = response.userBookings.find(booking => booking.dueTime === userBooking.userBookings.dueDate)\n        console.log(newBooking)\n        setBooking(newBooking)\n\n    }, [isLoading])\n\n    console.log(booking)\n\n\n    return ReactDOM.createPortal((\n        <ModalContainer>\n            <CloseButton onClick={close} />\n            <Modal>\n                {!booking && <Spinner />}\n                <h2>{booking?.booking?.name}</h2>\n\n                <Header>\n                    <h3>Informácie:</h3>\n                    <CancelButton>Zrušiť rezerváciu</CancelButton>\n                </Header>\n                <GridContainer>\n                    <BlockContainer>\n                        <h3>Meno a priezvisko</h3>\n                        <p>{booking?.name}</p>\n                    </BlockContainer>\n                    <BlockContainer>\n                        <h3>Prevadzka</h3>\n                        <p>{retailNames[booking?.booking?.premises]}</p>\n                    </BlockContainer>\n                    <BlockContainer>\n                        <h3>Tel. číslo</h3>\n                        <p>{booking?.phone}</p>\n                    </BlockContainer>\n                    <BlockContainer>\n                        <h3>E-mail</h3>\n                        <p>{booking?.email}</p>\n                    </BlockContainer>\n                    <BlockContainer>\n                        <h3>Dátum</h3>\n                        <p>{booking?.dueTime}</p>\n                    </BlockContainer>\n                    <BlockContainer>\n                        <h3>Zrušené</h3>\n                        <p>{booking?.canceled ? \"Ano\" : \"Nie\"}</p>\n                    </BlockContainer>\n                </GridContainer>\n\n                <BlockContainer>\n                    <h3>Popis</h3>\n                    <p>{booking?.booking?.description}</p>\n                </BlockContainer>\n            </Modal>\n        </ModalContainer>\n    ), document.getElementById('portal'))\n}\n\nexport default UserbookingDetailsModal\n","import styled from 'styled-components'\nimport CustomButton from \"../custom-button/custom-button.component\"\nimport SectionNavbar from \"../section-navbar/section-navbar.component\"\n\n\nexport const ModalContainer = styled.div`\n    position: fixed;\n    left: 0;\n    right: 0;\n    top: 0;\n    bottom: 0;\n    z-index: 99999;\n\n    display: flex;\n    align-items: center;\n    justify-content: center;\n\n    background-color: rgba(0,0,0,0.3);\n`\n\nexport const Modal = styled.div`\n    width:100%;\n    max-width: 65rem;\n    max-height: 60rem;\n\n    overflow-y: scroll;\n\n    padding: 2rem;\n    border-radius: .5rem;\n    background-color: var(--background-primary-color);\n    color: var(--primary-text-color);\n\n    position: relative;\n    z-index: 999999;\n\n    h2{ \n        margin-bottom: 2rem;\n        text-align: center;\n    }\n\n    ::-webkit-scrollbar {\n        width: 10px;\n    }\n\n    /* Track */\n    ::-webkit-scrollbar-track {\n        background:  var(--background-primary-color);\n    }\n\n    /* Handle */\n    ::-webkit-scrollbar-thumb {\n        background: var(--primary-color);\n    }\n\n    /* Handle on hover */\n    ::-webkit-scrollbar-thumb:hover {\n        background: var(--primary-color);\n    }\n`\n\nexport const CloseButton = styled.button`\n    width: 100%;\n    height: 100%;\n\n    position: fixed;\n    left: 0;\n    right: 0;\n    z-index: 99999;\n\n    border: none;\n    outline: none;\n    opacity: 0;\n\n    &:focus {\n        outline: none\n    }\n`\n\nexport const SubmitButton = styled(CustomButton)`\n    display: block;\n    margin: 0 auto;\n    background-color: var(--primary-color);\n    font-weight: bolder;\n`\n\nexport const Navbar = styled(SectionNavbar)`\n    ul {\n        justify-content: center;\n    }\n`\n\nexport const SearchTab = styled.div`\n    button {\n        margin-top: 2rem;\n    }\n`\n\nexport const UserTable = styled.div`\n    p {\n        text-align: center;\n        opacity: .6;\n    }\n        margin-bottom: 3rem;\n`\n\nexport const TableHead = styled.div`\n    display: grid;\n    grid-template-columns: 1fr 1fr 1fr;\n`\n\nexport const Tablebody = styled.div`\n    display: grid;\n    grid-template-columns: 1fr 1fr 1fr;\n\n    cursor: pointer;\n    align-content: center;\n    margin-bottom: 1rem;\n    box-shadow: var(--container-shadow);\n    background-color: var(--container-background-color);\n\n    transition: all .3s ease-out;\n\n    &:hover {\n        background-color: var(--primary-color); \n        font-weight: bolder;\n        color: var(--button-font-color);\n    }\n\n`\n\nexport const TableCol = styled.div`\n    padding: 2rem;\n    text-align: center;\n`\n\nexport const CustomSelect = styled.select`\n    margin-top: 2rem;\n    /* min-width: 16.5rem; */\n    width: 100%;\n    background-color: var(--input-background-color);\n    color: var(--input-color);\n    border: none;\n    padding: .8rem .5rem .8rem .5rem;\n    font-size: inherit;\n    font-family: inherit;\n    display: block;\n\n    margin-bottom: 2rem;\n`\n\nexport const DateContainer = styled.div`\n    display: grid;\n    grid-template-columns: 2fr 1fr .4rem 1fr;\n    grid-gap: 1rem;\n\n    p {\n        align-self: center;\n    }\n`","import React, { useState, useEffect } from 'react'\nimport ReactDOM from 'react-dom'\n\nimport CustomInput from '../custom-input/custom-input.component'\nimport CustomTextarea from '../custom-textarea/custom-textarea.component'\n\nimport { useFetchByQuery } from '../../hooks/useFetch'\n\nimport {\n    formatDate,\n    formatCalendarStartTime,\n    formatCalendarEndTime\n} from '../../utils/calendar.utils'\n\nimport {\n    ModalContainer,\n    Modal,\n    CloseButton,\n    SubmitButton,\n    Navbar,\n    UserTable,\n    TableHead,\n    Tablebody,\n    TableCol,\n    SearchTab,\n    CustomSelect,\n    DateContainer\n} from './modal-user-booking.styles'\n\nconst UserBookingModal = ({ refetchWeekCalendar, close, day, calendar, refetchCalendar, createUserBooking }) => {\n\n    const [query, setQuery] = useState(null)\n    const [activeTab, setActiveTab] = useState(0)\n    const [userBooking, setUserBooking] = useState({})\n    const [bookingDate, setBookingDate] = useState({\n        date: \"\",\n        hour: \"\",\n        min: 0\n    })\n\n    const startTime = formatCalendarStartTime(calendar, day)\n    const endTime = formatCalendarEndTime(calendar, day)\n\n    const { refetch, response } = useFetchByQuery('api/admin/users/filter', query, !query)\n\n    const handleSearch = () => {\n        if (!query) return\n        refetch()\n    }\n\n    const handleSearchOnEnter = (e) => {\n        if (query !== null) {\n            if (e.key === 'Enter') {\n                refetch()\n            }\n        }\n    }\n\n    const handleUserBookingChange = e => {\n        const { name, value } = e.target\n\n        if (value === '') {\n            delete userBooking[name]\n            setUserBooking({ ...userBooking })\n            return\n        }\n\n        setUserBooking(prevValue => ({\n            ...prevValue,\n            [name]: value\n        }))\n    }\n\n    const selectUser = (userObj) => {\n        setUserBooking(prevValue => ({\n            ...prevValue,\n            ...userObj\n        }))\n        setActiveTab(0)\n        setQuery(null)\n    }\n\n    const handleChangeDate = e => {\n        const { name, value } = e.target\n\n        setBookingDate(prevValue => ({\n            ...prevValue,\n            [name]: value\n        }))\n    }\n\n    const handleSubmit = () => {\n        // if (!userBooking?.name) return\n        // if (!userBooking?.email) return\n        // if (!userBooking?.phone) return\n        // if (!userBooking?.booking) return\n\n        let bookingToAdd = {\n            ...userBooking,\n            dueTime: formatDate(bookingDate),\n            values: {}\n        }\n\n        console.log(\"USER BOOKING BEFORE SEND\")\n        console.log(bookingToAdd)\n\n\n        createUserBooking(bookingToAdd, refetchCalendar, close, refetchWeekCalendar)\n        // refetchCalendar()\n        // close()\n    }\n\n    useEffect(() => {\n        if (day) {\n            const { time, dayNumber, month, year } = day\n            console.log(\"DAY DATA\")\n            console.log(day)\n\n            // const formatedDate = formatDate(`${dayNumber}-${month}-${year}`, time)\n            setBookingDate({\n                date: `${year}-${month < 9 ? `0${month + 1}` : (month + 1)}-${dayNumber < 10 ? `0${dayNumber}` : dayNumber}`,\n                hour: Number(time?.split(\"/\")[0]),\n                min: Number(time?.split(\"/\")[1])\n            })\n        }\n    }, [day])\n\n    useEffect(() => {\n        return () => {\n            setUserBooking({})\n            setQuery(null)\n            setActiveTab(0)\n        }\n    }, [])\n\n    return ReactDOM.createPortal((\n        <ModalContainer>\n            <CloseButton onClick={close} />\n            <Modal>\n                <h2>Objednať zákazníka</h2>\n\n                <Navbar\n                    items={optionTabs}\n                    activeIndex={activeTab}\n                    setActiveIndex={setActiveTab}\n                />\n\n                {activeTab === 1 ? (\n                    <SearchTab>\n                        <CustomInput\n                            label='Meno, priezvisko, e-mail alebo tel. číslo'\n                            name='query'\n                            value={query ? query?.query : \"\"}\n                            handleChange={e => setQuery({\n                                limit: 10,\n                                query: e.target.value\n                            })}\n                            onKeyPress={handleSearchOnEnter}\n                        />\n\n                        <SubmitButton onClick={handleSearch}>Hľadať</SubmitButton>\n\n\n                        <UserTable>\n                            <TableHead>\n                                <TableCol>Meno</TableCol>\n                                <TableCol>E-mail</TableCol>\n                                <TableCol>Tel. číslo</TableCol>\n                            </TableHead>\n                            {response?.users ? response?.users?.map(({ name, email, phone }, idx) => (\n                                <Tablebody key={idx} onClick={() => selectUser({ name, email, phone })}>\n                                    <TableCol>{name}</TableCol>\n                                    <TableCol>{email}</TableCol>\n                                    <TableCol>{phone}</TableCol>\n                                </Tablebody>\n                            )) : (\n                                    <div>\n                                        <p>Žiaden výsledok</p>\n                                    </div>\n                                )}\n                        </UserTable>\n                    </SearchTab>\n                ) : (\n                        <React.Fragment>\n                            <div>\n                                <h3>Dátum vyšetrenia</h3>\n                                <DateContainer>\n                                    <CustomInput\n                                        label=''\n                                        type='date'\n                                        name='date'\n                                        handleChange={handleChangeDate}\n                                        value={bookingDate?.date}\n\n                                    />\n                                    <div>\n                                        <CustomInput\n                                            label='Čas'\n                                            type='number'\n                                            name='hour'\n                                            value={bookingDate?.hour?.toString()}\n                                            min={startTime?.split(\":\")[0]}\n                                            max={endTime?.split(\":\")[0]}\n                                            handleChange={handleChangeDate}\n                                            step=\"1\"\n                                        />\n                                    </div>\n                                    <p>:</p>\n                                    <div>\n                                        <CustomSelect\n                                            name='min'\n                                            value={bookingDate?.min?.toString()}\n                                            onChange={handleChangeDate}\n                                        >\n                                            <option value={0}>00</option>\n                                            {calendar?.interval === 30 && <option value={30}>30</option>}\n                                        </CustomSelect>\n                                    </div>\n                                </DateContainer>\n                            </div>\n                            <div>\n                                <CustomInput\n                                    label='Meno*'\n                                    name='name'\n                                    value={userBooking?.name || \"\"}\n                                    handleChange={handleUserBookingChange}\n                                />\n                            </div>\n                            <div>\n                                <CustomInput\n                                    label='E-mail*'\n                                    name='email'\n                                    value={userBooking?.email || \"\"}\n                                    handleChange={handleUserBookingChange}\n                                />\n                            </div>\n                            <div>\n                                <CustomInput\n                                    label='Tel. číslo*'\n                                    name='phone'\n                                    value={userBooking?.phone || \"\"}\n                                    handleChange={handleUserBookingChange}\n                                />\n                            </div>\n\n                            <div>\n                                <CustomTextarea\n                                    label='Poznámka'\n                                    name='note'\n                                    rows=\"5\"\n                                    value={userBooking?.note || \"\"}\n                                    handleChange={handleUserBookingChange}\n                                />\n                            </div>\n\n                            <div>\n                                <h3>Vyšetrenie</h3>\n                                <CustomSelect\n                                    name='booking'\n                                    value={userBooking?.booking || \"\"}\n                                    onChange={handleUserBookingChange}\n                                >\n                                    <option value={''}>Nezvolené</option>\n                                    {calendar?.bookings.map((booking, idx) => {\n                                        if (booking.active === false) return\n                                        return (\n                                            <option key={idx} value={booking._id}>{booking.name}</option>\n                                        )\n                                    })}\n                                </CustomSelect>\n                            </div>\n                        </React.Fragment>\n                    )}\n\n                {activeTab === 0 && <SubmitButton onClick={handleSubmit}>Vytvoriť</SubmitButton>}\n            </Modal>\n        </ModalContainer >\n    ), document.getElementById('portal'))\n}\n\nexport default UserBookingModal\n\nconst optionTabs = [\n    {\n        id: 0,\n        name: \"Nový zákazník\",\n    },\n    {\n        id: 1,\n        name: \"Vyhladať zákazníka\",\n    },\n]","import styled from 'styled-components'\n\nexport const BookedDayContainer = styled.div`\n    cursor: pointer;\n    border: var(--appointment-container-border);\n    background-color: var(--appointment-container-background-color);\n    color: var(--appointment-container-text-color);\n    font-weight: bolder;\n    width: 100%;\n    height: 100%;\n    padding: .5rem;\n    position: absolute;\n    bottom: ${({ isHalfHour }) => isHalfHour ? 0 : \"unset\"};\n    top: ${({ isHalfHour }) => isHalfHour ? 'unset' : 0};\n    font-size: 1.2rem;\n    z-index: 99;\n\n    h4 {\n        width: 8rem;\n        white-space: nowrap;\n        overflow: hidden;\n        text-overflow: ellipsis;\n    }\n`","import React, { useState, useEffect } from 'react'\n\nimport Spinner from '../spinner/spinner.component'\n\nimport { useFetchByQuery } from '../../hooks/useFetch'\n\nimport {\n    BookedDayContainer\n} from './calendar-booked-day.styles'\n\nconst CalendarBookedDay = ({ dayData, calendarId, time, userBookings, open }) => {\n    const [isHalfHour, setIsHalfHour] = useState(false)\n    const { response, isLoading } = useFetchByQuery(`api/booking/calendars/${calendarId}/dayInfo`, {\n        date: dayData.bookingDate\n    }, !userBookings)\n    const [appointment, setAppointment] = useState(null)\n    const [isValidDueTime, setIsValiDueTime] = useState(false)\n\n    useEffect(() => {\n        if (isLoading) return\n        const todayBooking = response.userBookings.find(booking => booking.dueTime === userBookings.dueDate)\n\n        if (userBookings.dueDate === todayBooking?.dueTime) {\n            setIsValiDueTime(true)\n        }\n\n        setAppointment(todayBooking)\n\n    }, [isLoading])\n\n    useEffect(() => {\n        return () => {\n            setIsHalfHour(false)\n            setIsValiDueTime(false)\n        }\n    }, [])\n\n    // console.log(isHalfHour)\n    // if (isLoading) return <Spinner />\n\n    // const appointment = \n    // console.log(appointment)\n\n    return (\n        <React.Fragment>\n            <BookedDayContainer onClick={open} isHalfHour={isHalfHour}>\n                {isValidDueTime && <div>\n                    <h4>{appointment && appointment?.booking?.name}</h4>\n                    <h5>{time}</h5>\n                </div>}\n\n            </BookedDayContainer>\n        </React.Fragment>\n    )\n}\n\nexport default CalendarBookedDay\n","import styled from 'styled-components'\n\nexport const Container = styled.div`\n    width: 100%;\n`\n\nexport const HourGrid = styled.div`\n    overflow-y: scroll;\n    /* overflow-x: auto; */\n    height: 60rem;\n    display: grid;\n    grid-template-columns: repeat(7, 1fr);\n    /* border: var(--table-border); */\n    min-width: 55rem;\n    padding-left: 5rem;\n\n\n   ::-webkit-scrollbar {\n        width: 1rem;\n    }\n\n    /* Track */\n    ::-webkit-scrollbar-track {\n        background:  var(--background-primary-color);\n    }\n\n    /* Handle */\n    ::-webkit-scrollbar-thumb {\n        background: var(--primary-color);\n    }\n\n    /* Handle on hover */\n    ::-webkit-scrollbar-thumb:hover {\n        background: var(--primary-color);\n    }\n`\n\nexport const TableHead = styled.div`\n    display: grid;\n    grid-template-columns: repeat(7, 1fr);\n    background-color: var(--color-black);\n\n    /* border: var(--table-border); */\n    min-width: 55rem;\n    padding-left: 5rem;\n    padding-right: 1rem;\n\n`\n\nexport const HeaderBlock = styled.div`\n    cursor: default;\n    height: 8rem;\n    background-color: var(--color-black);\n    color: var(--table-head-color);\n    display: flex;\n    flex-direction: column;\n    align-items:center;\n    justify-content:center;\n    font-weight: 700;\n\n    p:first-child {\n        font-weight: lighter;\n    }\n\n    /* background-color: red; */\n    ${({ isDisabled }) => isDisabled ? (`\n        opacity: .6;\n    `) : ''}\n`\n\nexport const HourBlock = styled.div`\n    background-color: var(--body-background-primary-color);\n    /* border: var(--table-border); */\n \n    \n\n    &:nth-child(1) {\n        div {\n            span {\n                width: 6rem;\n                display: block;\n                opacity: .6;\n                position: absolute;\n                top: 0rem;\n                left: -5.8rem;\n                font-size: 1.4rem;\n                padding: .5rem 1rem .5rem .2rem;\n                border-radius: 9999rem;\n                text-align: end;\n                letter-spacing: .05rem;\n            }\n        }\n    }\n`\n\nexport const HourBlockContainer = styled.div`\n    cursor: pointer;\n    position: relative;\n    /* width: 15rem; */\n    height: 10rem;\n    border-bottom: var(--table-border);\n    background-color: var(--background-primary-color);\n\n\n    span {\n        display: none;\n    }\n`\n\nexport const EmptyContainer = styled.div`\n    content: \"\";\n    position: relative;\n    /* position: absolute; */\n    /* width: 5rem; */\n    height: 100%;\n    /* top: 0;\n    left: 0;\n    bottom: 0;\n    right: 0; */\n    /* background-color: red; */\n`\n\nexport const AppointmentContainer = styled.div`\n    cursor: pointer;\n    border: var(--appointment-container-border);\n    background-color: var(--appointment-container-background-color);\n    color: var(--appointment-container-text-color);\n    font-weight: bolder;\n    width: 100%;\n    height: 50%;\n    padding: .5rem;\n    /* position: absolute; */\n\n`","import React, { useState, useEffect, useContext } from 'react'\nimport { useFetchById } from '../../hooks/useFetch'\nimport { BookingContext } from '../../context/booking/booking.context'\nimport { WeekCalendarContext } from '../../context/week-calendar/week-calendar.context'\n\nimport UserbookingDetailsModal from '../modal-userbookings-details/modal-userbookings-details.component'\nimport UserBookingModal from '../modal-user-bookings/modal-user-booking.component'\nimport CalendarBookedDay from '../calendar-booked-day/calendar-booked-day.component'\n\nimport {\n    dayNames,\n    getPreviousMonthDays,\n    getNextMonthDays,\n    getCurrentMonthDays,\n    getBooking,\n    checkIfHasAppoinment\n} from '../../utils/calendar.utils'\n\nimport { changeSlash } from '../../utils/week-calendar.utils'\n\nimport {\n    Container,\n    HeaderBlock,\n    HourBlock,\n    AppointmentContainer,\n    HourGrid,\n    TableHead,\n    HourBlockContainer,\n    EmptyContainer\n} from './calendar-weekdays.styles'\n\nconst WeekDays = ({\n    calendar,\n    year,\n    month,\n    weekIndex,\n    handleCalendarBlockClick\n}) => {\n    const { getDayData, refetchWeekCalendar } = useContext(WeekCalendarContext)\n    const { createUserBooking } = useContext(BookingContext)\n    const { response, isLoading, refetch } = useFetchById('api/booking/calendars', calendar, !calendar)\n    const lastDay = new Date(year, month + 1, 0).getDate()\n    const firstDayIndex = new Date(year, month, 0).getDay();\n    const lastDayIndex = new Date(year, month + 1, 0).getDay()\n    const prevLastDay = new Date(year, month, 0).getDate()\n\n    const nextDays = 7 - lastDayIndex\n\n    const [calendarDays, setCalendarDays] = useState([])\n    const [selectedDay, setSelectedDay] = useState(null)\n    const [showUserBooking, setShowUserBooking] = useState(false)\n    const [showBookingDetails, setShowBookingDetails] = useState(false)\n\n    const [selectedUserBooking, setSelectedUserBooking] = useState(null)\n\n    const handleOpenUserBookingModal = (dayData) => {\n        setSelectedDay({\n            ...dayData,\n            year,\n            month,\n        })\n        setShowUserBooking(true)\n    }\n\n    const handleOpenDetailsModal = (userBooking) => {\n        setSelectedUserBooking(userBooking)\n        setShowBookingDetails(true)\n    }\n\n    useEffect(() => {\n        if (isLoading) return\n\n        if (response.calendar) {\n            const prevMonthDays = getPreviousMonthDays(firstDayIndex)\n            const monthDays = getCurrentMonthDays(lastDay)\n            const nextMonthDays = getNextMonthDays(nextDays)\n            const monthDaysWithBookings = getBooking(monthDays, response.calendar, month, year)\n\n            setCalendarDays([\n                ...prevMonthDays,\n                ...monthDaysWithBookings,\n                ...nextMonthDays\n            ])\n        }\n    }, [isLoading])\n\n    return (\n        <div>\n            {showBookingDetails && <UserbookingDetailsModal calendarId={calendar} userBooking={selectedUserBooking} close={() => setShowBookingDetails(false)} />}\n            {showUserBooking && <UserBookingModal refetchWeekCalendar={refetchWeekCalendar} createUserBooking={createUserBooking} refetchCalendar={refetch} calendar={response?.calendar} day={selectedDay} close={() => setShowUserBooking(false)} />}\n            <Container>\n                <TableHead>\n                    {calendarDays.slice(weekIndex * 7, (weekIndex * 7) + 7).map(({ dayNumber, isDisable, isPrevDay, isNextDay }, idx) => (\n                        <HeaderBlock isDisabled={isDisable} key={idx}>\n                            {isPrevDay ? (\n                                <React.Fragment>\n                                    <p>{dayNames[new Date(year, month - 1, prevLastDay - (dayNumber)).getDay()]}</p>\n                                    <p>{prevLastDay - (dayNumber - 1)}</p>\n                                </React.Fragment>\n                            ) : isNextDay ? (\n                                <React.Fragment>\n                                    <p>{dayNames[new Date(year, month + 1, dayNumber - 1).getDay()]}</p>\n                                    <p>{dayNumber} </p>\n                                </React.Fragment>\n                            ) : (\n                                        <React.Fragment>\n                                            <p>{dayNames[new Date(year, month, dayNumber - 1).getDay()]}</p>\n                                            <p>{dayNumber} </p>\n                                        </React.Fragment>\n                                    )}\n                        </HeaderBlock>\n                    ))}\n                </TableHead>\n\n                <HourGrid>\n                    {calendarDays.slice(weekIndex * 7, (weekIndex * 7) + 7).map((dayData, idx) => {\n                        const day = getDayData(dayData?.dayNumber, idx)\n                        return (\n                            <HourBlock key={idx}>\n                                {day && day.map((interval, idx) => (\n                                    <HourBlockContainer style={response?.calendar?.interval === 60 ? ({ height: \"10rem\" }) : ({ height: \"5rem\" })} key={idx}>\n                                        {interval?.userBookings && <CalendarBookedDay\n                                            dayData={dayData}\n                                            calendarId={calendar}\n                                            time={interval.time}\n                                            userBookings={interval.userBookings}\n                                            open={() => handleOpenDetailsModal(interval)}\n                                        />}\n                                        <EmptyContainer onClick={() => handleOpenUserBookingModal({ ...dayData, time: interval.time })} />\n                                        <span>{changeSlash(interval?.time) ?? \"\"}</span>\n                                    </HourBlockContainer>\n                                ))}\n                            </HourBlock>\n                        )\n                    })}\n                </HourGrid>\n            </Container>\n        </div>\n    )\n}\n\nexport default WeekDays\n\n\n// return <HourBlock key={idx}>\n//     {[...Array(24)].map((value, index) => {\n//         if (Number(response?.calendar?.startTimes[idx].split('/')[0]) > index) return\n//         if (Number(response?.calendar?.endTimes[idx].split('/')[0]) < index) return\n//         if (response?.calendar?.endTimes[idx] === \"X\") return\n//         return (\n//             <HourBlockContainer key={index}>\n//                 {dayData.bookings && checkIfHasAppoinment(index, dayData?.bookings) ? (\n//                     <React.Fragment>\n                        // <CalendarBookedDay\n                        //     dayData={dayData}\n                        //     calendarId={calendar}\n                        //     time={`${index < 10 ? `0${index}` : index}/00`}\n                        // />\n//                         <CalendarBookedDay\n//                             dayData={dayData}\n//                             calendarId={calendar}\n//                             time={`${index < 10 ? `0${index}` : index}/30`}\n//                         />\n//                         <EmptyContainer onClick={() => handleOpenUserBookingModal({ ...dayData, time: `${index}:00` })} />\n\n//                     </React.Fragment>\n//                 ) : (\n//                         <EmptyContainer onClick={() => handleOpenUserBookingModal({ ...dayData, time: `${index}:00` })} />\n//                     )}\n//                 <span>{index}:00</span>\n\n//             </HourBlockContainer>\n//         )\n//     })}\n// </HourBlock>","import React from 'react'\nimport { useFetchById } from '../../hooks/useFetch'\n\nconst BookingAppoinment = ({ bookingId }) => {\n    const { isLoading, response } = useFetchById(\"api/booking/bookings\", bookingId, !bookingId)\n\n    if (isLoading) return \"Hľadám...\"\n\n    return (\n        <React.Fragment>\n            {response?.booking?.name}\n        </React.Fragment>\n    )\n}\n\nexport default BookingAppoinment\n","import styled from 'styled-components'\n\nexport const TableHead = styled.div`\n    display: grid;\n    align-content: center;\n    grid-template-columns: 10rem 1fr 1fr 20rem 1fr 10rem;\n\n    border-bottom: 1px solid var(--secondary-text-color);\n    font-weight: bolder;\n`\n\n\nexport const TableCol = styled.div`\n    padding: 2rem;\n    text-align: center;\n`\n\nexport const TableRow = styled.div`\n    display: grid;\n    grid-template-columns: 10rem 1fr 1fr 20rem 1fr 10rem;\n    align-items: center;\n    margin-bottom: 1rem;\n    box-shadow: var(--container-shadow);\n    background-color: var(--container-background-color);\n`","import React, { useEffect } from 'react'\n\nimport { useFetchByQuery } from '../../hooks/useFetch'\nimport Spinner from '../spinner/spinner.component'\nimport BookingAppoinment from '../booking-appoinment/booking-appoinment.component'\n\nimport {\n    TableHead,\n    TableRow,\n    TableCol\n} from './booking-appoinment.styles'\n\nconst BookingAppoinments = ({ day }) => {\n    console.log(day)\n\n    const { response, isLoading, refetch } = useFetchByQuery('api/admin/booking/userBookings/filter', {\n        filters: {\n            dueDate: day.bookingDate\n        }\n    })\n\n    useEffect(() => {\n        refetch()\n    }, [day])\n\n    if (isLoading) return <Spinner />\n\n    return (\n        <div>\n            <TableHead>\n                <TableCol>#</TableCol>\n                <TableCol>Vyšetrenie</TableCol>\n                <TableCol>Meno</TableCol>\n                <TableCol>Dátum</TableCol>\n                <TableCol>Poznámka</TableCol>\n                <TableCol>Možnosti</TableCol>\n            </TableHead>\n\n            {response?.userBookings?.map(({ booking, name, dueDate, note }, idx) => (\n                <TableRow key={idx}>\n                    <TableCol>{idx + 1}</TableCol>\n                    <TableCol><BookingAppoinment bookingId={booking} /></TableCol>\n                    <TableCol>{name}</TableCol>\n                    <TableCol>{dueDate}</TableCol>\n                    <TableCol>{note}</TableCol>\n                    <TableCol>Možnosti</TableCol>\n                </TableRow>\n            ))}\n        </div>\n    )\n}\n\nexport default BookingAppoinments\n","import styled from 'styled-components'\nimport CustomButton from '../custom-button/custom-button.component'\n\nexport const ModalContainer = styled.div`\n    position: fixed;\n    left: 0;\n    right: 0;\n    top: 0;\n    bottom: 0;\n    z-index: 99999;\n\n    display: flex;\n    align-items: center;\n    justify-content: center;\n\n    background-color: rgba(0,0,0,0.3);\n`\n\nexport const Modal = styled.div`\n    width:100%;\n    max-width: 50rem;\n    max-height: 60rem;\n\n    overflow-y: scroll;\n\n    /* display: flex;\n    flex-direction: column;\n    align-items: center; */\n\n    padding: 2rem;\n    border-radius: .5rem;\n    background-color: var(--background-primary-color);\n    color: var(--primary-text-color);\n\n    position: relative;\n    z-index: 999999;\n\n    ::-webkit-scrollbar {\n        width: 10px;\n    }\n\n    /* Track */\n    ::-webkit-scrollbar-track {\n        background:  var(--background-primary-color);\n    }\n\n    /* Handle */\n    ::-webkit-scrollbar-thumb {\n        background: var(--primary-color);\n    }\n\n    /* Handle on hover */\n    ::-webkit-scrollbar-thumb:hover {\n        background: var(--primary-color);\n    }\n`\n\nexport const CloseButton = styled.button`\n    width: 100%;\n    height: 100%;\n\n    position: fixed;\n    left: 0;\n    right: 0;\n    z-index: 99999;\n\n    border: none;\n    outline: none;\n    opacity: 0;\n\n    &:focus {\n        outline: none\n    }\n`\n\nexport const ModalHeader = styled.div`\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n\n`\n\nexport const InputContainer = styled.div`\n    margin-bottom: 2rem;\n`\n\nexport const SubmitButton = styled(CustomButton)`\n    display: block;\n    margin: 0 auto;\n    background-color: var(--primary-color);\n    font-weight: bolder;\n`","import React, { useState, useContext, useEffect } from 'react'\nimport ReactDOM from 'react-dom'\nimport { BookingContext } from '../../context/booking/booking.context'\n\n\nimport CustomInput from '../custom-input/custom-input.component'\nimport CustomTextarea from '../custom-textarea/custom-textarea.component'\nimport CustomCheckbox from '../custom-checkbox/custom-checkbox.component'\n\nimport { useFetchById } from '../../hooks/useFetch'\nimport {\n    formatBookingObj\n} from '../../utils/calendar.utils'\n\nimport {\n    ModalContainer,\n    Modal,\n    CloseButton,\n    SubmitButton,\n    InputContainer,\n    ModalHeader\n} from './modal-booking.styles'\n\nconst BookingModal = ({ close, calendarId, refetch, selectedBooking }) => {\n    const { createBooking, updateBooking } = useContext(BookingContext)\n    const { response, isLoading } = useFetchById(\"api/booking/bookings\", selectedBooking, !selectedBooking)\n\n    const [booking, setBooking] = useState({})\n    const [isUpdating, setIsUpdating] = useState(false)\n\n    const handleBookingChange = e => {\n        const { name, value } = e.target\n\n        if (value === '') {\n            delete booking[name]\n            setBooking({\n                ...booking\n            })\n            return\n        }\n\n        setBooking(prevValue => ({\n            ...prevValue,\n            [name]: value\n        }))\n    }\n\n    const handleSubmit = () => {\n        if (!booking?.name) return\n\n        if (isUpdating) {\n            let bookingToUpdate = formatBookingObj(booking)\n\n            console.log(\"BOOKING BEFORE UPDATE\")\n            console.log(bookingToUpdate)\n\n            updateBooking(bookingToUpdate, booking._id)\n        } else {\n            let bookingToAdd = {\n                ...booking,\n                calendar: calendarId\n            }\n\n            console.log(\"BOOKING BEFORE CREATE\")\n            console.log(bookingToAdd)\n            createBooking(bookingToAdd)\n        }\n\n        refetch()\n        close()\n    }\n\n    useEffect(() => {\n        if (isLoading) return\n        if (response?.booking) {\n            setIsUpdating(true)\n            setBooking(response?.booking)\n        }\n    }, [selectedBooking, isLoading])\n\n    useEffect(() => {\n        return () => {\n            setIsUpdating(false)\n            setBooking({})\n        }\n    }, [])\n\n    console.log(booking)\n\n    return ReactDOM.createPortal((\n        <ModalContainer>\n            <CloseButton onClick={close} />\n            <Modal>\n                <ModalHeader>\n                    {!isUpdating && <h2>Nové vyšetrenie</h2>}\n                    {isUpdating && <h2>Upraviť vyšetrenie</h2>}\n                    <div>\n                        <CustomCheckbox\n                            label=\"Aktivné\"\n                            isActive={booking?.active || false}\n                            name='active'\n                            handleClick={() => handleBookingChange({\n                                target: {\n                                    name: 'active',\n                                    value: booking?.active ? !booking?.active : true\n                                }\n                            })}\n                        />\n                    </div>\n                </ModalHeader>\n                <InputContainer>\n                    <CustomInput\n                        label=\"Názov vyšetrenia*\"\n                        name=\"name\"\n                        value={booking?.name || \"\"}\n                        handleChange={handleBookingChange}\n                    />\n                </InputContainer>\n                <InputContainer>\n                    <CustomInput\n                        label=\"Cena\"\n                        name=\"price\"\n                        value={booking?.price || \"\"}\n                        handleChange={handleBookingChange}\n                    />\n                </InputContainer>\n                <InputContainer>\n                    <CustomInput\n                        label=\"Čas\"\n                        name=\"time\"\n                        value={booking?.time || \"\"}\n                        handleChange={handleBookingChange}\n                    />\n                </InputContainer>\n                <InputContainer>\n                    <CustomTextarea\n                        label=\"Popis\"\n                        rows='5'\n                        name=\"description\"\n                        value={booking?.description || \"\"}\n                        handleChange={handleBookingChange}\n                    />\n                </InputContainer>\n                {!isUpdating && <SubmitButton onClick={handleSubmit}>Pridať</SubmitButton>}\n                {isUpdating && <SubmitButton onClick={handleSubmit}>Uložiť</SubmitButton>}\n            </Modal>\n        </ModalContainer>\n    ), document.getElementById(\"portal\"))\n}\n\nexport default BookingModal\n","import styled from 'styled-components'\nimport CustomButton from '../custom-button/custom-button.component'\n\nexport const GridContainer = styled.div`\n    display: grid;\n    grid-template-columns: 1fr 1fr;\n    grid-gap: 3rem;\n    margin-bottom: 10rem;\n\n    @media all and (max-width: 1150px) {\n        grid-template-columns: 2fr 1fr;\n        @media all and (max-width: 800px) {\n            grid-template-columns: 3fr 1fr;\n            @media all and (max-width: 500px) {\n                grid-template-columns: 1fr;\n            }\n        }\n\n    }\n`\n\nexport const Header = styled.div`\n    display: flex;\n    justify-content: space-between;\n    align-items: center; \n    margin-bottom: 3rem;\n`\n\nexport const AddButton = styled(CustomButton)`\n    background-color: var(--primary-color);\n    font-weight: bolder;\n`\n\nexport const Container = styled.div`\n    padding: 2rem;\n    box-shadow: var(--container-shadow);\n    background-color: var(--container-background-color);\n    border-radius: .5rem;\n    margin-bottom: 3rem;\n`\n\nexport const ContainerHeader = styled.div`\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    margin-bottom: 1rem;\n`\n\nexport const ActiveSpan = styled.span`\n    font-size: 1.2rem;\n    color: ${({ isActive }) => isActive ? \"var(--color-green)\" : \"var(--color-red)\"};\n`\n\nexport const ContainerBody = styled.div`\n    opacity: .8;\n    margin-bottom: 2rem;\n`\n\nexport const ContainerOptions = styled.div`\n    display: flex;\n    justify-content: flex-end;\n`\n\nexport const DeleteButton = styled(CustomButton)`\n    background-color: var(--color-red);\n    font-size: 1.2rem;\n    margin-left: 1rem;\n`\n\nexport const UpdateButton = styled(CustomButton)`\n    background-color: var(--primary-color);\n    font-weight: bolder;\n    font-size: 1.2rem;\n`\n\nexport const InfoParagraph = styled.div`\n    margin-left: 1rem;\n    opacity: .6;\n`","import React, { useState, useContext } from 'react'\nimport { BookingContext } from '../../context/booking/booking.context'\nimport { AuthContext } from '../../context/auth/auth.context'\n\nimport BookingModal from '../modal-booking/modal-booking.component'\nimport Spinner from '../../components/spinner/spinner.component'\nimport { useFetchById } from '../../hooks/useFetch'\n\nimport {\n    GridContainer,\n    Container,\n    Header,\n    AddButton,\n    ContainerHeader,\n    ContainerBody,\n    ContainerOptions,\n    UpdateButton,\n    DeleteButton,\n    InfoParagraph,\n    ActiveSpan\n} from './booking-calendar-bookings.styles'\n\nconst BookingCalendarBookings = ({\n    calendarId\n}) => {\n    const { isAdmin } = useContext(AuthContext)\n    const { deleteBooking } = useContext(BookingContext)\n    const { response, isLoading, refetch } = useFetchById('api/booking/calendars', calendarId, !calendarId)\n    const [showBookingModal, setShowBookingModal] = useState(false)\n    const [selectedBooking, setSelectedBooking] = useState(null)\n\n    const handleDeleteClick = (bookingId) => {\n        deleteBooking(bookingId)\n        refetch()\n    }\n\n    const handleUpdateClick = (bookingId) => {\n        setSelectedBooking(bookingId)\n        setShowBookingModal(true)\n    }\n\n    const handleCloseModal = () => {\n        setShowBookingModal(false)\n        setSelectedBooking(null)\n    }\n\n    if (isLoading) return <Spinner />\n\n    return (\n        <GridContainer>\n            {showBookingModal && (\n                <BookingModal\n                    selectedBooking={selectedBooking}\n                    calendarId={calendarId}\n                    close={handleCloseModal}\n                    refetch={refetch}\n                />\n            )}\n            <div>\n                <Header>\n                    <h3>Vyšetrenia</h3>\n                    {isAdmin && <AddButton onClick={() => setShowBookingModal(true)}>Pridať</AddButton>}\n                </Header>\n\n                <div>\n                    {response?.calendar?.bookings?.map((booking, idx) => (\n                        <Container key={idx}>\n                            <ContainerHeader>\n                                <div>\n                                    <h4>{booking.name}</h4>\n                                    <ActiveSpan isActive={booking?.active}>{booking?.active ? \"Aktivné\" : \"Neaktivné\"}</ActiveSpan>\n                                </div>\n                                <div>\n                                    <p>{booking.price}€</p>\n                                </div>\n\n                            </ContainerHeader>\n                            <ContainerBody>\n                                <p>{booking.description}</p>\n                            </ContainerBody>\n                            {isAdmin && <ContainerOptions>\n                                <UpdateButton onClick={() => handleUpdateClick(booking._id)}>Upraviť</UpdateButton>\n                                <DeleteButton onClick={() => handleDeleteClick(booking._id)}>Vymazať</DeleteButton>\n                            </ContainerOptions>}\n                        </Container>\n                    ))}\n                    {!response?.calendar?.bookings?.length && (\n                        <InfoParagraph>Žiadné vyšetrenia</InfoParagraph>\n                    )}\n                </div>\n            </div>\n        </GridContainer>\n    )\n}\n\nexport default BookingCalendarBookings\n","import styled from 'styled-components'\nimport { paddingStyles } from '../../global.styles'\nimport CustomButton from '../../components/custom-button/custom-button.component'\n\n\nexport const Header = styled.div`\n    ${paddingStyles}\n    padding-top: 2rem;\n    padding-bottom: 3rem;\n    display: flex;\n    justify-content: space-between;\n    color: var(--primary-text-color);\n`\n\nexport const UpdateButton = styled(CustomButton)`\n    background-color: var(--primary-color);\n    font-weight: bolder;\n`\n\nexport const Title = styled.h2`\n    /* margin-bottom: 2rem; */\n`\n\nexport const GridRow = styled.div`\n    display: grid;\n    grid-template-columns: repeat( auto-fit, minmax(27rem, 1fr) );\n    margin-bottom: 3rem;\n    grid-gap: 2rem;\n`\n\nexport const CalendarGridContainer = styled.div`\n    margin-top: 3rem;\n    margin-bottom: 3rem;\n`\n\nexport const CalendarHeading = styled.div`\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    margin-bottom: 3rem;\n\n    div {\n        display: flex;\n        align-items: center;\n        cursor: pointer;\n    }\n`\n\nexport const IconContainer = styled.div`\n    display: flex;\n    justify-content:center;\n    align-items: center;\n    color: var(--primary-color);\n    font-size: 3rem;\n    margin-left: 1rem;\n`\n\nexport const CalendarHeader = styled.div`\n    display: flex; \n    justify-content: space-between;\n    align-items: center;\n\n    ul {\n        list-style: none;\n        display: flex;\n        /* gap: 2rem; */\n\n\n    }\n`\nexport const CalendarMonthContainer = styled.div`\n    display: flex;\n    align-items: center;\n\n    button {\n        cursor: pointer;\n        font-size: 2rem;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        color: var(--primary-color);\n\n    }\n\n    div {\n        text-align: center;\n        margin: 0 1rem;\n    }\n\n    p {\n        text-transform: capitalize;\n        margin: 0 1rem;\n    }\n`\n\n\nexport const CalendarFormat = styled.li`\n    background-color: ${({ isActive }) => isActive ? \"var(--primary-color)\" : \"none\"};\n    color: ${({ isActive }) => isActive ? \"var(--button-font-color)\" : \"var(--primary-color)\"};\n    cursor: pointer;\n    padding: 0.5rem 2rem;\n\n    transition: all .3s ease-in-out;\n`","import React, { useState, useEffect, useContext } from 'react'\nimport { useHistory } from 'react-router-dom'\nimport { LoadingModalContext } from '../../context/loading-modal/loading-modal.contenxt'\nimport { AuthContext } from '../../context/auth/auth.context'\n\nimport SectionHeader from '../../components/section-header/section-header.component'\nimport ScrollContainer from '../../components/scroll-container/scroll-container.component'\nimport Popup from '../../components/popup/pop-up.component'\nimport BookingCalendarOverview from \"../../components/booking-calendar-overview/booking-calendar-overview.component\"\nimport WeekCalendarProvider from '../../context/week-calendar/week-calendar.context'\n\nimport Calendar from '../../components/calendar/calendar.component'\nimport WeekDays from '../../components/calendar-weekdays/calendar-weekdays.component'\nimport BookingAppoinments from '../../components/booking-appoinments/booking-appoinment.component'\nimport BookingCalendarBookings from '../../components/booking-calendar-bookings/booking-calendar-bookings.component'\n\nimport { useFetch } from '../../hooks/useFetch'\nimport { calendarFormat, months } from '../../utils/calendar.utils'\n\nimport {\n    AiOutlineLeft,\n    AiOutlineRight,\n    AiOutlineDownCircle,\n    AiOutlineUpCircle\n} from 'react-icons/ai'\n\nimport {\n    Header,\n    Title,\n    GridRow,\n    CalendarGridContainer,\n    CalendarHeading,\n    CalendarHeader,\n    CalendarFormat,\n    CalendarMonthContainer,\n    IconContainer,\n    UpdateButton\n} from './booking.styles'\n\nconst BookingSection = () => {\n    const { isAdmin, currentUser, isOptometrist } = useContext(AuthContext)\n    const { showModal, setShowModal, message, closeModal } = useContext(LoadingModalContext)\n    const { push } = useHistory()\n    // const [showModal, setShowModal] = useState(true)\n    const [showPremisesSection, setShowPremisesSection] = useState(true)\n    const [activeCalendarFormat, setActiveCalendarFormat] = useState(0)\n    const [searchQuery, setSearchQuery] = useState('')\n    const [calendars, setCalendars] = useState([])\n    const [selectedCalendar, setSelectedCalendar] = useState(null)\n    const [selectedMonth, setSelectedMonth] = useState(new Date().getMonth())\n    const [selectedYear, setSelectedYear] = useState(new Date().getFullYear())\n    const [calendarWeekIndex, setCalendarWeekIndex] = useState(0)\n    const [selectedDay, setSelectedDay] = useState(null)\n\n    const { isLoading, response } = useFetch('api/booking/calendars')\n\n    const handleShowCalendarClick = (calendarId) => {\n        setSelectedCalendar(calendarId)\n        setShowPremisesSection(false)\n        resetCalendarToDefault()\n    }\n\n    const getPrevWeek = () => {\n        if (calendarWeekIndex - 1 < 0) {\n            setCalendarWeekIndex(0)\n\n        } else {\n            setCalendarWeekIndex(prevValue => prevValue - 1)\n        }\n    }\n\n    const getNextWeek = () => {\n        const lastDayIndex = new Date(selectedYear, selectedMonth, 0).getDate()\n        console.log(calendarWeekIndex * 7)\n        console.log(lastDayIndex)\n        if (((calendarWeekIndex + 1) * 7) >= lastDayIndex) {\n            setCalendarWeekIndex(0)\n        } else {\n            setCalendarWeekIndex(prevValue => prevValue + 1)\n        }\n    }\n\n    const getPrevMonth = () => {\n        if (selectedMonth === 0) {\n            setSelectedYear(prevValue => prevValue - 1)\n            setSelectedMonth(11)\n        } else {\n            setSelectedMonth(prevValue => prevValue - 1)\n        }\n    }\n\n    const getNextMonth = () => {\n        if (selectedMonth === 11) {\n            setSelectedYear(prevValue => prevValue + 1)\n            setSelectedMonth(0)\n        } else {\n            setSelectedMonth(prevValue => prevValue + 1)\n        }\n\n    }\n\n    const resetCalendarToDefault = () => {\n        setSelectedMonth(new Date().getMonth())\n        setSelectedYear(new Date().getFullYear())\n        setCalendarWeekIndex(Math.ceil(new Date().getDate() / 7) - 1)\n        setSelectedDay(null)\n    }\n\n    const handleCalendarBlockClick = (dayData) => {\n        // if (!dayData.bookings) return\n        // if (!dayData.bookingDate) return\n\n        // setSelectedCalendar(null)\n        // setSelectedDay(dayData)\n        console.log(dayData)\n        setCalendarWeekIndex(Math.ceil(dayData.dayNumber / 7) - 1)\n        setActiveCalendarFormat(1)\n    }\n\n    useEffect(() => {\n        if (!isLoading) {\n            if (response) {\n                if (isAdmin) {\n                    setCalendars(response.calendars)\n                    setShowModal(false)\n                } else {\n                    setCalendars(response.calendars.filter(calendar => calendar.premises === currentUser.premises))\n                    const userCalendar = response.calendars.find(calendar => calendar.premises === currentUser.premises)\n                    handleShowCalendarClick(userCalendar._id)\n                    setShowModal(false)\n                }\n                closeModal()\n            }\n        }\n    }, [isLoading])\n\n    useEffect(() => {\n        console.log(\"unmount\")\n        return () => {\n            setShowModal(true)\n            setShowPremisesSection(true)\n            setActiveCalendarFormat(0)\n            setSearchQuery('')\n            setCalendars([])\n            setSelectedCalendar(null)\n            setSelectedMonth(new Date().getMonth())\n            setSelectedYear(new Date().getFullYear())\n            setCalendarWeekIndex(0)\n            setSelectedDay(null)\n        }\n    }, [])\n\n    console.log(calendars)\n    console.log(selectedCalendar)\n\n    return (\n        <section>\n            {showModal && <Popup loading={isLoading} title={message} close={() => setShowModal(false)} />}\n            {isAdmin && <SectionHeader\n                searchQuery={searchQuery}\n                handleChange={e => setSearchQuery(e.target.value)}\n                handleAddButton={() => push('rezervacie/novy-kalendar')}\n                title=\"Rezervácie\"\n            />}\n\n            {(isOptometrist && !isAdmin) && (\n                <Header>\n                    <div>\n                        <h1>Rezervácie</h1>\n                    </div>\n                    <div>\n                        <UpdateButton onClick={() => push(`rezervacie/${selectedCalendar}`)}>Upraviť kalendár</UpdateButton>\n                    </div>\n                </Header>\n            )}\n\n            <ScrollContainer>\n                {isAdmin && <CalendarHeading>\n                    <Title>Pobočky</Title>\n                    <div onClick={() => setShowPremisesSection(prevValue => !prevValue)}>\n                        <p>\n                            {calendars.find(calendar => calendar._id === selectedCalendar)?.name}\n                        </p>\n                        <IconContainer>\n                            {showPremisesSection ? <AiOutlineUpCircle /> : <AiOutlineDownCircle />}\n                        </IconContainer>\n                    </div>\n                </CalendarHeading>}\n\n                {showPremisesSection && <GridRow>\n                    {calendars && calendars.map((calendar, idx) => (\n                        <BookingCalendarOverview\n                            key={idx}\n                            calendar={calendar}\n                            selectedCalendar={selectedCalendar}\n                            handleShowUpClick={() => handleShowCalendarClick(calendar._id)}\n                            handleUpdateClick={() => push(`rezervacie/${calendar._id}`)}\n                        />\n                    ))}\n                </GridRow>}\n\n                {selectedCalendar && (\n                    <React.Fragment>\n\n                        <CalendarHeader>\n                            <Title>Kalendár</Title>\n\n                            {activeCalendarFormat === 0 ? (\n                                <CalendarMonthContainer>\n                                    <button onClick={getPrevMonth}><AiOutlineLeft /></button>\n                                    <p>{months[selectedMonth]}</p>\n                                    <button onClick={getNextMonth}><AiOutlineRight /></button>\n                                </CalendarMonthContainer>\n                            ) : (\n                                    <CalendarMonthContainer>\n                                        <button onClick={getPrevWeek}><AiOutlineLeft /></button>\n                                        <div>\n                                            <p>{calendarWeekIndex + 1}</p>\n                                            <p>{months[selectedMonth]}</p>\n                                        </div>\n                                        <button onClick={getNextWeek}><AiOutlineRight /></button>\n                                    </CalendarMonthContainer>\n                                )}\n\n                            <ul>\n                                {calendarFormat.map((name, idx) => (\n                                    <CalendarFormat key={idx} isActive={activeCalendarFormat === idx} onClick={() => setActiveCalendarFormat(idx)}>{name}</CalendarFormat>\n                                ))}\n                            </ul>\n                        </CalendarHeader>\n                        <CalendarGridContainer>\n                            {activeCalendarFormat === 0 ? (\n                                <Calendar\n                                    calendar={selectedCalendar}\n                                    month={selectedMonth}\n                                    year={selectedYear}\n                                    handleCalendarBlockClick={handleCalendarBlockClick}\n                                />\n                            ) : (\n                                    <WeekCalendarProvider\n                                        calendar={selectedCalendar}\n                                        month={selectedMonth}\n                                        year={selectedYear}\n                                        weekIndex={calendarWeekIndex}\n                                        handleCalendarBlockClick={handleCalendarBlockClick}\n                                    >\n                                        <WeekDays\n                                            calendar={selectedCalendar}\n                                            month={selectedMonth}\n                                            year={selectedYear}\n                                            weekIndex={calendarWeekIndex}\n                                            handleCalendarBlockClick={handleCalendarBlockClick}\n                                        />\n\n                                    </WeekCalendarProvider>\n                                )}\n                        </CalendarGridContainer>\n\n                        <BookingCalendarBookings calendarId={selectedCalendar} />\n                    </React.Fragment>\n                )}\n\n                {selectedDay && (\n                    <BookingAppoinments\n                        day={selectedDay}\n                    />\n                )}\n            </ScrollContainer>\n        </section>\n    )\n}\n\nexport default BookingSection\n","import styled from 'styled-components'\n\nexport const CheckboxContainer = styled.div`\n    display: inline-block;\n    cursor: pointer;\n    font-size: 1.5rem;\n    font-weight: 700;\n    /* margin-right: 2rem; */\n    background-color: ${({ isActive }) => isActive ? \"var(--primary-color)\" : \"var(--body-background-primary-color)\"};\n    color: ${({ isActive }) => isActive ? \"var(--button-font-color)\" : \"var(--secondary-text-color)\"};\n    /* font-weight: ${({ isActive }) => isActive ? \"border\" : \"normal\"}; */\n    padding: .8rem 3rem;\n    border-radius: .2rem;\n    transition: all .2s ease-out;\n\n    @media all and (max-width: 500px) {\n        padding: 0.5rem 1.5rem;\n        font-size: 1.4rem;\n    }\n`","import React from 'react'\n\nimport { CheckboxContainer } from './custom-checkbox.styles'\n\nconst CustomCheckbox = ({ label, isActive, handleClick, ...otherprops }) => {\n    return (\n        <CheckboxContainer isActive={isActive} onClick={handleClick} {...otherprops}>\n            {label}\n        </CheckboxContainer>\n    )\n}\n\nexport default CustomCheckbox\n","import styled from 'styled-components'\nimport CustomButton from '../custom-button/custom-button.component'\nimport { paddingStyles } from '../../global.styles'\n\nexport const HeaderContainer = styled.div`\n    display: flex;\n    color: var(--primary-text-color);\n    justify-content: space-between;\n    margin-bottom: 3rem;\n    ${paddingStyles};    \n\n    @media all and (max-width: 600px) {\n        flex-wrap: wrap;\n    }\n`\n\nexport const Left = styled.div`\n    margin-top: 2rem;\n\n    display: flex;\n    align-items: center;\n\n`\n\nexport const Right = styled.div`\n    display: flex;\n    align-items: center;\n`\n\nexport const Notification = styled.div`\n    background-color: var(--color-red);\n    margin-left: 1.5rem;\n    color: var(--primary-text-color);\n    padding: .5rem 1rem;\n    border-radius: 1.5rem;\n    font-size: 1.4rem;\n`\n\n\nexport const SearchButton = styled(CustomButton)`\n    margin-top: 2rem;\n\n    margin-left: 2rem;\n`\n\nexport const AddButton = styled(CustomButton)`\n    margin-top: 2rem;\n    margin-left: 1rem;\n    background-color: var(--primary-color);\n    font-weight: bolder;\n`","import React from 'react'\n\nimport CustomInput from '../custom-input/custom-input.component'\n\nimport {\n    HeaderContainer,\n    Left,\n    Right,\n    SearchButton,\n    // Notification,\n    AddButton,\n} from './section-header.styles'\n\nconst SectionHeader = ({ searchQuery, handleSearch, handleChange, title, count = 999, handleAddButton = () => { } }) => {\n    const handleSearchOnEnter = (e) => {\n        if (searchQuery !== '') {\n            if (e.key === 'Enter') {\n                handleSearch()\n            }\n        }\n    }\n\n    return (\n        <HeaderContainer>\n            <Left>\n                <h1>{title}</h1>\n                {/* <Notification>{count}</Notification> */}\n            </Left>\n            <Right>\n                {handleSearch && <div>\n                    <CustomInput\n                        type='search'\n                        name='searchbox'\n                        value={searchQuery}\n                        handleChange={handleChange}\n                        onKeyPress={handleSearchOnEnter}\n                        label='Vyhľadať'\n                    />\n                </div>}\n                {handleSearch && <SearchButton onClick={handleSearch}>Vyhľadať</SearchButton>}\n                <AddButton onClick={handleAddButton}>Pridať</AddButton>\n            </Right>\n        </HeaderContainer>\n    )\n}\n\nexport default SectionHeader\n","import styled from 'styled-components'\nimport CustomButton from '../custom-button/custom-button.component'\nimport { paddingStyles } from '../../global.styles'\n\n\nexport const NavbarContainer = styled.div`\n    margin-bottom: 3rem;\n    ${paddingStyles}\n\n    ul {\n        display: flex;\n        list-style: none;\n\n        li {\n            margin-right: 1.5rem;\n        }\n    }\n`\n\nexport const NavButton = styled(CustomButton)`\n    transition: all 0.3s ease-out;\n    background-color: ${({ active }) => active ? 'var(--primary-color)' : 'var(--background-primary-color)'};\n    color: ${({ active }) => active ? '#fff' : 'var(--primary-text-color)'};\n    font-weight: ${({ active }) => active ? 400 : 700};\n    padding: ${({ active }) => active ? \".5rem 2.5rem\" : \".5rem 1rem .5rem 0\"};\n    font-weight: ${({ active }) => active ? \"bolder\" : \"normal\"};\n`","import React from 'react'\n\nimport {\n    NavbarContainer,\n    NavButton\n} from './section-navbar.styles'\n\nconst SectionNavbar = ({ items, activeIndex, setActiveIndex, ...otherProps }) => {\n\n    return (\n        <NavbarContainer {...otherProps}>\n            <ul>\n                {\n                    items.map(item => (\n                        <li key={item.id}>\n                            <NavButton active={item.id === activeIndex} onClick={() => setActiveIndex(item.id)} >{item.name}</NavButton>\n                        </li>\n                    ))\n                }\n\n            </ul>\n        </NavbarContainer >\n    )\n}\n\nexport default SectionNavbar\n","import styled, { css } from \"styled-components\"\n\nconst shrinkLabel = css`\n    left: .5rem;\n    top: -14px;\n    font-size: 12px;\n    color: var(--input-color);\n`\nexport const InputGroup = styled.div`\n    position: relative;\n    /* margin: 45px 0; */\n\n    .form-input {\n        background: none;\n        background-color: var(--input-background-color);\n        color: var(--input-color);\n\n        font-size: 1.5rem;\n        padding: .5rem .5rem .5rem 2rem;\n        display: block;\n        width: 100%;\n        border: none;\n        border-radius: .5rem;\n        /* border-bottom: 1px solid #000; */\n        margin: 25px 0;\n        font-family: inherit;\n        resize: none;\n\n        &:focus {\n        outline: none;\n        }\n\n        &:focus ~ .form-input-label {\n            ${shrinkLabel}\n        }\n    }\n\n    .form-input-label {\n        color: var(--input-color);\n        font-size: 1.4rem;\n        font-weight: normal;\n        position: absolute;\n        pointer-events: none;\n        left: 1.5rem;\n        top: .6rem;\n        transition: 300ms ease all;\n\n        &.shrink {\n            ${shrinkLabel}\n        }\n    }\n`\n","import React from 'react'\n\nimport { InputGroup } from './custom-textarea.styles'\n\nconst CustomTextarea = ({ handleChange, label, name, ...otherProps }) => {\n    return (\n        <InputGroup>\n            <textarea\n                className='form-input'\n                name={name}\n                onChange={handleChange}\n                {...otherProps}\n            />\n            {label ? (\n                <label htmlFor={name} className={`${otherProps.value.length ? 'shrink' : ''} form-input-label`}>\n                    {label}\n                </label>\n            ) : null\n            }\n        </InputGroup>\n    )\n}\n\nexport default CustomTextarea"],"sourceRoot":""}