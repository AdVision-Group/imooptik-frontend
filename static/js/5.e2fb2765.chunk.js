(this.webpackJsonpimooptik=this.webpackJsonpimooptik||[]).push([[5],{221:function(n,e,t){"use strict";t.r(e);var r=t(1),a=t(3),c=t(0),i=t(30),o=t(26),s=t(8),l=t(55),u=t(17),b=t(73),d=t(74),j=t(16),m=t(84),f=t(87),h=t.n(f),O=t(5),p=t(6),g=t(36),x=t(15);function v(){var n=Object(O.a)(["\n    height: 100%;\n    background-color: #F5F5F5;\n    .ql-container, .ql-toolbar {\n        border: none;\n    }\n"]);return v=function(){return n},n}function k(){var n=Object(O.a)(["\n    margin-bottom: 2rem;\n"]);return k=function(){return n},n}function y(){var n=Object(O.a)(["\n    font-size: 1.4rem;\n"]);return y=function(){return n},n}function q(){var n=Object(O.a)(["\n    font-size: 1.4rem;\n    margin: 0 2rem;\n    background-color: #DD4C4C;\n\n    @media all and (max-width: 500px) {\n        margin: 0 .8rem;\n    }\n"]);return q=function(){return n},n}function w(){var n=Object(O.a)(["\n    cursor: pointer;\n    display:flex;\n    align-items: center;\n    justify-content:center;\n    width: 100%;\n    background-color: ",";\n    margin-top: 3rem;\n    padding: 6rem;\n\n    position: relative;\n\n    img {\n        position: absolute;\n        width: 100%;\n        /* height: 100%; */\n        max-height: 40rem;\n        left: 0;\n        top: 0;\n        object-fit: cover;\n        object-position: center;\n\n    }\n"]);return w=function(){return n},n}function N(){var n=Object(O.a)(["\n    display: grid;\n    grid-template-columns: 1fr 1fr;\n    grid-gap: 2rem;\n    height: inherit;\n    height: 100%;\n\n        @media all and (max-width: 800px) {\n            grid-template-columns: 1fr ;\n        }\n\n"]);return N=function(){return n},n}function z(){var n=Object(O.a)(["\n    display: flex;\n    justify-content: space-between;\n\n    ","\n    padding-top: 3rem;\n    padding-bottom: 3rem;\n\n    @media all and (max-width: 500px) {\n        flex-direction: column;\n    }\n"]);return z=function(){return n},n}var C=p.c.div(z(),g.b),S=p.c.div(N()),I=p.c.div(w(),(function(n){return n.hasImage?"transparent":"#eee"})),A=Object(p.c)(x.a)(q()),P=Object(p.c)(x.a)(y()),F=p.c.h2(k()),L=Object(p.c)(h.a)(v()),D=function(){return Object(r.jsxs)("svg",{viewBox:"0 0 18 18",children:[Object(r.jsx)("polygon",{className:"ql-fill ql-stroke",points:"6 10 4 12 2 10 6 10"}),Object(r.jsx)("path",{className:"ql-stroke",d:"M8.09,13.91A4.6,4.6,0,0,0,9,14,5,5,0,1,0,4,9"})]})},B=function(){return Object(r.jsxs)("svg",{viewBox:"0 0 18 18",children:[Object(r.jsx)("polygon",{className:"ql-fill ql-stroke",points:"12 10 14 12 16 10 12 10"}),Object(r.jsx)("path",{className:"ql-stroke",d:"M9.91,13.91A4.6,4.6,0,0,1,9,14a5,5,0,1,1,5-5"})]})};var E=f.Quill.import("formats/size");E.whitelist=["extra-small","small","medium","large"],f.Quill.register(E,!0);var M=f.Quill.import("formats/font");M.whitelist=["arial","comic-sans","courier-new","georgia","helvetica","lucida"],f.Quill.register(M,!0);var R={toolbar:{container:"#toolbar",handlers:{undo:function(){this.quill.history.undo()},redo:function(){this.quill.history.redo()}}},history:{delay:500,maxStack:100,userOnly:!0}},U=["header","font","size","bold","italic","underline","align","strike","script","blockquote","background","list","bullet","indent","link","image","color","code-block"],V=function(){return Object(r.jsxs)("div",{id:"toolbar",className:"toolbar",children:[Object(r.jsxs)("span",{className:"ql-formats",children:[Object(r.jsxs)("select",{className:"ql-size",defaultValue:"medium",children:[Object(r.jsx)("option",{value:"extra-small",children:"Size 1"}),Object(r.jsx)("option",{value:"small",children:"Size 2"}),Object(r.jsx)("option",{value:"medium",children:"Size 3"}),Object(r.jsx)("option",{value:"large",children:"Size 4"})]}),Object(r.jsxs)("select",{className:"ql-header",defaultValue:"3",children:[Object(r.jsx)("option",{value:"1",children:"Heading"}),Object(r.jsx)("option",{value:"2",children:"Subheading"}),Object(r.jsx)("option",{value:"3",children:"Normal"})]})]}),Object(r.jsxs)("span",{className:"ql-formats",children:[Object(r.jsx)("button",{className:"ql-bold"}),Object(r.jsx)("button",{className:"ql-italic"}),Object(r.jsx)("button",{className:"ql-underline"}),Object(r.jsx)("button",{className:"ql-strike"})]}),Object(r.jsxs)("span",{className:"ql-formats",children:[Object(r.jsx)("button",{className:"ql-list",value:"ordered"}),Object(r.jsx)("button",{className:"ql-list",value:"bullet"}),Object(r.jsx)("button",{className:"ql-indent",value:"-1"}),Object(r.jsx)("button",{className:"ql-indent",value:"+1"})]}),Object(r.jsxs)("span",{className:"ql-formats",children:[Object(r.jsx)("button",{className:"ql-script",value:"super"}),Object(r.jsx)("button",{className:"ql-script",value:"sub"}),Object(r.jsx)("button",{className:"ql-blockquote"}),Object(r.jsx)("button",{className:"ql-direction"})]}),Object(r.jsxs)("span",{className:"ql-formats",children:[Object(r.jsx)("select",{className:"ql-align"}),Object(r.jsx)("select",{className:"ql-color"}),Object(r.jsx)("select",{className:"ql-background"})]}),Object(r.jsxs)("span",{className:"ql-formats",children:[Object(r.jsx)("button",{className:"ql-link"}),Object(r.jsx)("button",{className:"ql-image"}),Object(r.jsx)("button",{className:"ql-video"})]}),Object(r.jsxs)("span",{className:"ql-formats",children:[Object(r.jsx)("button",{className:"ql-formula"}),Object(r.jsx)("button",{className:"ql-code-block"}),Object(r.jsx)("button",{className:"ql-clean"})]}),Object(r.jsxs)("span",{className:"ql-formats",children:[Object(r.jsx)("button",{className:"ql-undo",children:Object(r.jsx)(D,{})}),Object(r.jsx)("button",{className:"ql-redo",children:Object(r.jsx)(B,{})})]})]})};e.default=function(){var n=Object(s.h)().id,e=Object(s.g)().push,t=Object(c.useContext)(i.a),f=t.createPost,h=t.isLoading,O=t.message,p=t.showLoading,g=t.setIsLoading,x=t.getPost,v=t.post,k=t.handlePostUpdate,y=Object(c.useContext)(o.a),q=y.selectedImage,w=y.setSelectedImage,N=Object(c.useState)(""),z=Object(a.a)(N,2),D=z[0],B=z[1],E=Object(c.useState)(""),M=Object(a.a)(E,2),_=M[0],Q=M[1],T=Object(c.useState)(""),G=Object(a.a)(T,2),H=G[0],J=G[1],X=Object(c.useState)(""),K=Object(a.a)(X,2),W=K[0],Y=K[1],Z=Object(c.useState)(!1),$=Object(a.a)(Z,2),nn=$[0],en=$[1],tn=Object(c.useState)(!1),rn=Object(a.a)(tn,2),an=rn[0],cn=rn[1],on=Object(c.useState)(!1),sn=Object(a.a)(on,2),ln=sn[0],un=sn[1];return Object(c.useEffect)((function(){w(null),"novy-prispevok"!==n&&(x(n),un(!0))}),[n]),Object(c.useEffect)((function(){console.log(v),v&&(console.log(v),B(v.name),Q(v.description),J(v.html),en(v.draft),v.image&&(Y(v.image._id),w(v.image)))}),[v]),Object(r.jsxs)("form",{onSubmit:function(t){t.preventDefault(),W.length<=0||H.length<=0||("novy-prispevok"===n?f(W,D,_,nn,H):k(D,_,nn,H,W,n),e("/dashboard/blog"))},children:[h&&Object(r.jsx)(j.a,{loading:p,title:O,close:function(){return g(!1)}}),an&&Object(r.jsx)(m.a,{close:function(){return cn(!1)},setImage:Y}),Object(r.jsxs)(C,{children:[Object(r.jsx)("div",{children:Object(r.jsx)("h1",{children:"Post"})}),Object(r.jsxs)("div",{children:[Object(r.jsx)(d.a,{label:"Draft",checked:nn,onChange:function(){return en(!nn)}}),Object(r.jsx)(A,{children:"Vymaza\u0165"}),Object(r.jsx)(P,{type:"submit",children:ln?"Upravi\u0165 pr\xedspevok":"Prida\u0165 pr\xedspevok"})]})]}),Object(r.jsx)(l.a,{children:Object(r.jsxs)(S,{children:[Object(r.jsxs)("div",{children:[Object(r.jsx)("h2",{children:"Inform\xe1cia"}),Object(r.jsx)(u.a,{label:"Nadpis",type:"text",name:"title",value:D,handleChange:function(n){return B(n.target.value)},required:!0}),Object(r.jsx)(b.a,{label:"Popis",name:"description",rows:"5",value:_,handleChange:function(n){return Q(n.target.value)},required:!0}),Object(r.jsx)("h2",{children:"Tituln\xe1 fotka"}),Object(r.jsxs)(I,{onClick:function(){return cn(!0)},hasImage:q,children:[!q&&"Vybra\u0165 obr\xe1zok",q&&Object(r.jsx)("img",{src:"".concat("http://195.110.58.166:8080","/uploads/").concat(q.imagePath),alt:q.alt})]})]}),Object(r.jsxs)("div",{children:[Object(r.jsx)(F,{children:"Obsah"}),Object(r.jsx)(V,{}),Object(r.jsx)(L,{value:H,onChange:J,modules:R,formats:U})]})]})})]})}},55:function(n,e,t){"use strict";var r=t(1),a=(t(0),t(5)),c=t(6),i=t(36);function o(){var n=Object(a.a)(["\n    width: 100%;\n    height: 100%;\n    /* height: 100%; */\n    overflow-y: scroll;\n    overflow-x: visible;\n    scroll-behavior: smooth;\n    ",";\n    padding-top: 1.5rem;\n    padding-bottom: 1.5rem;\n\n    @media all and (max-width: 1150px) {\n        margin-bottom: 8rem;\n    }\n"]);return o=function(){return n},n}var s=c.c.div(o(),i.b);e.a=function(n){var e=n.children;return Object(r.jsx)(s,{children:e})}},73:function(n,e,t){"use strict";var r=t(1),a=t(4),c=t(25),i=(t(0),t(5)),o=t(6);function s(){var n=Object(i.a)(["\n    position: relative;\n    /* margin: 45px 0; */\n\n    .form-input {\n        background: none;\n        background-color: #F5F5F5;\n        color: #000;\n        font-size: 1.5rem;\n        padding: .5rem .5rem .5rem 2rem;\n        display: block;\n        width: 100%;\n        border: none;\n        border-radius: .5rem;\n        /* border-bottom: 1px solid #000; */\n        margin: 25px 0;\n        font-family: inherit;\n        resize: none;\n\n        &:focus {\n        outline: none;\n        }\n\n        &:focus ~ .form-input-label {\n            ","\n        }\n    }\n\n    .form-input-label {\n        color: #B1B1B1;\n        font-size: 1.4rem;\n        font-weight: normal;\n        position: absolute;\n        pointer-events: none;\n        left: 1.5rem;\n        top: .6rem;\n        transition: 300ms ease all;\n\n        &.shrink {\n            ","\n        }\n    }\n"]);return s=function(){return n},n}function l(){var n=Object(i.a)(["\n    left: .5rem;\n    top: -14px;\n    font-size: 12px;\n    color: #000;\n"]);return l=function(){return n},n}var u=Object(o.b)(l()),b=o.c.div(s(),u,u);e.a=function(n){var e=n.handleChange,t=n.label,i=n.name,o=Object(c.a)(n,["handleChange","label","name"]);return Object(r.jsxs)(b,{children:[Object(r.jsx)("textarea",Object(a.a)({className:"form-input",name:i,onChange:e},o)),t?Object(r.jsx)("label",{htmlFor:i,className:"".concat(o.value.length?"shrink":""," form-input-label"),children:t}):null]})}},74:function(n,e,t){"use strict";var r=t(4),a=t(1),c=t(25),i=(t(0),t(5));function o(){var n=Object(i.a)(["\n    display: inline-block;\n    cursor: pointer;\n    font-size: 1.5rem;\n    font-weight: 700;\n    /* margin-right: 2rem; */\n    background-color: ",";\n    color: ",";\n    padding: .8rem 3rem;\n    border-radius: .2rem;\n    transition: all .2s ease-out;\n\n    @media all and (max-width: 500px) {\n        padding: 0.5rem 1.5rem;\n        font-size: 1.4rem;\n    }\n"]);return o=function(){return n},n}var s=t(6).c.div(o(),(function(n){return n.isActive?"rgb(235, 172, 1)":"rgba(0,0,0,.06)"}),(function(n){return n.isActive?"#fff":"#000"}));e.a=function(n){var e=n.label,t=n.isActive,i=n.handleClick,o=Object(c.a)(n,["label","isActive","handleClick"]);return Object(a.jsx)(s,Object(r.a)(Object(r.a)({isActive:t,onClick:i},o),{},{children:e}))}},84:function(n,e,t){"use strict";var r=t(1),a=t(2),c=t.n(a),i=t(7),o=t(3),s=t(0),l=t.n(s),u=t(27),b=t.n(u),d=t(26),j=t(13),m=(t(85),t(86),t(17)),f=t(5),h=t(6),O=t(15);function p(){var n=Object(f.a)(["\n    cursor: pointer;\n    outline: none;\n    border: none;\n    padding: .4rem 1rem;\n    border-radius: 50%;\n    color: #fff;\n    background-color: #000;\n    font-size: 1.2rem;\n    font-family: inherit;\n    margin: 0 .5rem;\n\n    &:focus {\n        outline: none;\n    }\n"]);return p=function(){return n},n}function g(){var n=Object(f.a)(["\n    display: flex;\n    justify-content: center;\n"]);return g=function(){return n},n}function x(){var n=Object(f.a)(["\n    display: block;\n    margin: 2rem auto 0;\n"]);return x=function(){return n},n}function v(){var n=Object(f.a)(["\n    cursor: pointer;\n    outline:none;\n    border: none;\n    background-color: ",";\n    color: #fff;\n    font-weight: ",";\n    font-family: inherit;\n    font-size: 1.2rem;\n    padding: .8rem 1.5rem;\n    border-radius: .2rem;\n    margin-bottom: 2rem;\n    transition: all .3s ease-out;\n\n    &:focus {\n        outline: none;\n    }\n"]);return v=function(){return n},n}function k(){var n=Object(f.a)(["\n    max-width: 18rem;\n    display: flex;\n    justify-content: space-between;\n    margin: 0 auto;\n"]);return k=function(){return n},n}function y(){var n=Object(f.a)(["\n    display: block;\n    width: 100%;\n\n    img {\n        display: block;\n        max-width: 100%;\n        /* width: inherit; */\n    }\n"]);return y=function(){return n},n}function q(){var n=Object(f.a)(["\n    cursor: pointer;\n    display:none;\n    border-radius:50%;\n    position: absolute;\n    border: none;\n    background-color: rgb(235, 172, 1);\n    padding: .5rem .75rem;\n    font-size: 1rem;\n    right: .5rem;\n    top: .5rem;\n\n    outline: none;\n\n    &:focus {\n        outline: none;\n    }\n"]);return q=function(){return n},n}function w(){var n=Object(f.a)(["\n    position: relative;\n    cursor: pointer;\n    width: 20rem;\n    margin: 1rem 0;\n\n    &:hover button {\n        display: block\n    }\n\n    /* &:not(:last-child) {\n        margin-right: 1.5rem;\n    } */\n\n    img {\n        width:100%;\n        height:100%;\n        object-fit: contain;\n        object-position: center;\n    }\n"]);return w=function(){return n},n}function N(){var n=Object(f.a)(["\n    /* max-width: 46rem; */\n\n    /* width: 100%; */\n    /* overflow-x: scroll; */\n    display: flex;\n    flex-wrap: wrap;\n    justify-content: space-evenly;\n    margin: 2rem auto;\n"]);return N=function(){return n},n}function z(){var n=Object(f.a)(["\n    width: 100%;\n    height: 100%;\n\n    position: fixed;\n    left: 0;\n    right: 0;\n    z-index: 99999;\n\n    border: none;\n    outline: none;\n    opacity: 0;\n\n    &:focus {\n        outline: none\n    }\n"]);return z=function(){return n},n}function C(){var n=Object(f.a)(['\n    input[type="file"] {\n        position: absolute;\n        left: -999999999rem;\n    }\n    cursor: pointer;\n    background-color: #000;\n    color: #fff;\n    max-width: 18rem;\n    font-size: 1.4rem;\n    font-family: inherit;\n    padding: .8rem 1rem;\n    text-align: center;\n    display: block;\n    border: 1px solid #000;\n    transition: background-color .1s ease-out,\n                color .2s ease-out;\n    outline: none;\n    margin: 0 auto 2rem;\n\n    &:focus {\n        outline:none;\n    }\n\n    &:hover {\n        background-color: transparent;\n        color: #000;\n    }\n']);return C=function(){return n},n}function S(){var n=Object(f.a)(["\n    width:100%;\n    max-width: 50rem;\n    max-height: 60rem;\n\n    overflow-y: scroll;\n\n    /* display: flex;\n    flex-direction: column;\n    align-items: center; */\n\n    padding: 2rem;\n    border-radius: .5rem;\n    background-color: white;\n\n    position: relative;\n    z-index: 999999;\n\n"]);return S=function(){return n},n}function I(){var n=Object(f.a)(["\n    position: fixed;\n    left: 0;\n    right: 0;\n    top: 0;\n    bottom: 0;\n    z-index: 99999;\n\n    display: flex;\n    align-items: center;\n    justify-content: center;\n\n    background-color: rgba(0,0,0,0.3);\n"]);return I=function(){return n},n}var A=h.c.div(I()),P=h.c.div(S()),F=h.c.label(C()),L=h.c.button(z()),D=h.c.div(N()),B=h.c.div(w()),E=h.c.button(q()),M=h.c.div(y()),R=h.c.div(k()),U=h.c.button(v(),(function(n){return n.isActive?"rgb(235, 172, 1)":"#000"}),(function(n){return n.isActive?"700":"400"})),V=Object(h.c)(O.a)(x()),_=h.c.div(g()),Q=h.c.button(p()),T=function(n,e){var t=new XMLHttpRequest;t.onload=function(){var n=new FileReader;n.onloadend=function(){var t=n.result,r=t.indexOf(";"),a=t.slice(r,t.length);e("data:image/png"+a)},n.readAsDataURL(t.response)},t.open("GET",n),t.responseType="blob",t.send()};e.a=function(n){var e=n.close,t=n.setImage,a=Object(s.useContext)(d.a),u=a.getImages,f=a.handleDeleteImage,h=a.handleImage,O=a.images,p=a.setSelectedImage,g=a.getNextImages,x=a.getPrevImage,v=Object(s.useContext)(j.a),k=v.getMessage,y=v.setIsLoading,q=v.setShowModal,w=Object(s.useState)("upload"),N=Object(o.a)(w,2),z=N[0],C=N[1],S=Object(s.useState)(null),I=Object(o.a)(S,2),G=I[0],H=I[1],J=Object(s.useState)(""),X=Object(o.a)(J,2),K=X[0],W=X[1],Y=Object(s.useState)(null),Z=Object(o.a)(Y,2),$=(Z[0],Z[1],Object(s.useState)("")),nn=Object(o.a)($,2),en=nn[0],tn=nn[1],rn=Object(s.useState)(""),an=Object(o.a)(rn,2),cn=an[0],on=an[1],sn=Object(s.useState)(!1),ln=Object(o.a)(sn,2),un=ln[0],bn=ln[1],dn=function(n,e){n.preventDefault(),C(e),"images"===e&&(O||(console.log("API IMAGE CALL"),u()))};Object(s.useEffect)((function(){G&&W(URL.createObjectURL(G))}),[G]);var jn=function(){var n=Object(i.a)(c.a.mark((function n(r){return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r.preventDefault(),q(!0),y(!0),bn(!0);try{T(K,function(){var n=Object(i.a)(c.a.mark((function n(r){var a;return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,h(r,en,cn);case 2:(a=n.sent).image&&(t(a.image._id),p(a.image),u(),e());case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()),q(!1),y(!1),bn(!1)}catch(a){console.log(a),k("Nieco sa pokazilo"),y(!1),bn(!1)}case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return b.a.createPortal(Object(r.jsxs)(A,{children:[Object(r.jsx)(L,{onClick:e}),Object(r.jsxs)(P,{children:[Object(r.jsxs)(R,{children:[Object(r.jsx)(U,{isActive:"upload"===z,onClick:function(n){return dn(n,"upload")},children:"Nov\xfd obrazok"}),Object(r.jsx)(U,{isActive:"images"===z,onClick:function(n){return dn(n,"images")},children:"Obr\xe1zky"})]}),"upload"===z?Object(r.jsxs)("div",{children:[Object(r.jsxs)(F,{htmlFor:"image",children:[Object(r.jsx)("input",{id:"image",type:"file",name:"image",accept:"image/png, image/jpeg",onChange:function(n){return H(n.target.files[0])}}),"Vybra\u0165 obr\xe1zok"]}),K&&Object(r.jsxs)(l.a.Fragment,{children:[Object(r.jsx)(M,{children:Object(r.jsx)("img",{src:K})}),Object(r.jsx)(m.a,{label:"N\xe1zov",type:"text",name:"imageName",value:en,handleChange:function(n){return tn(n.target.value)},required:!0}),Object(r.jsx)(m.a,{label:"Alt",type:"text",name:"imageAlt",value:cn,handleChange:function(n){return on(n.target.value)},required:!0}),Object(r.jsx)(V,{disabled:un,onClick:jn,children:"Oreza\u0165 a nahra\u0165"})]})]}):Object(r.jsxs)("div",{children:[Object(r.jsx)("h2",{children:"Nahrane obrazky"}),Object(r.jsx)(D,{children:O&&O.map((function(n){return Object(r.jsxs)(B,{children:[Object(r.jsx)(E,{onClick:function(e){return f(n._id,e)},children:"\u2715"}),Object(r.jsx)("img",{onClick:function(){return function(n){t(n._id),p(n),e()}(n)},src:"".concat("http://195.110.58.166:8080","/uploads/").concat(n.imagePath)})]},n._id)}))}),Object(r.jsxs)(_,{children:[Object(r.jsx)(Q,{onClick:function(){return x(2)},children:"<"}),Object(r.jsx)(Q,{onClick:function(){return g(2)},children:">"})]})]})]})]}),document.getElementById("portal"))}}}]);
//# sourceMappingURL=5.e2fb2765.chunk.js.map