(this.webpackJsonpimooptik=this.webpackJsonpimooptik||[]).push([[20,26],{244:function(e,t,n){"use strict";n.r(t);var a=n(2),c=n(10),s=n(1),r=n(86),o=n(85),l=n(3),i=n(54),u=n(52),j=n(59),b=n(55),d=n(32),p=n(123),m=n(101),h=n.n(m),f=n(14),O=n(5),x=n(6),g=n(28);function v(){var e=Object(O.a)(["\n    height: 50rem;\n    background-color: var(--input-background-color);\n    color: var(--input-color);\n    \n    .ql-container, .ql-toolbar {\n        border: none;\n    }\n"]);return v=function(){return e},e}function k(){var e=Object(O.a)(["\n    margin-bottom: 2rem;\n"]);return k=function(){return e},e}function q(){var e=Object(O.a)(["\n    font-size: 1.4rem;\n"]);return q=function(){return e},e}function N(){var e=Object(O.a)(["\n    font-size: 1.4rem;\n    margin: 0 2rem;\n    background-color: var(--color-red);\n\n    @media all and (max-width: 500px) {\n        margin: 0 .8rem;\n    }\n"]);return N=function(){return e},e}function w(){var e=Object(O.a)(["\n    cursor: pointer;\n    display:flex;\n    align-items: center;\n    justify-content:center;\n    width: 100%;\n    background-color: ",";\n    margin-top: 3rem;\n    padding: 6rem;\n\n    position: relative;\n\n    img {\n        position: absolute;\n        width: 100%;\n        /* height: 100%; */\n        max-height: 40rem;\n        left: 0;\n        top: 0;\n        object-fit: cover;\n        object-position: center;\n\n    }\n"]);return w=function(){return e},e}function y(){var e=Object(O.a)(["\n    padding: 2rem;\n    background-color: var(--container-background-color);\n    box-shadow: var(--container-shadow);\n"]);return y=function(){return e},e}function S(){var e=Object(O.a)(["\n    display: grid;\n    align-items: start;\n    grid-template-columns: 1fr 1fr;\n    grid-gap: 2rem;\n    height: inherit;\n    height: 100%;\n\n        @media all and (max-width: 800px) {\n            grid-template-columns: 1fr ;\n        }\n\n"]);return S=function(){return e},e}function P(){var e=Object(O.a)(["\n    ","\n    padding-top: 3rem;\n    padding-bottom: 3rem;\n    color: var(--primary-text-color);\n"]);return P=function(){return e},e}var C=x.c.div(P(),f.g),z=x.c.div(S()),I=x.c.div(y()),B=x.c.div(w(),(function(e){return e.hasImage?"transparent":"var(--input-background-color)"})),T=Object(x.c)(g.a)(N()),E=Object(x.c)(g.a)(q()),D=x.c.h2(k()),H=Object(x.c)(h.a)(v()),L=function(){return Object(a.jsxs)("svg",{viewBox:"0 0 18 18",children:[Object(a.jsx)("polygon",{className:"ql-fill ql-stroke",points:"6 10 4 12 2 10 6 10"}),Object(a.jsx)("path",{className:"ql-stroke",d:"M8.09,13.91A4.6,4.6,0,0,0,9,14,5,5,0,1,0,4,9"})]})},A=function(){return Object(a.jsxs)("svg",{viewBox:"0 0 18 18",children:[Object(a.jsx)("polygon",{className:"ql-fill ql-stroke",points:"12 10 14 12 16 10 12 10"}),Object(a.jsx)("path",{className:"ql-stroke",d:"M9.91,13.91A4.6,4.6,0,0,1,9,14a5,5,0,1,1,5-5"})]})};var J=m.Quill.import("formats/size");J.whitelist=["extra-small","small","medium","large"],m.Quill.register(J,!0);var M=m.Quill.import("formats/font");M.whitelist=["arial","comic-sans","courier-new","georgia","helvetica","lucida"],m.Quill.register(M,!0);var Q={toolbar:{container:"#toolbar",handlers:{undo:function(){this.quill.history.undo()},redo:function(){this.quill.history.redo()}}},history:{delay:500,maxStack:100,userOnly:!0}},U=["header","font","size","bold","italic","underline","align","strike","script","blockquote","background","list","bullet","indent","link","image","color","code-block"],V=function(){return Object(a.jsxs)("div",{id:"toolbar",className:"toolbar",children:[Object(a.jsxs)("span",{className:"ql-formats",children:[Object(a.jsxs)("select",{className:"ql-size",defaultValue:"medium",children:[Object(a.jsx)("option",{value:"extra-small",children:"Size 1"}),Object(a.jsx)("option",{value:"small",children:"Size 2"}),Object(a.jsx)("option",{value:"medium",children:"Size 3"}),Object(a.jsx)("option",{value:"large",children:"Size 4"})]}),Object(a.jsxs)("select",{className:"ql-header",defaultValue:"3",children:[Object(a.jsx)("option",{value:"1",children:"Heading"}),Object(a.jsx)("option",{value:"2",children:"Subheading"}),Object(a.jsx)("option",{value:"3",children:"Normal"})]})]}),Object(a.jsxs)("span",{className:"ql-formats",children:[Object(a.jsx)("button",{className:"ql-bold"}),Object(a.jsx)("button",{className:"ql-italic"}),Object(a.jsx)("button",{className:"ql-underline"}),Object(a.jsx)("button",{className:"ql-strike"})]}),Object(a.jsxs)("span",{className:"ql-formats",children:[Object(a.jsx)("button",{className:"ql-list",value:"ordered"}),Object(a.jsx)("button",{className:"ql-list",value:"bullet"}),Object(a.jsx)("button",{className:"ql-indent",value:"-1"}),Object(a.jsx)("button",{className:"ql-indent",value:"+1"})]}),Object(a.jsxs)("span",{className:"ql-formats",children:[Object(a.jsx)("button",{className:"ql-script",value:"super"}),Object(a.jsx)("button",{className:"ql-script",value:"sub"}),Object(a.jsx)("button",{className:"ql-blockquote"}),Object(a.jsx)("button",{className:"ql-direction"})]}),Object(a.jsxs)("span",{className:"ql-formats",children:[Object(a.jsx)("select",{className:"ql-align"}),Object(a.jsx)("select",{className:"ql-color"}),Object(a.jsx)("select",{className:"ql-background"})]}),Object(a.jsxs)("span",{className:"ql-formats",children:[Object(a.jsx)("button",{className:"ql-link"}),Object(a.jsx)("button",{className:"ql-image"}),Object(a.jsx)("button",{className:"ql-video"})]}),Object(a.jsxs)("span",{className:"ql-formats",children:[Object(a.jsx)("button",{className:"ql-formula"}),Object(a.jsx)("button",{className:"ql-code-block"}),Object(a.jsx)("button",{className:"ql-clean"})]}),Object(a.jsxs)("span",{className:"ql-formats",children:[Object(a.jsx)("button",{className:"ql-undo",children:Object(a.jsx)(L,{})}),Object(a.jsx)("button",{className:"ql-redo",children:Object(a.jsx)(A,{})})]})]})};t.default=function(){var e=Object(l.i)().id,t=Object(l.h)().push,n=Object(s.useContext)(r.BlogContext),m=n.createPost,h=n.isLoading,O=n.message,x=n.showLoading,g=n.setIsLoading,v=n.getPost,k=n.post,q=n.handlePostUpdate,N=n.resetBlog,w=Object(s.useContext)(o.ImageContext),y=w.selectedImage,S=w.setSelectedImage,P=Object(s.useState)(""),L=Object(c.a)(P,2),A=L[0],J=L[1],M=Object(s.useState)(""),_=Object(c.a)(M,2),F=_[0],G=_[1],K=Object(s.useState)(""),R=Object(c.a)(K,2),W=R[0],X=R[1],Y=Object(s.useState)(""),Z=Object(c.a)(Y,2),$=Z[0],ee=Z[1],te=Object(s.useState)(!1),ne=Object(c.a)(te,2),ae=ne[0],ce=ne[1],se=Object(s.useState)(!1),re=Object(c.a)(se,2),oe=re[0],le=re[1],ie=Object(s.useState)(!1),ue=Object(c.a)(ie,2),je=ue[0],be=ue[1];return Object(s.useEffect)((function(){S(null),"novy-prispevok"!==e&&(v(e),be(!0))}),[e]),Object(s.useEffect)((function(){"novy-prispevok"!==e&&k&&(J(k.name),G(k.description),X(k.html),ce(k.draft),k.image&&(ee(k.image._id),S(k.image)))}),[k]),Object(s.useEffect)((function(){return function(){N(),J(""),G(""),X(""),ee(""),ce(!1),le(!1),be(!1)}}),[]),Object(a.jsxs)("form",{onSubmit:function(n){n.preventDefault(),$.length<=0||W.length<=0||("novy-prispevok"===e?m($,A,F,ae,W):q(A,F,ae,W,$,e),t("/dashboard/blog"))},children:[h&&Object(a.jsx)(d.a,{loading:x,title:O,close:function(){return g(!1)}}),oe&&Object(a.jsx)(p.a,{close:function(){return le(!1)},setImage:ee}),Object(a.jsx)(C,{children:Object(a.jsxs)(f.c,{children:[Object(a.jsx)("div",{children:Object(a.jsx)("h1",{children:"Post"})}),Object(a.jsxs)("div",{children:[Object(a.jsx)(b.a,{label:"Draft",isActive:ae,handleClick:function(){return ce((function(e){return!e}))}}),Object(a.jsx)(T,{children:"Vymaza\u0165"}),Object(a.jsx)(E,{type:"submit",children:je?"Upravi\u0165 pr\xedspevok":"Prida\u0165 pr\xedspevok"})]})]})}),Object(a.jsx)(i.a,{children:Object(a.jsxs)(z,{children:[Object(a.jsxs)(I,{children:[Object(a.jsx)("h2",{children:"Inform\xe1cia"}),Object(a.jsx)(u.a,{label:"Nadpis",type:"text",name:"title",value:A,handleChange:function(e){return J(e.target.value)},required:!0}),Object(a.jsx)(j.a,{label:"Popis",name:"description",rows:"5",value:F,handleChange:function(e){return G(e.target.value)},required:!0}),Object(a.jsx)("h2",{children:"Tituln\xe1 fotka"}),Object(a.jsxs)(B,{onClick:function(){return le(!0)},hasImage:y,children:[!y&&"Vybra\u0165 obr\xe1zok",y&&Object(a.jsx)("img",{src:"".concat("http://195.110.58.166:8080","/uploads/").concat(y.imagePath),alt:y.alt})]})]}),Object(a.jsxs)(I,{children:[Object(a.jsx)(D,{children:"Obsah"}),Object(a.jsx)(V,{}),Object(a.jsx)(H,{value:W,onChange:X,modules:Q,formats:U})]})]})})]})}},86:function(e,t,n){"use strict";n.r(t),n.d(t,"BlogContext",(function(){return m}));var a=n(2),c=n(7),s=n.n(c),r=n(12),o=n(10),l=n(1),i=n(18),u=n(19),j=function(e){return fetch("".concat("http://195.110.58.166:8080","/api/blogs/").concat(e))},b=function(e,t,n,a,c,s){var r=new Headers;r.append("auth-token",e),r.append("Content-Type","application/json");var o={method:"POST",headers:r,body:JSON.stringify({name:t,description:n,draft:a,html:c,image:s}),redirect:"follow"};return fetch("".concat("http://195.110.58.166:8080","/api/admin/blogs"),o)},d=function(e,t,n,a,c,s,r){var o=new Headers;o.append("auth-token",e),o.append("Content-Type","application/json");var l={method:"PATCH",headers:o,body:JSON.stringify({name:t,description:n,draft:a,html:c,image:s}),redirect:"follow"};return fetch("".concat("http://195.110.58.166:8080","/api/admin/blogs/").concat(r),l)},p=function(e,t){var n=new Headers;n.append("auth-token",e),n.append("Content-Type","application/json");var a={method:"DELETE",headers:n,redirect:"follow"};return fetch("".concat("http://195.110.58.166:8080","/api/admin/blogs/").concat(t),a)},m=Object(l.createContext)({posts:null,post:null,postsCount:0,getPosts:function(){},createPost:function(){},getPost:function(){},handlePostUpdate:function(){},handlePostDelete:function(){},resetBlog:function(){}});t.default=function(e){var t=e.children,n=Object(l.useContext)(i.a).token,c=Object(l.useContext)(u.a),h=c.getMessage,f=c.setIsLoading,O=c.setShowModal,x=Object(l.useState)(null),g=Object(o.a)(x,2),v=g[0],k=g[1],q=Object(l.useState)(null),N=Object(o.a)(q,2),w=N[0],y=N[1],S=Object(l.useState)(0),P=Object(o.a)(S,2),C=P[0],z=P[1],I=function(){var e=Object(r.a)(s.a.mark((function e(){var t,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O(!0),f(!0),e.next=4,fetch("".concat("http://195.110.58.166:8080","/api/blogs"));case 4:return t=e.sent,e.next=7,t.json();case 7:n=e.sent,k(n.blogs),z(n.count),O(!1),f(!1);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),B=function(){var e=Object(r.a)(s.a.mark((function e(t){var n,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O(!0),f(!0),e.prev=2,e.next=5,j(t);case 5:return n=e.sent,e.next=8,n.json();case 8:if(!(a=e.sent).blog){e.next=14;break}return y(a.blog),f(!1),h(a.message),e.abrupt("return");case 14:f(!1),h(a.message),e.next=23;break;case 18:e.prev=18,e.t0=e.catch(2),console.log(e.t0),h("Nieco sa pokazilo"),f(!1);case 23:O(!1),f(!1);case 25:case"end":return e.stop()}}),e,null,[[2,18]])})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=Object(r.a)(s.a.mark((function e(t,a,c,r,o){var l,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O(!0),f(!0),e.prev=2,e.next=5,b(n,a,c,r,o,t);case 5:return l=e.sent,e.next=8,l.json();case 8:i=e.sent,h(i.message),f(!1),I(),e.next=19;break;case 14:e.prev=14,e.t0=e.catch(2),console.log(e.t0),h("Nieco sa pokazilo"),f(!1);case 19:case"end":return e.stop()}}),e,null,[[2,14]])})));return function(t,n,a,c,s){return e.apply(this,arguments)}}(),E=function(){var e=Object(r.a)(s.a.mark((function e(t,a,c,r,o,l){var i,u;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O(!0),f(!0),e.prev=2,e.next=5,d(n,t,a,c,r,o,l);case 5:return i=e.sent,e.next=8,i.json();case 8:u=e.sent,h(u.message),f(!1),I(),e.next=19;break;case 14:e.prev=14,e.t0=e.catch(2),console.log(e.t0),h("Nieco sa pokazilo"),f(!1);case 19:case"end":return e.stop()}}),e,null,[[2,14]])})));return function(t,n,a,c,s,r){return e.apply(this,arguments)}}(),D=function(){var e=Object(r.a)(s.a.mark((function e(t){var a,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O(!0),f(!0),e.prev=2,e.next=5,p(n,t);case 5:return a=e.sent,e.next=8,a.json();case 8:c=e.sent,h(c.message),f(!1),I(),e.next=19;break;case 14:e.prev=14,e.t0=e.catch(2),console.log(e.t0),h("Nieco sa pokazilo"),f(!1);case 19:case"end":return e.stop()}}),e,null,[[2,14]])})));return function(t){return e.apply(this,arguments)}}();return Object(a.jsx)(m.Provider,{value:{posts:v,post:w,postsCount:C,getPosts:I,createPost:T,getPost:B,handlePostUpdate:E,handlePostDelete:D,resetBlog:function(){y(null)}},children:t})}}}]);
//# sourceMappingURL=20.aaf945fb.chunk.js.map