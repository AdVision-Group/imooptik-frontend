(this.webpackJsonpimooptik=this.webpackJsonpimooptik||[]).push([[7,27],{228:function(n,e,t){"use strict";t.r(e);var r=t(2),o=t(10),a=t(1),c=t.n(a),i=t(3),l=t(19),u=t(18),d=t(59),s=t(54),b=t(32),j=t(5),f=t(6),v=t(28);function m(){var n=Object(j.a)(["\n    margin-top: 2rem;\n    font-size: 1.4rem;\n    display: block;\n    margin-left: 2rem;;\n"]);return m=function(){return n},n}function h(){var n=Object(j.a)(["\n    margin-top: 2rem;\n    font-size: 1.4rem;\n    display: block;\n    background-color: ",";\n    font-weight: bolder;\n    color: ",";\n"]);return h=function(){return n},n}function p(){var n=Object(j.a)(["\n    display: flex;\n"]);return p=function(){return n},n}function O(){var n=Object(j.a)(["\n    padding: 2rem;\n    box-shadow: var(--container-shadow);\n    background-color: var(--container-background-color);\n\n    &:not(:last-child) {\n        /* margin-right: 2rem; */\n    }\n\n    h3  { \n        font-size: 1.8rem;\n    }\n\n    p {\n        font-size: 1.4rem;\n        opacity: .83;\n\n        span {\n            font-weight: bolder;\n        }\n    }\n"]);return O=function(){return n},n}var g=f.c.div(O()),x=f.c.div(p()),k=Object(f.c)(v.a)(h(),(function(n){return n.isActive?"var(--primary-color)":"var(--body-background-primary-color)"}),(function(n){return n.isActive?"var(--button-font-color)":"var(--primary-color)"})),y=Object(f.c)(v.a)(m()),w=function(n){var e=n.calendar,t=void 0===e?{}:e,o=n.selectedCalendar,a=void 0===o?null:o,c=n.handleShowUpClick,i=void 0===c?function(){}:c,l=n.handleUpdateClick,u=void 0===l?function(){}:l;return Object(r.jsxs)(g,{children:[Object(r.jsx)("h3",{children:null===t||void 0===t?void 0:t.name}),Object(r.jsxs)("p",{children:["Interval medzi vy\u0161etreniami: ",Object(r.jsxs)("span",{children:[null===t||void 0===t?void 0:t.interval,"min"]})]}),Object(r.jsxs)("p",{children:["Po\u010det min\xfat pred rezerv\xe1ciou: ",Object(r.jsxs)("span",{children:[null===t||void 0===t?void 0:t.allowMinutesBefore,"min"]})]}),Object(r.jsxs)("p",{children:["Ko\u013eko dn\xed dopredu sa da objedna\u0165: ",Object(r.jsx)("span",{children:null===t||void 0===t?void 0:t.daysIntoFuture})]}),Object(r.jsxs)(x,{children:[Object(r.jsx)(k,{isActive:a===(null===t||void 0===t?void 0:t._id),onClick:i,children:"Zobrazi\u0165"}),Object(r.jsx)(y,{onClick:u,children:"Upravi\u0165"})]})]})},C=t(55),S=t(30),D=t(53),z=function(n,e){if(NaN!==Number(n)){var t=n*e,r=Math.floor(t/60);return N(r,t%60)}},N=function(n,e){return n<10&&0===e?"0".concat(n,"/0").concat(e):n<10?"0".concat(n,"/").concat(e):0===e?"".concat(n,"/0").concat(e):"".concat(n,"/").concat(e)},B=function(n){if(n)return n.replace("/",":")},E=function(n,e,t,r,o){if(!(null===n||void 0===n?void 0:n.booked))return null;var a=Object.keys(null===n||void 0===n?void 0:n.booked).find((function(n){var e=n.split("/").map((function(n){return Number(n)}));if(e[0]===t&&e[1]===r+1&&e[2]===o)return n}));if(!a)return null;var c=z(e,n.interval),i=n.booked[a].find((function(n){return n===c}));return i?{time:i,date:n.booked[a],dueDate:"".concat(i,":").concat(a)}:null},A=Object(a.createContext)({getDayData:function(){},refetchWeekCalendar:function(){}}),I=function(n){var e=n.children,t=n.calendar,c=n.month,i=n.year,l=(Object(S.a)(n,["children","calendar","month","year"]),Object(D.b)("api/booking/calendars",t,!t)),u=l.response,d=l.isLoading,s=l.refetch,b=Object(a.useState)(null),j=Object(o.a)(b,2),f=j[0],v=j[1],m=Object(a.useState)(0),h=Object(o.a)(m,2),p=h[0],O=h[1];return Object(a.useEffect)((function(){d||(v(u.calendar),30===u.calendar.interval&&O(48),60===u.calendar.interval&&O(24))}),[d]),Object(a.useEffect)((function(){return function(){v(null)}}),[]),Object(r.jsx)(A.Provider,{value:{getDayData:function(n,e){if(f)return Object(C.a)(Array(p)).map((function(t,r){var o,a,l=null===(o=f.startTimes[e])||void 0===o?void 0:o.split("/").map((function(n){return Number(n)})),u=null===(a=f.endTimes[e])||void 0===a?void 0:a.split("/").map((function(n){return Number(n)})),d=z(r,f.interval),s=d.split("/").map((function(n){return Number(n)}));if(!(l[0]>s[0])&&!(u[0]<s[0])&&"X"!==f.startTimes[e]&&(u[0]!==s[0]||u[1]===s[1]||30!==s[1]))return{id:r,time:d,userBookings:E(f,r,n,c,i)}})).filter((function(n){return void 0!==n}))},refetchWeekCalendar:s},children:e})},T=t(67);function P(){var n=Object(j.a)(["\n    height: 8rem;\n    display: flex;\n    justify-content: space-between;\n    align-items: flex-end;\n    border: 1px solid rgba(0,0,0,.1);\n    padding: .6rem 1rem;\n\n    transition: all .15s;\n\n    p {\n        span {\n            width: 3rem;\n            height: 3rem;\n            display: flex;\n            justify-content: center;\n            align-items: center;\n            border-radius: 50%;\n            background-color: var(--body-background-primary-color);\n            color: var(--primary-color);\n            font-weight: bolder;\n            font-size: 1.5rem;\n        }\n    }\n\n    ",";\n\n\n\n"]);return P=function(){return n},n}function H(){var n=Object(j.a)(["\n    cursor: default;\n    height: 8rem;\n    background-color: var(--color-black);\n    color: var(--table-head-color);\n    display: flex;\n    align-items:center;\n    justify-content:center;\n    font-weight: 700;\n"]);return H=function(){return n},n}function _(){var n=Object(j.a)(["\n    width: 100%;\n    display: grid;\n    grid-template-columns: repeat(7, 1fr);\n    border: 1px solid rgba(0,0,0,.1);\n    min-width: 55rem;\n"]);return _=function(){return n},n}var M=f.c.div(_()),U=f.c.div(H()),F=f.c.div(P(),(function(n){return n.faded?"opacity: .6":"    \n        cursor: pointer;\n        &:hover {\n        background-color: var(--body-background-primary-color);\n        }\n    "})),L=function(n){var e=n.calendar,t=n.month,c=n.year,i=n.handleCalendarBlockClick;(new Date).setDate(1);var l=new Date(c,t+1,0).getDate(),u=new Date(c,t,0).getDate(),d=new Date(c,t,0).getDay(),s=7-new Date(c,t+1,0).getDay(),b=Object(D.b)("api/booking/calendars",e,!e),j=b.response,f=b.isLoading,v=b.refetch,m=Object(a.useState)([]),h=Object(o.a)(m,2),p=h[0],O=h[1],g=Object(a.useState)([]),x=Object(o.a)(g,2),k=x[0],y=x[1],w=Object(a.useState)([]),C=Object(o.a)(w,2),S=C[0],z=C[1];return Object(a.useEffect)((function(){v()}),[t]),Object(a.useEffect)((function(){e&&v()}),[e]),Object(a.useEffect)((function(){if(!f&&(null===j||void 0===j?void 0:j.calendar)){var n=Object(T.n)(d),e=Object(T.l)(l),r=Object(T.m)(s),o=Object(T.k)(e,j.calendar,t,c);O(n),y(o),z(r)}}),[f]),Object(r.jsxs)(M,{children:[T.c.map((function(n,e){return Object(r.jsx)(U,{children:n},e)})),p.map((function(n,e){return Object(r.jsxs)(F,{faded:!0,children:[Object(r.jsx)("p",{}),Object(r.jsx)("p",{children:u-e})]},e)})),k.map((function(n,e){var t=n.dayNumber,o=n.bookings;return Object(r.jsxs)(F,{onClick:function(){return i(n)},children:[Object(r.jsx)("p",{children:o&&Object(r.jsx)("span",{children:o.length})}),Object(r.jsx)("p",{children:t})]},e)})),S.map((function(n,e){return Object(r.jsxs)(F,{faded:!0,children:[Object(r.jsx)("p",{}),Object(r.jsx)("p",{children:e+1})]},e)}))]})},K=t(21),R=t(68),J=t(20),V=t.n(J);function G(){var n=Object(j.a)(["\n    width: 100%;\n    height: 100%;\n\n    position: fixed;\n    left: 0;\n    right: 0;\n    z-index: 99999;\n\n    border: none;\n    outline: none;\n    opacity: 0;\n\n    &:focus {\n        outline: none\n    }\n"]);return G=function(){return n},n}function W(){var n=Object(j.a)(["\n    width:100%;\n    max-width: 65rem;\n    max-height: 60rem;\n\n    overflow-y: scroll;\n\n    padding: 2rem;\n    border-radius: .5rem;\n    background-color: var(--background-primary-color);\n    color: var(--primary-text-color);\n\n    position: relative;\n    z-index: 999999;\n\n    h2{ \n        margin-bottom: 2rem;\n        text-align: center;\n    }\n\n    ::-webkit-scrollbar {\n        width: 10px;\n    }\n\n    /* Track */\n    ::-webkit-scrollbar-track {\n        background:  var(--background-primary-color);\n    }\n\n    /* Handle */\n    ::-webkit-scrollbar-thumb {\n        background: var(--primary-color);\n    }\n\n    /* Handle on hover */\n    ::-webkit-scrollbar-thumb:hover {\n        background: var(--primary-color);\n    }\n"]);return W=function(){return n},n}function Y(){var n=Object(j.a)(["\n    position: fixed;\n    left: 0;\n    right: 0;\n    top: 0;\n    bottom: 0;\n    z-index: 99999;\n\n    display: flex;\n    align-items: center;\n    justify-content: center;\n\n    background-color: rgba(0,0,0,0.3);\n"]);return Y=function(){return n},n}var q=f.c.div(Y()),X=f.c.div(W()),Q=f.c.button(G()),Z=function(n){var e,t=n.close,o=n.userBooking,a=n.calendarId;console.log("userBooking"),console.log("userBooking"),console.log(o);var c=Object(D.c)("api/booking/calendars/".concat(a,"/dayInfo"),{date:null===o||void 0===o||null===(e=o.userBookings)||void 0===e?void 0:e.dueDate.split(":")[1]},!o),i=c.response;c.isLoading;return console.log(i),V.a.createPortal(Object(r.jsxs)(q,{children:[Object(r.jsx)(Q,{onClick:t}),Object(r.jsx)(X,{children:Object(r.jsx)("h2",{children:"Userbooking details"})})]}),document.getElementById("portal"))},$=t(31),nn=t(52),en=t(63),tn=t(60);function rn(){var n=Object(j.a)(["\n    display: grid;\n    grid-template-columns: 2fr 1fr .4rem 1fr;\n    grid-gap: 1rem;\n\n    p {\n        align-self: center;\n    }\n"]);return rn=function(){return n},n}function on(){var n=Object(j.a)(["\n    margin-top: 2rem;\n    /* min-width: 16.5rem; */\n    width: 100%;\n    background-color: var(--input-background-color);\n    color: var(--input-color);\n    border: none;\n    padding: .8rem .5rem .8rem .5rem;\n    font-size: inherit;\n    font-family: inherit;\n    display: block;\n\n    margin-bottom: 2rem;\n"]);return on=function(){return n},n}function an(){var n=Object(j.a)(["\n    padding: 2rem;\n    text-align: center;\n"]);return an=function(){return n},n}function cn(){var n=Object(j.a)(["\n    display: grid;\n    grid-template-columns: 1fr 1fr 1fr;\n\n    cursor: pointer;\n    align-content: center;\n    margin-bottom: 1rem;\n    box-shadow: var(--container-shadow);\n    background-color: var(--container-background-color);\n\n    transition: all .3s ease-out;\n\n    &:hover {\n        background-color: var(--primary-color); \n        font-weight: bolder;\n        color: var(--button-font-color);\n    }\n\n"]);return cn=function(){return n},n}function ln(){var n=Object(j.a)(["\n    display: grid;\n    grid-template-columns: 1fr 1fr 1fr;\n"]);return ln=function(){return n},n}function un(){var n=Object(j.a)(["\n    p {\n        text-align: center;\n        opacity: .6;\n    }\n        margin-bottom: 3rem;\n"]);return un=function(){return n},n}function dn(){var n=Object(j.a)(["\n    button {\n        margin-top: 2rem;\n    }\n"]);return dn=function(){return n},n}function sn(){var n=Object(j.a)(["\n    ul {\n        justify-content: center;\n    }\n"]);return sn=function(){return n},n}function bn(){var n=Object(j.a)(["\n    display: block;\n    margin: 0 auto;\n    background-color: var(--primary-color);\n    font-weight: bolder;\n"]);return bn=function(){return n},n}function jn(){var n=Object(j.a)(["\n    width: 100%;\n    height: 100%;\n\n    position: fixed;\n    left: 0;\n    right: 0;\n    z-index: 99999;\n\n    border: none;\n    outline: none;\n    opacity: 0;\n\n    &:focus {\n        outline: none\n    }\n"]);return jn=function(){return n},n}function fn(){var n=Object(j.a)(["\n    width:100%;\n    max-width: 65rem;\n    max-height: 60rem;\n\n    overflow-y: scroll;\n\n    padding: 2rem;\n    border-radius: .5rem;\n    background-color: var(--background-primary-color);\n    color: var(--primary-text-color);\n\n    position: relative;\n    z-index: 999999;\n\n    h2{ \n        margin-bottom: 2rem;\n        text-align: center;\n    }\n\n    ::-webkit-scrollbar {\n        width: 10px;\n    }\n\n    /* Track */\n    ::-webkit-scrollbar-track {\n        background:  var(--background-primary-color);\n    }\n\n    /* Handle */\n    ::-webkit-scrollbar-thumb {\n        background: var(--primary-color);\n    }\n\n    /* Handle on hover */\n    ::-webkit-scrollbar-thumb:hover {\n        background: var(--primary-color);\n    }\n"]);return fn=function(){return n},n}function vn(){var n=Object(j.a)(["\n    position: fixed;\n    left: 0;\n    right: 0;\n    top: 0;\n    bottom: 0;\n    z-index: 99999;\n\n    display: flex;\n    align-items: center;\n    justify-content: center;\n\n    background-color: rgba(0,0,0,0.3);\n"]);return vn=function(){return n},n}var mn=f.c.div(vn()),hn=f.c.div(fn()),pn=f.c.button(jn()),On=Object(f.c)(v.a)(bn()),gn=Object(f.c)(tn.a)(sn()),xn=f.c.div(dn()),kn=f.c.div(un()),yn=f.c.div(ln()),wn=f.c.div(cn()),Cn=f.c.div(an()),Sn=f.c.select(on()),Dn=f.c.div(rn()),zn=function(n){var e,t,i,l=n.refetchWeekCalendar,u=n.close,d=n.day,s=n.calendar,b=n.refetchCalendar,j=n.createUserBooking,f=Object(a.useState)(null),v=Object(o.a)(f,2),m=v[0],h=v[1],p=Object(a.useState)(0),O=Object(o.a)(p,2),g=O[0],x=O[1],k=Object(a.useState)({}),y=Object(o.a)(k,2),w=y[0],C=y[1],S=Object(a.useState)({date:"",hour:"",min:0}),z=Object(o.a)(S,2),N=z[0],B=z[1],E=Object(T.g)(s,d),A=Object(T.e)(s,d),I=Object(D.c)("api/admin/users/filter",m,!m),P=I.refetch,H=I.response,_=function(n){var e=n.target,t=e.name,r=e.value;if(""===r)return delete w[t],void C(Object(K.a)({},w));C((function(n){return Object(K.a)(Object(K.a)({},n),{},Object($.a)({},t,r))}))},M=function(n){var e=n.target,t=e.name,r=e.value;B((function(n){return Object(K.a)(Object(K.a)({},n),{},Object($.a)({},t,r))}))};return Object(a.useEffect)((function(){if(d){var n=d.time,e=d.dayNumber,t=d.month,r=d.year;console.log("DAY DATA"),console.log(d),B({date:"".concat(r,"-").concat(t<9?"0".concat(t+1):t+1,"-").concat(e<10?"0".concat(e):e),hour:Number(null===n||void 0===n?void 0:n.split("/")[0]),min:Number(null===n||void 0===n?void 0:n.split("/")[1])})}}),[d]),Object(a.useEffect)((function(){return function(){C({}),h(null),x(0)}}),[]),V.a.createPortal(Object(r.jsxs)(mn,{children:[Object(r.jsx)(pn,{onClick:u}),Object(r.jsxs)(hn,{children:[Object(r.jsx)("h2",{children:"Objedna\u0165 z\xe1kazn\xedka"}),Object(r.jsx)(gn,{items:Nn,activeIndex:g,setActiveIndex:x}),1===g?Object(r.jsxs)(xn,{children:[Object(r.jsx)(nn.a,{label:"Meno, priezvisko, e-mail alebo tel. \u010d\xedslo",name:"query",value:m?null===m||void 0===m?void 0:m.query:"",handleChange:function(n){return h({limit:10,query:n.target.value})},onKeyPress:function(n){null!==m&&"Enter"===n.key&&P()}}),Object(r.jsx)(On,{onClick:function(){m&&P()},children:"H\u013eada\u0165"}),Object(r.jsxs)(kn,{children:[Object(r.jsxs)(yn,{children:[Object(r.jsx)(Cn,{children:"Meno"}),Object(r.jsx)(Cn,{children:"E-mail"}),Object(r.jsx)(Cn,{children:"Tel. \u010d\xedslo"})]}),(null===H||void 0===H?void 0:H.users)?null===H||void 0===H||null===(e=H.users)||void 0===e?void 0:e.map((function(n,e){var t=n.name,o=n.email,a=n.phone;return Object(r.jsxs)(wn,{onClick:function(){return n={name:t,email:o,phone:a},C((function(e){return Object(K.a)(Object(K.a)({},e),n)})),x(0),void h(null);var n},children:[Object(r.jsx)(Cn,{children:t}),Object(r.jsx)(Cn,{children:o}),Object(r.jsx)(Cn,{children:a})]},e)})):Object(r.jsx)("div",{children:Object(r.jsx)("p",{children:"\u017diaden v\xfdsledok"})})]})]}):Object(r.jsxs)(c.a.Fragment,{children:[Object(r.jsxs)("div",{children:[Object(r.jsx)("h3",{children:"D\xe1tum vy\u0161etrenia"}),Object(r.jsxs)(Dn,{children:[Object(r.jsx)(nn.a,{label:"",type:"date",name:"date",handleChange:M,value:null===N||void 0===N?void 0:N.date}),Object(r.jsx)("div",{children:Object(r.jsx)(nn.a,{label:"\u010cas",type:"number",name:"hour",value:null===N||void 0===N||null===(t=N.hour)||void 0===t?void 0:t.toString(),min:null===E||void 0===E?void 0:E.split(":")[0],max:null===A||void 0===A?void 0:A.split(":")[0],handleChange:M,step:"1"})}),Object(r.jsx)("p",{children:":"}),Object(r.jsx)("div",{children:Object(r.jsxs)(Sn,{name:"min",value:null===N||void 0===N||null===(i=N.min)||void 0===i?void 0:i.toString(),onChange:M,children:[Object(r.jsx)("option",{value:0,children:"00"}),30===(null===s||void 0===s?void 0:s.interval)&&Object(r.jsx)("option",{value:30,children:"30"})]})})]})]}),Object(r.jsx)("div",{children:Object(r.jsx)(nn.a,{label:"Meno*",name:"name",value:(null===w||void 0===w?void 0:w.name)||"",handleChange:_})}),Object(r.jsx)("div",{children:Object(r.jsx)(nn.a,{label:"E-mail*",name:"email",value:(null===w||void 0===w?void 0:w.email)||"",handleChange:_})}),Object(r.jsx)("div",{children:Object(r.jsx)(nn.a,{label:"Tel. \u010d\xedslo*",name:"phone",value:(null===w||void 0===w?void 0:w.phone)||"",handleChange:_})}),Object(r.jsx)("div",{children:Object(r.jsx)(en.a,{label:"Pozn\xe1mka",name:"note",rows:"5",value:(null===w||void 0===w?void 0:w.note)||"",handleChange:_})}),Object(r.jsxs)("div",{children:[Object(r.jsx)("h3",{children:"Vy\u0161etrenie"}),Object(r.jsxs)(Sn,{name:"booking",value:(null===w||void 0===w?void 0:w.booking)||"",onChange:_,children:[Object(r.jsx)("option",{value:"",children:"Nezvolen\xe9"}),null===s||void 0===s?void 0:s.bookings.map((function(n,e){if(!1!==n.active)return Object(r.jsx)("option",{value:n._id,children:n.name},e)}))]})]})]}),0===g&&Object(r.jsx)(On,{onClick:function(){var n=Object(K.a)(Object(K.a)({},w),{},{dueTime:Object(T.h)(N),values:{}});console.log("USER BOOKING BEFORE SEND"),console.log(n),j(n,b,u,l)},children:"Vytvori\u0165"})]})]}),document.getElementById("portal"))},Nn=[{id:0,name:"Nov\xfd z\xe1kazn\xedk"},{id:1,name:"Vyhlada\u0165 z\xe1kazn\xedka"}],Bn=t(34);function En(){var n=Object(j.a)(["\n    cursor: pointer;\n    border: var(--appointment-container-border);\n    background-color: var(--appointment-container-background-color);\n    color: var(--appointment-container-text-color);\n    font-weight: bolder;\n    width: 100%;\n    height: 100%;\n    padding: .5rem;\n    position: absolute;\n    bottom: ",";\n    top: ",";\n    font-size: 1.2rem;\n    z-index: 99;\n\n    h4 {\n        width: 8rem;\n        white-space: nowrap;\n        overflow: hidden;\n        text-overflow: ellipsis;\n    }\n"]);return En=function(){return n},n}var An=f.c.div(En(),(function(n){return n.isHalfHour?0:"unset"}),(function(n){return n.isHalfHour?"unset":0})),In=function(n){var e,t=n.dayData,i=n.calendarId,l=n.time,u=n.userBookings,d=n.open,s=Object(a.useState)(!1),b=Object(o.a)(s,2),j=b[0],f=b[1],v=Object(D.c)("api/booking/calendars/".concat(i,"/dayInfo"),{date:t.bookingDate},!u),m=v.response,h=v.isLoading,p=Object(a.useState)(null),O=Object(o.a)(p,2),g=O[0],x=O[1],k=Object(a.useState)(!1),y=Object(o.a)(k,2),w=y[0],C=y[1];return Object(a.useEffect)((function(){if(!h){var n=m.userBookings.find((function(n){return n.dueTime===u.dueDate}));u.dueDate===(null===n||void 0===n?void 0:n.dueTime)&&C(!0),x(n)}}),[h]),Object(a.useEffect)((function(){return function(){f(!1),C(!1)}}),[]),Object(r.jsx)(c.a.Fragment,{children:Object(r.jsx)(An,{onClick:d,isHalfHour:j,children:w&&Object(r.jsxs)("div",{children:[Object(r.jsx)("h4",{children:g&&(null===g||void 0===g||null===(e=g.booking)||void 0===e?void 0:e.name)}),Object(r.jsx)("h5",{children:l})]})})})};function Tn(){var n=Object(j.a)(["\n    cursor: pointer;\n    border: var(--appointment-container-border);\n    background-color: var(--appointment-container-background-color);\n    color: var(--appointment-container-text-color);\n    font-weight: bolder;\n    width: 100%;\n    height: 50%;\n    padding: .5rem;\n    /* position: absolute; */\n\n"]);return Tn=function(){return n},n}function Pn(){var n=Object(j.a)(['\n    content: "";\n    position: relative;\n    /* position: absolute; */\n    /* width: 5rem; */\n    height: 100%;\n    /* top: 0;\n    left: 0;\n    bottom: 0;\n    right: 0; */\n    /* background-color: red; */\n']);return Pn=function(){return n},n}function Hn(){var n=Object(j.a)(["\n    cursor: pointer;\n    position: relative;\n    /* width: 15rem; */\n    height: 10rem;\n    border-bottom: var(--table-border);\n    background-color: var(--background-primary-color);\n\n\n    span {\n        display: none;\n    }\n"]);return Hn=function(){return n},n}function _n(){var n=Object(j.a)(["\n    background-color: var(--body-background-primary-color);\n    /* border: var(--table-border); */\n \n    \n\n    &:nth-child(1) {\n        div {\n            span {\n                width: 6rem;\n                display: block;\n                opacity: .6;\n                position: absolute;\n                top: 0rem;\n                left: -5.8rem;\n                font-size: 1.4rem;\n                padding: .5rem 1rem .5rem .2rem;\n                border-radius: 9999rem;\n                text-align: end;\n                letter-spacing: .05rem;\n            }\n        }\n    }\n"]);return _n=function(){return n},n}function Mn(){var n=Object(j.a)(["\n    cursor: default;\n    height: 8rem;\n    background-color: var(--color-black);\n    color: var(--table-head-color);\n    display: flex;\n    flex-direction: column;\n    align-items:center;\n    justify-content:center;\n    font-weight: 700;\n\n    p:first-child {\n        font-weight: lighter;\n    }\n\n    /* background-color: red; */\n    ","\n"]);return Mn=function(){return n},n}function Un(){var n=Object(j.a)(["\n    display: grid;\n    grid-template-columns: repeat(7, 1fr);\n    background-color: var(--color-black);\n\n    /* border: var(--table-border); */\n    min-width: 55rem;\n    padding-left: 5rem;\n    padding-right: 1rem;\n\n"]);return Un=function(){return n},n}function Fn(){var n=Object(j.a)(["\n    overflow-y: scroll;\n    /* overflow-x: auto; */\n    height: 60rem;\n    display: grid;\n    grid-template-columns: repeat(7, 1fr);\n    /* border: var(--table-border); */\n    min-width: 55rem;\n    padding-left: 5rem;\n\n\n   ::-webkit-scrollbar {\n        width: 1rem;\n    }\n\n    /* Track */\n    ::-webkit-scrollbar-track {\n        background:  var(--background-primary-color);\n    }\n\n    /* Handle */\n    ::-webkit-scrollbar-thumb {\n        background: var(--primary-color);\n    }\n\n    /* Handle on hover */\n    ::-webkit-scrollbar-thumb:hover {\n        background: var(--primary-color);\n    }\n"]);return Fn=function(){return n},n}function Ln(){var n=Object(j.a)(["\n    width: 100%;\n"]);return Ln=function(){return n},n}var Kn=f.c.div(Ln()),Rn=f.c.div(Fn()),Jn=f.c.div(Un()),Vn=f.c.div(Mn(),(function(n){return n.isDisabled?"\n        opacity: .6;\n    ":""})),Gn=f.c.div(_n()),Wn=f.c.div(Hn()),Yn=f.c.div(Pn()),qn=(f.c.div(Tn()),function(n){var e=n.calendar,t=n.year,i=n.month,l=n.weekIndex,u=(n.handleCalendarBlockClick,Object(a.useContext)(A)),d=u.getDayData,s=u.refetchWeekCalendar,b=Object(a.useContext)(R.BookingContext).createUserBooking,j=Object(D.b)("api/booking/calendars",e,!e),f=j.response,v=j.isLoading,m=j.refetch,h=new Date(t,i+1,0).getDate(),p=new Date(t,i,0).getDay(),O=new Date(t,i+1,0).getDay(),g=new Date(t,i,0).getDate(),x=7-O,k=Object(a.useState)([]),y=Object(o.a)(k,2),w=y[0],S=y[1],z=Object(a.useState)(null),N=Object(o.a)(z,2),E=N[0],I=N[1],P=Object(a.useState)(!1),H=Object(o.a)(P,2),_=H[0],M=H[1],U=Object(a.useState)(!1),F=Object(o.a)(U,2),L=F[0],J=F[1],V=Object(a.useState)(null),G=Object(o.a)(V,2),W=G[0],Y=G[1];return Object(a.useEffect)((function(){if(!v&&f.calendar){var n=Object(T.n)(p),e=Object(T.l)(h),r=Object(T.m)(x),o=Object(T.k)(e,f.calendar,i,t);S([].concat(Object(C.a)(n),Object(C.a)(o),Object(C.a)(r)))}}),[v]),Object(r.jsxs)("div",{children:[L&&Object(r.jsx)(Z,{calendarId:e,userBooking:W,close:function(){return J(!1)}}),_&&Object(r.jsx)(zn,{refetchWeekCalendar:s,createUserBooking:b,refetchCalendar:m,calendar:null===f||void 0===f?void 0:f.calendar,day:E,close:function(){return M(!1)}}),Object(r.jsxs)(Kn,{children:[Object(r.jsx)(Jn,{children:w.slice(7*l,7*l+7).map((function(n,e){var o=n.dayNumber,a=n.isDisable,l=n.isPrevDay,u=n.isNextDay;return Object(r.jsx)(Vn,{isDisabled:a,children:l?Object(r.jsxs)(c.a.Fragment,{children:[Object(r.jsx)("p",{children:T.c[new Date(t,i-1,g-o).getDay()]}),Object(r.jsx)("p",{children:g-(o-1)})]}):u?Object(r.jsxs)(c.a.Fragment,{children:[Object(r.jsx)("p",{children:T.c[new Date(t,i+1,o-1).getDay()]}),Object(r.jsxs)("p",{children:[o," "]})]}):Object(r.jsxs)(c.a.Fragment,{children:[Object(r.jsx)("p",{children:T.c[new Date(t,i,o-1).getDay()]}),Object(r.jsxs)("p",{children:[o," "]})]})},e)}))}),Object(r.jsx)(Rn,{children:w.slice(7*l,7*l+7).map((function(n,o){var a=d(null===n||void 0===n?void 0:n.dayNumber,o);return Object(r.jsx)(Gn,{children:a&&a.map((function(o,a){var c,l;return Object(r.jsxs)(Wn,{style:60===(null===f||void 0===f||null===(c=f.calendar)||void 0===c?void 0:c.interval)?{height:"10rem"}:{height:"5rem"},children:[(null===o||void 0===o?void 0:o.userBookings)&&Object(r.jsx)(In,{dayData:n,calendarId:e,time:o.time,userBookings:o.userBookings,open:function(){return Y(o),void J(!0)}}),Object(r.jsx)(Yn,{onClick:function(){return function(n){I(Object(K.a)(Object(K.a)({},n),{},{year:t,month:i})),M(!0)}(Object(K.a)(Object(K.a)({},n),{},{time:o.time}))}}),Object(r.jsx)("span",{children:null!==(l=B(null===o||void 0===o?void 0:o.time))&&void 0!==l?l:""})]},a)}))},o)}))})]})]})}),Xn=function(n){var e,t=n.bookingId,o=Object(D.b)("api/booking/bookings",t,!t),a=o.isLoading,i=o.response;return a?"H\u013ead\xe1m...":Object(r.jsx)(c.a.Fragment,{children:null===i||void 0===i||null===(e=i.booking)||void 0===e?void 0:e.name})};function Qn(){var n=Object(j.a)(["\n    display: grid;\n    grid-template-columns: 10rem 1fr 1fr 20rem 1fr 10rem;\n    align-items: center;\n    margin-bottom: 1rem;\n    box-shadow: var(--container-shadow);\n    background-color: var(--container-background-color);\n"]);return Qn=function(){return n},n}function Zn(){var n=Object(j.a)(["\n    padding: 2rem;\n    text-align: center;\n"]);return Zn=function(){return n},n}function $n(){var n=Object(j.a)(["\n    display: grid;\n    align-content: center;\n    grid-template-columns: 10rem 1fr 1fr 20rem 1fr 10rem;\n\n    border-bottom: 1px solid var(--secondary-text-color);\n    font-weight: bolder;\n"]);return $n=function(){return n},n}var ne=f.c.div($n()),ee=f.c.div(Zn()),te=f.c.div(Qn()),re=function(n){var e,t=n.day;console.log(t);var o=Object(D.c)("api/admin/booking/userBookings/filter",{filters:{dueDate:t.bookingDate}}),c=o.response,i=o.isLoading,l=o.refetch;return Object(a.useEffect)((function(){l()}),[t]),i?Object(r.jsx)(Bn.a,{}):Object(r.jsxs)("div",{children:[Object(r.jsxs)(ne,{children:[Object(r.jsx)(ee,{children:"#"}),Object(r.jsx)(ee,{children:"Vy\u0161etrenie"}),Object(r.jsx)(ee,{children:"Meno"}),Object(r.jsx)(ee,{children:"D\xe1tum"}),Object(r.jsx)(ee,{children:"Pozn\xe1mka"}),Object(r.jsx)(ee,{children:"Mo\u017enosti"})]}),null===c||void 0===c||null===(e=c.userBookings)||void 0===e?void 0:e.map((function(n,e){var t=n.booking,o=n.name,a=n.dueDate,c=n.note;return Object(r.jsxs)(te,{children:[Object(r.jsx)(ee,{children:e+1}),Object(r.jsx)(ee,{children:Object(r.jsx)(Xn,{bookingId:t})}),Object(r.jsx)(ee,{children:o}),Object(r.jsx)(ee,{children:a}),Object(r.jsx)(ee,{children:c}),Object(r.jsx)(ee,{children:"Mo\u017enosti"})]},e)}))]})},oe=t(56);function ae(){var n=Object(j.a)(["\n    display: block;\n    margin: 0 auto;\n    background-color: var(--primary-color);\n    font-weight: bolder;\n"]);return ae=function(){return n},n}function ce(){var n=Object(j.a)(["\n    margin-bottom: 2rem;\n"]);return ce=function(){return n},n}function ie(){var n=Object(j.a)(["\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n\n"]);return ie=function(){return n},n}function le(){var n=Object(j.a)(["\n    width: 100%;\n    height: 100%;\n\n    position: fixed;\n    left: 0;\n    right: 0;\n    z-index: 99999;\n\n    border: none;\n    outline: none;\n    opacity: 0;\n\n    &:focus {\n        outline: none\n    }\n"]);return le=function(){return n},n}function ue(){var n=Object(j.a)(["\n    width:100%;\n    max-width: 50rem;\n    max-height: 60rem;\n\n    overflow-y: scroll;\n\n    /* display: flex;\n    flex-direction: column;\n    align-items: center; */\n\n    padding: 2rem;\n    border-radius: .5rem;\n    background-color: var(--background-primary-color);\n    color: var(--primary-text-color);\n\n    position: relative;\n    z-index: 999999;\n\n    ::-webkit-scrollbar {\n        width: 10px;\n    }\n\n    /* Track */\n    ::-webkit-scrollbar-track {\n        background:  var(--background-primary-color);\n    }\n\n    /* Handle */\n    ::-webkit-scrollbar-thumb {\n        background: var(--primary-color);\n    }\n\n    /* Handle on hover */\n    ::-webkit-scrollbar-thumb:hover {\n        background: var(--primary-color);\n    }\n"]);return ue=function(){return n},n}function de(){var n=Object(j.a)(["\n    position: fixed;\n    left: 0;\n    right: 0;\n    top: 0;\n    bottom: 0;\n    z-index: 99999;\n\n    display: flex;\n    align-items: center;\n    justify-content: center;\n\n    background-color: rgba(0,0,0,0.3);\n"]);return de=function(){return n},n}var se=f.c.div(de()),be=f.c.div(ue()),je=f.c.button(le()),fe=f.c.div(ie()),ve=f.c.div(ce()),me=Object(f.c)(v.a)(ae()),he=function(n){var e=n.close,t=n.calendarId,c=n.refetch,i=n.selectedBooking,l=Object(a.useContext)(R.BookingContext),u=l.createBooking,d=l.updateBooking,s=Object(D.b)("api/booking/bookings",i,!i),b=s.response,j=s.isLoading,f=Object(a.useState)({}),v=Object(o.a)(f,2),m=v[0],h=v[1],p=Object(a.useState)(!1),O=Object(o.a)(p,2),g=O[0],x=O[1],k=function(n){var e=n.target,t=e.name,r=e.value;if(""===r)return delete m[t],void h(Object(K.a)({},m));h((function(n){return Object(K.a)(Object(K.a)({},n),{},Object($.a)({},t,r))}))},y=function(){if(null===m||void 0===m?void 0:m.name){if(g){var n=Object(T.d)(m);console.log("BOOKING BEFORE UPDATE"),console.log(n),d(n,m._id)}else{var r=Object(K.a)(Object(K.a)({},m),{},{calendar:t});console.log("BOOKING BEFORE CREATE"),console.log(r),u(r)}c(),e()}};return Object(a.useEffect)((function(){j||(null===b||void 0===b?void 0:b.booking)&&(x(!0),h(null===b||void 0===b?void 0:b.booking))}),[i,j]),Object(a.useEffect)((function(){return function(){x(!1),h({})}}),[]),console.log(m),V.a.createPortal(Object(r.jsxs)(se,{children:[Object(r.jsx)(je,{onClick:e}),Object(r.jsxs)(be,{children:[Object(r.jsxs)(fe,{children:[!g&&Object(r.jsx)("h2",{children:"Nov\xe9 vy\u0161etrenie"}),g&&Object(r.jsx)("h2",{children:"Upravi\u0165 vy\u0161etrenie"}),Object(r.jsx)("div",{children:Object(r.jsx)(oe.a,{label:"Aktivn\xe9",isActive:(null===m||void 0===m?void 0:m.active)||!1,name:"active",handleClick:function(){return k({target:{name:"active",value:!(null===m||void 0===m?void 0:m.active)||!(null===m||void 0===m?void 0:m.active)}})}})})]}),Object(r.jsx)(ve,{children:Object(r.jsx)(nn.a,{label:"N\xe1zov vy\u0161etrenia*",name:"name",value:(null===m||void 0===m?void 0:m.name)||"",handleChange:k})}),Object(r.jsx)(ve,{children:Object(r.jsx)(nn.a,{label:"Cena",name:"price",value:(null===m||void 0===m?void 0:m.price)||"",handleChange:k})}),Object(r.jsx)(ve,{children:Object(r.jsx)(nn.a,{label:"\u010cas",name:"time",value:(null===m||void 0===m?void 0:m.time)||"",handleChange:k})}),Object(r.jsx)(ve,{children:Object(r.jsx)(en.a,{label:"Popis",rows:"5",name:"description",value:(null===m||void 0===m?void 0:m.description)||"",handleChange:k})}),!g&&Object(r.jsx)(me,{onClick:y,children:"Prida\u0165"}),g&&Object(r.jsx)(me,{onClick:y,children:"Ulo\u017ei\u0165"})]})]}),document.getElementById("portal"))};function pe(){var n=Object(j.a)(["\n    margin-left: 1rem;\n    opacity: .6;\n"]);return pe=function(){return n},n}function Oe(){var n=Object(j.a)(["\n    background-color: var(--primary-color);\n    font-weight: bolder;\n    font-size: 1.2rem;\n"]);return Oe=function(){return n},n}function ge(){var n=Object(j.a)(["\n    background-color: var(--color-red);\n    font-size: 1.2rem;\n    margin-left: 1rem;\n"]);return ge=function(){return n},n}function xe(){var n=Object(j.a)(["\n    display: flex;\n    justify-content: flex-end;\n"]);return xe=function(){return n},n}function ke(){var n=Object(j.a)(["\n    opacity: .8;\n    margin-bottom: 2rem;\n"]);return ke=function(){return n},n}function ye(){var n=Object(j.a)(["\n    font-size: 1.2rem;\n    color: ",";\n"]);return ye=function(){return n},n}function we(){var n=Object(j.a)(["\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    margin-bottom: 1rem;\n"]);return we=function(){return n},n}function Ce(){var n=Object(j.a)(["\n    padding: 2rem;\n    box-shadow: var(--container-shadow);\n    background-color: var(--container-background-color);\n    border-radius: .5rem;\n    margin-bottom: 3rem;\n"]);return Ce=function(){return n},n}function Se(){var n=Object(j.a)(["\n    background-color: var(--primary-color);\n    font-weight: bolder;\n"]);return Se=function(){return n},n}function De(){var n=Object(j.a)(["\n    display: flex;\n    justify-content: space-between;\n    align-items: center; \n    margin-bottom: 3rem;\n"]);return De=function(){return n},n}function ze(){var n=Object(j.a)(["\n    display: grid;\n    grid-template-columns: 1fr 1fr;\n    grid-gap: 3rem;\n    margin-bottom: 10rem;\n\n    @media all and (max-width: 1150px) {\n        grid-template-columns: 2fr 1fr;\n        @media all and (max-width: 800px) {\n            grid-template-columns: 3fr 1fr;\n            @media all and (max-width: 500px) {\n                grid-template-columns: 1fr;\n            }\n        }\n\n    }\n"]);return ze=function(){return n},n}var Ne=f.c.div(ze()),Be=f.c.div(De()),Ee=Object(f.c)(v.a)(Se()),Ae=f.c.div(Ce()),Ie=f.c.div(we()),Te=f.c.span(ye(),(function(n){return n.isActive?"var(--color-green)":"var(--color-red)"})),Pe=f.c.div(ke()),He=f.c.div(xe()),_e=Object(f.c)(v.a)(ge()),Me=Object(f.c)(v.a)(Oe()),Ue=f.c.div(pe()),Fe=function(n){var e,t,c,i,l=n.calendarId,d=Object(a.useContext)(u.a).isAdmin,s=Object(a.useContext)(R.BookingContext).deleteBooking,b=Object(D.b)("api/booking/calendars",l,!l),j=b.response,f=b.isLoading,v=b.refetch,m=Object(a.useState)(!1),h=Object(o.a)(m,2),p=h[0],O=h[1],g=Object(a.useState)(null),x=Object(o.a)(g,2),k=x[0],y=x[1];return f?Object(r.jsx)(Bn.a,{}):Object(r.jsxs)(Ne,{children:[p&&Object(r.jsx)(he,{selectedBooking:k,calendarId:l,close:function(){O(!1),y(null)},refetch:v}),Object(r.jsxs)("div",{children:[Object(r.jsxs)(Be,{children:[Object(r.jsx)("h3",{children:"Vy\u0161etrenia"}),d&&Object(r.jsx)(Ee,{onClick:function(){return O(!0)},children:"Prida\u0165"})]}),Object(r.jsxs)("div",{children:[null===j||void 0===j||null===(e=j.calendar)||void 0===e||null===(t=e.bookings)||void 0===t?void 0:t.map((function(n,e){return Object(r.jsxs)(Ae,{children:[Object(r.jsxs)(Ie,{children:[Object(r.jsxs)("div",{children:[Object(r.jsx)("h4",{children:n.name}),Object(r.jsx)(Te,{isActive:null===n||void 0===n?void 0:n.active,children:(null===n||void 0===n?void 0:n.active)?"Aktivn\xe9":"Neaktivn\xe9"})]}),Object(r.jsx)("div",{children:Object(r.jsxs)("p",{children:[n.price,"\u20ac"]})})]}),Object(r.jsx)(Pe,{children:Object(r.jsx)("p",{children:n.description})}),d&&Object(r.jsxs)(He,{children:[Object(r.jsx)(Me,{onClick:function(){return e=n._id,y(e),void O(!0);var e},children:"Upravi\u0165"}),Object(r.jsx)(_e,{onClick:function(){return e=n._id,s(e),void v();var e},children:"Vymaza\u0165"})]})]},e)})),!(null===j||void 0===j||null===(c=j.calendar)||void 0===c||null===(i=c.bookings)||void 0===i?void 0:i.length)&&Object(r.jsx)(Ue,{children:"\u017diadn\xe9 vy\u0161etrenia"})]})]})]})},Le=t(57),Ke=t(14);function Re(){var n=Object(j.a)(["\n    background-color: ",";\n    color: ",";\n    cursor: pointer;\n    padding: 0.5rem 2rem;\n\n    transition: all .3s ease-in-out;\n"]);return Re=function(){return n},n}function Je(){var n=Object(j.a)(["\n    display: flex;\n    align-items: center;\n\n    button {\n        cursor: pointer;\n        font-size: 2rem;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        color: var(--primary-color);\n\n    }\n\n    div {\n        text-align: center;\n        margin: 0 1rem;\n    }\n\n    p {\n        text-transform: capitalize;\n        margin: 0 1rem;\n    }\n"]);return Je=function(){return n},n}function Ve(){var n=Object(j.a)(["\n    display: flex; \n    justify-content: space-between;\n    align-items: center;\n\n    ul {\n        list-style: none;\n        display: flex;\n        /* gap: 2rem; */\n\n\n    }\n"]);return Ve=function(){return n},n}function Ge(){var n=Object(j.a)(["\n    display: flex;\n    justify-content:center;\n    align-items: center;\n    color: var(--primary-color);\n    font-size: 3rem;\n    margin-left: 1rem;\n"]);return Ge=function(){return n},n}function We(){var n=Object(j.a)(["\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    margin-bottom: 3rem;\n\n    div {\n        display: flex;\n        align-items: center;\n        cursor: pointer;\n    }\n"]);return We=function(){return n},n}function Ye(){var n=Object(j.a)(["\n    margin-top: 3rem;\n    margin-bottom: 3rem;\n"]);return Ye=function(){return n},n}function qe(){var n=Object(j.a)(["\n    display: grid;\n    grid-template-columns: repeat( auto-fit, minmax(27rem, 1fr) );\n    margin-bottom: 3rem;\n    grid-gap: 2rem;\n"]);return qe=function(){return n},n}function Xe(){var n=Object(j.a)(["\n    /* margin-bottom: 2rem; */\n"]);return Xe=function(){return n},n}function Qe(){var n=Object(j.a)(["\n    background-color: var(--primary-color);\n    font-weight: bolder;\n"]);return Qe=function(){return n},n}function Ze(){var n=Object(j.a)(["\n    ","\n    padding-top: 2rem;\n    padding-bottom: 3rem;\n    display: flex;\n    justify-content: space-between;\n    color: var(--primary-text-color);\n"]);return Ze=function(){return n},n}var $e=f.c.div(Ze(),Ke.e),nt=Object(f.c)(v.a)(Qe()),et=f.c.h2(Xe()),tt=f.c.div(qe()),rt=f.c.div(Ye()),ot=f.c.div(We()),at=f.c.div(Ge()),ct=f.c.div(Ve()),it=f.c.div(Je()),lt=f.c.li(Re(),(function(n){return n.isActive?"var(--primary-color)":"none"}),(function(n){return n.isActive?"var(--button-font-color)":"var(--primary-color)"}));e.default=function(){var n,e=Object(a.useContext)(u.a),t=e.isAdmin,j=e.currentUser,f=e.isOptometrist,v=Object(a.useContext)(l.a),m=v.showModal,h=v.setShowModal,p=v.message,O=v.closeModal,g=Object(i.h)().push,x=Object(a.useState)(!0),k=Object(o.a)(x,2),y=k[0],C=k[1],S=Object(a.useState)(0),z=Object(o.a)(S,2),N=z[0],B=z[1],E=Object(a.useState)(""),A=Object(o.a)(E,2),P=A[0],H=A[1],_=Object(a.useState)([]),M=Object(o.a)(_,2),U=M[0],F=M[1],K=Object(a.useState)(null),R=Object(o.a)(K,2),J=R[0],V=R[1],G=Object(a.useState)((new Date).getMonth()),W=Object(o.a)(G,2),Y=W[0],q=W[1],X=Object(a.useState)((new Date).getFullYear()),Q=Object(o.a)(X,2),Z=Q[0],$=Q[1],nn=Object(a.useState)(0),en=Object(o.a)(nn,2),tn=en[0],rn=en[1],on=Object(a.useState)(null),an=Object(o.a)(on,2),cn=an[0],ln=an[1],un=Object(D.a)("api/booking/calendars"),dn=un.isLoading,sn=un.response,bn=function(n){V(n),C(!1),jn()},jn=function(){q((new Date).getMonth()),$((new Date).getFullYear()),rn(Math.ceil((new Date).getDate()/7)-1),ln(null)},fn=function(n){console.log(n),rn(Math.ceil(n.dayNumber/7)-1),B(1)};return Object(a.useEffect)((function(){if(!dn&&sn){if(t)F(sn.calendars),h(!1);else{F(sn.calendars.filter((function(n){return n.premises===j.premises})));var n=sn.calendars.find((function(n){return n.premises===j.premises}));bn(n._id),h(!1)}O()}}),[dn]),Object(a.useEffect)((function(){return console.log("unmount"),function(){h(!0),C(!0),B(0),H(""),F([]),V(null),q((new Date).getMonth()),$((new Date).getFullYear()),rn(0),ln(null)}}),[]),console.log(U),console.log(J),Object(r.jsxs)("section",{children:[m&&Object(r.jsx)(b.a,{loading:dn,title:p,close:function(){return h(!1)}}),t&&Object(r.jsx)(d.a,{searchQuery:P,handleChange:function(n){return H(n.target.value)},handleAddButton:function(){return g("rezervacie/novy-kalendar")},title:"Rezerv\xe1cie"}),f&&!t&&Object(r.jsxs)($e,{children:[Object(r.jsx)("div",{children:Object(r.jsx)("h1",{children:"Rezerv\xe1cie"})}),Object(r.jsx)("div",{children:Object(r.jsx)(nt,{onClick:function(){return g("rezervacie/".concat(J))},children:"Upravi\u0165 kalend\xe1r"})})]}),Object(r.jsxs)(s.a,{children:[t&&Object(r.jsxs)(ot,{children:[Object(r.jsx)(et,{children:"Pobo\u010dky"}),Object(r.jsxs)("div",{onClick:function(){return C((function(n){return!n}))},children:[Object(r.jsx)("p",{children:null===(n=U.find((function(n){return n._id===J})))||void 0===n?void 0:n.name}),Object(r.jsx)(at,{children:y?Object(r.jsx)(Le.r,{}):Object(r.jsx)(Le.f,{})})]})]}),y&&Object(r.jsx)(tt,{children:U&&U.map((function(n,e){return Object(r.jsx)(w,{calendar:n,selectedCalendar:J,handleShowUpClick:function(){return bn(n._id)},handleUpdateClick:function(){return g("rezervacie/".concat(n._id))}},e)}))}),J&&Object(r.jsxs)(c.a.Fragment,{children:[Object(r.jsxs)(ct,{children:[Object(r.jsx)(et,{children:"Kalend\xe1r"}),0===N?Object(r.jsxs)(it,{children:[Object(r.jsx)("button",{onClick:function(){0===Y?($((function(n){return n-1})),q(11)):q((function(n){return n-1}))},children:Object(r.jsx)(Le.m,{})}),Object(r.jsx)("p",{children:T.o[Y]}),Object(r.jsx)("button",{onClick:function(){11===Y?($((function(n){return n+1})),q(0)):q((function(n){return n+1}))},children:Object(r.jsx)(Le.p,{})})]}):Object(r.jsxs)(it,{children:[Object(r.jsx)("button",{onClick:function(){rn(tn-1<0?0:function(n){return n-1})},children:Object(r.jsx)(Le.m,{})}),Object(r.jsxs)("div",{children:[Object(r.jsx)("p",{children:tn+1}),Object(r.jsx)("p",{children:T.o[Y]})]}),Object(r.jsx)("button",{onClick:function(){var n=new Date(Z,Y,0).getDate();console.log(7*tn),console.log(n),rn(7*(tn+1)>=n?0:function(n){return n+1})},children:Object(r.jsx)(Le.p,{})})]}),Object(r.jsx)("ul",{children:T.a.map((function(n,e){return Object(r.jsx)(lt,{isActive:N===e,onClick:function(){return B(e)},children:n},e)}))})]}),Object(r.jsx)(rt,{children:0===N?Object(r.jsx)(L,{calendar:J,month:Y,year:Z,handleCalendarBlockClick:fn}):Object(r.jsx)(I,{calendar:J,month:Y,year:Z,weekIndex:tn,handleCalendarBlockClick:fn,children:Object(r.jsx)(qn,{calendar:J,month:Y,year:Z,weekIndex:tn,handleCalendarBlockClick:fn})})}),Object(r.jsx)(Fe,{calendarId:J})]}),cn&&Object(r.jsx)(re,{day:cn})]})]})}},52:function(n,e,t){"use strict";var r=t(2),o=t(21),a=t(30),c=(t(1),t(5)),i=t(6);function l(){var n=Object(c.a)(["\n    position: relative;\n\n    /* margin: 45px 0; */\n\n    .form-input {\n        /* background: none; */\n        background-color: var(--input-background-color);\n        color: var(--input-color);\n        font-size: 1.5rem;\n        padding: 1rem .5rem 1rem 2rem;\n        display: block;\n        width: 100%;\n        border: none;\n        border-radius: .5rem;\n        /* border-bottom: 1px solid #000; */\n        margin: 2rem 0 0;\n        font-family: inherit;\n\n        &:focus {\n        outline: none;\n        }\n\n        &:focus ~ .form-input-label {\n            ","\n        }\n    }\n\n    input[type = 'password'] {\n        letter-spacing: 0.3em;\n    }\n\n    .form-input-label {\n        color: var(--input-color);\n        font-size: 1.4rem;\n        font-weight: normal;\n        position: absolute;\n        pointer-events: none;\n        left: 1.5rem;\n        top: 1rem;\n        transition: 300ms ease all;\n\n        &.shrink {\n            ","\n        }\n    }\n\n    @media all and (max-width: 500px) {\n        .form-input {\n            font-size: 1.4rem;\n        }\n        /* padding: 1rem .5rem 1rem 2rem; */\n    }\n"]);return l=function(){return n},n}function u(){var n=Object(c.a)(["\n    left: .5rem;\n    top: -14px;\n    font-size: 12px;\n    color: var(--input-color);\n"]);return u=function(){return n},n}var d=Object(i.b)(u()),s=i.c.div(l(),d,d);e.a=function(n){var e=n.handleChange,t=n.label,c=n.name,i=Object(a.a)(n,["handleChange","label","name"]);return Object(r.jsxs)(s,{children:[Object(r.jsx)("input",Object(o.a)({className:"form-input",name:c,onChange:e},i)),t?Object(r.jsx)("label",{htmlFor:c,className:"".concat(i.value.length?"shrink":""," form-input-label"),children:t}):null]})}},53:function(n,e,t){"use strict";t.d(e,"a",(function(){return l})),t.d(e,"c",(function(){return u})),t.d(e,"b",(function(){return d}));var r=t(7),o=t.n(r),a=t(12),c=t(10),i=t(1),l=function(n){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=Object(i.useState)(null),r=Object(c.a)(t,2),l=r[0],u=r[1],d=Object(i.useState)(null),s=Object(c.a)(d,2),b=s[0],j=s[1],f=Object(i.useState)(null),v=Object(c.a)(f,2),m=v[0],h=v[1],p=Object(i.useState)(!0),O=Object(c.a)(p,2),g=O[0],x=O[1],k=Object(i.useState)(0),y=Object(c.a)(k,2),w=y[0],C=y[1],S=function(){return C((function(n){return n+1}))};return Object(i.useEffect)((function(){(function(){var t=Object(a.a)(o.a.mark((function t(){var r,a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,t.next=5,fetch("".concat("http://195.110.58.166:8080","/").concat(n));case 5:return r=t.sent,t.next=8,r.json();case 8:a=t.sent,h(a.message),u(a),x(!1),t.next=19;break;case 14:t.prev=14,t.t0=t.catch(2),j(t.t0),x(!1),h("Nie\u010do sa pokazilo");case 19:case"end":return t.stop()}}),t,null,[[2,14]])})));return function(){return t.apply(this,arguments)}})()()}),[w]),{response:l,isLoading:g,error:b,message:m,refetch:S}},u=function(n,e){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=Object(i.useState)(null),l=Object(c.a)(r,2),u=l[0],d=l[1],s=Object(i.useState)(null),b=Object(c.a)(s,2),j=b[0],f=b[1],v=Object(i.useState)(!0),m=Object(c.a)(v,2),h=m[0],p=m[1],O=Object(i.useState)(0),g=Object(c.a)(O,2),x=g[0],k=g[1],y=function(){return k((function(n){return n+1}))},w=new Headers;w.append("auth-token",localStorage.getItem("mptkthtkn")),w.append("Content-Type","application/json");var C=JSON.stringify(e),S={method:"POST",headers:w,body:C,redirect:"follow"};return Object(i.useEffect)((function(){(function(){var e=Object(a.a)(o.a.mark((function e(){var r,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=2;break}return e.abrupt("return");case 2:return p(!0),e.prev=3,e.next=6,fetch("".concat("http://195.110.58.166:8080","/").concat(n),S);case 6:return r=e.sent,e.next=9,r.json();case 9:a=e.sent,d(a),p(!1),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(3),f(e.t0),p(!1);case 18:case"end":return e.stop()}}),e,null,[[3,14]])})));return function(){return e.apply(this,arguments)}})()()}),[x,n]),{response:u,isLoading:h,error:j,refetch:y}},d=function(n,e){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=Object(i.useState)(null),l=Object(c.a)(r,2),u=l[0],d=l[1],s=Object(i.useState)(null),b=Object(c.a)(s,2),j=b[0],f=b[1],v=Object(i.useState)(!0),m=Object(c.a)(v,2),h=m[0],p=m[1],O=Object(i.useState)(0),g=Object(c.a)(O,2),x=g[0],k=g[1],y=function(){return k((function(n){return n+1}))},w=new Headers;w.append("auth-token",localStorage.getItem("mptkthtkn")),w.append("Content-Type","application/json");var C={method:"GET",headers:w,redirect:"follow"};return Object(i.useEffect)((function(){(function(){var r=Object(a.a)(o.a.mark((function r(){var a,c;return o.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!t){r.next=2;break}return r.abrupt("return");case 2:return p(!0),r.prev=3,r.next=6,fetch("".concat("http://195.110.58.166:8080","/").concat(n,"/").concat(e),C);case 6:return a=r.sent,r.next=9,a.json();case 9:c=r.sent,d(c),p(!1),r.next=18;break;case 14:r.prev=14,r.t0=r.catch(3),f(r.t0),p(!1);case 18:case"end":return r.stop()}}),r,null,[[3,14]])})));return function(){return r.apply(this,arguments)}})()()}),[x,n,e]),{response:u,isLoading:h,error:j,refetch:y}}},54:function(n,e,t){"use strict";var r=t(2),o=(t(1),t(5)),a=t(6),c=t(14);function i(){var n=Object(o.a)(["\n    /* max-width: 115rem; */\n"]);return i=function(){return n},n}function l(){var n=Object(o.a)(["\n    width: 100%;\n    height: 100%;\n    /* height: 100%; */\n    overflow-y: scroll;\n    overflow-x: visible;\n    scroll-behavior: smooth;\n    ",";\n    padding-top: 1.5rem;\n    padding-bottom: 1.5rem;\n    color: var(--primary-text-color);\n\n\n\n\n    @media all and (max-width: 1150px) {\n        margin-bottom: 8rem;\n    }\n\n    ::-webkit-scrollbar {\n        width: 10px;\n    }\n\n    /* Track */\n    ::-webkit-scrollbar-track {\n        background:  var(--background-primary-color);\n    }\n\n    /* Handle */\n    ::-webkit-scrollbar-thumb {\n        background: var(--primary-color);\n    }\n\n    /* Handle on hover */\n    ::-webkit-scrollbar-thumb:hover {\n        background: var(--primary-color);\n    }\n"]);return l=function(){return n},n}var u=a.c.div(l(),c.e),d=a.c.div(i());e.a=function(n){var e=n.children;return Object(r.jsx)(u,{children:Object(r.jsx)(d,{children:e})})}},55:function(n,e,t){"use strict";t.d(e,"a",(function(){return a}));var r=t(22);var o=t(33);function a(n){return function(n){if(Array.isArray(n))return Object(r.a)(n)}(n)||function(n){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(n))return Array.from(n)}(n)||Object(o.a)(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},56:function(n,e,t){"use strict";var r=t(21),o=t(2),a=t(30),c=(t(1),t(5));function i(){var n=Object(c.a)(["\n    display: inline-block;\n    cursor: pointer;\n    font-size: 1.5rem;\n    font-weight: 700;\n    /* margin-right: 2rem; */\n    background-color: ",";\n    color: ",";\n    /* font-weight: ","; */\n    padding: .8rem 3rem;\n    border-radius: .2rem;\n    transition: all .2s ease-out;\n\n    @media all and (max-width: 500px) {\n        padding: 0.5rem 1.5rem;\n        font-size: 1.4rem;\n    }\n"]);return i=function(){return n},n}var l=t(6).c.div(i(),(function(n){return n.isActive?"var(--primary-color)":"var(--body-background-primary-color)"}),(function(n){return n.isActive?"var(--button-font-color)":"var(--secondary-text-color)"}),(function(n){return n.isActive?"border":"normal"}));e.a=function(n){var e=n.label,t=n.isActive,c=n.handleClick,i=Object(a.a)(n,["label","isActive","handleClick"]);return Object(o.jsx)(l,Object(r.a)(Object(r.a)({isActive:t,onClick:c},i),{},{children:e}))}},59:function(n,e,t){"use strict";var r=t(2),o=(t(1),t(52)),a=t(5),c=t(6),i=t(28),l=t(14);function u(){var n=Object(a.a)(["\n    margin-top: 2rem;\n    margin-left: 1rem;\n    background-color: var(--primary-color);\n    font-weight: bolder;\n"]);return u=function(){return n},n}function d(){var n=Object(a.a)(["\n    margin-top: 2rem;\n\n    margin-left: 2rem;\n"]);return d=function(){return n},n}function s(){var n=Object(a.a)(["\n    background-color: var(--color-red);\n    margin-left: 1.5rem;\n    color: var(--primary-text-color);\n    padding: .5rem 1rem;\n    border-radius: 1.5rem;\n    font-size: 1.4rem;\n"]);return s=function(){return n},n}function b(){var n=Object(a.a)(["\n    display: flex;\n    align-items: center;\n"]);return b=function(){return n},n}function j(){var n=Object(a.a)(["\n    margin-top: 2rem;\n\n    display: flex;\n    align-items: center;\n\n"]);return j=function(){return n},n}function f(){var n=Object(a.a)(["\n    display: flex;\n    color: var(--primary-text-color);\n    justify-content: space-between;\n    margin-bottom: 3rem;\n    ",";    \n\n    @media all and (max-width: 600px) {\n        flex-wrap: wrap;\n    }\n"]);return f=function(){return n},n}var v=c.c.div(f(),l.e),m=c.c.div(j()),h=c.c.div(b()),p=(c.c.div(s()),Object(c.c)(i.a)(d())),O=Object(c.c)(i.a)(u());e.a=function(n){var e=n.searchQuery,t=n.handleSearch,a=n.handleChange,c=n.title,i=(n.count,n.handleAddButton),l=void 0===i?function(){}:i;return Object(r.jsxs)(v,{children:[Object(r.jsx)(m,{children:Object(r.jsx)("h1",{children:c})}),Object(r.jsxs)(h,{children:[t&&Object(r.jsx)("div",{children:Object(r.jsx)(o.a,{type:"search",name:"searchbox",value:e,handleChange:a,onKeyPress:function(n){""!==e&&"Enter"===n.key&&t()},label:"Vyh\u013eada\u0165"})}),t&&Object(r.jsx)(p,{onClick:t,children:"Vyh\u013eada\u0165"}),Object(r.jsx)(O,{onClick:l,children:"Prida\u0165"})]})]})}},60:function(n,e,t){"use strict";var r=t(21),o=t(2),a=t(30),c=(t(1),t(5)),i=t(6),l=t(28),u=t(14);function d(){var n=Object(c.a)(["\n    transition: all 0.3s ease-out;\n    background-color: ",";\n    color: ",";\n    font-weight: ",";\n    padding: ",";\n    font-weight: ",";\n"]);return d=function(){return n},n}function s(){var n=Object(c.a)(["\n    margin-bottom: 3rem;\n    ","\n\n    ul {\n        display: flex;\n        list-style: none;\n\n        li {\n            margin-right: 1.5rem;\n        }\n    }\n"]);return s=function(){return n},n}var b=i.c.div(s(),u.e),j=Object(i.c)(l.a)(d(),(function(n){return n.active?"var(--primary-color)":"var(--background-primary-color)"}),(function(n){return n.active?"#fff":"var(--primary-text-color)"}),(function(n){return n.active?400:700}),(function(n){return n.active?".5rem 2.5rem":".5rem 1rem .5rem 0"}),(function(n){return n.active?"bolder":"normal"}));e.a=function(n){var e=n.items,t=n.activeIndex,c=n.setActiveIndex,i=Object(a.a)(n,["items","activeIndex","setActiveIndex"]);return Object(o.jsx)(b,Object(r.a)(Object(r.a)({},i),{},{children:Object(o.jsx)("ul",{children:e.map((function(n){return Object(o.jsx)("li",{children:Object(o.jsx)(j,{active:n.id===t,onClick:function(){return c(n.id)},children:n.name})},n.id)}))})}))}},63:function(n,e,t){"use strict";var r=t(2),o=t(21),a=t(30),c=(t(1),t(5)),i=t(6);function l(){var n=Object(c.a)(["\n    position: relative;\n    /* margin: 45px 0; */\n\n    .form-input {\n        background: none;\n        background-color: var(--input-background-color);\n        color: var(--input-color);\n\n        font-size: 1.5rem;\n        padding: .5rem .5rem .5rem 2rem;\n        display: block;\n        width: 100%;\n        border: none;\n        border-radius: .5rem;\n        /* border-bottom: 1px solid #000; */\n        margin: 25px 0;\n        font-family: inherit;\n        resize: none;\n\n        &:focus {\n        outline: none;\n        }\n\n        &:focus ~ .form-input-label {\n            ","\n        }\n    }\n\n    .form-input-label {\n        color: var(--input-color);\n        font-size: 1.4rem;\n        font-weight: normal;\n        position: absolute;\n        pointer-events: none;\n        left: 1.5rem;\n        top: .6rem;\n        transition: 300ms ease all;\n\n        &.shrink {\n            ","\n        }\n    }\n"]);return l=function(){return n},n}function u(){var n=Object(c.a)(["\n    left: .5rem;\n    top: -14px;\n    font-size: 12px;\n    color: var(--input-color);\n"]);return u=function(){return n},n}var d=Object(i.b)(u()),s=i.c.div(l(),d,d);e.a=function(n){var e=n.handleChange,t=n.label,c=n.name,i=Object(a.a)(n,["handleChange","label","name"]);return Object(r.jsxs)(s,{children:[Object(r.jsx)("textarea",Object(o.a)({className:"form-input",name:c,onChange:e},i)),t?Object(r.jsx)("label",{htmlFor:c,className:"".concat(i.value.length?"shrink":""," form-input-label"),children:t}):null]})}},67:function(n,e,t){"use strict";t.d(e,"b",(function(){return a})),t.d(e,"c",(function(){return c})),t.d(e,"o",(function(){return i})),t.d(e,"a",(function(){return l})),t.d(e,"n",(function(){return u})),t.d(e,"m",(function(){return d})),t.d(e,"l",(function(){return s})),t.d(e,"k",(function(){return b})),t.d(e,"f",(function(){return j})),t.d(e,"i",(function(){return f})),t.d(e,"j",(function(){return v})),t.d(e,"d",(function(){return m})),t.d(e,"h",(function(){return h})),t.d(e,"g",(function(){return p})),t.d(e,"e",(function(){return O}));var r=t(31),o=t(21),a=[{name:"00:00",value:"00/00"},{name:"00:30",value:"00/30"},{name:"01:00",value:"01/00"},{name:"01:30",value:"01/30"},{name:"02:00",value:"02/00"},{name:"02:30",value:"02/30"},{name:"03:00",value:"03/00"},{name:"03:30",value:"03/30"},{name:"04:00",value:"04/00"},{name:"04:30",value:"04/30"},{name:"05:00",value:"05/00"},{name:"05:30",value:"05/30"},{name:"06:00",value:"06/00"},{name:"06:30",value:"06/30"},{name:"07:00",value:"07/00"},{name:"07:30",value:"07/30"},{name:"08:00",value:"08/00"},{name:"08:30",value:"08/30"},{name:"09:00",value:"09/00"},{name:"09:30",value:"09/30"},{name:"10:00",value:"10/00"},{name:"10:30",value:"10/30"},{name:"11:00",value:"11/00"},{name:"11:30",value:"11/30"},{name:"12:00",value:"12/00"},{name:"12:30",value:"12/30"},{name:"13:00",value:"13/00"},{name:"13:30",value:"13/30"},{name:"14:00",value:"14/00"},{name:"14:30",value:"14/30"},{name:"15:00",value:"15/00"},{name:"15:30",value:"15/30"},{name:"16:00",value:"16/00"},{name:"16:30",value:"16/30"},{name:"17:00",value:"17/00"},{name:"17:30",value:"17/30"},{name:"18:00",value:"18/00"},{name:"18:30",value:"18/30"},{name:"19:00",value:"19/00"},{name:"19:30",value:"19/30"},{name:"20:00",value:"20/00"},{name:"20:30",value:"20/30"},{name:"21:00",value:"21/00"},{name:"22:30",value:"22/30"},{name:"23:00",value:"23/00"},{name:"23:30",value:"23/30"}],c=["Pondelok","Utorok","Streda","\u0160tvrtok","Piatok","Sobota","Nede\u013ea"],i=["janu\xe1r","febru\xe1r","marec","apr\xedl","m\xe1j","j\xfan","j\xfal","august","september","okt\xf3ber","november","december"],l=["Mesiac","T\xfd\u017eden"],u=function(n){for(var e=[],t=n;t>0;t--)e.push({dayNumber:t,isDisable:!0,isPrevDay:!0});return e},d=function(n){for(var e=[],t=1;t<=n;t++)e.push({dayNumber:t,isDisable:!0,isNextDay:!0});return e},s=function(n){for(var e=[],t=1;t<=n;t++)e.push({dayNumber:t});return e},b=function(n,e,t,r){if(!e.booked)return n;var o=Object.keys(null===e||void 0===e?void 0:e.booked).filter((function(n){var e=n.split("/"),o=!1;if(e.forEach((function(n){if(t===Number(e[1])-1&&r===Number(e[2]))return o=!0})),o)return n}));return n.map((function(n){var t={};return o.forEach((function(r){var a=r.split("/");return Number(a[0])===n.dayNumber?t={dayNumber:n.dayNumber,bookings:e.booked[r],bookingDate:o.find((function(n){return n===r}))}:t.bookings?void 0:t={dayNumber:n.dayNumber}})),t.bookings?t:{dayNumber:n.dayNumber}}))},j=function(n){var e=Object(o.a)({},n);return e.bookings&&delete e.bookings,void 0!==e.booked&&delete e.booked,void 0!==e.__v&&delete e.__v,e._id&&delete e._id,e.dateCreated&&delete e.dateCreated,e.exceptDays&&(e=Object(o.a)(Object(o.a)({},e),{},{exceptDays:v(e.exceptDays)})),e},f=function(n){return Object.keys(n).map((function(n){return n.split("/").reverse().join("-")}))},v=function(n){var e={};return n.map((function(n){return n.split("-").reverse().join("/")})).forEach((function(n){e=Object(o.a)(Object(o.a)({},e),{},Object(r.a)({},n,"00/00-23/59"))})),e},m=function(n){var e=Object(o.a)({},n);return e.rows&&delete e.rows,void 0!==e.__v&&delete e.__v,e._id&&delete e._id,e.dateCreated&&delete e.dateCreated,void 0!==e.timesBooked&&delete e.timesBooked,e.premises&&delete e.premises,e.calendar&&delete e.calendar,e},h=function(n){var e=null===n||void 0===n?void 0:n.date.split("-"),t="".concat(e[2],"/").concat(e[1],"/").concat(e[0]),r="".concat((null===n||void 0===n?void 0:n.hour)<10?"0".concat(null===n||void 0===n?void 0:n.hour):null===n||void 0===n?void 0:n.hour,"/").concat(0===(null===n||void 0===n?void 0:n.min)?"0".concat(null===n||void 0===n?void 0:n.min):null===n||void 0===n?void 0:n.min);return"".concat(r,":").concat(t)},p=function(n,e){var t=new Date(e.year,e.month,e.dayNumber).getDay();if(0===t&&(t=7),"X"!==n.startTimes[t-1])return n.startTimes[t-1].replace("/",":")},O=function(n,e){var t=new Date(e.year,e.month,e.dayNumber).getDay();if(0===t&&(t=7),"X"!==n.endTimes[t-1])return n.endTimes[t-1].replace("/",":")}},68:function(n,e,t){"use strict";t.r(e),t.d(e,"BookingContext",(function(){return s}));var r=t(2),o=t(7),a=t.n(o),c=t(12),i=t(1),l=t(19),u=t(18),d=t(3),s=Object(i.createContext)({createCalendar:function(){},updateCalendar:function(){},deleteCalendar:function(){},createBooking:function(){},updateBooking:function(){},deleteBooking:function(){},createUserBooking:function(){}});e.default=function(n){var e=n.children,t=Object(d.h)().push,o=Object(i.useContext)(u.a).token,b=Object(i.useContext)(l.a),j=b.getMessage,f=b.setIsLoading,v=b.setShowModal,m=b.closeModal,h=new Headers;h.append("auth-token",o),h.append("Content-Type","application/json");var p=function(){var n=Object(c.a)(a.a.mark((function n(e){var r,o,c,i;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return f(!0),v(!0),r=JSON.stringify(e),o={method:"POST",headers:h,body:r,redirect:"follow"},n.prev=4,n.next=7,fetch("".concat("http://195.110.58.166:8080","/api/admin/booking/calendars"),o);case 7:return c=n.sent,n.next=10,c.json();case 10:if(!(i=n.sent).calendar){n.next=16;break}return f(!1),m(),t("/dashboard/rezervacie"),n.abrupt("return");case 16:f(!1),j(i.messageSK),n.next=25;break;case 20:n.prev=20,n.t0=n.catch(4),console.log(n.t0),j("Nie\u010do sa pokazilo"),f(!1);case 25:case"end":return n.stop()}}),n,null,[[4,20]])})));return function(e){return n.apply(this,arguments)}}(),O=function(){var n=Object(c.a)(a.a.mark((function n(e,r){var o,c,i,l;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return f(!0),v(!0),o=JSON.stringify(e),c={method:"PATCH",headers:h,body:o,redirect:"follow"},n.prev=4,n.next=7,fetch("".concat("http://195.110.58.166:8080","/api/admin/booking/calendars/").concat(r),c);case 7:return i=n.sent,n.next=10,i.json();case 10:if(l=n.sent,console.log(l),!l.calendar){n.next=17;break}return f(!1),m(),t("/dashboard/rezervacie"),n.abrupt("return");case 17:f(!1),j(l.messageSK),n.next=26;break;case 21:n.prev=21,n.t0=n.catch(4),console.log(n.t0),j("Nie\u010do sa pokazilo"),f(!1);case 26:case"end":return n.stop()}}),n,null,[[4,21]])})));return function(e,t){return n.apply(this,arguments)}}(),g=function(){var n=Object(c.a)(a.a.mark((function n(e){var t,r,o;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return f(!0),v(!0),t={method:"DELETE",headers:h,redirect:"follow"},n.prev=3,n.next=6,fetch("".concat("http://195.110.58.166:8080","/api/admin/booking/calendars/").concat(e),t);case 6:return r=n.sent,n.next=9,r.json();case 9:o=n.sent,console.log(o),f(!1),j(o.messageSK),n.next=20;break;case 15:n.prev=15,n.t0=n.catch(3),console.log(n.t0),j("Nie\u010do sa pokazilo"),f(!1);case 20:case"end":return n.stop()}}),n,null,[[3,15]])})));return function(e){return n.apply(this,arguments)}}(),x=function(){var n=Object(c.a)(a.a.mark((function n(e){var t,r,o,c;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return f(!0),v(!0),t=JSON.stringify(e),r={method:"POST",headers:h,body:t,redirect:"follow"},n.prev=4,n.next=7,fetch("".concat("http://195.110.58.166:8080","/api/admin/booking/bookings"),r);case 7:return o=n.sent,n.next=10,o.json();case 10:if(c=n.sent,console.log(c),!c.booking){n.next=16;break}return f(!1),m(),n.abrupt("return");case 16:f(!1),j(c.messageSK),n.next=25;break;case 20:n.prev=20,n.t0=n.catch(4),console.log(n.t0),j("Nie\u010do sa pokazilo"),f(!1);case 25:case"end":return n.stop()}}),n,null,[[4,20]])})));return function(e){return n.apply(this,arguments)}}(),k=function(){var n=Object(c.a)(a.a.mark((function n(e,t){var r,o,c,i;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return f(!0),v(!0),r=JSON.stringify(e),o={method:"PATCH",headers:h,body:r,redirect:"follow"},n.prev=4,n.next=7,fetch("".concat("http://195.110.58.166:8080","/api/admin/booking/bookings/").concat(t),o);case 7:return c=n.sent,n.next=10,c.json();case 10:i=n.sent,console.log(i),f(!1),j(i.message),n.next=21;break;case 16:n.prev=16,n.t0=n.catch(4),console.log(n.t0),j("Nie\u010do sa pokazilo"),f(!1);case 21:case"end":return n.stop()}}),n,null,[[4,16]])})));return function(e,t){return n.apply(this,arguments)}}(),y=function(){var n=Object(c.a)(a.a.mark((function n(e){var t,r,o;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return f(!0),v(!0),t={method:"DELETE",headers:h,redirect:"follow"},n.prev=3,n.next=6,fetch("".concat("http://195.110.58.166:8080","/api/admin/booking/bookings/").concat(e),t);case 6:return r=n.sent,n.next=9,r.json();case 9:o=n.sent,console.log(o),f(!1),j(o.message),n.next=20;break;case 15:n.prev=15,n.t0=n.catch(3),console.log(n.t0),j("Nie\u010do sa pokazilo"),f(!1);case 20:case"end":return n.stop()}}),n,null,[[3,15]])})));return function(e){return n.apply(this,arguments)}}(),w=function(){var n=Object(c.a)(a.a.mark((function n(e,t,r,o){var c,i,l,u;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return f(!0),v(!0),c=JSON.stringify(e),i={method:"POST",headers:h,body:c,redirect:"follow"},n.prev=4,n.next=7,fetch("".concat("http://195.110.58.166:8080","/api/booking/userBookings"),i);case 7:return l=n.sent,n.next=10,l.json();case 10:u=n.sent,console.log("USERBOOKING RESPONSE"),console.log(u),u.userBooking&&(f(!1),t(),o(),m(),r()),f(!1),j(u.messageSK),n.next=23;break;case 18:n.prev=18,n.t0=n.catch(4),console.log(n.t0),j("Nie\u010do sa pokazilo"),f(!1);case 23:case"end":return n.stop()}}),n,null,[[4,18]])})));return function(e,t,r,o){return n.apply(this,arguments)}}();return Object(r.jsx)(s.Provider,{value:{createCalendar:p,updateCalendar:O,deleteCalendar:g,createBooking:x,updateBooking:k,deleteBooking:y,createUserBooking:w},children:e})}}}]);
//# sourceMappingURL=7.ff8a46dc.chunk.js.map