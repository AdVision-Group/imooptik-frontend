(this.webpackJsonpimooptik=this.webpackJsonpimooptik||[]).push([[13],{228:function(n,e,t){"use strict";t.r(e);var r=t(2),c=t(10),i=t(1),o=t.n(i),a=t(3),l=t(19),d=t(18),u=t(59),s=t(54),b=t(32),j=t(5),v=t(6),f=t(28);function m(){var n=Object(j.a)(["\n    margin-top: 2rem;\n    font-size: 1.4rem;\n    display: block;\n    margin-left: 2rem;;\n"]);return m=function(){return n},n}function O(){var n=Object(j.a)(["\n    margin-top: 2rem;\n    font-size: 1.4rem;\n    display: block;\n    background-color: ",";\n    font-weight: bolder;\n    color: ",";\n"]);return O=function(){return n},n}function h(){var n=Object(j.a)(["\n    display: flex;\n"]);return h=function(){return n},n}function g(){var n=Object(j.a)(["\n    padding: 2rem;\n    box-shadow: var(--container-shadow);\n    background-color: var(--container-background-color);\n\n    &:not(:last-child) {\n        /* margin-right: 2rem; */\n    }\n\n    h3  { \n        font-size: 1.8rem;\n    }\n\n    p {\n        font-size: 1.4rem;\n        opacity: .83;\n\n        span {\n            font-weight: bolder;\n        }\n    }\n"]);return g=function(){return n},n}var p=v.c.div(g()),x=v.c.div(h()),k=Object(v.c)(f.a)(O(),(function(n){return n.isActive?"var(--primary-color)":"var(--body-background-primary-color)"}),(function(n){return n.isActive?"var(--button-font-color)":"var(--primary-color)"})),y=Object(v.c)(f.a)(m()),w=function(n){var e=n.calendar,t=void 0===e?{}:e,c=n.selectedCalendar,i=void 0===c?null:c,o=n.handleShowUpClick,a=void 0===o?function(){}:o,l=n.handleUpdateClick,d=void 0===l?function(){}:l;return Object(r.jsxs)(p,{children:[Object(r.jsx)("h3",{children:null===t||void 0===t?void 0:t.name}),Object(r.jsxs)("p",{children:["Interval medzi vy\u0161etreniami: ",Object(r.jsxs)("span",{children:[null===t||void 0===t?void 0:t.interval,"min"]})]}),Object(r.jsxs)("p",{children:["Po\u010det min\xfat pred rezerv\xe1ciou: ",Object(r.jsxs)("span",{children:[null===t||void 0===t?void 0:t.allowMinutesBefore,"min"]})]}),Object(r.jsxs)("p",{children:["Ko\u013eko dn\xed dopredu sa da objedna\u0165: ",Object(r.jsx)("span",{children:null===t||void 0===t?void 0:t.daysIntoFuture})]}),Object(r.jsxs)(x,{children:[Object(r.jsx)(k,{isActive:i===(null===t||void 0===t?void 0:t._id),onClick:a,children:"Zobrazi\u0165"}),Object(r.jsx)(y,{onClick:d,children:"Upravi\u0165"})]})]})},C=t(55),D=t(30),z=t(53),B=function(n,e){if(NaN!==Number(n)){var t=n*e,r=Math.floor(t/60);return S(r,t%60)}},S=function(n,e){return n<10&&0===e?"0".concat(n,"/0").concat(e):n<10?"0".concat(n,"/").concat(e):0===e?"".concat(n,"/0").concat(e):"".concat(n,"/").concat(e)},E=function(n){if(n)return n.replace("/",":")},A=function(n,e,t,r,c){if(!(null===n||void 0===n?void 0:n.booked))return null;var i=Object.keys(null===n||void 0===n?void 0:n.booked).find((function(n){var e=n.split("/").map((function(n){return Number(n)}));if(e[0]===t&&e[1]===r+1&&e[2]===c)return n}));if(!i)return null;var o=B(e,n.interval),a=n.booked[i].find((function(n){return n===o}));return a?{time:a,date:n.booked[i],dueDate:"".concat(a,":").concat(i)}:null},I=Object(i.createContext)({getDayData:function(){},refetchWeekCalendar:function(){}}),N=function(n){var e=n.children,t=n.calendar,o=n.month,a=n.year,l=(Object(D.a)(n,["children","calendar","month","year"]),Object(z.b)("api/booking/calendars",t,!t)),d=l.response,u=l.isLoading,s=l.refetch,b=Object(i.useState)(null),j=Object(c.a)(b,2),v=j[0],f=j[1],m=Object(i.useState)(0),O=Object(c.a)(m,2),h=O[0],g=O[1];return Object(i.useEffect)((function(){u||(f(d.calendar),30===d.calendar.interval&&g(48),60===d.calendar.interval&&g(24))}),[u]),Object(i.useEffect)((function(){return function(){f(null)}}),[]),Object(r.jsx)(I.Provider,{value:{getDayData:function(n,e){if(v)return Object(C.a)(Array(h)).map((function(t,r){var c,i,l=null===(c=v.startTimes[e])||void 0===c?void 0:c.split("/").map((function(n){return Number(n)})),d=null===(i=v.endTimes[e])||void 0===i?void 0:i.split("/").map((function(n){return Number(n)})),u=B(r,v.interval),s=u.split("/").map((function(n){return Number(n)}));if(!(l[0]>s[0])&&!(d[0]<s[0])&&"X"!==v.startTimes[e]&&(d[0]!==s[0]||d[1]===s[1]||30!==s[1]))return{id:r,time:u,userBookings:A(v,r,n,o,a)}})).filter((function(n){return void 0!==n}))},refetchWeekCalendar:s},children:e})},P=t(67);function T(){var n=Object(j.a)(["\n    height: 8rem;\n    display: flex;\n    justify-content: space-between;\n    align-items: flex-end;\n    border: 1px solid rgba(0,0,0,.1);\n    padding: .6rem 1rem;\n\n    transition: all .15s;\n\n    p {\n        span {\n            width: 3rem;\n            height: 3rem;\n            display: flex;\n            justify-content: center;\n            align-items: center;\n            border-radius: 50%;\n            background-color: var(--body-background-primary-color);\n            color: var(--primary-color);\n            font-weight: bolder;\n            font-size: 1.5rem;\n        }\n    }\n\n    ",";\n\n\n\n"]);return T=function(){return n},n}function M(){var n=Object(j.a)(["\n    cursor: default;\n    height: 8rem;\n    background-color: var(--color-black);\n    color: var(--table-head-color);\n    display: flex;\n    align-items:center;\n    justify-content:center;\n    font-weight: 700;\n"]);return M=function(){return n},n}function H(){var n=Object(j.a)(["\n    width: 100%;\n    display: grid;\n    grid-template-columns: repeat(7, 1fr);\n    border: 1px solid rgba(0,0,0,.1);\n    min-width: 55rem;\n"]);return H=function(){return n},n}var F=v.c.div(H()),U=v.c.div(M()),L=v.c.div(T(),(function(n){return n.faded?"opacity: .6":"    \n        cursor: pointer;\n        &:hover {\n        background-color: var(--body-background-primary-color);\n        }\n    "})),_=function(n){var e=n.calendar,t=n.month,o=n.year,a=n.handleCalendarBlockClick;(new Date).setDate(1);var l=new Date(o,t+1,0).getDate(),d=new Date(o,t,0).getDate(),u=new Date(o,t,0).getDay(),s=7-new Date(o,t+1,0).getDay(),b=Object(z.b)("api/booking/calendars",e,!e),j=b.response,v=b.isLoading,f=b.refetch,m=Object(i.useState)([]),O=Object(c.a)(m,2),h=O[0],g=O[1],p=Object(i.useState)([]),x=Object(c.a)(p,2),k=x[0],y=x[1],w=Object(i.useState)([]),C=Object(c.a)(w,2),D=C[0],B=C[1];return Object(i.useEffect)((function(){f()}),[t]),Object(i.useEffect)((function(){e&&f()}),[e]),Object(i.useEffect)((function(){if(!v&&(null===j||void 0===j?void 0:j.calendar)){var n=Object(P.n)(u),e=Object(P.l)(l),r=Object(P.m)(s),c=Object(P.k)(e,j.calendar,t,o);g(n),y(c),B(r)}}),[v]),Object(r.jsxs)(F,{children:[P.c.map((function(n,e){return Object(r.jsx)(U,{children:n},e)})),h.map((function(n,e){return Object(r.jsxs)(L,{faded:!0,children:[Object(r.jsx)("p",{}),Object(r.jsx)("p",{children:d-e})]},e)})),k.map((function(n,e){var t=n.dayNumber,c=n.bookings;return Object(r.jsxs)(L,{onClick:function(){return a(n)},children:[Object(r.jsx)("p",{children:c&&Object(r.jsx)("span",{children:c.length})}),Object(r.jsx)("p",{children:t})]},e)})),D.map((function(n,e){return Object(r.jsxs)(L,{faded:!0,children:[Object(r.jsx)("p",{}),Object(r.jsx)("p",{children:e+1})]},e)}))]})},V=t(21),K=t(69),R=t(20),W=t.n(R),Y=t(34),q=t(56);function G(){var n=Object(j.a)(["\n    display: block;\n    background-color: var(--primary-color);\n    font-weight: bolder;\n"]);return G=function(){return n},n}function Z(){var n=Object(j.a)(["\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    margin-bottom: 2rem;\n"]);return Z=function(){return n},n}function J(){var n=Object(j.a)(["\n    padding: 1rem;\n    background-color: var(--body-background-primary-color);\n\n    h3 {\n        font-size: 1.3rem;\n        font-weight: lighter;\n        opacity: .8;\n        margin-bottom: .5rem;\n    }\n\n    p {\n        font-size: 1.8rem;\n        margin-left: 2rem;\n    }\n"]);return J=function(){return n},n}function Q(){var n=Object(j.a)(["\n    display: grid;\n    grid-template-columns: 1fr 1fr;\n    align-items: start;\n    grid-gap: 3rem;\n    margin-bottom: 3rem;\n\n"]);return Q=function(){return n},n}function X(){var n=Object(j.a)(["\n    width: 100%;\n    height: 100%;\n\n    position: fixed;\n    left: 0;\n    right: 0;\n    z-index: 99999;\n\n    border: none;\n    outline: none;\n    opacity: 0;\n\n    &:focus {\n        outline: none\n    }\n"]);return X=function(){return n},n}function $(){var n=Object(j.a)(["\n    width:100%;\n    max-width: 65rem;\n    max-height: 60rem;\n\n    overflow-y: scroll;\n\n    padding: 2rem;\n    border-radius: .5rem;\n    background-color: var(--background-primary-color);\n    color: var(--primary-text-color);\n\n    position: relative;\n    z-index: 999999; \n\n    h2{ \n        margin-bottom: 2rem;\n        /* text-align: center; */\n    }\n\n    ::-webkit-scrollbar {\n        width: 10px;\n    }\n\n    /* Track */\n    ::-webkit-scrollbar-track {\n        background:  var(--background-primary-color);\n    }\n\n    /* Handle */\n    ::-webkit-scrollbar-thumb {\n        background: var(--primary-color);\n    }\n\n    /* Handle on hover */\n    ::-webkit-scrollbar-thumb:hover {\n        background: var(--primary-color);\n    }\n"]);return $=function(){return n},n}function nn(){var n=Object(j.a)(["\n    position: fixed;\n    left: 0;\n    right: 0;\n    top: 0;\n    bottom: 0;\n    z-index: 99999;\n\n    display: flex;\n    align-items: center;\n    justify-content: center;\n\n    background-color: rgba(0,0,0,0.3);\n"]);return nn=function(){return n},n}var en=v.c.div(nn()),tn=v.c.div($()),rn=v.c.button(X()),cn=v.c.div(Q()),on=v.c.div(J()),an=v.c.div(Z()),ln=Object(v.c)(f.a)(G()),dn=function(n){var e,t,o,a,l=n.close,d=n.userBooking,u=n.calendarId,s=Object(z.c)("api/booking/calendars/".concat(u,"/dayInfo"),{date:null===d||void 0===d||null===(e=d.userBookings)||void 0===e?void 0:e.dueDate.split(":")[1]},!d),b=s.response,j=s.isLoading,v=Object(i.useState)(null),f=Object(c.a)(v,2),m=f[0],O=f[1];return Object(i.useEffect)((function(){if(!j&&b){var n=b.userBookings.find((function(n){return n.dueTime===d.userBookings.dueDate}));console.log(n),O(n)}}),[j]),console.log(m),W.a.createPortal(Object(r.jsxs)(en,{children:[Object(r.jsx)(rn,{onClick:l}),Object(r.jsxs)(tn,{children:[!m&&Object(r.jsx)(Y.a,{}),Object(r.jsx)("h2",{children:null===m||void 0===m||null===(t=m.booking)||void 0===t?void 0:t.name}),Object(r.jsxs)(an,{children:[Object(r.jsx)("h3",{children:"Inform\xe1cie:"}),Object(r.jsx)(ln,{children:"Zru\u0161i\u0165 rezerv\xe1ciu"})]}),Object(r.jsxs)(cn,{children:[Object(r.jsxs)(on,{children:[Object(r.jsx)("h3",{children:"Meno a priezvisko"}),Object(r.jsx)("p",{children:null===m||void 0===m?void 0:m.name})]}),Object(r.jsxs)(on,{children:[Object(r.jsx)("h3",{children:"Prevadzka"}),Object(r.jsx)("p",{children:q.d[null===m||void 0===m||null===(o=m.booking)||void 0===o?void 0:o.premises]})]}),Object(r.jsxs)(on,{children:[Object(r.jsx)("h3",{children:"Tel. \u010d\xedslo"}),Object(r.jsx)("p",{children:null===m||void 0===m?void 0:m.phone})]}),Object(r.jsxs)(on,{children:[Object(r.jsx)("h3",{children:"E-mail"}),Object(r.jsx)("p",{children:null===m||void 0===m?void 0:m.email})]}),Object(r.jsxs)(on,{children:[Object(r.jsx)("h3",{children:"D\xe1tum"}),Object(r.jsx)("p",{children:null===m||void 0===m?void 0:m.dueTime})]}),Object(r.jsxs)(on,{children:[Object(r.jsx)("h3",{children:"Zru\u0161en\xe9"}),Object(r.jsx)("p",{children:(null===m||void 0===m?void 0:m.canceled)?"Ano":"Nie"})]})]}),Object(r.jsxs)(on,{children:[Object(r.jsx)("h3",{children:"Popis"}),Object(r.jsx)("p",{children:null===m||void 0===m||null===(a=m.booking)||void 0===a?void 0:a.description})]})]})]}),document.getElementById("portal"))},un=t(31),sn=t(52),bn=t(63),jn=t(60);function vn(){var n=Object(j.a)(["\n    display: grid;\n    grid-template-columns: 2fr 1fr .4rem 1fr;\n    grid-gap: 1rem;\n\n    p {\n        align-self: center;\n    }\n"]);return vn=function(){return n},n}function fn(){var n=Object(j.a)(["\n    margin-top: 2rem;\n    /* min-width: 16.5rem; */\n    width: 100%;\n    background-color: var(--input-background-color);\n    color: var(--input-color);\n    border: none;\n    padding: .8rem .5rem .8rem .5rem;\n    font-size: inherit;\n    font-family: inherit;\n    display: block;\n\n    margin-bottom: 2rem;\n"]);return fn=function(){return n},n}function mn(){var n=Object(j.a)(["\n    padding: 2rem;\n    text-align: center;\n"]);return mn=function(){return n},n}function On(){var n=Object(j.a)(["\n    display: grid;\n    grid-template-columns: 1fr 1fr 1fr;\n\n    cursor: pointer;\n    align-content: center;\n    margin-bottom: 1rem;\n    box-shadow: var(--container-shadow);\n    background-color: var(--container-background-color);\n\n    transition: all .3s ease-out;\n\n    &:hover {\n        background-color: var(--primary-color); \n        font-weight: bolder;\n        color: var(--button-font-color);\n    }\n\n"]);return On=function(){return n},n}function hn(){var n=Object(j.a)(["\n    display: grid;\n    grid-template-columns: 1fr 1fr 1fr;\n"]);return hn=function(){return n},n}function gn(){var n=Object(j.a)(["\n    p {\n        text-align: center;\n        opacity: .6;\n    }\n        margin-bottom: 3rem;\n"]);return gn=function(){return n},n}function pn(){var n=Object(j.a)(["\n    button {\n        margin-top: 2rem;\n    }\n"]);return pn=function(){return n},n}function xn(){var n=Object(j.a)(["\n    ul {\n        justify-content: center;\n    }\n"]);return xn=function(){return n},n}function kn(){var n=Object(j.a)(["\n    display: block;\n    margin: 0 auto;\n    background-color: var(--primary-color);\n    font-weight: bolder;\n"]);return kn=function(){return n},n}function yn(){var n=Object(j.a)(["\n    width: 100%;\n    height: 100%;\n\n    position: fixed;\n    left: 0;\n    right: 0;\n    z-index: 99999;\n\n    border: none;\n    outline: none;\n    opacity: 0;\n\n    &:focus {\n        outline: none\n    }\n"]);return yn=function(){return n},n}function wn(){var n=Object(j.a)(["\n    width:100%;\n    max-width: 65rem;\n    max-height: 60rem;\n\n    overflow-y: scroll;\n\n    padding: 2rem;\n    border-radius: .5rem;\n    background-color: var(--background-primary-color);\n    color: var(--primary-text-color);\n\n    position: relative;\n    z-index: 999999;\n\n    h2{ \n        margin-bottom: 2rem;\n        text-align: center;\n    }\n\n    ::-webkit-scrollbar {\n        width: 10px;\n    }\n\n    /* Track */\n    ::-webkit-scrollbar-track {\n        background:  var(--background-primary-color);\n    }\n\n    /* Handle */\n    ::-webkit-scrollbar-thumb {\n        background: var(--primary-color);\n    }\n\n    /* Handle on hover */\n    ::-webkit-scrollbar-thumb:hover {\n        background: var(--primary-color);\n    }\n"]);return wn=function(){return n},n}function Cn(){var n=Object(j.a)(["\n    position: fixed;\n    left: 0;\n    right: 0;\n    top: 0;\n    bottom: 0;\n    z-index: 99999;\n\n    display: flex;\n    align-items: center;\n    justify-content: center;\n\n    background-color: rgba(0,0,0,0.3);\n"]);return Cn=function(){return n},n}var Dn=v.c.div(Cn()),zn=v.c.div(wn()),Bn=v.c.button(yn()),Sn=Object(v.c)(f.a)(kn()),En=Object(v.c)(jn.a)(xn()),An=v.c.div(pn()),In=v.c.div(gn()),Nn=v.c.div(hn()),Pn=v.c.div(On()),Tn=v.c.div(mn()),Mn=v.c.select(fn()),Hn=v.c.div(vn()),Fn=function(n){var e,t,a,l=n.refetchWeekCalendar,d=n.close,u=n.day,s=n.calendar,b=n.refetchCalendar,j=n.createUserBooking,v=Object(i.useState)(null),f=Object(c.a)(v,2),m=f[0],O=f[1],h=Object(i.useState)(0),g=Object(c.a)(h,2),p=g[0],x=g[1],k=Object(i.useState)({}),y=Object(c.a)(k,2),w=y[0],C=y[1],D=Object(i.useState)({date:"",hour:"",min:0}),B=Object(c.a)(D,2),S=B[0],E=B[1],A=Object(P.g)(s,u),I=Object(P.e)(s,u),N=Object(z.c)("api/admin/users/filter",m,!m),T=N.refetch,M=N.response,H=function(n){var e=n.target,t=e.name,r=e.value;if(""===r)return delete w[t],void C(Object(V.a)({},w));C((function(n){return Object(V.a)(Object(V.a)({},n),{},Object(un.a)({},t,r))}))},F=function(n){var e=n.target,t=e.name,r=e.value;E((function(n){return Object(V.a)(Object(V.a)({},n),{},Object(un.a)({},t,r))}))};return Object(i.useEffect)((function(){if(u){var n=u.time,e=u.dayNumber,t=u.month,r=u.year;console.log("DAY DATA"),console.log(u),E({date:"".concat(r,"-").concat(t<9?"0".concat(t+1):t+1,"-").concat(e<10?"0".concat(e):e),hour:Number(null===n||void 0===n?void 0:n.split("/")[0]),min:Number(null===n||void 0===n?void 0:n.split("/")[1])})}}),[u]),Object(i.useEffect)((function(){return function(){C({}),O(null),x(0)}}),[]),W.a.createPortal(Object(r.jsxs)(Dn,{children:[Object(r.jsx)(Bn,{onClick:d}),Object(r.jsxs)(zn,{children:[Object(r.jsx)("h2",{children:"Objedna\u0165 z\xe1kazn\xedka"}),Object(r.jsx)(En,{items:Un,activeIndex:p,setActiveIndex:x}),1===p?Object(r.jsxs)(An,{children:[Object(r.jsx)(sn.a,{label:"Meno, priezvisko, e-mail alebo tel. \u010d\xedslo",name:"query",value:m?null===m||void 0===m?void 0:m.query:"",handleChange:function(n){return O({limit:10,query:n.target.value})},onKeyPress:function(n){null!==m&&"Enter"===n.key&&T()}}),Object(r.jsx)(Sn,{onClick:function(){m&&T()},children:"H\u013eada\u0165"}),Object(r.jsxs)(In,{children:[Object(r.jsxs)(Nn,{children:[Object(r.jsx)(Tn,{children:"Meno"}),Object(r.jsx)(Tn,{children:"E-mail"}),Object(r.jsx)(Tn,{children:"Tel. \u010d\xedslo"})]}),(null===M||void 0===M?void 0:M.users)?null===M||void 0===M||null===(e=M.users)||void 0===e?void 0:e.map((function(n,e){var t=n.name,c=n.email,i=n.phone;return Object(r.jsxs)(Pn,{onClick:function(){return n={name:t,email:c,phone:i},C((function(e){return Object(V.a)(Object(V.a)({},e),n)})),x(0),void O(null);var n},children:[Object(r.jsx)(Tn,{children:t}),Object(r.jsx)(Tn,{children:c}),Object(r.jsx)(Tn,{children:i})]},e)})):Object(r.jsx)("div",{children:Object(r.jsx)("p",{children:"\u017diaden v\xfdsledok"})})]})]}):Object(r.jsxs)(o.a.Fragment,{children:[Object(r.jsxs)("div",{children:[Object(r.jsx)("h3",{children:"D\xe1tum vy\u0161etrenia"}),Object(r.jsxs)(Hn,{children:[Object(r.jsx)(sn.a,{label:"",type:"date",name:"date",handleChange:F,value:null===S||void 0===S?void 0:S.date}),Object(r.jsx)("div",{children:Object(r.jsx)(sn.a,{label:"\u010cas",type:"number",name:"hour",value:null===S||void 0===S||null===(t=S.hour)||void 0===t?void 0:t.toString(),min:null===A||void 0===A?void 0:A.split(":")[0],max:null===I||void 0===I?void 0:I.split(":")[0],handleChange:F,step:"1"})}),Object(r.jsx)("p",{children:":"}),Object(r.jsx)("div",{children:Object(r.jsxs)(Mn,{name:"min",value:null===S||void 0===S||null===(a=S.min)||void 0===a?void 0:a.toString(),onChange:F,children:[Object(r.jsx)("option",{value:0,children:"00"}),30===(null===s||void 0===s?void 0:s.interval)&&Object(r.jsx)("option",{value:30,children:"30"})]})})]})]}),Object(r.jsx)("div",{children:Object(r.jsx)(sn.a,{label:"Meno*",name:"name",value:(null===w||void 0===w?void 0:w.name)||"",handleChange:H})}),Object(r.jsx)("div",{children:Object(r.jsx)(sn.a,{label:"E-mail*",name:"email",value:(null===w||void 0===w?void 0:w.email)||"",handleChange:H})}),Object(r.jsx)("div",{children:Object(r.jsx)(sn.a,{label:"Tel. \u010d\xedslo*",name:"phone",value:(null===w||void 0===w?void 0:w.phone)||"",handleChange:H})}),Object(r.jsx)("div",{children:Object(r.jsx)(bn.a,{label:"Pozn\xe1mka",name:"note",rows:"5",value:(null===w||void 0===w?void 0:w.note)||"",handleChange:H})}),Object(r.jsxs)("div",{children:[Object(r.jsx)("h3",{children:"Vy\u0161etrenie"}),Object(r.jsxs)(Mn,{name:"booking",value:(null===w||void 0===w?void 0:w.booking)||"",onChange:H,children:[Object(r.jsx)("option",{value:"",children:"Nezvolen\xe9"}),null===s||void 0===s?void 0:s.bookings.map((function(n,e){if(!1!==n.active)return Object(r.jsx)("option",{value:n._id,children:n.name},e)}))]})]})]}),0===p&&Object(r.jsx)(Sn,{onClick:function(){var n=Object(V.a)(Object(V.a)({},w),{},{dueTime:Object(P.h)(S),values:{}});console.log("USER BOOKING BEFORE SEND"),console.log(n),j(n,b,d,l)},children:"Vytvori\u0165"})]})]}),document.getElementById("portal"))},Un=[{id:0,name:"Nov\xfd z\xe1kazn\xedk"},{id:1,name:"Vyhlada\u0165 z\xe1kazn\xedka"}];function Ln(){var n=Object(j.a)(["\n    cursor: pointer;\n    border: var(--appointment-container-border);\n    background-color: var(--appointment-container-background-color);\n    color: var(--appointment-container-text-color);\n    font-weight: bolder;\n    width: 100%;\n    height: 100%;\n    padding: .5rem;\n    position: absolute;\n    bottom: ",";\n    top: ",";\n    font-size: 1.2rem;\n    z-index: 99;\n\n    h4 {\n        width: 8rem;\n        white-space: nowrap;\n        overflow: hidden;\n        text-overflow: ellipsis;\n    }\n"]);return Ln=function(){return n},n}var _n=v.c.div(Ln(),(function(n){return n.isHalfHour?0:"unset"}),(function(n){return n.isHalfHour?"unset":0})),Vn=function(n){var e,t=n.dayData,a=n.calendarId,l=n.time,d=n.userBookings,u=n.open,s=Object(i.useState)(!1),b=Object(c.a)(s,2),j=b[0],v=b[1],f=Object(z.c)("api/booking/calendars/".concat(a,"/dayInfo"),{date:t.bookingDate},!d),m=f.response,O=f.isLoading,h=Object(i.useState)(null),g=Object(c.a)(h,2),p=g[0],x=g[1],k=Object(i.useState)(!1),y=Object(c.a)(k,2),w=y[0],C=y[1];return Object(i.useEffect)((function(){if(!O){var n=m.userBookings.find((function(n){return n.dueTime===d.dueDate}));d.dueDate===(null===n||void 0===n?void 0:n.dueTime)&&C(!0),x(n)}}),[O]),Object(i.useEffect)((function(){return function(){v(!1),C(!1)}}),[]),Object(r.jsx)(o.a.Fragment,{children:Object(r.jsx)(_n,{onClick:u,isHalfHour:j,children:w&&Object(r.jsxs)("div",{children:[Object(r.jsx)("h4",{children:p&&(null===p||void 0===p||null===(e=p.booking)||void 0===e?void 0:e.name)}),Object(r.jsx)("h5",{children:l})]})})})};function Kn(){var n=Object(j.a)(["\n    cursor: pointer;\n    border: var(--appointment-container-border);\n    background-color: var(--appointment-container-background-color);\n    color: var(--appointment-container-text-color);\n    font-weight: bolder;\n    width: 100%;\n    height: 50%;\n    padding: .5rem;\n    /* position: absolute; */\n\n"]);return Kn=function(){return n},n}function Rn(){var n=Object(j.a)(['\n    content: "";\n    position: relative;\n    /* position: absolute; */\n    /* width: 5rem; */\n    height: 100%;\n    /* top: 0;\n    left: 0;\n    bottom: 0;\n    right: 0; */\n    /* background-color: red; */\n']);return Rn=function(){return n},n}function Wn(){var n=Object(j.a)(["\n    cursor: pointer;\n    position: relative;\n    /* width: 15rem; */\n    height: 10rem;\n    border-bottom: var(--table-border);\n    background-color: var(--background-primary-color);\n\n\n    span {\n        display: none;\n    }\n"]);return Wn=function(){return n},n}function Yn(){var n=Object(j.a)(["\n    background-color: var(--body-background-primary-color);\n    /* border: var(--table-border); */\n \n    \n\n    &:nth-child(1) {\n        div {\n            span {\n                width: 6rem;\n                display: block;\n                opacity: .6;\n                position: absolute;\n                top: 0rem;\n                left: -5.8rem;\n                font-size: 1.4rem;\n                padding: .5rem 1rem .5rem .2rem;\n                border-radius: 9999rem;\n                text-align: end;\n                letter-spacing: .05rem;\n            }\n        }\n    }\n"]);return Yn=function(){return n},n}function qn(){var n=Object(j.a)(["\n    cursor: default;\n    height: 8rem;\n    background-color: var(--color-black);\n    color: var(--table-head-color);\n    display: flex;\n    flex-direction: column;\n    align-items:center;\n    justify-content:center;\n    font-weight: 700;\n\n    p:first-child {\n        font-weight: lighter;\n    }\n\n    /* background-color: red; */\n    ","\n"]);return qn=function(){return n},n}function Gn(){var n=Object(j.a)(["\n    display: grid;\n    grid-template-columns: repeat(7, 1fr);\n    background-color: var(--color-black);\n\n    /* border: var(--table-border); */\n    min-width: 55rem;\n    padding-left: 5rem;\n    padding-right: 1rem;\n\n"]);return Gn=function(){return n},n}function Zn(){var n=Object(j.a)(["\n    overflow-y: scroll;\n    /* overflow-x: auto; */\n    height: 60rem;\n    display: grid;\n    grid-template-columns: repeat(7, 1fr);\n    /* border: var(--table-border); */\n    min-width: 55rem;\n    padding-left: 5rem;\n\n\n   ::-webkit-scrollbar {\n        width: 1rem;\n    }\n\n    /* Track */\n    ::-webkit-scrollbar-track {\n        background:  var(--background-primary-color);\n    }\n\n    /* Handle */\n    ::-webkit-scrollbar-thumb {\n        background: var(--primary-color);\n    }\n\n    /* Handle on hover */\n    ::-webkit-scrollbar-thumb:hover {\n        background: var(--primary-color);\n    }\n"]);return Zn=function(){return n},n}function Jn(){var n=Object(j.a)(["\n    width: 100%;\n"]);return Jn=function(){return n},n}var Qn=v.c.div(Jn()),Xn=v.c.div(Zn()),$n=v.c.div(Gn()),ne=v.c.div(qn(),(function(n){return n.isDisabled?"\n        opacity: .6;\n    ":""})),ee=v.c.div(Yn()),te=v.c.div(Wn()),re=v.c.div(Rn()),ce=(v.c.div(Kn()),function(n){var e=n.calendar,t=n.year,a=n.month,l=n.weekIndex,d=(n.handleCalendarBlockClick,Object(i.useContext)(I)),u=d.getDayData,s=d.refetchWeekCalendar,b=Object(i.useContext)(K.BookingContext).createUserBooking,j=Object(z.b)("api/booking/calendars",e,!e),v=j.response,f=j.isLoading,m=j.refetch,O=new Date(t,a+1,0).getDate(),h=new Date(t,a,0).getDay(),g=new Date(t,a+1,0).getDay(),p=new Date(t,a,0).getDate(),x=7-g,k=Object(i.useState)([]),y=Object(c.a)(k,2),w=y[0],D=y[1],B=Object(i.useState)(null),S=Object(c.a)(B,2),A=S[0],N=S[1],T=Object(i.useState)(!1),M=Object(c.a)(T,2),H=M[0],F=M[1],U=Object(i.useState)(!1),L=Object(c.a)(U,2),_=L[0],R=L[1],W=Object(i.useState)(null),Y=Object(c.a)(W,2),q=Y[0],G=Y[1];return Object(i.useEffect)((function(){if(!f&&v.calendar){var n=Object(P.n)(h),e=Object(P.l)(O),r=Object(P.m)(x),c=Object(P.k)(e,v.calendar,a,t);D([].concat(Object(C.a)(n),Object(C.a)(c),Object(C.a)(r)))}}),[f]),Object(r.jsxs)("div",{children:[_&&Object(r.jsx)(dn,{calendarId:e,userBooking:q,close:function(){return R(!1)}}),H&&Object(r.jsx)(Fn,{refetchWeekCalendar:s,createUserBooking:b,refetchCalendar:m,calendar:null===v||void 0===v?void 0:v.calendar,day:A,close:function(){return F(!1)}}),Object(r.jsxs)(Qn,{children:[Object(r.jsx)($n,{children:w.slice(7*l,7*l+7).map((function(n,e){var c=n.dayNumber,i=n.isDisable,l=n.isPrevDay,d=n.isNextDay;return Object(r.jsx)(ne,{isDisabled:i,children:l?Object(r.jsxs)(o.a.Fragment,{children:[Object(r.jsx)("p",{children:P.c[new Date(t,a-1,p-c).getDay()]}),Object(r.jsx)("p",{children:p-(c-1)})]}):d?Object(r.jsxs)(o.a.Fragment,{children:[Object(r.jsx)("p",{children:P.c[new Date(t,a+1,c-1).getDay()]}),Object(r.jsxs)("p",{children:[c," "]})]}):Object(r.jsxs)(o.a.Fragment,{children:[Object(r.jsx)("p",{children:P.c[new Date(t,a,c-1).getDay()]}),Object(r.jsxs)("p",{children:[c," "]})]})},e)}))}),Object(r.jsx)(Xn,{children:w.slice(7*l,7*l+7).map((function(n,c){var i=u(null===n||void 0===n?void 0:n.dayNumber,c);return Object(r.jsx)(ee,{children:i&&i.map((function(c,i){var o,l;return Object(r.jsxs)(te,{style:60===(null===v||void 0===v||null===(o=v.calendar)||void 0===o?void 0:o.interval)?{height:"10rem"}:{height:"5rem"},children:[(null===c||void 0===c?void 0:c.userBookings)&&Object(r.jsx)(Vn,{dayData:n,calendarId:e,time:c.time,userBookings:c.userBookings,open:function(){return G(c),void R(!0)}}),Object(r.jsx)(re,{onClick:function(){return function(n){N(Object(V.a)(Object(V.a)({},n),{},{year:t,month:a})),F(!0)}(Object(V.a)(Object(V.a)({},n),{},{time:c.time}))}}),Object(r.jsx)("span",{children:null!==(l=E(null===c||void 0===c?void 0:c.time))&&void 0!==l?l:""})]},i)}))},c)}))})]})]})}),ie=function(n){var e,t=n.bookingId,c=Object(z.b)("api/booking/bookings",t,!t),i=c.isLoading,a=c.response;return i?"H\u013ead\xe1m...":Object(r.jsx)(o.a.Fragment,{children:null===a||void 0===a||null===(e=a.booking)||void 0===e?void 0:e.name})};function oe(){var n=Object(j.a)(["\n    display: grid;\n    grid-template-columns: 10rem 1fr 1fr 20rem 1fr 10rem;\n    align-items: center;\n    margin-bottom: 1rem;\n    box-shadow: var(--container-shadow);\n    background-color: var(--container-background-color);\n"]);return oe=function(){return n},n}function ae(){var n=Object(j.a)(["\n    padding: 2rem;\n    text-align: center;\n"]);return ae=function(){return n},n}function le(){var n=Object(j.a)(["\n    display: grid;\n    align-content: center;\n    grid-template-columns: 10rem 1fr 1fr 20rem 1fr 10rem;\n\n    border-bottom: 1px solid var(--secondary-text-color);\n    font-weight: bolder;\n"]);return le=function(){return n},n}var de=v.c.div(le()),ue=v.c.div(ae()),se=v.c.div(oe()),be=function(n){var e,t=n.day;console.log(t);var c=Object(z.c)("api/admin/booking/userBookings/filter",{filters:{dueDate:t.bookingDate}}),o=c.response,a=c.isLoading,l=c.refetch;return Object(i.useEffect)((function(){l()}),[t]),a?Object(r.jsx)(Y.a,{}):Object(r.jsxs)("div",{children:[Object(r.jsxs)(de,{children:[Object(r.jsx)(ue,{children:"#"}),Object(r.jsx)(ue,{children:"Vy\u0161etrenie"}),Object(r.jsx)(ue,{children:"Meno"}),Object(r.jsx)(ue,{children:"D\xe1tum"}),Object(r.jsx)(ue,{children:"Pozn\xe1mka"}),Object(r.jsx)(ue,{children:"Mo\u017enosti"})]}),null===o||void 0===o||null===(e=o.userBookings)||void 0===e?void 0:e.map((function(n,e){var t=n.booking,c=n.name,i=n.dueDate,o=n.note;return Object(r.jsxs)(se,{children:[Object(r.jsx)(ue,{children:e+1}),Object(r.jsx)(ue,{children:Object(r.jsx)(ie,{bookingId:t})}),Object(r.jsx)(ue,{children:c}),Object(r.jsx)(ue,{children:i}),Object(r.jsx)(ue,{children:o}),Object(r.jsx)(ue,{children:"Mo\u017enosti"})]},e)}))]})},je=t(57);function ve(){var n=Object(j.a)(["\n    display: block;\n    margin: 0 auto;\n    background-color: var(--primary-color);\n    font-weight: bolder;\n"]);return ve=function(){return n},n}function fe(){var n=Object(j.a)(["\n    margin-bottom: 2rem;\n"]);return fe=function(){return n},n}function me(){var n=Object(j.a)(["\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n\n"]);return me=function(){return n},n}function Oe(){var n=Object(j.a)(["\n    width: 100%;\n    height: 100%;\n\n    position: fixed;\n    left: 0;\n    right: 0;\n    z-index: 99999;\n\n    border: none;\n    outline: none;\n    opacity: 0;\n\n    &:focus {\n        outline: none\n    }\n"]);return Oe=function(){return n},n}function he(){var n=Object(j.a)(["\n    width:100%;\n    max-width: 50rem;\n    max-height: 60rem;\n\n    overflow-y: scroll;\n\n    /* display: flex;\n    flex-direction: column;\n    align-items: center; */\n\n    padding: 2rem;\n    border-radius: .5rem;\n    background-color: var(--background-primary-color);\n    color: var(--primary-text-color);\n\n    position: relative;\n    z-index: 999999;\n\n    ::-webkit-scrollbar {\n        width: 10px;\n    }\n\n    /* Track */\n    ::-webkit-scrollbar-track {\n        background:  var(--background-primary-color);\n    }\n\n    /* Handle */\n    ::-webkit-scrollbar-thumb {\n        background: var(--primary-color);\n    }\n\n    /* Handle on hover */\n    ::-webkit-scrollbar-thumb:hover {\n        background: var(--primary-color);\n    }\n"]);return he=function(){return n},n}function ge(){var n=Object(j.a)(["\n    position: fixed;\n    left: 0;\n    right: 0;\n    top: 0;\n    bottom: 0;\n    z-index: 99999;\n\n    display: flex;\n    align-items: center;\n    justify-content: center;\n\n    background-color: rgba(0,0,0,0.3);\n"]);return ge=function(){return n},n}var pe=v.c.div(ge()),xe=v.c.div(he()),ke=v.c.button(Oe()),ye=v.c.div(me()),we=v.c.div(fe()),Ce=Object(v.c)(f.a)(ve()),De=function(n){var e=n.close,t=n.calendarId,o=n.refetch,a=n.selectedBooking,l=Object(i.useContext)(K.BookingContext),d=l.createBooking,u=l.updateBooking,s=Object(z.b)("api/booking/bookings",a,!a),b=s.response,j=s.isLoading,v=Object(i.useState)({}),f=Object(c.a)(v,2),m=f[0],O=f[1],h=Object(i.useState)(!1),g=Object(c.a)(h,2),p=g[0],x=g[1],k=function(n){var e=n.target,t=e.name,r=e.value;if(""===r)return delete m[t],void O(Object(V.a)({},m));O((function(n){return Object(V.a)(Object(V.a)({},n),{},Object(un.a)({},t,r))}))},y=function(){if(null===m||void 0===m?void 0:m.name){if(p){var n=Object(P.d)(m);console.log("BOOKING BEFORE UPDATE"),console.log(n),u(n,m._id)}else{var r=Object(V.a)(Object(V.a)({},m),{},{calendar:t});console.log("BOOKING BEFORE CREATE"),console.log(r),d(r)}o(),e()}};return Object(i.useEffect)((function(){j||(null===b||void 0===b?void 0:b.booking)&&(x(!0),O(null===b||void 0===b?void 0:b.booking))}),[a,j]),Object(i.useEffect)((function(){return function(){x(!1),O({})}}),[]),console.log(m),W.a.createPortal(Object(r.jsxs)(pe,{children:[Object(r.jsx)(ke,{onClick:e}),Object(r.jsxs)(xe,{children:[Object(r.jsxs)(ye,{children:[!p&&Object(r.jsx)("h2",{children:"Nov\xe9 vy\u0161etrenie"}),p&&Object(r.jsx)("h2",{children:"Upravi\u0165 vy\u0161etrenie"}),Object(r.jsx)("div",{children:Object(r.jsx)(je.a,{label:"Aktivn\xe9",isActive:(null===m||void 0===m?void 0:m.active)||!1,name:"active",handleClick:function(){return k({target:{name:"active",value:!(null===m||void 0===m?void 0:m.active)||!(null===m||void 0===m?void 0:m.active)}})}})})]}),Object(r.jsx)(we,{children:Object(r.jsx)(sn.a,{label:"N\xe1zov vy\u0161etrenia*",name:"name",value:(null===m||void 0===m?void 0:m.name)||"",handleChange:k})}),Object(r.jsx)(we,{children:Object(r.jsx)(sn.a,{label:"Cena",name:"price",value:(null===m||void 0===m?void 0:m.price)||"",handleChange:k})}),Object(r.jsx)(we,{children:Object(r.jsx)(sn.a,{label:"\u010cas",name:"time",value:(null===m||void 0===m?void 0:m.time)||"",handleChange:k})}),Object(r.jsx)(we,{children:Object(r.jsx)(bn.a,{label:"Popis",rows:"5",name:"description",value:(null===m||void 0===m?void 0:m.description)||"",handleChange:k})}),!p&&Object(r.jsx)(Ce,{onClick:y,children:"Prida\u0165"}),p&&Object(r.jsx)(Ce,{onClick:y,children:"Ulo\u017ei\u0165"})]})]}),document.getElementById("portal"))};function ze(){var n=Object(j.a)(["\n    margin-left: 1rem;\n    opacity: .6;\n"]);return ze=function(){return n},n}function Be(){var n=Object(j.a)(["\n    background-color: var(--primary-color);\n    font-weight: bolder;\n    font-size: 1.2rem;\n"]);return Be=function(){return n},n}function Se(){var n=Object(j.a)(["\n    background-color: var(--color-red);\n    font-size: 1.2rem;\n    margin-left: 1rem;\n"]);return Se=function(){return n},n}function Ee(){var n=Object(j.a)(["\n    display: flex;\n    justify-content: flex-end;\n"]);return Ee=function(){return n},n}function Ae(){var n=Object(j.a)(["\n    opacity: .8;\n    margin-bottom: 2rem;\n"]);return Ae=function(){return n},n}function Ie(){var n=Object(j.a)(["\n    font-size: 1.2rem;\n    color: ",";\n"]);return Ie=function(){return n},n}function Ne(){var n=Object(j.a)(["\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    margin-bottom: 1rem;\n"]);return Ne=function(){return n},n}function Pe(){var n=Object(j.a)(["\n    padding: 2rem;\n    box-shadow: var(--container-shadow);\n    background-color: var(--container-background-color);\n    border-radius: .5rem;\n    margin-bottom: 3rem;\n"]);return Pe=function(){return n},n}function Te(){var n=Object(j.a)(["\n    background-color: var(--primary-color);\n    font-weight: bolder;\n"]);return Te=function(){return n},n}function Me(){var n=Object(j.a)(["\n    display: flex;\n    justify-content: space-between;\n    align-items: center; \n    margin-bottom: 3rem;\n"]);return Me=function(){return n},n}function He(){var n=Object(j.a)(["\n    display: grid;\n    grid-template-columns: 1fr 1fr;\n    grid-gap: 3rem;\n    margin-bottom: 10rem;\n\n    @media all and (max-width: 1150px) {\n        grid-template-columns: 2fr 1fr;\n        @media all and (max-width: 800px) {\n            grid-template-columns: 3fr 1fr;\n            @media all and (max-width: 500px) {\n                grid-template-columns: 1fr;\n            }\n        }\n\n    }\n"]);return He=function(){return n},n}var Fe=v.c.div(He()),Ue=v.c.div(Me()),Le=Object(v.c)(f.a)(Te()),_e=v.c.div(Pe()),Ve=v.c.div(Ne()),Ke=v.c.span(Ie(),(function(n){return n.isActive?"var(--color-green)":"var(--color-red)"})),Re=v.c.div(Ae()),We=v.c.div(Ee()),Ye=Object(v.c)(f.a)(Se()),qe=Object(v.c)(f.a)(Be()),Ge=v.c.div(ze()),Ze=function(n){var e,t,o,a,l=n.calendarId,u=Object(i.useContext)(d.a).isAdmin,s=Object(i.useContext)(K.BookingContext).deleteBooking,b=Object(z.b)("api/booking/calendars",l,!l),j=b.response,v=b.isLoading,f=b.refetch,m=Object(i.useState)(!1),O=Object(c.a)(m,2),h=O[0],g=O[1],p=Object(i.useState)(null),x=Object(c.a)(p,2),k=x[0],y=x[1];return v?Object(r.jsx)(Y.a,{}):Object(r.jsxs)(Fe,{children:[h&&Object(r.jsx)(De,{selectedBooking:k,calendarId:l,close:function(){g(!1),y(null)},refetch:f}),Object(r.jsxs)("div",{children:[Object(r.jsxs)(Ue,{children:[Object(r.jsx)("h3",{children:"Vy\u0161etrenia"}),u&&Object(r.jsx)(Le,{onClick:function(){return g(!0)},children:"Prida\u0165"})]}),Object(r.jsxs)("div",{children:[null===j||void 0===j||null===(e=j.calendar)||void 0===e||null===(t=e.bookings)||void 0===t?void 0:t.map((function(n,e){return Object(r.jsxs)(_e,{children:[Object(r.jsxs)(Ve,{children:[Object(r.jsxs)("div",{children:[Object(r.jsx)("h4",{children:n.name}),Object(r.jsx)(Ke,{isActive:null===n||void 0===n?void 0:n.active,children:(null===n||void 0===n?void 0:n.active)?"Aktivn\xe9":"Neaktivn\xe9"})]}),Object(r.jsx)("div",{children:Object(r.jsxs)("p",{children:[n.price,"\u20ac"]})})]}),Object(r.jsx)(Re,{children:Object(r.jsx)("p",{children:n.description})}),u&&Object(r.jsxs)(We,{children:[Object(r.jsx)(qe,{onClick:function(){return e=n._id,y(e),void g(!0);var e},children:"Upravi\u0165"}),Object(r.jsx)(Ye,{onClick:function(){return e=n._id,s(e),void f();var e},children:"Vymaza\u0165"})]})]},e)})),!(null===j||void 0===j||null===(o=j.calendar)||void 0===o||null===(a=o.bookings)||void 0===a?void 0:a.length)&&Object(r.jsx)(Ge,{children:"\u017diadn\xe9 vy\u0161etrenia"})]})]})]})},Je=t(58),Qe=t(14);function Xe(){var n=Object(j.a)(["\n    background-color: ",";\n    color: ",";\n    cursor: pointer;\n    padding: 0.5rem 2rem;\n\n    transition: all .3s ease-in-out;\n"]);return Xe=function(){return n},n}function $e(){var n=Object(j.a)(["\n    display: flex;\n    align-items: center;\n\n    button {\n        cursor: pointer;\n        font-size: 2rem;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        color: var(--primary-color);\n\n    }\n\n    div {\n        text-align: center;\n        margin: 0 1rem;\n    }\n\n    p {\n        text-transform: capitalize;\n        margin: 0 1rem;\n    }\n"]);return $e=function(){return n},n}function nt(){var n=Object(j.a)(["\n    display: flex; \n    justify-content: space-between;\n    align-items: center;\n\n    ul {\n        list-style: none;\n        display: flex;\n        /* gap: 2rem; */\n\n\n    }\n"]);return nt=function(){return n},n}function et(){var n=Object(j.a)(["\n    display: flex;\n    justify-content:center;\n    align-items: center;\n    color: var(--primary-color);\n    font-size: 3rem;\n    margin-left: 1rem;\n"]);return et=function(){return n},n}function tt(){var n=Object(j.a)(["\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    margin-bottom: 3rem;\n\n    div {\n        display: flex;\n        align-items: center;\n        cursor: pointer;\n    }\n"]);return tt=function(){return n},n}function rt(){var n=Object(j.a)(["\n    margin-top: 3rem;\n    margin-bottom: 3rem;\n"]);return rt=function(){return n},n}function ct(){var n=Object(j.a)(["\n    display: grid;\n    grid-template-columns: repeat( auto-fit, minmax(27rem, 1fr) );\n    margin-bottom: 3rem;\n    grid-gap: 2rem;\n"]);return ct=function(){return n},n}function it(){var n=Object(j.a)(["\n    /* margin-bottom: 2rem; */\n"]);return it=function(){return n},n}function ot(){var n=Object(j.a)(["\n    background-color: var(--primary-color);\n    font-weight: bolder;\n"]);return ot=function(){return n},n}function at(){var n=Object(j.a)(["\n    ","\n    padding-top: 2rem;\n    padding-bottom: 3rem;\n    display: flex;\n    justify-content: space-between;\n    color: var(--primary-text-color);\n"]);return at=function(){return n},n}var lt=v.c.div(at(),Qe.e),dt=Object(v.c)(f.a)(ot()),ut=v.c.h2(it()),st=v.c.div(ct()),bt=v.c.div(rt()),jt=v.c.div(tt()),vt=v.c.div(et()),ft=v.c.div(nt()),mt=v.c.div($e()),Ot=v.c.li(Xe(),(function(n){return n.isActive?"var(--primary-color)":"none"}),(function(n){return n.isActive?"var(--button-font-color)":"var(--primary-color)"}));e.default=function(){var n,e=Object(i.useContext)(d.a),t=e.isAdmin,j=e.currentUser,v=e.isOptometrist,f=Object(i.useContext)(l.a),m=f.showModal,O=f.setShowModal,h=f.message,g=f.closeModal,p=Object(a.h)().push,x=Object(i.useState)(!0),k=Object(c.a)(x,2),y=k[0],C=k[1],D=Object(i.useState)(0),B=Object(c.a)(D,2),S=B[0],E=B[1],A=Object(i.useState)(""),I=Object(c.a)(A,2),T=I[0],M=I[1],H=Object(i.useState)([]),F=Object(c.a)(H,2),U=F[0],L=F[1],V=Object(i.useState)(null),K=Object(c.a)(V,2),R=K[0],W=K[1],Y=Object(i.useState)((new Date).getMonth()),q=Object(c.a)(Y,2),G=q[0],Z=q[1],J=Object(i.useState)((new Date).getFullYear()),Q=Object(c.a)(J,2),X=Q[0],$=Q[1],nn=Object(i.useState)(0),en=Object(c.a)(nn,2),tn=en[0],rn=en[1],cn=Object(i.useState)(null),on=Object(c.a)(cn,2),an=on[0],ln=on[1],dn=Object(z.a)("api/booking/calendars"),un=dn.isLoading,sn=dn.response,bn=function(n){W(n),C(!1),jn()},jn=function(){Z((new Date).getMonth()),$((new Date).getFullYear()),rn(Math.ceil((new Date).getDate()/7)-1),ln(null)},vn=function(n){console.log(n),rn(Math.ceil(n.dayNumber/7)-1),E(1)};return Object(i.useEffect)((function(){if(!un&&sn){if(t)L(sn.calendars),O(!1);else{L(sn.calendars.filter((function(n){return n.premises===j.premises})));var n=sn.calendars.find((function(n){return n.premises===j.premises}));bn(n._id),O(!1)}g()}}),[un]),Object(i.useEffect)((function(){return console.log("unmount"),function(){O(!0),C(!0),E(0),M(""),L([]),W(null),Z((new Date).getMonth()),$((new Date).getFullYear()),rn(0),ln(null)}}),[]),console.log(U),console.log(R),Object(r.jsxs)("section",{children:[m&&Object(r.jsx)(b.a,{loading:un,title:h,close:function(){return O(!1)}}),t&&Object(r.jsx)(u.a,{searchQuery:T,handleChange:function(n){return M(n.target.value)},handleAddButton:function(){return p("rezervacie/novy-kalendar")},title:"Rezerv\xe1cie"}),v&&!t&&Object(r.jsxs)(lt,{children:[Object(r.jsx)("div",{children:Object(r.jsx)("h1",{children:"Rezerv\xe1cie"})}),Object(r.jsx)("div",{children:Object(r.jsx)(dt,{onClick:function(){return p("rezervacie/".concat(R))},children:"Upravi\u0165 kalend\xe1r"})})]}),Object(r.jsxs)(s.a,{children:[t&&Object(r.jsxs)(jt,{children:[Object(r.jsx)(ut,{children:"Pobo\u010dky"}),Object(r.jsxs)("div",{onClick:function(){return C((function(n){return!n}))},children:[Object(r.jsx)("p",{children:null===(n=U.find((function(n){return n._id===R})))||void 0===n?void 0:n.name}),Object(r.jsx)(vt,{children:y?Object(r.jsx)(Je.r,{}):Object(r.jsx)(Je.f,{})})]})]}),y&&Object(r.jsx)(st,{children:U&&U.map((function(n,e){return Object(r.jsx)(w,{calendar:n,selectedCalendar:R,handleShowUpClick:function(){return bn(n._id)},handleUpdateClick:function(){return p("rezervacie/".concat(n._id))}},e)}))}),R&&Object(r.jsxs)(o.a.Fragment,{children:[Object(r.jsxs)(ft,{children:[Object(r.jsx)(ut,{children:"Kalend\xe1r"}),0===S?Object(r.jsxs)(mt,{children:[Object(r.jsx)("button",{onClick:function(){0===G?($((function(n){return n-1})),Z(11)):Z((function(n){return n-1}))},children:Object(r.jsx)(Je.m,{})}),Object(r.jsx)("p",{children:P.o[G]}),Object(r.jsx)("button",{onClick:function(){11===G?($((function(n){return n+1})),Z(0)):Z((function(n){return n+1}))},children:Object(r.jsx)(Je.p,{})})]}):Object(r.jsxs)(mt,{children:[Object(r.jsx)("button",{onClick:function(){rn(tn-1<0?0:function(n){return n-1})},children:Object(r.jsx)(Je.m,{})}),Object(r.jsxs)("div",{children:[Object(r.jsx)("p",{children:tn+1}),Object(r.jsx)("p",{children:P.o[G]})]}),Object(r.jsx)("button",{onClick:function(){var n=new Date(X,G,0).getDate();console.log(7*tn),console.log(n),rn(7*(tn+1)>=n?0:function(n){return n+1})},children:Object(r.jsx)(Je.p,{})})]}),Object(r.jsx)("ul",{children:P.a.map((function(n,e){return Object(r.jsx)(Ot,{isActive:S===e,onClick:function(){return E(e)},children:n},e)}))})]}),Object(r.jsx)(bt,{children:0===S?Object(r.jsx)(_,{calendar:R,month:G,year:X,handleCalendarBlockClick:vn}):Object(r.jsx)(N,{calendar:R,month:G,year:X,weekIndex:tn,handleCalendarBlockClick:vn,children:Object(r.jsx)(ce,{calendar:R,month:G,year:X,weekIndex:tn,handleCalendarBlockClick:vn})})}),Object(r.jsx)(Ze,{calendarId:R})]}),an&&Object(r.jsx)(be,{day:an})]})]})}},57:function(n,e,t){"use strict";var r=t(21),c=t(2),i=t(30),o=(t(1),t(5));function a(){var n=Object(o.a)(["\n    display: inline-block;\n    cursor: pointer;\n    font-size: 1.5rem;\n    font-weight: 700;\n    /* margin-right: 2rem; */\n    background-color: ",";\n    color: ",";\n    /* font-weight: ","; */\n    padding: .8rem 3rem;\n    border-radius: .2rem;\n    transition: all .2s ease-out;\n\n    @media all and (max-width: 500px) {\n        padding: 0.5rem 1.5rem;\n        font-size: 1.4rem;\n    }\n"]);return a=function(){return n},n}var l=t(6).c.div(a(),(function(n){return n.isActive?"var(--primary-color)":"var(--body-background-primary-color)"}),(function(n){return n.isActive?"var(--button-font-color)":"var(--secondary-text-color)"}),(function(n){return n.isActive?"border":"normal"}));e.a=function(n){var e=n.label,t=n.isActive,o=n.handleClick,a=Object(i.a)(n,["label","isActive","handleClick"]);return Object(c.jsx)(l,Object(r.a)(Object(r.a)({isActive:t,onClick:o},a),{},{children:e}))}},59:function(n,e,t){"use strict";var r=t(2),c=(t(1),t(52)),i=t(5),o=t(6),a=t(28),l=t(14);function d(){var n=Object(i.a)(["\n    margin-top: 2rem;\n    margin-left: 1rem;\n    background-color: var(--primary-color);\n    font-weight: bolder;\n"]);return d=function(){return n},n}function u(){var n=Object(i.a)(["\n    margin-top: 2rem;\n\n    margin-left: 2rem;\n"]);return u=function(){return n},n}function s(){var n=Object(i.a)(["\n    background-color: var(--color-red);\n    margin-left: 1.5rem;\n    color: var(--primary-text-color);\n    padding: .5rem 1rem;\n    border-radius: 1.5rem;\n    font-size: 1.4rem;\n"]);return s=function(){return n},n}function b(){var n=Object(i.a)(["\n    display: flex;\n    align-items: center;\n"]);return b=function(){return n},n}function j(){var n=Object(i.a)(["\n    margin-top: 2rem;\n\n    display: flex;\n    align-items: center;\n\n"]);return j=function(){return n},n}function v(){var n=Object(i.a)(["\n    display: flex;\n    color: var(--primary-text-color);\n    justify-content: space-between;\n    margin-bottom: 3rem;\n    ",";    \n\n    @media all and (max-width: 600px) {\n        flex-wrap: wrap;\n    }\n"]);return v=function(){return n},n}var f=o.c.div(v(),l.e),m=o.c.div(j()),O=o.c.div(b()),h=(o.c.div(s()),Object(o.c)(a.a)(u())),g=Object(o.c)(a.a)(d());e.a=function(n){var e=n.searchQuery,t=n.handleSearch,i=n.handleChange,o=n.title,a=(n.count,n.handleAddButton),l=void 0===a?function(){}:a;return Object(r.jsxs)(f,{children:[Object(r.jsx)(m,{children:Object(r.jsx)("h1",{children:o})}),Object(r.jsxs)(O,{children:[t&&Object(r.jsx)("div",{children:Object(r.jsx)(c.a,{type:"search",name:"searchbox",value:e,handleChange:i,onKeyPress:function(n){""!==e&&"Enter"===n.key&&t()},label:"Vyh\u013eada\u0165"})}),t&&Object(r.jsx)(h,{onClick:t,children:"Vyh\u013eada\u0165"}),Object(r.jsx)(g,{onClick:l,children:"Prida\u0165"})]})]})}},60:function(n,e,t){"use strict";var r=t(21),c=t(2),i=t(30),o=(t(1),t(5)),a=t(6),l=t(28),d=t(14);function u(){var n=Object(o.a)(["\n    transition: all 0.3s ease-out;\n    background-color: ",";\n    color: ",";\n    font-weight: ",";\n    padding: ",";\n    font-weight: ",";\n"]);return u=function(){return n},n}function s(){var n=Object(o.a)(["\n    margin-bottom: 3rem;\n    ","\n\n    ul {\n        display: flex;\n        list-style: none;\n\n        li {\n            margin-right: 1.5rem;\n        }\n    }\n"]);return s=function(){return n},n}var b=a.c.div(s(),d.e),j=Object(a.c)(l.a)(u(),(function(n){return n.active?"var(--primary-color)":"var(--background-primary-color)"}),(function(n){return n.active?"#fff":"var(--primary-text-color)"}),(function(n){return n.active?400:700}),(function(n){return n.active?".5rem 2.5rem":".5rem 1rem .5rem 0"}),(function(n){return n.active?"bolder":"normal"}));e.a=function(n){var e=n.items,t=n.activeIndex,o=n.setActiveIndex,a=Object(i.a)(n,["items","activeIndex","setActiveIndex"]);return Object(c.jsx)(b,Object(r.a)(Object(r.a)({},a),{},{children:Object(c.jsx)("ul",{children:e.map((function(n){return Object(c.jsx)("li",{children:Object(c.jsx)(j,{active:n.id===t,onClick:function(){return o(n.id)},children:n.name})},n.id)}))})}))}},63:function(n,e,t){"use strict";var r=t(2),c=t(21),i=t(30),o=(t(1),t(5)),a=t(6);function l(){var n=Object(o.a)(["\n    position: relative;\n    /* margin: 45px 0; */\n\n    .form-input {\n        background: none;\n        background-color: var(--input-background-color);\n        color: var(--input-color);\n\n        font-size: 1.5rem;\n        padding: .5rem .5rem .5rem 2rem;\n        display: block;\n        width: 100%;\n        border: none;\n        border-radius: .5rem;\n        /* border-bottom: 1px solid #000; */\n        margin: 25px 0;\n        font-family: inherit;\n        resize: none;\n\n        &:focus {\n        outline: none;\n        }\n\n        &:focus ~ .form-input-label {\n            ","\n        }\n    }\n\n    .form-input-label {\n        color: var(--input-color);\n        font-size: 1.4rem;\n        font-weight: normal;\n        position: absolute;\n        pointer-events: none;\n        left: 1.5rem;\n        top: .6rem;\n        transition: 300ms ease all;\n\n        &.shrink {\n            ","\n        }\n    }\n"]);return l=function(){return n},n}function d(){var n=Object(o.a)(["\n    left: .5rem;\n    top: -14px;\n    font-size: 12px;\n    color: var(--input-color);\n"]);return d=function(){return n},n}var u=Object(a.b)(d()),s=a.c.div(l(),u,u);e.a=function(n){var e=n.handleChange,t=n.label,o=n.name,a=Object(i.a)(n,["handleChange","label","name"]);return Object(r.jsxs)(s,{children:[Object(r.jsx)("textarea",Object(c.a)({className:"form-input",name:o,onChange:e},a)),t?Object(r.jsx)("label",{htmlFor:o,className:"".concat(a.value.length?"shrink":""," form-input-label"),children:t}):null]})}}}]);
//# sourceMappingURL=13.b20b0813.chunk.js.map