(this.webpackJsonpimooptik=this.webpackJsonpimooptik||[]).push([[22],{223:function(e,n,t){"use strict";t.r(n);var r=t(1),c=t(30),a=t(19),o=t(10),s=t(0),i=t(16),u=t(2),d=t(50),l=t(31),b=t(67),j=t(49),O=t(8),h=t(9),f=t(28),m=t(26);t(59);function p(){var e=Object(O.a)(["\n    &:not(:last-child) {\n        margin-right: .5rem;\n    }\n\n    &:last-child {\n        background-color: rgb(235, 172, 1);\n        font-weight: bolder;\n    }\n"]);return p=function(){return e},e}function g(){var e=Object(O.a)(["\n    padding: 2rem;\n    border-radius: .5rem;\n    box-shadow: 0 0 1.5rem 0 rgba(0,0,0, 0.08);\n\n    h3 {\n        margin-bottom: 1rem;\n    }\n"]);return g=function(){return e},e}function x(){var e=Object(O.a)(["\n    opacity: .83;\n    font-size: 1.4rem;\n    margin-left: 1.5rem;\n\n    &:not(:last-child) {\n        margin-bottom: .5rem;\n    }\n"]);return x=function(){return e},e}function v(){var e=Object(O.a)(["\n    padding: 2rem;\n    border-radius: .5rem;\n    box-shadow: 0 0 1.5rem 0 rgba(0,0,0, 0.08);\n\n    h3 {\n        margin-bottom: .5rem;\n    }\n\n    h4 {\n        margin-top: 1rem;\n\n    }\n\n"]);return v=function(){return e},e}function k(){var e=Object(O.a)(["\n    display: grid;\n    grid-template-columns: 1fr 1fr;\n    grid-gap: 3rem;\n    align-items: start;\n"]);return k=function(){return e},e}function y(){var e=Object(O.a)(["\n    margin-top: 2rem;\n    display:flex;\n    justify-content: flex-end;\n    align-items: center;\n\n    span {\n        display: block;\n        margin-right: .5rem;\n        \n    }\n\n    p {\n        font-weight: bolder;\n        font-size: 2.5rem;\n    }\n"]);return y=function(){return e},e}function w(){var e=Object(O.a)(["\n    display: grid;\n    align-content: center;\n    grid-template-columns: 5rem 1fr 2fr 2fr 10rem 15rem;\n    /* box-shadow: 0 0 1.5rem 0 rgba(0,0,0, 0.08); */\n    /* margin-bottom: 1rem; */\n"]);return w=function(){return e},e}function C(){var e=Object(O.a)(["\n    display: grid;\n    align-content: center;\n    grid-template-columns: 5rem 1fr 2fr 2fr 10rem 15rem;\n    font-weight: bolder;\n    border-bottom: 1px solid #000;\n"]);return C=function(){return e},e}function P(){var e=Object(O.a)(["\n    margin-bottom: 3rem;\n"]);return P=function(){return e},e}function S(){var e=Object(O.a)(["\n    padding: 2rem;\n    border-radius: .5rem;\n    box-shadow: 0 0 1.5rem 0 rgba(0,0,0, 0.08);\n    margin-bottom: 3rem;\n"]);return S=function(){return e},e}function L(){var e=Object(O.a)(["\n    background-color: lightgray;\n    border-radius: 50%;\n    width: 10rem;\n    height: 10rem;\n    margin: 0 auto;\n    margin-bottom: 1.5rem;\n"]);return L=function(){return e},e}function T(){var e=Object(O.a)(["\n    cursor: pointer;\n    max-width: 32rem;\n    padding: 2rem;\n    border-radius: .5rem;\n    box-shadow: 0 0 1.5rem 0 rgba(0,0,0, 0.08);\n    text-align: center;\n    transition: transform .3s ease-out,\n                box-shadow .3s ease-out;\n\n    h4 {\n        font-size: 2.5rem;\n        margin-bottom: 1.5rem\n    }\n\n    img {\n        /* background-color:#000; */\n        width: 15rem;\n        height: 15rem;\n        margin-bottom: 1rem; \n        object-fit: contain;\n        object-position: center;\n    }\n\n    p {\n        opacity: .65;\n        &:not(:last-child){\n            margin-bottom: .5rem;\n        }\n    }\n\n    h5 {\n        font-size: 2.5rem;\n    }\n\n    &:hover {\n        transform: scale(1.03);\n        box-shadow: 0 0 2.5rem 0 rgba(0,0,0, 0.08);\n    }\n"]);return T=function(){return e},e}function E(){var e=Object(O.a)(["\n    margin: 5rem 0;\n\n    h3 {\n        font-size: 3rem;\n        margin-bottom: 3rem;\n    }\n"]);return E=function(){return e},e}function N(){var e=Object(O.a)(["\n    h3 {\n        font-size: 3rem;\n        margin-bottom: 1rem;\n    }\n"]);return N=function(){return e},e}function z(){var e=Object(O.a)(["\n    cursor: pointer;\n    display: grid;\n    align-content: center;\n    grid-template-columns: 10rem 15rem 1fr 1fr 10rem 1fr;\n    margin-bottom: 1rem;\n    box-shadow: 0 0 1.5rem 0 rgba(0,0,0, 0.08);\n    transition: all .3s ease-out;\n\n    &:hover {\n        background-color: rgb(235, 172, 1); \n        font-weight: bolder;\n        color: #fff;\n    }\n"]);return z=function(){return e},e}function A(){var e=Object(O.a)(["\n    display: grid;\n    align-content: center;\n    grid-template-columns: 10rem 15rem 1fr 1fr 10rem 1fr;\n    border-bottom: 1px solid #000;\n    font-weight: bolder;\n"]);return A=function(){return e},e}function M(){var e=Object(O.a)(["\n    display: block;\n    margin: 0 auto;\n"]);return M=function(){return e},e}function R(){var e=Object(O.a)(["\n    cursor: pointer;\n    display: grid;\n    align-content: center;\n    grid-template-columns: 1fr 2fr 25rem;\n    margin-bottom: 1rem;\n    box-shadow: 0 0 1.5rem 0 rgba(0,0,0, 0.08);\n    transition: all .3s ease-out;\n\n    &:hover {\n        background-color: rgb(235, 172, 1); \n        font-weight: bolder;\n        color: #fff;\n    }\n"]);return R=function(){return e},e}function U(){var e=Object(O.a)(["\n    display: grid;\n    align-content: center;\n    grid-template-columns: 1fr 2fr 25rem;\n    border-bottom: 1px solid #000;\n    font-weight: bolder;\n"]);return U=function(){return e},e}function D(){var e=Object(O.a)(["\n    padding: 2rem;\n    text-align: center;\n\n    img {\n        width: 5rem;\n    }\n"]);return D=function(){return e},e}function I(){var e=Object(O.a)(["\n    margin: 5rem 0;\n"]);return I=function(){return e},e}function Z(){var e=Object(O.a)(["\n    max-width: 40rem;\n    padding: 2rem;\n    box-shadow: 0 0 1.5rem 0 rgba(0,0,0, 0.08);\n    margin: 0 auto;\n    border-radius: .5rem;\n\n    h3 {\n        text-align: center;\n        font-size: 3rem;\n    }\n\n    div {\n\n        &:not(:last-child) {\n            margin-bottom: 3rem;\n\n        }\n    }\n"]);return Z=function(){return e},e}function J(){var e=Object(O.a)(["\n    display: flex;\n    justify-content: space-between;\n\n    ","\n    padding-top: 3rem;\n    padding-bottom: 3rem;\n\n    @media all and (max-width: 800px) {\n        flex-wrap: wrap;\n\n        div:nth-child(2) {\n            margin-bottom: 2rem;\n        }\n    }\n"]);return J=function(){return e},e}var q=h.c.div(J(),f.b),B=h.c.div(Z()),Q=h.c.div(I()),V=h.c.div(D()),F=h.c.div(U()),G=h.c.div(R()),H=Object(h.c)(m.a)(M()),K=h.c.div(A()),W=h.c.div(z()),X=h.c.div(N()),Y=h.c.div(E()),$=h.c.div(T()),_=h.c.div(L()),ee=h.c.div(S()),ne=h.c.h3(P()),te=h.c.div(C()),re=h.c.div(w()),ce=h.c.div(y()),ae=h.c.div(k()),oe=h.c.div(v()),se=h.c.p(x()),ie=h.c.div(g()),ue=Object(h.c)(m.a)(p()),de=function(e){var n=e.next,t=e.addToOrder,c=Object(s.useState)(""),a=Object(o.a)(c,2),i=a[0],u=a[1],d=Object(s.useState)([]),l=Object(o.a)(d,2),O=l[0],h=l[1],f=Object(s.useContext)(b.UserContext),m=f.users,p=f.getFilteredUsers,g=f.getUserByQuery;return Object(s.useEffect)((function(){m||p({limit:5}),m&&h(m)}),[m]),Object(s.useEffect)((function(){m&&""===i&&(p({limit:5}),h(m))}),[i]),Object(s.useEffect)((function(){return function(){u(""),h([])}}),[]),Object(r.jsxs)("div",{children:[Object(r.jsxs)(B,{children:[Object(r.jsx)("h3",{children:"Vyh\u013eada\u0165 z\xe1kaznika"}),Object(r.jsx)("div",{children:Object(r.jsx)(j.a,{label:"Meno, priezvisko, email alebo tel. \u010d\xedslo",value:i,onChange:function(e){return u(e.target.value)},onKeyPress:function(e){""!==i&&"Enter"===e.key&&g({query:i})}})}),Object(r.jsx)(H,{onClick:function(){""!==i&&g({query:i})},children:"H\u013eada\u0165"})]}),Object(r.jsxs)(Q,{children:[Object(r.jsxs)(F,{children:[Object(r.jsx)(V,{children:"Meno a priezvisko"}),Object(r.jsx)(V,{children:"Email"}),Object(r.jsx)(V,{children:"Mo\u017enosti"})]}),O.map((function(e,c){return Object(r.jsxs)(G,{onClick:function(){return function(e){t({name:"user",value:e}),n()}(e)},children:[Object(r.jsx)(V,{children:e.name}),Object(r.jsx)(V,{children:e.email}),Object(r.jsx)(V,{children:e.phone})]},c)}))]})]})},le=t(58),be=t(218);function je(){var e=Object(O.a)(["\n    cursor: pointer;\n    border: 4px solid #000;\n    border-radius: 50%;\n    padding: 1.2rem 1.2rem;\n    display: inline-flex;\n    align-items: center;\n    justify-content: center;\n    margin-bottom: 3rem;\n"]);return je=function(){return e},e}var Oe=h.c.div(je()),he=function(e){var n=Object.assign({},e);return Object(r.jsx)(Oe,Object(a.a)(Object(a.a)({},n),{},{children:Object(r.jsx)(be.a,{})}))},fe=function(e){var n=e.back,t=e.next,c=e.addToOrder,a=Object(s.useState)(""),i=Object(o.a)(a,2),u=i[0],d=i[1],l=Object(s.useState)([]),b=Object(o.a)(l,2),O=b[0],h=b[1],f=Object(s.useContext)(le.WarehouseContext),m=f.products,p=f.getProductsByQuery;return Object(s.useEffect)((function(){m||p({limit:5}),m&&h(m)}),[m]),Object(s.useEffect)((function(){m&&""===u&&p({limit:5})}),[u]),Object(r.jsxs)("div",{children:[Object(r.jsx)(he,{onClick:n}),Object(r.jsxs)(B,{children:[Object(r.jsx)("h3",{children:"Vyh\u013eada\u0165 produkt"}),Object(r.jsx)("div",{children:Object(r.jsx)(j.a,{label:"N\xe1zov produktu, eanCode alebo popis",value:u,handleChange:function(e){return d(e.target.value)},onKeyPress:function(e){""!==u&&"Enter"===e.key&&p({query:u})}})}),Object(r.jsx)(H,{onClick:function(){""!==u&&p({query:u})},children:"H\u013eada\u0165"})]}),Object(r.jsxs)(Q,{children:[Object(r.jsxs)(K,{children:[Object(r.jsx)(V,{children:"eanCode"}),Object(r.jsx)(V,{children:"Obr\xe1zok"}),Object(r.jsx)(V,{children:"N\xe1zov"}),Object(r.jsx)(V,{children:"Zna\u010dka"}),Object(r.jsx)(V,{children:"Cena"}),Object(r.jsx)(V,{children:"Dostupnos\u0165"})]}),O.map((function(e,n){return Object(r.jsxs)(W,{onClick:function(){return function(e){c({name:"product",value:e}),5===e.type?t("summary"):t("selectLenses")}(e)},children:[Object(r.jsx)(V,{children:e.eanCode}),Object(r.jsx)(V,{children:Object(r.jsx)("img",{src:"".concat("http://195.110.58.166:8080","/uploads/").concat(e.image.imagePath),alt:e.image.alt})}),Object(r.jsx)(V,{children:e.name}),Object(r.jsx)(V,{children:e.brand}),Object(r.jsxs)(V,{children:[(e.price/100).toFixed(2),"\u20ac"]}),Object(r.jsx)(V,{children:e.available.reduce((function(e,n){return e+n}))>0?"Na sklade":"Nedostupn\xe9"})]},n)}))]})]})},me=t(81),pe=function(e){var n=e.back,t=e.next,c=e.addToOrder,a=e.order,i=Object(s.useState)([]),u=Object(o.a)(i,2),d=u[0],l=u[1],b=Object(s.useContext)(le.WarehouseContext),j=b.lensesArr,O=b.getLenses;return Object(s.useEffect)((function(){j||O(),j&&l(j)}),[j]),console.log(a),Object(r.jsxs)("div",{children:[Object(r.jsx)(he,{onClick:n}),Object(r.jsx)("div",{children:Object(r.jsxs)(X,{children:[Object(r.jsx)("h3",{children:"Parametre z\xe1kaznika"}),Object(r.jsx)(me.a,{parameters:a.user.lenses,disabledInputs:!0})]})}),Object(r.jsxs)(Y,{children:[Object(r.jsx)("h3",{children:"V\xfdber \u0160o\u0161oviek"}),Object(r.jsx)("div",{children:d.map((function(e,n){return Object(r.jsxs)($,{onClick:function(){return function(e){c({name:"lenses",value:e}),t()}(e)},children:[Object(r.jsx)("h4",{children:e.name}),Object(r.jsx)(_,{}),Object(r.jsx)("p",{children:e.description}),Object(r.jsx)("p",{children:"Dioptrie od ".concat(e.dioptersRange[0]," do ").concat(e.dioptersRange[1])}),Object(r.jsx)("p",{children:"Cylinder  od ".concat(e.cylinderRange[0]," do ").concat(e.cylinderRange[1])}),Object(r.jsxs)("h5",{children:[(e.price/100).toFixed(2),"\u20ac"]})]},n)}))})]})]})},ge=function(e){var n=e.order;return console.log(n),Object(r.jsxs)("div",{children:[Object(r.jsxs)(ee,{children:[Object(r.jsx)(ne,{children:"Preh\u013aad objedn\xe1vky"}),Object(r.jsxs)(te,{children:[Object(r.jsx)(V,{children:"#"}),Object(r.jsx)(V,{children:"EAN"}),Object(r.jsx)(V,{children:"Produkt"}),Object(r.jsx)(V,{children:"\u0160osovky"}),Object(r.jsx)(V,{children:"Z\u013eava"}),Object(r.jsx)(V,{children:"Spolu"})]}),Object(r.jsxs)(re,{children:[Object(r.jsx)(V,{children:"#"}),Object(r.jsx)(V,{children:"EAN"}),Object(r.jsx)(V,{children:"Produkt"}),Object(r.jsx)(V,{children:"\u0160osovky"}),Object(r.jsx)(V,{children:"Z\u013eava"}),Object(r.jsx)(V,{children:"Spolu"})]}),Object(r.jsxs)(re,{children:[Object(r.jsx)(V,{children:"#"}),Object(r.jsx)(V,{children:"EAN"}),Object(r.jsx)(V,{children:"Produkt"}),Object(r.jsx)(V,{children:"\u0160osovky"}),Object(r.jsx)(V,{children:"Z\u013eava"}),Object(r.jsx)(V,{children:"Spolu"})]}),Object(r.jsxs)(re,{children:[Object(r.jsx)(V,{children:"#"}),Object(r.jsx)(V,{children:"EAN"}),Object(r.jsx)(V,{children:"Produkt"}),Object(r.jsx)(V,{children:"\u0160osovky"}),Object(r.jsx)(V,{children:"Z\u013eava"}),Object(r.jsx)(V,{children:"Spolu"})]}),Object(r.jsx)(ce,{children:Object(r.jsx)("p",{children:"Spolu: 999.99\u20ac"})})]}),Object(r.jsxs)(ae,{children:[Object(r.jsxs)(oe,{children:[Object(r.jsx)("h3",{children:"Z\xe1kaznik"}),Object(r.jsxs)("div",{children:[Object(r.jsx)("h4",{children:"Meno a prizvisko"}),Object(r.jsx)(se,{children:n.user.name})]}),Object(r.jsxs)("div",{children:[Object(r.jsx)("h4",{children:"Adresa"}),Object(r.jsx)(se,{children:n.user.psc}),Object(r.jsx)(se,{children:n.user.address}),Object(r.jsx)(se,{children:n.user.city}),Object(r.jsx)(se,{children:n.user.country})]}),Object(r.jsxs)("div",{children:[Object(r.jsx)("h4",{children:"Kontakt"}),Object(r.jsx)(se,{children:n.user.email}),Object(r.jsx)(se,{children:n.user.phone})]}),Object(r.jsxs)("div",{children:[Object(r.jsx)("h4",{children:"Parametre"}),Object(r.jsx)(me.a,{parameters:n.user.lenses,disabledInputs:!0})]})]}),Object(r.jsxs)(ie,{children:[Object(r.jsx)("h3",{children:"Mo\u017enosti"}),Object(r.jsx)(ue,{children:"Prida\u0165 produkt"}),Object(r.jsx)(ue,{children:"Vytvori\u0165 objednavku"})]})]})]})};n.default=function(){var e=Object(u.i)(),n=(e.userId,e.orderId,Object(s.useState)("selectUser")),t=Object(o.a)(n,2),b=t[0],j=t[1],O=Object(s.useState)({}),h=Object(o.a)(O,2),f=h[0],m=h[1],p=function(e){var n=e.name,t=e.value;m(Object(a.a)(Object(a.a)({},f),{},Object(c.a)({},n,t)))};console.log("order"),console.log(f),console.log("order");var g=Object(s.useContext)(i.a),x=g.closeModal,v=g.isLoading,k=g.showModal,y=g.message;return Object(s.useEffect)((function(){return function(){j("selectUser")}}),[]),Object(r.jsxs)("section",{children:[Object(r.jsx)(u.a,{when:f.user,message:"M\xe1te nedokon\u010den\xfa objedn\xe1vku, skuto\u010dne chcete od\xeds\u0165?"}),k&&Object(r.jsx)(l.a,{loading:v,title:y,close:x}),Object(r.jsx)(q,{children:Object(r.jsx)("div",{children:Object(r.jsx)("h1",{children:"Nov\xe1 objedn\xe1vka"})})}),Object(r.jsx)(d.a,{children:Object(r.jsxs)("div",{children:["selectUser"===b&&Object(r.jsx)(de,{next:function(){return j("findProduct")},addToOrder:p}),"findProduct"===b&&Object(r.jsx)(fe,{back:function(){return j("selectUser")},next:j,addToOrder:p}),"selectLenses"===b&&Object(r.jsx)(pe,{back:function(){return j("findProduct")},next:function(){return j("summary")},addToOrder:p,order:f}),"summary"===b&&Object(r.jsx)(ge,{back:function(){return j("selectLenses")},order:f})]})})]})}},58:function(e,n,t){"use strict";t.r(n),t.d(n,"WarehouseContext",(function(){return f}));var r=t(1),c=t(4),a=t.n(c),o=t(11),s=t(30),i=t(51),u=t(19),d=t(10),l=t(0),b=t(2),j=t(16),O=t(17),h=t(52),f=Object(l.createContext)({eanCode:null,product:{},lenses:{},contactLensesParameters:{},totalProducts:0,totalLenses:0,activePremisesTab:0,activeCategoryTypeTab:0,retailPremisesTabs:[],productCategoryTypeTabs:[],products:null,handleChangeCategoryTypeTab:function(){},handleChangePremisesTab:function(){},getProductsByQuery:function(){},handleProductChange:function(){},handleProductAvailableChange:function(){},getSingleProduct:function(){},createProduct:function(){},getSingleLenses:function(){},getLenses:function(){},createLenses:function(){},handleLensesChange:function(){},handleLensesParameterChange:function(){},resetProduct:function(){},resetLenses:function(){},resetContactLenses:function(){},getEanCode:function(){},handleAddNewParameter:function(){},handleContactLensesParameterChange:function(){}});n.default=function(e){var n=e.children,t=Object(b.h)().push,c=Object(l.useContext)(O.a),m=c.token,p=c.isAdmin,g=c.currentUser,x=c.stats,v=Object(l.useContext)(j.a),k=v.closeModal,y=v.setIsLoading,w=v.setShowModal,C=v.getMessage,P=Object(l.useState)(0),S=Object(d.a)(P,2),L=S[0],T=S[1],E=Object(l.useState)(0),N=Object(d.a)(E,2),z=N[0],A=N[1],M=Object(l.useState)(null),R=Object(d.a)(M,2),U=R[0],D=R[1],I=Object(l.useState)(Object(u.a)({},h.h)),Z=Object(d.a)(I,2),J=Z[0],q=Z[1],B=Object(l.useState)(Object(u.a)({},h.g)),Q=Object(d.a)(B,2),V=Q[0],F=Q[1],G=Object(l.useState)(Object(u.a)({},h.f)),H=Object(d.a)(G,2),K=H[0],W=H[1],X=Object(l.useState)(null),Y=Object(d.a)(X,2),$=Y[0],_=Y[1],ee=Object(l.useState)(0),ne=Object(d.a)(ee,2),te=ne[0],re=ne[1],ce=Object(l.useState)([]),ae=Object(d.a)(ce,2),oe=ae[0],se=ae[1],ie=Object(l.useState)(h.a),ue=Object(d.a)(ie,2),de=ue[0],le=(ue[1],Object(l.useState)(0)),be=Object(d.a)(le,2),je=be[0],Oe=be[1],he=new Headers;he.append("auth-token",m),he.append("Content-Type","application/json");var fe=function(){var e=Object(o.a)(a.a.mark((function e(){var n,t,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y(!0),w(!0),n={method:"GET",headers:he,redirect:"follow"},e.prev=3,e.next=6,fetch("".concat("http://195.110.58.166:8080","/api/admin/products/nextEanCode"),n);case 6:return t=e.sent,e.next=9,t.json();case 9:if(r=e.sent,console.log(r),!r.eanCode){e.next=15;break}return D(r.eanCode),k(),e.abrupt("return");case 15:C(r.message),y(!1),e.next=24;break;case 19:e.prev=19,e.t0=e.catch(3),console.log(e.t0),C("Nieco sa pokazilo"),y(!1);case 24:case"end":return e.stop()}}),e,null,[[3,19]])})));return function(){return e.apply(this,arguments)}}(),me=function(){var e=Object(o.a)(a.a.mark((function e(n){var t,r,c,o;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y(!0),w(!0),console.log(n),t=JSON.stringify(n),r={method:"POST",headers:he,body:t,redirect:"follow"},e.prev=5,e.next=8,fetch("".concat("http://195.110.58.166:8080","/api/admin/products/filter"),r);case 8:return c=e.sent,e.next=11,c.json();case 11:if(o=e.sent,console.log(o),!o.products){e.next=17;break}return _(o.products),k(),e.abrupt("return");case 17:C(o.message),y(!1),e.next=26;break;case 21:e.prev=21,e.t0=e.catch(5),console.log(e.t0),C("Nieco sa pokazilo"),y(!1);case 26:case"end":return e.stop()}}),e,null,[[5,21]])})));return function(n){return e.apply(this,arguments)}}(),pe=function(){var e=Object(o.a)(a.a.mark((function e(){var n,t,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y(!0),w(!0),n={method:"GET",headers:he,redirect:"follow"},e.prev=3,e.next=6,fetch("".concat("http://195.110.58.166:8080","/api/admin/lenses"),n);case 6:return t=e.sent,e.next=9,t.json();case 9:if(r=e.sent,console.log(r),!r.lenses){e.next=15;break}return _(r.lenses),k(),e.abrupt("return");case 15:C(r.message),y(!1),e.next=24;break;case 19:e.prev=19,e.t0=e.catch(3),console.log(e.t0),C("Nieco sa pokazilo"),y(!1);case 24:case"end":return e.stop()}}),e,null,[[3,19]])})));return function(){return e.apply(this,arguments)}}(),ge=function(){var e=Object(o.a)(a.a.mark((function e(n){var t,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y(!0),w(!0),e.prev=2,e.next=5,fetch("".concat("http://195.110.58.166:8080","/api/store/products/").concat(n));case 5:return t=e.sent,e.next=8,t.json();case 8:if(r=e.sent,console.log(r),!r.product){e.next=14;break}return q(r.product),k(),e.abrupt("return");case 14:C(r.message),y(!1),e.next=23;break;case 18:e.prev=18,e.t0=e.catch(2),console.log(e.t0),C("Nieco sa pokazilo"),y(!1);case 23:case"end":return e.stop()}}),e,null,[[2,18]])})));return function(n){return e.apply(this,arguments)}}(),xe=function(){var e=Object(o.a)(a.a.mark((function e(n){var r,c,o,s,i,d;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y(!0),w(!0),r=Object(h.c)(n.name).replaceAll(" ","-").toLowerCase().trim(),c=Object(u.a)(Object(u.a)({},n),{},{price:Object(h.e)(n.price.toString()),link:r,available:n.available?n.available.map((function(e){return 1001===e?0:e})):[0,0,0,0,0]}),n.contactLenses&&(n.contactLenses.allowedCurves&&(c=Object(u.a)(Object(u.a)({},c),{},{contactLenses:Object(u.a)(Object(u.a)({},c.contactLenses),{},{allowedCurves:n.contactLenses.allowedCurves.map((function(e){return Number(e)}))})})),n.contactLenses.allowedDiameters&&(c=Object(u.a)(Object(u.a)({},c),{},{contactLenses:Object(u.a)(Object(u.a)({},c.contactLenses),{},{allowedDiameters:n.contactLenses.allowedDiameters.map((function(e){return Number(e)}))})})),n.contactLenses.dioptersRange&&(c=Object(u.a)(Object(u.a)({},c),{},{contactLenses:Object(u.a)(Object(u.a)({},c.contactLenses),{},{dioptersRange:n.contactLenses.dioptersRange.map((function(e){return Number(e)}))})}))),console.log("modifiedProduct"),console.log(c),o=JSON.stringify(Object(u.a)(Object(u.a)({},n),{},{price:Object(h.e)(n.price.toString()),link:r,available:n.available?n.available.map((function(e){return 1001===e?0:e})):[0,0,0,0,0]})),s={method:"POST",headers:he,body:o,redirect:"follow"},e.prev=9,e.next=12,fetch("".concat("http://195.110.58.166:8080","/api/admin/products"),s);case 12:return i=e.sent,e.next=15,i.json();case 15:if(d=e.sent,console.log(d),!d.product){e.next=23;break}return t("/dashboard/obchod"),me({limit:10}),D(null),k(),e.abrupt("return");case 23:C(d.message),y(!1),e.next=32;break;case 27:e.prev=27,e.t0=e.catch(9),console.log(e.t0),C("Nieco sa pokazilo"),y(!1);case 32:case"end":return e.stop()}}),e,null,[[9,27]])})));return function(n){return e.apply(this,arguments)}}(),ve=function(){var e=Object(o.a)(a.a.mark((function e(n){var t,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y(!0),w(!0),e.prev=2,e.next=5,fetch("".concat("http://195.110.58.166:8080","/api/store/lenses/").concat(n));case 5:return t=e.sent,e.next=8,t.json();case 8:if(r=e.sent,console.log(r),!r.lenses){e.next=14;break}return F(r.lenses),k(),e.abrupt("return");case 14:C(r.message),y(!1),e.next=23;break;case 18:e.prev=18,e.t0=e.catch(2),console.log(e.t0),C("Nieco sa pokazilo"),y(!1);case 23:case"end":return e.stop()}}),e,null,[[2,18]])})));return function(n){return e.apply(this,arguments)}}(),ke=function(){var e=Object(o.a)(a.a.mark((function e(n){var r,c,o,s;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y(!0),w(!0),r=JSON.stringify(Object(u.a)(Object(u.a)({},n),{},{price:Object(h.e)(n.price.toString())})),c={method:"POST",headers:he,body:r,redirect:"follow"},e.prev=4,e.next=7,fetch("".concat("http://195.110.58.166:8080","/api/admin/lenses"),c);case 7:return o=e.sent,e.next=10,o.json();case 10:if(s=e.sent,console.log(s),!s.lenses){e.next=17;break}return t("/dashboard/obchod"),pe(),k(),e.abrupt("return");case 17:C(s.message),y(!1),e.next=26;break;case 21:e.prev=21,e.t0=e.catch(4),console.log(e.t0),C("Nieco sa pokazilo"),y(!1);case 26:case"end":return e.stop()}}),e,null,[[4,21]])})));return function(n){return e.apply(this,arguments)}}();return Object(l.useEffect)((function(){$&&(console.log("GET ".concat(de[je].name," DATA")),0===je?me({limit:10}):pe())}),[je]),Object(l.useEffect)((function(){console.log("SET PREMISES"),g&&(p?(se(h.i),re(0)):(se(h.i.filter((function(e){return e.premises===g.premises}))),re(0)))}),[g,p]),Object(l.useEffect)((function(){x&&(console.log("SET STATS"),T(x.products),A(x.lenses))}),[x]),Object(r.jsx)(f.Provider,{value:{eanCode:U,product:J,lenses:V,contactLensesParameters:K,totalProducts:L,totalLenses:z,activePremisesTab:te,activeCategoryTypeTab:je,retailPremisesTabs:oe,productCategoryTypeTabs:de,products:$,handleChangeCategoryTypeTab:function(e){Oe(e)},handleChangePremisesTab:function(e){re(e)},getProductsByQuery:me,handleProductChange:function(e){var n=e.target,t=n.name,r=n.value;q(Object(u.a)(Object(u.a)({},J),{},Object(s.a)({},t,r)))},handleProductAvailableChange:function(e,n){var t=e.target,r=t.name,c=t.value,a=J[r];a[n]=""===c?1001:Number(c),q(Object(u.a)(Object(u.a)({},J),{},Object(s.a)({},r,a)))},getLenses:pe,getSingleProduct:ge,createProduct:xe,getSingleLenses:ve,createLenses:ke,handleLensesChange:function(e){var n=e.target,t=n.name,r=n.value;F(Object(u.a)(Object(u.a)({},V),{},Object(s.a)({},t,r)))},handleLensesParameterChange:function(e,n){var t=e.target,r=t.name,c=t.value,a=V[r];a[n]=""===c?1001:Number(c),F(Object(u.a)(Object(u.a)({},V),{},Object(s.a)({},r,a)))},resetProduct:function(){q(Object(u.a)(Object(u.a)({},h.h),{},{available:[1001,1001,1001,1001,0]})),D(null)},resetLenses:function(){F(Object(u.a)(Object(u.a)({},h.g),{},{dioptersRange:[1001,1001],cylinderRange:[1001,1001]}))},resetContactLenses:function(){W({allowedCurves:[1001],allowedDiameters:[1001],dioptersRange:[1001,1001]})},getEanCode:fe,handleAddNewParameter:function(e){var n=e.target.name;W(Object(u.a)(Object(u.a)({},K),{},Object(s.a)({},n,[].concat(Object(i.a)(K[n]),[1001]))))},handleContactLensesParameterChange:function(e,n){var t=e.target,r=t.name,c=t.value,a=K[r];a[n]=""===c?1001:c,W(Object(u.a)(Object(u.a)({},K),{},Object(s.a)({},r,a)))}},children:n})}}}]);
//# sourceMappingURL=22.ceb147a2.chunk.js.map