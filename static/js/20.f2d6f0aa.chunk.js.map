{"version":3,"sources":["sections/post/post.styles.jsx","sections/post/post.section.jsx","context/blog/blog.queries.jsx","context/blog/blog.context.jsx"],"names":["Header","styled","div","paddingStyles","GridContainer","Container","PostImage","hasImage","DeleteButton","CustomButtom","AddButton","Title","h2","ContentTextare","ReactQuill","CustomUndo","viewBox","className","points","d","CustomRedo","Size","Quill","import","whitelist","register","Font","modules","toolbar","container","handlers","undo","this","quill","history","redo","delay","maxStack","userOnly","formats","QuillToolbar","id","defaultValue","value","PostSection","useParams","push","useHistory","useContext","BlogContext","createPost","isLoading","message","showLoading","setIsLoading","getPost","post","handlePostUpdate","resetBlog","ImageContext","selectedImage","setSelectedImage","useState","title","setTitle","description","setDescription","content","setContent","image","setImage","draft","toggleDraft","showImageModal","setImageModal","isUpdating","setIsUpdating","useEffect","console","log","name","html","_id","onSubmit","e","preventDefault","length","loading","close","label","isActive","handleClick","prevValue","type","handleChange","target","required","rows","onClick","src","process","imagePath","alt","onChange","fetchSinglePost","fetch","createNewPost","token","img","myHeaders","Headers","append","requestOptions","method","headers","body","JSON","stringify","redirect","updatePost","deletePost","createContext","posts","postsCount","getPosts","handlePostDelete","BlogProvider","children","AuthContext","LoadingModalContext","getMessage","setShowModal","setPosts","setPost","setPostsCount","a","response","json","data","blogs","count","blog","postResponse","postData","Provider"],"mappings":"stEAMO,IAAMA,EAASC,IAAOC,IAAV,IAIbC,KAWOC,EAAgBH,IAAOC,IAAV,KAcbG,EAAYJ,IAAOC,IAAV,KAMTI,EAAYL,IAAOC,IAAV,KAME,qBAAGK,SAA0B,cAAgB,mCAmBxDC,EAAeP,YAAOQ,IAAPR,CAAH,KASZS,EAAYT,YAAOQ,IAAPR,CAAH,KAITU,EAAQV,IAAOW,GAAV,KAILC,EAAiBZ,YAAOa,IAAPb,CAAH,KCqFrBc,EAAa,kBACf,sBAAKC,QAAQ,YAAb,UACI,yBAASC,UAAU,oBAAoBC,OAAO,wBAC9C,sBACID,UAAU,YACVE,EAAE,qDAMRC,EAAa,kBACf,sBAAKJ,QAAQ,YAAb,UACI,yBAASC,UAAU,oBAAoBC,OAAO,4BAC9C,sBACID,UAAU,YACVE,EAAE,qDAcd,IAAME,EAAOC,QAAMC,OAAO,gBAC1BF,EAAKG,UAAY,CAAC,cAAe,QAAS,SAAU,SACpDF,QAAMG,SAASJ,GAAM,GAGrB,IAAMK,EAAOJ,QAAMC,OAAO,gBAC1BG,EAAKF,UAAY,CACb,QACA,aACA,cACA,UACA,YACA,UAEJF,QAAMG,SAASC,GAAM,GAGrB,IAAMC,EAAU,CACZC,QAAS,CACLC,UAAW,WACXC,SAAU,CACNC,KA7BZ,WACIC,KAAKC,MAAMC,QAAQH,QA6BXI,KA3BZ,WACIH,KAAKC,MAAMC,QAAQC,UA6BnBD,QAAS,CACLE,MAAO,IACPC,SAAU,IACVC,UAAU,IAKZC,EAAU,CACZ,SACA,OACA,OACA,OACA,SACA,YACA,QACA,SACA,SACA,aACA,aACA,OACA,SACA,SACA,OACA,QACA,QACA,cAIEC,EAAe,kBACjB,sBAAKC,GAAG,UAAUxB,UAAU,UAA5B,UACI,uBAAMA,UAAU,aAAhB,UACI,yBAAQA,UAAU,UAAUyB,aAAa,SAAzC,UACI,wBAAQC,MAAM,cAAd,oBACA,wBAAQA,MAAM,QAAd,oBACA,wBAAQA,MAAM,SAAd,oBACA,wBAAQA,MAAM,QAAd,uBAEJ,yBAAQ1B,UAAU,YAAYyB,aAAa,IAA3C,UACI,wBAAQC,MAAM,IAAd,qBACA,wBAAQA,MAAM,IAAd,wBACA,wBAAQA,MAAM,IAAd,0BAGR,uBAAM1B,UAAU,aAAhB,UACI,wBAAQA,UAAU,YAClB,wBAAQA,UAAU,cAClB,wBAAQA,UAAU,iBAClB,wBAAQA,UAAU,iBAEtB,uBAAMA,UAAU,aAAhB,UACI,wBAAQA,UAAU,UAAU0B,MAAM,YAClC,wBAAQ1B,UAAU,UAAU0B,MAAM,WAClC,wBAAQ1B,UAAU,YAAY0B,MAAM,OACpC,wBAAQ1B,UAAU,YAAY0B,MAAM,UAExC,uBAAM1B,UAAU,aAAhB,UACI,wBAAQA,UAAU,YAAY0B,MAAM,UACpC,wBAAQ1B,UAAU,YAAY0B,MAAM,QACpC,wBAAQ1B,UAAU,kBAClB,wBAAQA,UAAU,oBAEtB,uBAAMA,UAAU,aAAhB,UACI,wBAAQA,UAAU,aAClB,wBAAQA,UAAU,aAClB,wBAAQA,UAAU,qBAEtB,uBAAMA,UAAU,aAAhB,UACI,wBAAQA,UAAU,YAClB,wBAAQA,UAAU,aAClB,wBAAQA,UAAU,gBAEtB,uBAAMA,UAAU,aAAhB,UACI,wBAAQA,UAAU,eAClB,wBAAQA,UAAU,kBAClB,wBAAQA,UAAU,gBAEtB,uBAAMA,UAAU,aAAhB,UACI,wBAAQA,UAAU,UAAlB,SACI,cAAC,EAAD,MAEJ,wBAAQA,UAAU,UAAlB,SACI,cAAC,EAAD,aAOD2B,UAjSK,WAAO,IACfH,EAAOI,cAAPJ,GACAK,EAASC,cAATD,KAFc,EAalBE,qBAAWC,eATXC,EAJkB,EAIlBA,WACAC,EALkB,EAKlBA,UACAC,EANkB,EAMlBA,QACAC,EAPkB,EAOlBA,YACAC,EARkB,EAQlBA,aACAC,EATkB,EASlBA,QACAC,EAVkB,EAUlBA,KACAC,EAXkB,EAWlBA,iBACAC,EAZkB,EAYlBA,UAZkB,EAcsBV,qBAAWW,gBAA/CC,EAdc,EAcdA,cAAeC,EAdD,EAcCA,iBAdD,EAeIC,mBAAS,IAfb,mBAefC,EAfe,KAeRC,EAfQ,OAgBgBF,mBAAS,IAhBzB,mBAgBfG,EAhBe,KAgBFC,EAhBE,OAiBQJ,mBAAS,IAjBjB,mBAiBfK,EAjBe,KAiBNC,EAjBM,OAkBIN,mBAAS,IAlBb,mBAkBfO,EAlBe,KAkBRC,EAlBQ,QAmBOR,oBAAS,GAnBhB,qBAmBfS,GAnBe,MAmBRC,GAnBQ,SAoBkBV,oBAAS,GApB3B,qBAoBfW,GApBe,MAoBCC,GApBD,SAqBcZ,oBAAS,GArBvB,qBAqBfa,GArBe,MAqBHC,GArBG,MA8EtB,OAvCAC,qBAAU,WACNhB,EAAiB,MAEN,mBAAPpB,IACAc,EAAQd,GACRmC,IAAc,MAEnB,CAACnC,IAEJoC,qBAAU,WACK,mBAAPpC,IACAqC,QAAQC,IAAIvB,GACRA,IACAsB,QAAQC,IAAIvB,GACZQ,EAASR,EAAKwB,MACdd,EAAeV,EAAKS,aACpBG,EAAWZ,EAAKyB,MAChBT,GAAYhB,EAAKe,OACbf,EAAKa,QACLC,EAASd,EAAKa,MAAMa,KACpBrB,EAAiBL,EAAKa,YAInC,CAACb,IAEJqB,qBAAU,WACN,OAAO,WACHnB,IACAM,EAAS,IACTE,EAAe,IACfE,EAAW,IACXE,EAAS,IACTE,IAAY,GACZE,IAAc,GACdE,IAAc,MAEnB,IAGC,uBAAMO,SAxDW,SAAAC,GACjBA,EAAEC,iBAEEhB,EAAMiB,QAAU,GAChBnB,EAAQmB,QAAU,IAEX,mBAAP7C,EACAS,EAAWmB,EAAON,EAAOE,EAAaM,GAAOJ,GAE7CV,EAAiBM,EAAOE,EAAaM,GAAOJ,EAASE,EAAO5B,GAGhEK,EAAK,qBA4CL,UACKK,GAAa,cAAC,IAAD,CAAOoC,QAASlC,EAAaU,MAAOX,EAASoC,MAAO,kBAAMlC,GAAa,MACpFmB,IAAkB,cAAC,IAAD,CAAYe,MAAO,kBAAMd,IAAc,IAAQJ,SAAUA,IAE5E,eAACtE,EAAD,WACI,8BACI,wCAEJ,gCACI,cAAC,IAAD,CACIyF,MAAM,QACNC,SAAUnB,GACVoB,YAAa,kBAAMnB,IAAY,SAAAoB,GAAS,OAAKA,QAEjD,cAACpF,EAAD,2BACA,cAACE,EAAD,CAAWmF,KAAK,SAAhB,SAA0BlB,GAAa,4BAAsB,mCAIrE,cAAC,IAAD,UAEI,eAACvE,EAAD,WACI,eAACC,EAAD,WACI,+CACA,cAAC,IAAD,CACIoF,MAAM,SACNI,KAAK,OACLb,KAAK,QACLrC,MAAOoB,EACP+B,aAAc,SAACV,GAAD,OAAOpB,EAASoB,EAAEW,OAAOpD,QACvCqD,UAAQ,IAEZ,cAAC,IAAD,CACIP,MAAM,QACNT,KAAK,cACLiB,KAAK,IACLtD,MAAOsB,EACP6B,aAAc,SAACV,GAAD,OAAOlB,EAAekB,EAAEW,OAAOpD,QAC7CqD,UAAQ,IAEZ,kDACA,eAAC1F,EAAD,CAAW4F,QAAS,kBAAMxB,IAAc,IAAOnE,SAAUqD,EAAzD,WACMA,GAAiB,yBAClBA,GAAiB,qBAAKuC,IAAG,UAAKC,6BAAL,oBAAuDxC,EAAcyC,WAAaC,IAAK1C,EAAc0C,YAGvI,eAACjG,EAAD,WACI,cAACM,EAAD,oBACA,cAAC,EAAD,IACA,cAACE,EAAD,CACI8B,MAAOwB,EACPoC,SAAUnC,EACVzC,QAASA,EACTY,QAASA,iB,qJCtJxBiE,EAAkB,SAAC/D,GAC5B,OAAOgE,MAAM,GAAD,OAAIL,6BAAJ,sBAAwD3D,KAG3DiE,EAAgB,SAACC,EAAO3B,EAAMf,EAAaM,EAAOU,EAAM2B,GACjE,IAAMC,EAAY,IAAIC,QACtBD,EAAUE,OAAO,aAAcJ,GAC/BE,EAAUE,OAAO,eAAgB,oBAEjC,IAEMC,EAAiB,CACnBC,OAAQ,OACRC,QAASL,EACTM,KALQC,KAAKC,UAAU,CAAE,KAAQrC,EAAM,YAAef,EAAa,MAASM,EAAO,KAAQU,EAAM,MAAS2B,IAM1GU,SAAU,UAGd,OAAOb,MAAM,GAAD,OAAIL,6BAAJ,oBAA8DY,IAGjEO,EAAa,SAACZ,EAAO3B,EAAMf,EAAaM,EAAOU,EAAM2B,EAAKnE,GACnE,IAAMoE,EAAY,IAAIC,QACtBD,EAAUE,OAAO,aAAcJ,GAC/BE,EAAUE,OAAO,eAAgB,oBAEjC,IAEMC,EAAiB,CACnBC,OAAQ,QACRC,QAASL,EACTM,KALQC,KAAKC,UAAU,CAAE,KAAQrC,EAAM,YAAef,EAAa,MAASM,EAAO,KAAQU,EAAM,MAAS2B,IAM1GU,SAAU,UAGd,OAAOb,MAAM,GAAD,OAAIL,6BAAJ,4BAA8D3D,GAAMuE,IAIvEQ,EAAa,SAACb,EAAOlE,GAC9B,IAAMoE,EAAY,IAAIC,QACtBD,EAAUE,OAAO,aAAcJ,GAC/BE,EAAUE,OAAO,eAAgB,oBAGjC,IAAMC,EAAiB,CACnBC,OAAQ,SACRC,QAASL,EACTS,SAAU,UAGd,OAAOb,MAAM,GAAD,OAAIL,6BAAJ,4BAA8D3D,GAAMuE,IC7CvE/D,EAAcwE,wBAAc,CACrCC,MAAO,KACPlE,KAAM,KACNmE,WAAY,EACZC,SAAU,aACV1E,WAAY,aACZK,QAAS,aACTE,iBAAkB,aAClBoE,iBAAkB,aAClBnE,UAAW,eA6IAoE,UA1IM,SAAC,GAAkB,IAAhBC,EAAe,EAAfA,SACZpB,EAAU3D,qBAAWgF,KAArBrB,MAD2B,EAO/B3D,qBAAWiF,KAHXC,EAJ+B,EAI/BA,WACA5E,EAL+B,EAK/BA,aACA6E,EAN+B,EAM/BA,aAN+B,EASTrE,mBAAS,MATA,mBAS5B4D,EAT4B,KASrBU,EATqB,OAUXtE,mBAAS,MAVE,mBAU5BN,EAV4B,KAUtB6E,EAVsB,OAWCvE,mBAAS,GAXV,mBAW5B6D,EAX4B,KAWhBW,EAXgB,KAa7BV,EAAQ,uCAAG,8BAAAW,EAAA,6DACbJ,GAAa,GACb7E,GAAa,GAFA,SDlCVmD,MAAM,GAAD,OAAIL,6BAAJ,eCkCK,cAIPoC,EAJO,gBAKMA,EAASC,OALf,OAKPC,EALO,OAObN,EAASM,EAAKC,OACdL,EAAcI,EAAKE,OAEnBT,GAAa,GACb7E,GAAa,GAXA,4CAAH,qDAcRC,EAAO,uCAAG,WAAOd,GAAP,iBAAA8F,EAAA,6DACZJ,GAAa,GACb7E,GAAa,GAFD,kBAMekD,EAAgB/D,GAN/B,cAMF+F,EANE,gBAOWA,EAASC,OAPpB,UAOFC,EAPE,OASR5D,QAAQC,IAAI2D,IAERA,EAAKG,KAXD,wBAYJR,EAAQK,EAAKG,MACbvF,GAAa,GACb4E,EAAWQ,EAAKtF,SAdZ,2BAkBRE,GAAa,GACb4E,EAAWQ,EAAKtF,SAnBR,kDAuBR0B,QAAQC,IAAR,MACAmD,EAAW,qBACX5E,GAAa,GAzBL,QA6BZ6E,GAAa,GACb7E,GAAa,GA9BD,0DAAH,sDAiCPJ,EAAU,uCAAG,WAAO0D,EAAK5B,EAAMf,EAAaM,EAAOU,GAAtC,iBAAAsD,EAAA,6DACfJ,GAAa,GACb7E,GAAa,GAFE,kBAKgBoD,EAAcC,EAAO3B,EAAMf,EAAaM,EAAOU,EAAM2B,GALrE,cAKLkC,EALK,gBAMYA,EAAaL,OANzB,OAMLM,EANK,OAQXb,EAAWa,EAAS3F,SACpBE,GAAa,GACbsE,IAVW,kDAYX9C,QAAQC,IAAR,MACAmD,EAAW,qBACX5E,GAAa,GAdF,0DAAH,8DAkBVG,EAAgB,uCAAG,WAAOuB,EAAMf,EAAaM,EAAOU,EAAM2B,EAAKnE,GAA5C,iBAAA8F,EAAA,6DACrBJ,GAAa,GACb7E,GAAa,GAFQ,kBAKUiE,EAAWZ,EAAO3B,EAAMf,EAAaM,EAAOU,EAAM2B,EAAKnE,GALjE,cAKXqG,EALW,gBAMMA,EAAaL,OANnB,OAMXM,EANW,OAQjBb,EAAWa,EAAS3F,SACpBE,GAAa,GACbsE,IAViB,kDAYjB9C,QAAQC,IAAR,MACAmD,EAAW,qBACX5E,GAAa,GAdI,0DAAH,gEAkBhBuE,EAAgB,uCAAG,WAAOpF,GAAP,iBAAA8F,EAAA,6DACrBJ,GAAa,GACb7E,GAAa,GAFQ,kBAKUkE,EAAWb,EAAOlE,GAL5B,cAKXqG,EALW,gBAMMA,EAAaL,OANnB,OAMXM,EANW,OAQjBb,EAAWa,EAAS3F,SACpBE,GAAa,GACbsE,IAViB,kDAajB9C,QAAQC,IAAR,MACAmD,EAAW,qBACX5E,GAAa,GAfI,0DAAH,sDAuBtB,OACI,cAACL,EAAY+F,SAAb,CACIrG,MAAO,CACH+E,QACAlE,OACAmE,aACAC,WACA1E,aACAK,UACAE,mBACAoE,mBACAnE,UAfM,WACd2E,EAAQ,QAIR,SAaKN","file":"static/js/20.f2d6f0aa.chunk.js","sourcesContent":["import styled from 'styled-components'\nimport { paddingStyles } from '../../global.styles'\nimport CustomButtom from '../../components/custom-button/custom-button.component'\nimport ReactQuill from 'react-quill';\n\n\nexport const Header = styled.div`\n    display: flex;\n    justify-content: space-between;\n\n    ${paddingStyles}\n    padding-top: 3rem;\n    padding-bottom: 3rem;\n    color: var(--primary-text-color);\n\n\n    @media all and (max-width: 500px) {\n        flex-direction: column;\n    }\n`\n\nexport const GridContainer = styled.div`\n    display: grid;\n    align-items: start;\n    grid-template-columns: 1fr 1fr;\n    grid-gap: 2rem;\n    height: inherit;\n    height: 100%;\n\n        @media all and (max-width: 800px) {\n            grid-template-columns: 1fr ;\n        }\n\n`\n\nexport const Container = styled.div`\n    padding: 2rem;\n    background-color: var(--container-background-color);\n    box-shadow: var(--container-shadow);\n`\n\nexport const PostImage = styled.div`\n    cursor: pointer;\n    display:flex;\n    align-items: center;\n    justify-content:center;\n    width: 100%;\n    background-color: ${({ hasImage }) => hasImage ? \"transparent\" : \"var(--input-background-color)\"};\n    margin-top: 3rem;\n    padding: 6rem;\n\n    position: relative;\n\n    img {\n        position: absolute;\n        width: 100%;\n        /* height: 100%; */\n        max-height: 40rem;\n        left: 0;\n        top: 0;\n        object-fit: cover;\n        object-position: center;\n\n    }\n`\n\nexport const DeleteButton = styled(CustomButtom)`\n    font-size: 1.4rem;\n    margin: 0 2rem;\n    background-color: var(--color-red);\n\n    @media all and (max-width: 500px) {\n        margin: 0 .8rem;\n    }\n`\nexport const AddButton = styled(CustomButtom)`\n    font-size: 1.4rem;\n`\n\nexport const Title = styled.h2`\n    margin-bottom: 2rem;\n`\n\nexport const ContentTextare = styled(ReactQuill)`\n    height: 50rem;\n    background-color: var(--input-background-color);\n    color: var(--input-color);\n    \n    .ql-container, .ql-toolbar {\n        border: none;\n    }\n`\n","import React, { useState, useContext, useEffect } from 'react'\nimport { BlogContext } from '../../context/blog/blog.context'\nimport { ImageContext } from '../../context/image/image.context'\nimport { useParams, useHistory } from 'react-router-dom'\n\nimport ScrollContainer from '../../components/scroll-container/scroll-container.component'\nimport CustomInput from '../../components/custom-input/custom-input.component'\nimport CustomTextarea from '../../components/custom-textarea/custom-textarea.component'\nimport CustomCheckbox from '../../components/custom-checkbox/custom-checkbox.component'\nimport Popup from '../../components/popup/pop-up.component'\nimport ModalImage from '../../components/modal-images/modal-images.component'\nimport { Quill } from 'react-quill'\n\nimport {\n    Header,\n    GridContainer,\n    PostImage,\n    DeleteButton,\n    AddButton,\n    Title,\n    ContentTextare,\n    Container,\n} from './post.styles'\n\nconst PostSection = () => {\n    const { id } = useParams()\n    const { push } = useHistory()\n    const {\n        createPost,\n        isLoading,\n        message,\n        showLoading,\n        setIsLoading,\n        getPost,\n        post,\n        handlePostUpdate,\n        resetBlog\n    } = useContext(BlogContext)\n    const { selectedImage, setSelectedImage } = useContext(ImageContext)\n    const [title, setTitle] = useState('')\n    const [description, setDescription] = useState('')\n    const [content, setContent] = useState('')\n    const [image, setImage] = useState('')\n    const [draft, toggleDraft] = useState(false)\n    const [showImageModal, setImageModal] = useState(false)\n    const [isUpdating, setIsUpdating] = useState(false)\n\n    const handleSubmit = e => {\n        e.preventDefault()\n\n        if (image.length <= 0) return\n        if (content.length <= 0) return\n\n        if (id === 'novy-prispevok') {\n            createPost(image, title, description, draft, content)\n        } else {\n            handlePostUpdate(title, description, draft, content, image, id)\n        }\n\n        push('/dashboard/blog')\n\n    }\n\n    useEffect(() => {\n        setSelectedImage(null)\n\n        if (id !== 'novy-prispevok') {\n            getPost(id)\n            setIsUpdating(true)\n        }\n    }, [id])\n\n    useEffect(() => {\n        if (id !== 'novy-prispevok') {\n            console.log(post)\n            if (post) {\n                console.log(post)\n                setTitle(post.name)\n                setDescription(post.description)\n                setContent(post.html)\n                toggleDraft(post.draft)\n                if (post.image) {\n                    setImage(post.image._id)\n                    setSelectedImage(post.image)\n                }\n            }\n        }\n    }, [post])\n\n    useEffect(() => {\n        return () => {\n            resetBlog()\n            setTitle('')\n            setDescription('')\n            setContent('')\n            setImage('')\n            toggleDraft(false)\n            setImageModal(false)\n            setIsUpdating(false)\n        }\n    }, [])\n\n    return (\n        <form onSubmit={handleSubmit}>\n            {isLoading && <Popup loading={showLoading} title={message} close={() => setIsLoading(false)} />}\n            {showImageModal && <ModalImage close={() => setImageModal(false)} setImage={setImage} />}\n\n            <Header>\n                <div>\n                    <h1>Post</h1>\n                </div>\n                <div>\n                    <CustomCheckbox\n                        label='Draft'\n                        isActive={draft}\n                        handleClick={() => toggleDraft(prevValue => !prevValue)}\n                    />\n                    <DeleteButton>Vymazať</DeleteButton>\n                    <AddButton type='submit'>{isUpdating ? \"Upraviť príspevok\" : \"Pridať príspevok\"}</AddButton>\n                </div>\n            </Header>\n\n            <ScrollContainer>\n\n                <GridContainer>\n                    <Container>\n                        <h2>Informácia</h2>\n                        <CustomInput\n                            label=\"Nadpis\"\n                            type='text'\n                            name='title'\n                            value={title}\n                            handleChange={(e) => setTitle(e.target.value)}\n                            required\n                        />\n                        <CustomTextarea\n                            label=\"Popis\"\n                            name='description'\n                            rows='5'\n                            value={description}\n                            handleChange={(e) => setDescription(e.target.value)}\n                            required\n                        />\n                        <h2>Titulná fotka</h2>\n                        <PostImage onClick={() => setImageModal(true)} hasImage={selectedImage}>\n                            {!selectedImage && \"Vybrať obrázok\"}\n                            {selectedImage && <img src={`${process.env.REACT_APP_BACKEND_ENDPOINT}/uploads/${selectedImage.imagePath}`} alt={selectedImage.alt} />}\n                        </PostImage>\n                    </Container>\n                    <Container>\n                        <Title>Obsah</Title>\n                        <QuillToolbar />\n                        <ContentTextare\n                            value={content}\n                            onChange={setContent}\n                            modules={modules}\n                            formats={formats}\n                        />\n                    </Container>\n\n                </GridContainer>\n\n            </ScrollContainer>\n        </form>\n    )\n}\n\n\nconst CustomUndo = () => (\n    <svg viewBox=\"0 0 18 18\">\n        <polygon className=\"ql-fill ql-stroke\" points=\"6 10 4 12 2 10 6 10\" />\n        <path\n            className=\"ql-stroke\"\n            d=\"M8.09,13.91A4.6,4.6,0,0,0,9,14,5,5,0,1,0,4,9\"\n        />\n    </svg>\n);\n\n// Redo button icon component for Quill editor\nconst CustomRedo = () => (\n    <svg viewBox=\"0 0 18 18\">\n        <polygon className=\"ql-fill ql-stroke\" points=\"12 10 14 12 16 10 12 10\" />\n        <path\n            className=\"ql-stroke\"\n            d=\"M9.91,13.91A4.6,4.6,0,0,1,9,14a5,5,0,1,1,5-5\"\n        />\n    </svg>\n);\n\n// Undo and redo functions for Custom Toolbar\nfunction undoChange() {\n    this.quill.history.undo();\n}\nfunction redoChange() {\n    this.quill.history.redo();\n}\n\n// Add sizes to whitelist and register them\nconst Size = Quill.import(\"formats/size\");\nSize.whitelist = [\"extra-small\", \"small\", \"medium\", \"large\"];\nQuill.register(Size, true);\n\n// Add fonts to whitelist and register them\nconst Font = Quill.import(\"formats/font\");\nFont.whitelist = [\n    \"arial\",\n    \"comic-sans\",\n    \"courier-new\",\n    \"georgia\",\n    \"helvetica\",\n    \"lucida\"\n];\nQuill.register(Font, true);\n\n// Modules object for setting up the Quill editor\nconst modules = {\n    toolbar: {\n        container: \"#toolbar\",\n        handlers: {\n            undo: undoChange,\n            redo: redoChange\n        }\n    },\n    history: {\n        delay: 500,\n        maxStack: 100,\n        userOnly: true\n    }\n};\n\n// Formats objects for setting up the Quill editor\nconst formats = [\n    \"header\",\n    \"font\",\n    \"size\",\n    \"bold\",\n    \"italic\",\n    \"underline\",\n    \"align\",\n    \"strike\",\n    \"script\",\n    \"blockquote\",\n    \"background\",\n    \"list\",\n    \"bullet\",\n    \"indent\",\n    \"link\",\n    \"image\",\n    \"color\",\n    \"code-block\"\n];\n\n// Quill Toolbar component\nconst QuillToolbar = () => (\n    <div id=\"toolbar\" className=\"toolbar\">\n        <span className=\"ql-formats\">\n            <select className=\"ql-size\" defaultValue=\"medium\">\n                <option value=\"extra-small\">Size 1</option>\n                <option value=\"small\">Size 2</option>\n                <option value=\"medium\">Size 3</option>\n                <option value=\"large\">Size 4</option>\n            </select>\n            <select className=\"ql-header\" defaultValue=\"3\">\n                <option value=\"1\">Heading</option>\n                <option value=\"2\">Subheading</option>\n                <option value=\"3\">Normal</option>\n            </select>\n        </span>\n        <span className=\"ql-formats\">\n            <button className=\"ql-bold\" />\n            <button className=\"ql-italic\" />\n            <button className=\"ql-underline\" />\n            <button className=\"ql-strike\" />\n        </span>\n        <span className=\"ql-formats\">\n            <button className=\"ql-list\" value=\"ordered\" />\n            <button className=\"ql-list\" value=\"bullet\" />\n            <button className=\"ql-indent\" value=\"-1\" />\n            <button className=\"ql-indent\" value=\"+1\" />\n        </span>\n        <span className=\"ql-formats\">\n            <button className=\"ql-script\" value=\"super\" />\n            <button className=\"ql-script\" value=\"sub\" />\n            <button className=\"ql-blockquote\" />\n            <button className=\"ql-direction\" />\n        </span>\n        <span className=\"ql-formats\">\n            <select className=\"ql-align\" />\n            <select className=\"ql-color\" />\n            <select className=\"ql-background\" />\n        </span>\n        <span className=\"ql-formats\">\n            <button className=\"ql-link\" />\n            <button className=\"ql-image\" />\n            <button className=\"ql-video\" />\n        </span>\n        <span className=\"ql-formats\">\n            <button className=\"ql-formula\" />\n            <button className=\"ql-code-block\" />\n            <button className=\"ql-clean\" />\n        </span>\n        <span className=\"ql-formats\">\n            <button className=\"ql-undo\">\n                <CustomUndo />\n            </button>\n            <button className=\"ql-redo\">\n                <CustomRedo />\n            </button>\n        </span>\n    </div>\n);\n\n\nexport default PostSection\n","\n\nexport const fetchPosts = () => {\n    return fetch(`${process.env.REACT_APP_BACKEND_ENDPOINT}/api/blogs`)\n}\n\nexport const fetchSinglePost = (id) => {\n    return fetch(`${process.env.REACT_APP_BACKEND_ENDPOINT}/api/blogs/${id}`)\n}\n\nexport const createNewPost = (token, name, description, draft, html, img) => {\n    const myHeaders = new Headers();\n    myHeaders.append(\"auth-token\", token);\n    myHeaders.append(\"Content-Type\", \"application/json\");\n\n    const raw = JSON.stringify({ \"name\": name, \"description\": description, \"draft\": draft, \"html\": html, 'image': img });\n\n    const requestOptions = {\n        method: 'POST',\n        headers: myHeaders,\n        body: raw,\n        redirect: 'follow'\n    };\n\n    return fetch(`${process.env.REACT_APP_BACKEND_ENDPOINT}/api/admin/blogs`, requestOptions)\n}\n\nexport const updatePost = (token, name, description, draft, html, img, id) => {\n    const myHeaders = new Headers();\n    myHeaders.append(\"auth-token\", token);\n    myHeaders.append(\"Content-Type\", \"application/json\");\n\n    const raw = JSON.stringify({ \"name\": name, \"description\": description, \"draft\": draft, \"html\": html, 'image': img });\n\n    const requestOptions = {\n        method: 'PATCH',\n        headers: myHeaders,\n        body: raw,\n        redirect: 'follow'\n    };\n\n    return fetch(`${process.env.REACT_APP_BACKEND_ENDPOINT}/api/admin/blogs/${id}`, requestOptions)\n\n}\n\nexport const deletePost = (token, id) => {\n    const myHeaders = new Headers();\n    myHeaders.append(\"auth-token\", token);\n    myHeaders.append(\"Content-Type\", \"application/json\");\n\n\n    const requestOptions = {\n        method: 'DELETE',\n        headers: myHeaders,\n        redirect: 'follow'\n    };\n\n    return fetch(`${process.env.REACT_APP_BACKEND_ENDPOINT}/api/admin/blogs/${id}`, requestOptions)\n\n}\n\n","import React, { createContext, useState, useContext } from 'react'\nimport { AuthContext } from '../auth/auth.context'\nimport { LoadingModalContext } from '../loading-modal/loading-modal.contenxt'\nimport {\n    fetchPosts,\n    createNewPost,\n    fetchSinglePost,\n    updatePost,\n    deletePost,\n} from './blog.queries'\n\n\nexport const BlogContext = createContext({\n    posts: null,\n    post: null,\n    postsCount: 0,\n    getPosts: () => { },\n    createPost: () => { },\n    getPost: () => { },\n    handlePostUpdate: () => { },\n    handlePostDelete: () => { },\n    resetBlog: () => { }\n})\n\nconst BlogProvider = ({ children }) => {\n    const { token } = useContext(AuthContext)\n\n    const {\n        getMessage,\n        setIsLoading,\n        setShowModal\n    } = useContext(LoadingModalContext)\n\n    const [posts, setPosts] = useState(null)\n    const [post, setPost] = useState(null)\n    const [postsCount, setPostsCount] = useState(0)\n\n    const getPosts = async () => {\n        setShowModal(true)\n        setIsLoading(true)\n\n        const response = await fetchPosts()\n        const data = await response.json()\n\n        setPosts(data.blogs)\n        setPostsCount(data.count)\n\n        setShowModal(false)\n        setIsLoading(false)\n    }\n\n    const getPost = async (id) => {\n        setShowModal(true)\n        setIsLoading(true)\n\n        try {\n\n            const response = await fetchSinglePost(id)\n            const data = await response.json()\n\n            console.log(data)\n\n            if (data.blog) {\n                setPost(data.blog)\n                setIsLoading(false)\n                getMessage(data.message)\n                return\n            }\n\n            setIsLoading(false)\n            getMessage(data.message)\n            // setPosts(data.blogs)\n            // setPostsCount(data.count)\n        } catch (err) {\n            console.log(err)\n            getMessage(\"Nieco sa pokazilo\")\n            setIsLoading(false)\n        }\n\n\n        setShowModal(false)\n        setIsLoading(false)\n    }\n\n    const createPost = async (img, name, description, draft, html) => {\n        setShowModal(true)\n        setIsLoading(true)\n\n        try {\n            const postResponse = await createNewPost(token, name, description, draft, html, img)\n            const postData = await postResponse.json()\n\n            getMessage(postData.message)\n            setIsLoading(false)\n            getPosts()\n        } catch (err) {\n            console.log(err)\n            getMessage(\"Nieco sa pokazilo\")\n            setIsLoading(false)\n        }\n    }\n\n    const handlePostUpdate = async (name, description, draft, html, img, id) => {\n        setShowModal(true)\n        setIsLoading(true)\n\n        try {\n            const postResponse = await updatePost(token, name, description, draft, html, img, id)\n            const postData = await postResponse.json()\n\n            getMessage(postData.message)\n            setIsLoading(false)\n            getPosts()\n        } catch (err) {\n            console.log(err)\n            getMessage(\"Nieco sa pokazilo\")\n            setIsLoading(false)\n        }\n    }\n\n    const handlePostDelete = async (id) => {\n        setShowModal(true)\n        setIsLoading(true)\n\n        try {\n            const postResponse = await deletePost(token, id)\n            const postData = await postResponse.json()\n\n            getMessage(postData.message)\n            setIsLoading(false)\n            getPosts()\n\n        } catch (err) {\n            console.log(err)\n            getMessage(\"Nieco sa pokazilo\")\n            setIsLoading(false)\n        }\n    }\n\n    const resetBlog = () => {\n        setPost(null)\n    }\n\n    return (\n        <BlogContext.Provider\n            value={{\n                posts,\n                post,\n                postsCount,\n                getPosts,\n                createPost,\n                getPost,\n                handlePostUpdate,\n                handlePostDelete,\n                resetBlog,\n            }}\n        >\n            {children}\n        </BlogContext.Provider>\n    )\n}\n\nexport default BlogProvider"],"sourceRoot":""}