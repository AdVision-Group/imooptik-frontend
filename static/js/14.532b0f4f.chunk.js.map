{"version":3,"sources":["context/booking/booking.queries.jsx","context/booking/booking.utils.jsx","context/booking/booking.context.jsx","sections/calendar/calendar.styles.jsx","sections/calendar/calendar.section.jsx","components/custom-input/custom-input.styles.jsx","components/custom-input/custom-input.component.jsx","components/scroll-container/scroll-container.styles.jsx","components/scroll-container/scroll-container.component.jsx","components/product-input-row/product-input-row.styles.jsx","components/product-input-row/product-input-row.component.jsx"],"names":["fetchSingleCalendar","id","fetch","process","fetchUserBookings","token","myHeaders","Headers","append","requestOptions","method","headers","redirect","postCalendar","calendar","console","log","body","JSON","stringify","patchCalendar","name","interval","startTimes","endTimes","daysIntoFuture","allowMinutesBefore","_id","deleteCalendar","initCalendarObj","premises","exceptDays","BookingContext","createContext","calendars","handleCalendarChange","handleDayTimeChange","getCalendars","getCalendar","createCalendar","updateCalendar","delCalendar","isUpdatingCalendar","bookings","getBookings","userBookings","getUserBookings","activeCalendar","resetBooking","selectedDate","value","setSelectedDate","BookingProvider","children","push","useHistory","useContext","AuthContext","LoadingModalContext","getMessage","setIsLoading","setShowModal","closeModal","useState","setIsUpdatingCalendar","setActiveCalendar","setCalendars","setCalendar","a","response","json","data","error","message","idx","calendarToAdd","calendarToUpdate","setBookings","setUserBookings","Provider","e","target","arr","Header","styled","div","paddingStyles","CreateCalendarButton","CustomButton","DeleteCalendarButton","DayTimesContainer","DayNames","CalendarSection","calendarId","useParams","isLoading","showModal","useEffect","loading","title","close","onSubmit","preventDefault","onClick","label","example","type","handleChange","required","toString","map","shrinkLabel","css","InputGroup","CustomInput","otherProps","className","onChange","htmlFor","length","Container","FixedContainer","ScrollContainer","InputRow","ProductInputRow","otherprops"],"mappings":"yPAMaA,EAAsB,SAACC,GAChC,OAAOC,MAAM,GAAD,OAAIC,6BAAJ,kCAAoEF,KAUvEG,EAAoB,SAACC,GAC9B,IAAMC,EAAY,IAAIC,QACtBD,EAAUE,OAAO,aAAcH,GAE/B,IAAMI,EAAiB,CACnBC,OAAQ,MACRC,QAASL,EACTM,SAAU,UAGd,OAAOV,MAAM,GAAD,OAAIC,6BAAJ,mCAA6EM,IAIhFI,EAAe,SAACR,EAAOS,GAChC,IAAMR,EAAY,IAAIC,QACtBD,EAAUE,OAAO,aAAcH,GAC/BC,EAAUE,OAAO,eAAgB,oBAEjCO,QAAQC,IAAIF,GAGZ,IAIML,EAAiB,CACnBC,OAAQ,OACRC,QAASL,EACTW,KAPQC,KAAKC,UAAL,eACLL,IAOHF,SAAU,UAGd,OAAOV,MAAM,GAAD,OAAIC,6BAAJ,gCAA0EM,IAG7EW,EAAgB,SAACf,EAAOS,GACjC,IAAMR,EAAY,IAAIC,QACtBD,EAAUE,OAAO,aAAcH,GAC/BC,EAAUE,OAAO,eAAgB,oBAEjCO,QAAQC,IAAIF,GALkC,IAQ1CO,EAMAP,EANAO,KACAC,EAKAR,EALAQ,SACAC,EAIAT,EAJAS,WACAC,EAGAV,EAHAU,SACAC,EAEAX,EAFAW,eACAC,EACAZ,EADAY,mBAYEjB,EAAiB,CACnBC,OAAQ,QACRC,QAASL,EACTW,KAZQC,KAAKC,UAAU,CACvBE,OACAC,WACAC,aACAC,WACAC,iBACAC,uBAOAd,SAAU,UAGd,OAAOV,MAAM,GAAD,OAAIC,6BAAJ,wCAA0EW,EAASa,KAAOlB,IAG7FmB,EAAiB,SAAC3B,GAoB3B,OAAOC,MAAM,GAAD,OAAIC,6BAAJ,wCAA0EF,GAP/D,CACnBS,OAAQ,SAGRE,SAAU,YCzGLiB,EAAkB,CAC3BR,KAAM,GACNC,SAAU,GACVC,WAAY,CAAC,QAAS,QAAS,QAAS,QAAS,QAAS,IAAK,KAC/DC,SAAU,CAAC,QAAS,QAAS,QAAS,QAAS,QAAS,IAAK,KAC7DC,eAAgB,GAChBK,SAAU,EACVJ,mBAAoB,IACpBK,WAAY,CAAE,aAAc,gBCYnBC,EAAiBC,wBAAc,CACxCnB,SAAU,KACVoB,UAAW,KACXC,qBAAsB,aACtBC,oBAAqB,aACrBC,aAAc,aACdC,YAAa,aACbC,eAAgB,aAChBC,eAAgB,aAChBC,YAAa,aACbC,oBAAoB,EACpBC,SAAU,KACVC,YAAa,aACbC,aAAc,KACdC,gBAAiB,aAGjBC,eAAgB,EAChBC,aAAc,aACdC,aAAc,CACV5B,KAAM,GACN6B,MAAO,IAEXC,gBAAiB,eAkRNC,UA/QS,SAAC,GAAkB,IAAhBC,EAAe,EAAfA,SACfC,EAASC,cAATD,KACAjD,EAAUmD,qBAAWC,KAArBpD,MAF8B,EAQlCmD,qBAAWE,KAJXC,EAJkC,EAIlCA,WACAC,EALkC,EAKlCA,aACAC,EANkC,EAMlCA,aACAC,EAPkC,EAOlCA,WAPkC,EAacC,oBAAS,GAbvB,mBAa/BrB,EAb+B,KAaXsB,EAbW,OAcMD,mBAAS,GAdf,mBAc/BhB,EAd+B,KAcfkB,EAde,OAeJF,mBAAS,MAfL,mBAe/B7B,EAf+B,KAepBgC,EAfoB,OAgBNH,mBAASlC,GAhBH,mBAgB/Bf,EAhB+B,KAgBrBqD,EAhBqB,OAiBEJ,mBAAS,CAC7C1C,KAAM,GACN6B,MAAO,KAnB2B,mBAiB/BD,EAjB+B,KAiBjBE,EAjBiB,KAyChCd,EAAY,uCAAG,8BAAA+B,EAAA,6DACjBR,GAAa,GACbC,GAAa,GAFI,kBFpFd3D,MAAM,GAAD,OAAIC,6BAAJ,2BEoFS,cAKPkE,EALO,gBAMMA,EAASC,OANf,YAMPC,EANO,QAQJC,MARI,wBASTb,EAAWY,EAAKE,SAChBb,GAAa,GAVJ,+BAcTW,EAAKrC,UAdI,wBAeTgC,EAAaK,EAAKrC,WAClB0B,GAAa,GACbE,IAjBS,2BAqBbH,EAAWY,EAAKE,SAChBb,GAAa,GAtBA,kDAwBb7C,QAAQC,IAAR,MACA2C,EAAW,qBACXC,GAAa,GA1BA,0DAAH,qDA+BZtB,EAAW,uCAAG,WAAOrC,EAAIyE,GAAX,iBAAAN,EAAA,6DAChBR,GAAa,GACbC,GAAa,GACbV,EAAgB,CACZ9B,KAAM,GACN6B,MAAO,KAENwB,GACDV,GAAsB,GARV,kBAYWhE,EAAoBC,GAZ/B,cAYNoE,EAZM,iBAaOA,EAASC,OAbhB,WAaNC,EAbM,OAeZxD,QAAQC,IAAIuD,IACRA,EAAKzD,SAhBG,wBAiBRqD,EAAYI,EAAKzD,UACjBmD,EAAkBS,GAClBZ,IAnBQ,2BAuBZH,EAAWY,EAAKE,SAChBb,GAAa,GAxBD,kDA2BZ7C,QAAQC,IAAR,MACA2C,EAAW,qBACXC,GAAa,GA7BD,0DAAH,wDAiCXrB,EAAc,uCAAG,WAAOoC,GAAP,iBAAAP,EAAA,6DACnBR,GAAa,GACbC,GAAa,GAFM,kBAIQhD,EAAaR,EAAOsE,GAJ5B,cAITN,EAJS,gBAKIA,EAASC,OALb,YAKTC,EALS,QAONzD,SAPM,wBAQX8C,GAAa,GACbE,IACAzB,IACAiB,EAAK,yBAXM,2BAefM,GAAa,GACbD,EAAWY,EAAKE,SAhBD,kDAmBf1D,QAAQC,IAAR,MACA2C,EAAW,qBACXC,GAAa,GArBE,0DAAH,sDAyBdpB,EAAc,uCAAG,WAAOoC,GAAP,iBAAAR,EAAA,6DACnBR,GAAa,GACbC,GAAa,GAFM,kBAKQzC,EAAcf,EAAOuE,GAL7B,cAKTP,EALS,gBAMIA,EAASC,OANb,UAMTC,EANS,OAQfxD,QAAQC,IAAIuD,IACRA,EAAKzD,SATM,wBAUX8C,GAAa,GACbE,IACAzB,IACAiB,EAAK,yBAbM,2BAiBfM,GAAa,GACbD,EAAWY,EAAKE,SAlBD,kDAqBf1D,QAAQC,IAAR,MACA2C,EAAW,qBACXC,GAAa,GAvBE,0DAAH,sDA2BdnB,EAAW,uCAAG,WAAOxC,GAAP,iBAAAmE,EAAA,6DAChBR,GAAa,GACbC,GAAa,GAFG,kBAKWjC,EAAe3B,GAL1B,cAKNoE,EALM,gBAMOA,EAASC,OANhB,OAMNC,EANM,OAQZxD,QAAQC,IAAIuD,GAEZX,GAAa,GACbD,EAAWY,EAAKE,SAXJ,kDAaZ1D,QAAQC,IAAR,MACA2C,EAAW,qBACXC,GAAa,GAfD,0DAAH,sDA7JqB,EAmLNG,mBAAS,MAnLH,mBAmL/BpB,EAnL+B,KAmLrBkC,GAnLqB,QAoLEd,mBAAS,MApLX,qBAoL/BlB,GApL+B,MAoLjBiC,GApLiB,MAsLhClC,GAAW,uCAAG,8BAAAwB,EAAA,6DAChBR,GAAa,GACbC,GAAa,GAFG,kBFzNb3D,MAAM,GAAD,OAAIC,6BAAJ,0BEyNQ,cAKNkE,EALM,gBAMOA,EAASC,OANhB,YAMNC,EANM,QAQHC,MARG,wBASRb,EAAWY,EAAKE,SAChBb,GAAa,GAVL,2BAcRW,EAAK5B,WACLkC,GAAYN,EAAK5B,UACjBiB,GAAa,GACbE,KAGJH,EAAWY,EAAKE,SAChBb,GAAa,GArBD,kDAuBZ7C,QAAQC,IAAR,MACA2C,EAAW,qBACXC,GAAa,GAzBD,0DAAH,qDA6BXd,GAAe,uCAAG,8BAAAsB,EAAA,6DACpBR,GAAa,GACbC,GAAa,GAFO,kBAKOzD,EAAkBC,GALzB,cAKVgE,EALU,gBAMGA,EAASC,OANZ,YAMVC,EANU,QAQP1B,aARO,wBASZiC,GAAgBP,EAAK1B,cACrBiB,IAVY,2BAchBH,EAAWY,EAAKE,SAChBb,GAAa,GAfG,kDAkBhB7C,QAAQC,IAAR,MACA2C,EAAW,qBACXC,GAAa,GApBG,0DAAH,qDA8BrB,OACI,cAAC5B,EAAe+C,SAAhB,CACI7B,MAAO,CACHpC,WACAoB,YACAC,qBAhOiB,SAAC6C,GAAO,IAAD,EACRA,EAAEC,OAAlB5D,EADwB,EACxBA,KAAM6B,EADkB,EAClBA,MACdiB,EAAY,2BACLrD,GADI,kBAENO,EAAO6B,MA6NJd,oBAzNgB,SAAC4C,EAAGN,GAAS,IAAD,EACZM,EAAEC,OAAlB5D,EAD4B,EAC5BA,KAAM6B,EADsB,EACtBA,MACVgC,EAAMpE,EAASS,WACnB2D,EAAIR,GAAOxB,EACXiB,EAAY,2BACLrD,GADI,kBAENO,EAAO6D,MAoNJ7C,eACAC,cACAC,iBACAC,iBACAC,cACAC,qBACAC,WACAC,eACAC,gBACAC,mBAGAC,iBACAC,aA1BS,WACjBiB,EAAkB,GAClBE,EAAYtC,GACZmC,GAAsB,IAwBdf,eACAE,mBArBR,SAwBKE,M,gmCCpTN,IAAM8B,EAASC,IAAOC,IAAV,IACbC,KAQOC,EAAuBH,YAAOI,IAAPJ,CAAH,KAGpBK,EAAuBL,YAAOI,IAAPJ,CAAH,KAKpBM,EAAoBN,IAAOC,IAAV,KAcjBM,EAAWP,IAAOC,IAAV,KCgKNO,UAjLS,WAAO,IACnBC,EAAeC,cAAfD,WADkB,EAYtBrC,qBAAWxB,kBATXU,EAHsB,EAGtBA,mBACAP,EAJsB,EAItBA,qBACAC,EALsB,EAKtBA,oBACAE,EANsB,EAMtBA,YACAC,EAPsB,EAOtBA,eACAC,EARsB,EAQtBA,eACAC,EATsB,EAStBA,YACA3B,EAVsB,EAUtBA,SACAkC,EAXsB,EAWtBA,aAXsB,EAmBtBQ,qBAAWE,KAJXI,EAfsB,EAetBA,WACAiC,EAhBsB,EAgBtBA,UACAtB,EAjBsB,EAiBtBA,QACAuB,EAlBsB,EAkBtBA,UAyBJ,OAZAC,qBAAU,WACa,kBAAfJ,GACAvD,EAAYuD,KAEjB,CAACA,IAEJI,qBAAU,WACN,OAAO,WACHjD,OAEL,KAEElC,GAAYkF,EAAkB,cAAC,IAAD,CAAOE,QAASH,EAAWI,MAAO1B,EAAS2B,MAAOtC,KAGrF/C,QAAQC,IAAI0B,GACZ3B,QAAQC,IAAIF,GAGR,kCACI,uBAAMuF,SA9BO,SAACrB,GAClBA,EAAEsB,iBACiB,kBAAfT,EACAtD,EAAezB,IAEfC,QAAQC,IAAI,mBACZwB,EAAe1B,KAwBf,UACI,eAACqE,EAAD,WACI,8BACI,6BAAKzC,EAAkB,uBAAgB5B,EAASO,MAAS,0BAE7D,gCACKqB,GAAsB,cAAC+C,EAAD,CAAsBc,QAAS,kBAAM9D,EAAYoD,IAAjD,+BACvB,cAACN,EAAD,UAAuB7C,EAAqB,2BAAqB,oCAGzE,eAAC,IAAD,WACI,cAAC,IAAD,CACI8D,MAAM,oBACNC,QAAQ,GAFZ,SAII,cAAC,IAAD,CACID,MAAM,gBACNE,KAAK,OACLrF,KAAK,OACL6B,MAAOpC,EAASO,KAChBsF,aAAc,SAAC3B,GAAD,OAAO7C,EAAqB6C,IAC1C4B,UAAQ,MAGhB,cAAC,IAAD,CACIJ,MAAM,gDACNC,QAAQ,GAFZ,SAII,cAAC,IAAD,CACID,MAAM,oBACNE,KAAK,SACLrF,KAAK,iBACL6B,MAAOpC,EAASW,eAAeoF,WAC/BF,aAAc,SAAC3B,GAAD,OAAO7C,EAAqB6C,IAC1C4B,UAAQ,MAGhB,cAAC,IAAD,CACIJ,MAAM,oDACNC,QAAQ,GAFZ,SAII,cAAC,IAAD,CACID,MAAM,MACNE,KAAK,SACLrF,KAAK,qBACL6B,MAAOpC,EAASY,mBAAmBmF,WACnCF,aAAc,SAAC3B,GAAD,OAAO7C,EAAqB6C,IAC1C4B,UAAQ,MAGhB,cAAC,IAAD,CACIJ,MAAM,iCACNC,QAAQ,GAFZ,SAII,cAAC,IAAD,CACID,MAAM,OACNE,KAAK,SACLrF,KAAK,WACL6B,MAAOpC,EAASQ,SAASuF,WACzBF,aAAc,SAAC3B,GAAD,OAAO7C,EAAqB6C,IAC1C4B,UAAQ,MAIhB,eAAClB,EAAD,WACI,eAACC,EAAD,WACI,qCACA,8BACI,4CAEJ,8BACI,0CAEJ,8BACI,0CAEJ,8BACI,gDAEJ,8BACI,0CAEJ,8BACI,0CAEJ,8BACI,kDAGR,gCACI,0DACC7E,EAASS,WAAWuF,KAAI,SAAC5D,EAAOwB,GAAR,OACrB,8BACI,cAAC,IAAD,CACI8B,MAAM,mBACNE,KAAK,OACLrF,KAAK,aACL6B,MAAOA,EACPyD,aAAc,SAAC3B,GAAD,OAAO5C,EAAoB4C,EAAGN,IAC5CkC,UAAQ,KAPNlC,SAYlB,gCACI,mDACC5D,EAASU,SAASsF,KAAI,SAAC5D,EAAOwB,GAAR,OACnB,8BACI,cAAC,IAAD,CACI8B,MAAM,mBACNE,KAAK,OACLrF,KAAK,WACL6B,MAAOA,EACPyD,aAAc,SAAC3B,GAAD,OAAO5C,EAAoB4C,EAAGN,IAC5CkC,UAAQ,KAPNlC,uB,+7CC9K1C,IAAMqC,EAAcC,YAAH,KAMJC,EAAa7B,IAAOC,IAAV,IAwBT0B,EAmBAA,GC5BCG,IAnBK,SAAC,GAAkD,IAAhDP,EAA+C,EAA/CA,aAAcH,EAAiC,EAAjCA,MAAOnF,EAA0B,EAA1BA,KAAS8F,EAAiB,+CAClE,OACI,eAACF,EAAD,WACI,mCACIG,UAAU,aACV/F,KAAMA,EACNgG,SAAUV,GACNQ,IAEPX,EACG,uBAAOc,QAASjG,EAAM+F,UAAS,UAAKD,EAAWjE,MAAMqE,OAAS,SAAW,GAA1C,qBAA/B,SACKf,IAEL,U,28BCdT,IAAMgB,EAAYpC,IAAOC,IAAV,IAOhBC,KAgCOmC,EAAiBrC,IAAOC,IAAV,KC7BZqC,IAVS,SAAC,GAAkB,IAAhBrE,EAAe,EAAfA,SACvB,OACI,cAACmE,EAAD,UACI,cAACC,EAAD,UACKpE,Q,uhBCLV,IAAMsE,E,KAAWvC,EAAOC,IAAV,KCeNuC,IAbS,SAAC,GAAiD,IAA/CvE,EAA8C,EAA9CA,SAAUmD,EAAoC,EAApCA,MAAOC,EAA6B,EAA7BA,QAAYoB,EAAiB,8CACrE,OACI,eAACF,EAAD,2BAAcE,GAAd,cACI,8BACKxE,IAEL,8BACI,8BAAImD,EAAQ,IAAI,+BAAOC","file":"static/js/14.532b0f4f.chunk.js","sourcesContent":["\n\nexport const fetchCalendars = () => {\n    return fetch(`${process.env.REACT_APP_BACKEND_ENDPOINT}/api/booking/calendars`)\n}\n\nexport const fetchSingleCalendar = (id) => {\n    return fetch(`${process.env.REACT_APP_BACKEND_ENDPOINT}/api/booking/calendars/${id}`)\n}\n\nexport const fetchBookings = () => {\n    return fetch(`${process.env.REACT_APP_BACKEND_ENDPOINT}/api/booking/bookings`)\n}\nexport const fetchBookingRows = () => {\n    return fetch(`${process.env.REACT_APP_BACKEND_ENDPOINT}/api/booking/bookingRows`)\n}\n\nexport const fetchUserBookings = (token) => {\n    const myHeaders = new Headers();\n    myHeaders.append(\"auth-token\", token);\n\n    const requestOptions = {\n        method: 'GET',\n        headers: myHeaders,\n        redirect: 'follow'\n    };\n\n    return fetch(`${process.env.REACT_APP_BACKEND_ENDPOINT}/api/admin/booking/userBookings`, requestOptions)\n}\n\n\nexport const postCalendar = (token, calendar) => {\n    const myHeaders = new Headers();\n    myHeaders.append(\"auth-token\", token);\n    myHeaders.append(\"Content-Type\", \"application/json\");\n\n    console.log(calendar)\n\n\n    const raw = JSON.stringify({\n        ...calendar\n    });\n\n    const requestOptions = {\n        method: 'POST',\n        headers: myHeaders,\n        body: raw,\n        redirect: 'follow'\n    };\n\n    return fetch(`${process.env.REACT_APP_BACKEND_ENDPOINT}/api/admin/booking/calendars`, requestOptions)\n}\n\nexport const patchCalendar = (token, calendar) => {\n    const myHeaders = new Headers();\n    myHeaders.append(\"auth-token\", token);\n    myHeaders.append(\"Content-Type\", \"application/json\");\n\n    console.log(calendar)\n\n    const {\n        name,\n        interval,\n        startTimes,\n        endTimes,\n        daysIntoFuture,\n        allowMinutesBefore\n    } = calendar\n\n    const raw = JSON.stringify({\n        name,\n        interval,\n        startTimes,\n        endTimes,\n        daysIntoFuture,\n        allowMinutesBefore\n    });\n\n    const requestOptions = {\n        method: 'PATCH',\n        headers: myHeaders,\n        body: raw,\n        redirect: 'follow'\n    };\n\n    return fetch(`${process.env.REACT_APP_BACKEND_ENDPOINT}/api/admin/booking/calendars/${calendar._id}`, requestOptions)\n}\n\nexport const deleteCalendar = (id) => {\n    // /api/admin/booking/calendars/:id\n    // const myHeaders = new Headers();\n    // myHeaders.append(\"auth-token\", token);\n    // myHeaders.append(\"Content-Type\", \"application/json\");\n\n    // console.log(calendar)\n\n\n    // const raw = JSON.stringify({\n    //     ...calendar\n    // });\n\n    const requestOptions = {\n        method: 'DELETE',\n        // headers: myHeaders,\n        // body: raw,\n        redirect: 'follow'\n    };\n\n    return fetch(`${process.env.REACT_APP_BACKEND_ENDPOINT}/api/admin/booking/calendars/${id}`, requestOptions)\n\n}","export const initCalendarObj = {\n    name: '',\n    interval: 30,\n    startTimes: [\"10/00\", \"10/00\", \"10/00\", \"10/00\", \"10/00\", \"X\", \"X\"],\n    endTimes: [\"16/00\", \"16/00\", \"18/00\", \"16/00\", \"16/00\", \"X\", \"X\"],\n    daysIntoFuture: 60,\n    premises: 1,\n    allowMinutesBefore: 120,\n    exceptDays: { \"24/12/2020\": \"00/00-23/59\" }\n}","import React, { createContext, useState, useContext } from 'react'\nimport { LoadingModalContext } from '../loading-modal/loading-modal.contenxt'\nimport { AuthContext } from '../auth/auth.context'\nimport { useHistory } from 'react-router-dom'\n\nimport {\n    fetchCalendars,\n    fetchSingleCalendar,\n    fetchBookings,\n    // fetchBookingRows,\n    fetchUserBookings,\n    postCalendar,\n    patchCalendar,\n    deleteCalendar\n} from './booking.queries'\n\nimport {\n    initCalendarObj\n} from './booking.utils'\n\nexport const BookingContext = createContext({\n    calendar: null,\n    calendars: null,\n    handleCalendarChange: () => { },\n    handleDayTimeChange: () => { },\n    getCalendars: () => { },\n    getCalendar: () => { },\n    createCalendar: () => { },\n    updateCalendar: () => { },\n    delCalendar: () => { },\n    isUpdatingCalendar: false,\n    bookings: null,\n    getBookings: () => { },\n    userBookings: null,\n    getUserBookings: () => { },\n    // bookingRows: null,\n    // getBookingRows: () => { },\n    activeCalendar: 0,\n    resetBooking: () => { },\n    selectedDate: {\n        name: \"\",\n        value: ''\n    },\n    setSelectedDate: () => { }\n})\n\nconst BookingProvider = ({ children }) => {\n    const { push } = useHistory()\n    const { token } = useContext(AuthContext)\n    const {\n        getMessage,\n        setIsLoading,\n        setShowModal,\n        closeModal\n    } = useContext(LoadingModalContext)\n\n    // ------------------------\n    // CALENDAR ACTIONS\n    // ------------------------\n    const [isUpdatingCalendar, setIsUpdatingCalendar] = useState(false)\n    const [activeCalendar, setActiveCalendar] = useState(0)\n    const [calendars, setCalendars] = useState(null)\n    const [calendar, setCalendar] = useState(initCalendarObj)\n    const [selectedDate, setSelectedDate] = useState({\n        name: '',\n        value: ''\n    })\n\n    const handleCalendarChange = (e) => {\n        const { name, value } = e.target\n        setCalendar({\n            ...calendar,\n            [name]: value\n        })\n    }\n\n    const handleDayTimeChange = (e, idx) => {\n        const { name, value } = e.target\n        let arr = calendar.startTimes\n        arr[idx] = value\n        setCalendar({\n            ...calendar,\n            [name]: arr\n        })\n    }\n\n    // Get all calendars\n    const getCalendars = async () => {\n        setIsLoading(true)\n        setShowModal(true)\n\n        try {\n            const response = await fetchCalendars()\n            const data = await response.json()\n\n            if (data.error) {\n                getMessage(data.message)\n                setIsLoading(false)\n                return\n            }\n\n            if (data.calendars) {\n                setCalendars(data.calendars)\n                setIsLoading(false)\n                closeModal()\n                return\n            }\n\n            getMessage(data.message)\n            setIsLoading(false)\n        } catch (err) {\n            console.log(err)\n            getMessage(\"Nieco sa pokazilo\")\n            setIsLoading(false)\n        }\n    }\n\n    // Get single calendar\n    const getCalendar = async (id, idx) => {\n        setIsLoading(true)\n        setShowModal(true)\n        setSelectedDate({\n            name: '',\n            value: ''\n        })\n        if (!idx) {\n            setIsUpdatingCalendar(true)\n        }\n\n        try {\n            const response = await fetchSingleCalendar(id)\n            const data = await response.json()\n\n            console.log(data)\n            if (data.calendar) {\n                setCalendar(data.calendar)\n                setActiveCalendar(idx)\n                closeModal()\n                return\n            }\n\n            getMessage(data.message)\n            setIsLoading(false)\n\n        } catch (err) {\n            console.log(err)\n            getMessage(\"Nieco sa pokazilo\")\n            setIsLoading(false)\n        }\n    }\n\n    const createCalendar = async (calendarToAdd) => {\n        setIsLoading(true)\n        setShowModal(true)\n        try {\n            const response = await postCalendar(token, calendarToAdd)\n            const data = await response.json()\n\n            if (data.calendar) {\n                setIsLoading(false)\n                closeModal()\n                getCalendars()\n                push('/dashboard/rezervacie')\n                return\n            }\n\n            setIsLoading(false)\n            getMessage(data.message)\n\n        } catch (err) {\n            console.log(err)\n            getMessage(\"Nieco sa pokazilo\")\n            setIsLoading(false)\n        }\n    }\n\n    const updateCalendar = async (calendarToUpdate) => {\n        setIsLoading(true)\n        setShowModal(true)\n\n        try {\n            const response = await patchCalendar(token, calendarToUpdate)\n            const data = await response.json()\n\n            console.log(data)\n            if (data.calendar) {\n                setIsLoading(false)\n                closeModal()\n                getCalendars()\n                push('/dashboard/rezervacie')\n                return\n            }\n\n            setIsLoading(false)\n            getMessage(data.message)\n\n        } catch (err) {\n            console.log(err)\n            getMessage(\"Nieco sa pokazilo\")\n            setIsLoading(false)\n        }\n    }\n\n    const delCalendar = async (id) => {\n        setIsLoading(true)\n        setShowModal(true)\n\n        try {\n            const response = await deleteCalendar(id)\n            const data = await response.json()\n\n            console.log(data)\n\n            setIsLoading(false)\n            getMessage(data.message)\n        } catch (err) {\n            console.log(err)\n            getMessage(\"Nieco sa pokazilo\")\n            setIsLoading(false)\n        }\n    }\n\n    // ------------------------\n    // BOOKINGS ACTIONS\n    // ------------------------\n    const [bookings, setBookings] = useState(null)\n    const [userBookings, setUserBookings] = useState(null)\n\n    const getBookings = async () => {\n        setIsLoading(true)\n        setShowModal(true)\n\n        try {\n            const response = await fetchBookings()\n            const data = await response.json()\n\n            if (data.error) {\n                getMessage(data.message)\n                setIsLoading(false)\n                return\n            }\n\n            if (data.bookings) {\n                setBookings(data.bookings)\n                setIsLoading(false)\n                closeModal()\n            }\n\n            getMessage(data.message)\n            setIsLoading(false)\n        } catch (err) {\n            console.log(err)\n            getMessage(\"Nieco sa pokazilo\")\n            setIsLoading(false)\n        }\n    }\n\n    const getUserBookings = async () => {\n        setIsLoading(true)\n        setShowModal(true)\n\n        try {\n            const response = await fetchUserBookings(token)\n            const data = await response.json()\n\n            if (data.userBookings) {\n                setUserBookings(data.userBookings)\n                closeModal()\n                return\n            }\n\n            getMessage(data.message)\n            setIsLoading(false)\n\n        } catch (err) {\n            console.log(err)\n            getMessage(\"Nieco sa pokazilo\")\n            setIsLoading(false)\n        }\n    }\n\n    const resetBooking = () => {\n        setActiveCalendar(0)\n        setCalendar(initCalendarObj)\n        setIsUpdatingCalendar(false)\n    }\n\n    return (\n        <BookingContext.Provider\n            value={{\n                calendar,\n                calendars,\n                handleCalendarChange,\n                handleDayTimeChange,\n                getCalendars,\n                getCalendar,\n                createCalendar,\n                updateCalendar,\n                delCalendar,\n                isUpdatingCalendar,\n                bookings,\n                getBookings,\n                userBookings,\n                getUserBookings,\n                // bookingRows,\n                // getBookingRows,\n                activeCalendar,\n                resetBooking,\n                selectedDate,\n                setSelectedDate,\n            }}\n        >\n            {children}\n        </BookingContext.Provider>\n    )\n}\n\nexport default BookingProvider","import styled from 'styled-components'\nimport { paddingStyles } from '../../global.styles'\nimport CustomButton from '../../components/custom-button/custom-button.component'\n\nexport const Header = styled.div`\n    ${paddingStyles}\n    padding-top: 3rem;\n    padding-bottom: 3rem;\n    display: flex;\n    justify-content: space-between;\n    color: var(--primary-text-color);\n`\n\nexport const CreateCalendarButton = styled(CustomButton)`\n    margin-left: 1rem;\n`\nexport const DeleteCalendarButton = styled(CustomButton)`\n    background-color: var(--color-red);\n\n`\n\nexport const DayTimesContainer = styled.div`\n    --gap: 2rem;\n    display: flex;\n    flex-wrap: wrap;\n    margin: calc(-1 * var(--gap)) 2rem 2rem calc(-1 * var(--gap));\n    /* width: calc(100% + var(--gap)); */\n\n    & > * {\n        margin: var(--gap) 2rem 2rem var(--gap);\n    }\n    margin-top: 3rem;\n\n`\n\nexport const DayNames = styled.div`\n    h3 {\n        margin-bottom: 3rem;\n    }\n\n    h4 {\n        margin-bottom: 3.74rem;\n        font-weight: lighter;\n    }\n`","import React, { useState, useContext, useEffect } from 'react'\nimport { BookingContext } from '../../context/booking/booking.context'\nimport { LoadingModalContext } from '../../context/loading-modal/loading-modal.contenxt'\nimport { useParams } from 'react-router-dom'\n\nimport ScrollContainer from '../../components/scroll-container/scroll-container.component'\nimport InputRow from '../../components/product-input-row/product-input-row.component'\nimport CustomInput from '../../components/custom-input/custom-input.component'\nimport Popup from '../../components/popup/pop-up.component'\n\nimport {\n    Header,\n    DayTimesContainer,\n    CreateCalendarButton,\n    DayNames,\n    DeleteCalendarButton\n} from './calendar.styles'\n\nconst CalendarSection = () => {\n    const { calendarId } = useParams()\n    const {\n        isUpdatingCalendar,\n        handleCalendarChange,\n        handleDayTimeChange,\n        getCalendar,\n        createCalendar,\n        updateCalendar,\n        delCalendar,\n        calendar,\n        resetBooking\n    } = useContext(BookingContext)\n\n    const {\n        closeModal,\n        isLoading,\n        message,\n        showModal\n    } = useContext(LoadingModalContext)\n\n    const handleSubmit = (e) => {\n        e.preventDefault()\n        if (calendarId === 'novy-kalendar') {\n            createCalendar(calendar)\n        } else {\n            console.log('update calendar')\n            updateCalendar(calendar)\n        }\n    }\n\n    useEffect(() => {\n        if (calendarId !== 'novy-kalendar') {\n            getCalendar(calendarId)\n        }\n    }, [calendarId])\n\n    useEffect(() => {\n        return () => {\n            resetBooking()\n        }\n    }, [])\n\n    if (!calendar || showModal) return <Popup loading={isLoading} title={message} close={closeModal} />\n\n\n    console.log(isUpdatingCalendar)\n    console.log(calendar)\n\n    return (\n        <section>\n            <form onSubmit={handleSubmit}>\n                <Header>\n                    <div>\n                        <h1>{isUpdatingCalendar ? `Kalendár: ${calendar.name}` : \"Nový kalendár\"}</h1>\n                    </div>\n                    <div>\n                        {isUpdatingCalendar && <DeleteCalendarButton onClick={() => delCalendar(calendarId)}>Odstrániť</DeleteCalendarButton>}\n                        <CreateCalendarButton>{isUpdatingCalendar ? \"Upraviť kalendár\" : \"Vytvoriť kalendár\"}</CreateCalendarButton>\n                    </div>\n                </Header>\n                <ScrollContainer>\n                    <InputRow\n                        label=\"Meno kalendáru\"\n                        example=''\n                    >\n                        <CustomInput\n                            label=\"Pobočka*\"\n                            type='text'\n                            name='name'\n                            value={calendar.name}\n                            handleChange={(e) => handleCalendarChange(e)}\n                            required\n                        />\n                    </InputRow>\n                    <InputRow\n                        label=\"Koľko dní dopredu sa da objednať\"\n                        example=''\n                    >\n                        <CustomInput\n                            label=\"Počet dní\"\n                            type='number'\n                            name='daysIntoFuture'\n                            value={calendar.daysIntoFuture.toString()}\n                            handleChange={(e) => handleCalendarChange(e)}\n                            required\n                        />\n                    </InputRow>\n                    <InputRow\n                        label=\"Minimalný čas k odoslaní rezervácie\"\n                        example=''\n                    >\n                        <CustomInput\n                            label=\"Min\"\n                            type='number'\n                            name='allowMinutesBefore'\n                            value={calendar.allowMinutesBefore.toString()}\n                            handleChange={(e) => handleCalendarChange(e)}\n                            required\n                        />\n                    </InputRow>\n                    <InputRow\n                        label=\"Čas medzi rezerváciami\"\n                        example=''\n                    >\n                        <CustomInput\n                            label=\"Min*\"\n                            type='number'\n                            name='interval'\n                            value={calendar.interval.toString()}\n                            handleChange={(e) => handleCalendarChange(e)}\n                            required\n                        />\n                    </InputRow>\n\n                    <DayTimesContainer>\n                        <DayNames>\n                            <h3>Den</h3>\n                            <div>\n                                <h4>Pondelok</h4>\n                            </div>\n                            <div>\n                                <h4>Utorok</h4>\n                            </div>\n                            <div>\n                                <h4>Streda</h4>\n                            </div>\n                            <div>\n                                <h4>Štvrtok</h4>\n                            </div>\n                            <div>\n                                <h4>Piatok</h4>\n                            </div>\n                            <div>\n                                <h4>Sobota</h4>\n                            </div>\n                            <div>\n                                <h4>Nedeľa</h4>\n                            </div>\n                        </DayNames>\n                        <div>\n                            <h3>Začiatok prehliadok</h3>\n                            {calendar.startTimes.map((value, idx) => (\n                                <div key={idx}>\n                                    <CustomInput\n                                        label=\"Čas: HH/MM*\"\n                                        type='text'\n                                        name='startTimes'\n                                        value={value}\n                                        handleChange={(e) => handleDayTimeChange(e, idx)}\n                                        required\n                                    />\n                                </div>\n                            ))}\n                        </div>\n                        <div>\n                            <h3>Koniec prehliadok</h3>\n                            {calendar.endTimes.map((value, idx) => (\n                                <div key={idx}>\n                                    <CustomInput\n                                        label=\"Čas: HH/MM*\"\n                                        type='text'\n                                        name='endTimes'\n                                        value={value}\n                                        handleChange={(e) => handleDayTimeChange(e, idx)}\n                                        required\n                                    />\n                                </div>\n                            ))}\n                        </div>\n                    </DayTimesContainer>\n                </ScrollContainer>\n            </form>\n        </section>\n    )\n}\n\nexport default CalendarSection\n","import styled, { css } from \"styled-components\"\n\nconst shrinkLabel = css`\n    left: .5rem;\n    top: -14px;\n    font-size: 12px;\n    color: var(--input-color);\n`\nexport const InputGroup = styled.div`\n    position: relative;\n\n    /* margin: 45px 0; */\n\n    .form-input {\n        /* background: none; */\n        background-color: var(--input-background-color);\n        color: var(--input-color);\n        font-size: 1.5rem;\n        padding: 1rem .5rem 1rem 2rem;\n        display: block;\n        width: 100%;\n        border: none;\n        border-radius: .5rem;\n        /* border-bottom: 1px solid #000; */\n        margin: 2rem 0 0;\n        font-family: inherit;\n\n        &:focus {\n        outline: none;\n        }\n\n        &:focus ~ .form-input-label {\n            ${shrinkLabel}\n        }\n    }\n\n    input[type = 'password'] {\n        letter-spacing: 0.3em;\n    }\n\n    .form-input-label {\n        color: var(--input-color);\n        font-size: 1.4rem;\n        font-weight: normal;\n        position: absolute;\n        pointer-events: none;\n        left: 1.5rem;\n        top: 1rem;\n        transition: 300ms ease all;\n\n        &.shrink {\n            ${shrinkLabel}\n        }\n    }\n\n    @media all and (max-width: 500px) {\n        .form-input {\n            font-size: 1.4rem;\n        }\n        /* padding: 1rem .5rem 1rem 2rem; */\n    }\n`\n","import React from 'react'\n\nimport { InputGroup } from './custom-input.styles'\n\nconst CustomInput = ({ handleChange, label, name, ...otherProps }) => {\n    return (\n        <InputGroup>\n            <input\n                className='form-input'\n                name={name}\n                onChange={handleChange}\n                {...otherProps}\n            />\n            {label ? (\n                <label htmlFor={name} className={`${otherProps.value.length ? 'shrink' : ''} form-input-label`}>\n                    {label}\n                </label>\n            ) : null\n            }\n        </InputGroup>\n    )\n}\n\nexport default CustomInput","import styled from 'styled-components'\nimport { paddingStyles } from '../../global.styles'\n\nexport const Container = styled.div`\n    width: 100%;\n    height: 100%;\n    /* height: 100%; */\n    overflow-y: scroll;\n    overflow-x: visible;\n    scroll-behavior: smooth;\n    ${paddingStyles};\n    padding-top: 1.5rem;\n    padding-bottom: 1.5rem;\n    color: var(--primary-text-color);\n\n\n\n\n    @media all and (max-width: 1150px) {\n        margin-bottom: 8rem;\n    }\n\n    ::-webkit-scrollbar {\n        width: 10px;\n    }\n\n    /* Track */\n    ::-webkit-scrollbar-track {\n        background:  var(--background-primary-color);\n    }\n\n    /* Handle */\n    ::-webkit-scrollbar-thumb {\n        background: var(--primary-color);\n    }\n\n    /* Handle on hover */\n    ::-webkit-scrollbar-thumb:hover {\n        background: var(--primary-color);\n    }\n`\n\nexport const FixedContainer = styled.div`\n    /* max-width: 115rem; */\n`","import React from 'react'\nimport { Container, FixedContainer } from './scroll-container.styles'\n\nconst ScrollContainer = ({ children }) => {\n    return (\n        <Container>\n            <FixedContainer>\n                {children}\n            </FixedContainer>\n        </Container>\n    )\n}\n\nexport default ScrollContainer","import styled from 'styled-components'\n\nexport const InputRow = styled.div`\n    display:flex;\n    align-items: center;\n\n    p {\n        margin-top: 1.8rem;\n        margin-left: 2rem;\n            opacity: .75;\n\n        span {\n            font-weight: 700;\n        }\n    }\n\n    @media all and (max-width: 800px) {\n        flex-direction: column-reverse;\n        align-items: flex-start;\n\n        p {\n            margin-left: unset;\n        }\n    }\n`","import React from 'react'\n\nimport { InputRow } from './product-input-row.styles'\n\nconst ProductInputRow = ({ children, label, example, ...otherprops }) => {\n    return (\n        <InputRow {...otherprops}>\n            <div>\n                {children}\n            </div>\n            <div>\n                <p>{label + \" \"}<span>{example}</span></p>\n            </div>\n        </InputRow>\n    )\n}\n\nexport default ProductInputRow\n"],"sourceRoot":""}