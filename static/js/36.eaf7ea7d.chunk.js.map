{"version":3,"sources":["components/custom-select/custom-select.styles.jsx","components/custom-select/custom-select.component.jsx","sections/calendar/calendar.styles.jsx","sections/calendar/calendar.section.jsx"],"names":["CustomSelectContainer","styled","select","CustomRetailSelect","name","value","handleChange","listItems","defaultOption","defaultValue","defaultLabel","onChange","e","map","idx","Header","div","paddingStyles","CreateCalendarButton","CustomButton","AddDayButton","GridContainer","Container","ContainerRow","TableHead","TableCol","isFirst","TableRow","HolidayInputContainer","CustomTimePicker","CalendarSection","useContext","LoadingModalContext","closeModal","getMessage","setShowModal","isLoading","message","showModal","isAdmin","AuthContext","BookingContext","createCalendar","updateCalendar","calendarId","deleteCalendar","useParams","useFetchById","response","isFetching","useState","fromTime","toTime","calendar","setCalendar","isUpdating","setIsUpdating","handleCalendarValueChange","target","prevValue","handleCalendarTimeChange","arr","handleTimeChange","console","log","useEffect","exceptDays","exceptDaysArr","formatExceptDays","exceptDaysArraaa","formatExceptHours","time","split","loading","title","close","onClick","premises","endTimes","startTimes","interval","calendarToUpdate","formatCalendarObj","_id","calendarToCreate","formatExceptDaysToObj","retailNames","type","label","handleCalendarExceptDaysChange","locale","disableClock","newArr","filter","v","removeExceptDay","allowMinutesBefore","toString","daysIntoFuture","dayNames","Array","calendarTimes2"],"mappings":"ojBAEO,IAAMA,EAAwBC,IAAOC,OAAV,KCgBnBC,EAdY,SAAC,GAAiG,IAA/FC,EAA8F,EAA9FA,KAAMC,EAAwF,EAAxFA,MAAOC,EAAiF,EAAjFA,aAAcC,EAAmE,EAAnEA,UAAmE,IAAxDC,qBAAwD,SAAjCC,EAAiC,EAAjCA,aAAcC,EAAmB,EAAnBA,aACrG,OACI,eAACV,EAAD,CAAuBI,KAAMA,EAAMC,MAAOA,EAAOM,SAAU,SAACC,GAAD,OAAON,EAAaM,IAA/E,UACKJ,GAAiB,wBAAQH,MAAOI,EAAf,SAA8BC,IAC/CH,EAAUM,KAAI,SAACT,EAAMU,GAClB,GAAY,IAARA,EACJ,OACI,wBAAkBT,MAAOS,EAAzB,SAA+BV,GAAlBU,U,myGCP1B,IAAMC,EAASd,IAAOe,IAAV,IACbC,KAMOC,EAAuBjB,YAAOkB,IAAPlB,CAAH,KASpBmB,GAJuBnB,YAAOkB,IAAPlB,CAAH,KAILA,YAAOkB,IAAPlB,CAAH,MAMZoB,EAAgBpB,IAAOe,IAAV,KAQbM,EAAYrB,IAAOe,IAAV,KA6BTO,EAAetB,IAAOe,IAAV,KAkBZQ,EAAYvB,IAAOe,IAAV,KAOTS,EAAWxB,IAAOe,IAAV,KAID,qBAAGU,QAAwB,wCAA0C,MAM5EC,EAAW1B,IAAOe,IAAV,KAqBRY,EAAwB3B,IAAOe,IAAV,KAyBrBa,EAAmB5B,IAAOe,IAAV,KCgQdc,UAlWS,WAAO,IAAD,QAQtBC,qBAAWC,KANXC,EAFsB,EAEtBA,WACAC,EAHsB,EAGtBA,WACAC,EAJsB,EAItBA,aACAC,EALsB,EAKtBA,UACAC,EANsB,EAMtBA,QACAC,EAPsB,EAOtBA,UAEIC,EAAYR,qBAAWS,KAAvBD,QATkB,EAUiCR,qBAAWU,kBAA9DC,EAVkB,EAUlBA,eAAgBC,EAVE,EAUFA,eAChBC,GAXkB,EAUcC,eACjBC,cAAfF,YAXkB,EAYkBG,YAAa,wBAAyBH,EAA2B,kBAAfA,GAAtFI,EAZkB,EAYlBA,SAAqBC,EAZH,EAYRb,UAZQ,EAaMc,mBAAS,CACrCC,SAAU,CAAC,SACXC,OAAQ,CAAC,WAfa,mBAanBC,EAbmB,KAaTC,EAbS,OAiBUJ,oBAAS,GAjBnB,mBAiBnBK,GAjBmB,KAiBPC,GAjBO,QAmBMN,mBAAS,SAnBf,qCAoBEA,mBAAS,UApBX,qBAsBpBO,IAtBoB,YAsBQ,SAAC7C,GAAO,IAAD,EACbA,EAAE8C,OAAlBtD,EAD6B,EAC7BA,KAAMC,EADuB,EACvBA,MAEd,GAAc,KAAVA,EAKA,cAJOgD,EAASjD,QAChBkD,EAAY,eACLD,IAKXC,GAAY,SAAAK,GAAS,kCACdA,GADc,kBAEhBvD,EAAOC,SAIVuD,GAA2B,SAAChD,EAAGE,GAAS,IAAD,EACjBF,EAAE8C,OAAlBtD,EADiC,EACjCA,KAAMC,EAD2B,EAC3BA,MACVwD,EAAMR,EAASjD,GAAQiD,EAASjD,GAAQ,CAAC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,KAC3EyD,EAAI/C,GAAOT,EAEXiD,GAAY,SAAAK,GAAS,kCACdA,GADc,kBAEhBvD,EAAOyD,QAeVC,GAAmB,SAACzD,EAAOD,EAAMU,GACnCiD,QAAQC,IAAI3D,GACZ0D,QAAQC,IAAI5D,GACZ2D,QAAQC,IAAIlD,GAEZ,IAAI+C,EAAMR,EAASjD,GAEnByD,EAAI/C,GAAOT,EAEXiD,GAAY,SAAAK,GAAS,kCACdA,GADc,kBAEhBvD,EAAOyD,QAqGhB,OApCAI,qBAAU,WACN,IAAIhB,GACAD,EAASK,SAET,GADAG,IAAc,GACVR,EAASK,SAASa,WAAY,CAC9B,IAAMC,EAAgBC,YAAiBpB,EAASK,SAASa,YACnDG,EAAmBC,YAAkBtB,EAASK,SAASa,YAE7DH,QAAQC,IAAI,iBACZD,QAAQC,IAAIK,GAEZf,EAAY,2BACLN,EAASK,UADL,IAEPa,WAAYC,EACZhB,SAAUkB,EAAiBxD,KAAI,SAAA0D,GAAI,OAAIA,EAAKC,MAAM,KAAK,MACvDpB,OAAQiB,EAAiBxD,KAAI,SAAA0D,GAAI,OAAIA,EAAKC,MAAM,KAAK,SAEzDvC,SAEAqB,EAAY,2BACLN,EAASK,UADL,IAEPF,SAAU,GACVC,OAAQ,MAEZnB,MAGT,CAACgB,IAEJgB,qBAAU,WACN,OAAO,WACHT,IAAc,GACdF,EAAY,OAEjB,IAGC,oCACMhB,GAAc,cAAC,IAAD,CAAOmC,QAASrC,EAAWsC,MAAOrC,EAASsC,MAAO1C,IAClE,cAAClB,EAAD,UACI,eAAC,IAAD,WACI,8BACKwC,GACG,sDAAeF,QAAf,IAAeA,OAAf,EAAeA,EAAUjD,QAEzB,uDAGR,8BAEI,cAACc,EAAD,CAAsB0D,QA5FrB,WACjB,IAAKvB,EAASjD,KAGV,OAFA8B,EAAW,wCACXC,GAAa,GAGjB,IAAKkB,EAASwB,SAGV,OAFA3C,EAAW,sEACXC,GAAa,GAGjB,IAAKkB,EAASyB,WAAazB,EAAS0B,WAGhC,OAFA7C,EAAW,sDACXC,GAAa,GAGjB,IAAKkB,EAAS2B,SAGV,OAFA9C,EAAW,mCACXC,GAAa,GAIjB,GAAIoB,GAAY,CACZ,IAAM0B,EAAmBC,YAAkB7B,EAAUA,EAASF,SAAUE,EAASD,QAEjFT,EAAesC,EAAkB5B,EAAS8B,SACvC,CACH,IAAIC,EAAmB,GAEnBA,EADA/B,EAASa,WACO,2BACTb,GADS,IAEZa,WAAYmB,YAAsBhC,EAASa,WAAYb,EAASF,SAAUE,EAASD,UAGvE,eAAQC,GAI5BX,EAAe0C,KAsDH,SAA8C7B,GAAa,eAAY,yBAKnF,cAAC,IAAD,UACI,eAAClC,EAAD,WACI,gCACKkB,GAAW,eAACjB,EAAD,WACR,8DACA,gCACI,iEACA,cAAC,EAAD,CACIlB,KAAK,WACLC,OAAe,OAARgD,QAAQ,IAARA,OAAA,EAAAA,EAAUwB,WAAY,IAC7BtE,UAAW+E,IACX9E,eAAa,EACbC,aAAc,EACdC,aAAa,cACbJ,aAAcmD,QAGtB,gCACI,mDACA,cAAC,IAAD,CACI8B,KAAK,OACLC,MAAM,QACNpF,KAAK,OACLC,OAAe,OAARgD,QAAQ,IAARA,OAAA,EAAAA,EAAUjD,OAAQ,GACzBE,aAAcmD,WAI1B,eAACnC,EAAD,WACI,4CACS,OAAR+B,QAAQ,IAARA,OAAA,EAAAA,EAAUa,cAAV,OAAwBb,QAAxB,IAAwBA,GAAxB,UAAwBA,EAAUa,kBAAlC,aAAwB,EAAsBrD,KAAI,SAACR,EAAOS,GAAR,eAC/C,eAACc,EAAD,WACI,cAAC,IAAD,CACI2D,KAAK,OAELnF,KAAK,aACLC,MAAOA,GAAS,GAChBC,aAAc,SAACM,GAAD,OAnLX,SAACA,EAAGE,GAAS,IAAD,EACvBF,EAAE8C,OAAlBtD,EADuC,EACvCA,KAAMC,EADiC,EACjCA,MACVwD,EAAMR,EAASjD,GACnByD,EAAI/C,GAAOT,EAEXiD,GAAY,SAAAK,GAAS,kCACdA,GADc,kBAEhBvD,EAAOyD,OA4KyC4B,CAA+B7E,EAAGE,MAE3D,cAACe,EAAD,UACI,cAAC,IAAD,CACIlB,SAAU,SAACC,GAAD,OAAOkD,GAAiBlD,EAAG,WAAYE,IACjDT,MAAK,iBAAEgD,QAAF,IAAEA,OAAF,EAAEA,EAAUF,SAASrC,UAArB,QAA6B,QAIlC4E,OAAO,QACPC,cAAc,MAGtB,cAAC9D,EAAD,UACI,cAAC,IAAD,CACIlB,SAAU,SAACC,GAAD,OAAOkD,GAAiBlD,EAAG,SAAUE,IAC/CT,MAAK,iBAAEgD,QAAF,IAAEA,OAAF,EAAEA,EAAUD,OAAOtC,UAAnB,QAA2B,QAIhC4E,OAAO,QACPC,cAAc,MAUtB,wBAAQf,QAAS,kBAtLzB,SAACvE,GACrB0D,QAAQC,IAAI3D,GACZ,IAAMuF,EAASvC,EAASa,WAAW2B,QAAO,SAAAC,GAAC,OAAIA,IAAMzF,KAErDiD,GAAY,SAAAK,GAAS,kCACdA,GADc,IAEjBO,WAAY0B,OAgLmCG,CAAgB1F,IAAvC,iBArCwBS,OAwChC,cAACM,EAAD,CAAcwD,QA/Kd,WACpBtB,GAAY,SAAAK,GAAS,kCACdA,GADc,IAEjBO,WAAYP,EAAUO,WAAV,sBAA2BP,EAAUO,YAArC,CAAiD,KAAM,CAAC,UA4KpD,+BAIR,eAAC5C,EAAD,WACI,yDAEA,gCACI,6DACA,yBACIlB,KAAK,WACLC,OAAe,OAARgD,QAAQ,IAARA,OAAA,EAAAA,EAAU2B,WAAY,GAC7BrE,SAAU8C,GAHd,UAKI,wBAAQpD,MAAO,GAAf,yBACA,wBAAQA,MAAO,GAAf,mBACA,wBAAQA,MAAO,GAAf,mBACA,wBAAQA,MAAO,GAAf,yBAGR,gCACI,6DACA,cAAC,IAAD,CACIkF,KAAK,OACLC,MAAM,sBACNpF,KAAK,qBACLC,OAAe,OAARgD,QAAQ,IAARA,GAAA,UAAAA,EAAU2C,0BAAV,eAA8BC,aAAc,GACnD3F,aAAcmD,QAGtB,gCACI,kFACA,cAAC,IAAD,CACI8B,KAAK,OACLC,MAAM,oBACNpF,KAAK,iBACLC,OAAe,OAARgD,QAAQ,IAARA,GAAA,UAAAA,EAAU6C,sBAAV,eAA0BD,aAAc,GAC/C3F,aAAcmD,WAK1B,eAAClC,EAAD,WACI,0DACA,eAACC,EAAD,WACI,cAACC,EAAD,CAAUC,SAAO,EAAjB,kCAGCyE,IAAStF,KAAI,SAACT,EAAMU,GAAP,OACV,cAACW,EAAD,UACKrB,GADUU,SAKvB,eAACa,EAAD,WACI,cAACF,EAAD,CAAUC,SAAO,EAAjB,2BAGC,YAAI0E,MAAM,IAAIvF,KAAI,SAACR,EAAOS,GAAR,OACf,cAACW,EAAD,UACI,yBAAQrB,KAAK,aAAaC,OAAe,OAARgD,QAAQ,IAARA,OAAA,EAAAA,EAAU0B,YAAV,OAAuB1B,QAAvB,IAAuBA,OAAvB,EAAuBA,EAAU0B,WAAWjE,GAAO,IAAKH,SAAU,SAACC,GAAD,OAAOgD,GAAyBhD,EAAGE,IAAtI,UACI,wBAAQT,MAAO,IAAf,yBACCgG,IAAexF,KAAI,WAAkBC,GAAlB,IAAGV,EAAH,EAAGA,KAAMC,EAAT,EAASA,MAAT,OAChB,wBAAkBA,MAAOA,EAAzB,SAAiCD,GAApBU,UAJVA,SAUvB,eAACa,EAAD,WACI,cAACF,EAAD,CAAUC,SAAO,EAAjB,oBAGC,YAAI0E,MAAM,IAAIvF,KAAI,SAACR,EAAOS,GAAR,OACf,cAACW,EAAD,UACI,yBAAQrB,KAAK,WAAWC,OAAe,OAARgD,QAAQ,IAARA,OAAA,EAAAA,EAAUyB,UAAV,OAAqBzB,QAArB,IAAqBA,OAArB,EAAqBA,EAAUyB,SAAShE,GAAO,IAAKH,SAAU,SAACC,GAAD,OAAOgD,GAAyBhD,EAAGE,IAAhI,UACI,wBAAQT,MAAO,IAAf,yBACCgG,IAAexF,KAAI,WAAkBC,GAAlB,IAAGV,EAAH,EAAGA,KAAMC,EAAT,EAASA,MAAT,OAChB,wBAAkBA,MAAOA,EAAzB,SAAiCD,GAApBU,UAJVA","file":"static/js/36.eaf7ea7d.chunk.js","sourcesContent":["import styled from 'styled-components'\n\nexport const CustomSelectContainer = styled.select`\n    margin-top: 2rem;\n    min-width: 16.5rem;\n    width: 100%;\n    background-color: var(--input-background-color);\n    color: var(--input-color);\n    border: none;\n    padding: .8rem 1rem .8rem 1rem;\n    font-size: inherit;\n    font-family: inherit;\n    display: block;\n`","import React from 'react'\n\nimport { CustomSelectContainer } from './custom-select.styles'\n\nconst CustomRetailSelect = ({ name, value, handleChange, listItems, defaultOption = false, defaultValue, defaultLabel }) => {\n    return (\n        <CustomSelectContainer name={name} value={value} onChange={(e) => handleChange(e)}>\n            {defaultOption && <option value={defaultValue}>{defaultLabel}</option>}\n            {listItems.map((name, idx) => {\n                if (idx === 0) return\n                return (\n                    <option key={idx} value={idx}>{name}</option>\n                )\n            })}\n        </CustomSelectContainer>\n    )\n}\n\nexport default CustomRetailSelect\n","import styled from 'styled-components'\nimport { paddingStyles } from '../../global.styles'\nimport CustomButton from '../../components/custom-button/custom-button.component'\n\nexport const Header = styled.div`\n    ${paddingStyles}\n    padding-top: 3rem;\n    padding-bottom: 3rem;\n    color: var(--primary-text-color);\n`\n\nexport const CreateCalendarButton = styled(CustomButton)`\n    background-color: var(--primary-color);\n    font-weight: bolder;\n    margin-left: 1rem;\n`\nexport const DeleteCalendarButton = styled(CustomButton)`\n    background-color: var(--color-red);\n`\n\nexport const AddDayButton = styled(CustomButton)`\n    margin-top: 2rem;\n    background-color: var(--primary-color);\n    font-weight: bolder;\n`\n\nexport const GridContainer = styled.div`\n    display: grid;\n    grid-template-columns: 1fr 1fr;\n    grid-gap: 3rem;\n    align-items: start;\n    margin-bottom: 5rem;\n`\n\nexport const Container = styled.div`\n    padding: 2rem;\n    border-radius: .5rem;\n    background-color: var(--container-background-color);\n    box-shadow: var(--container-shadow);\n    margin-bottom: 3rem;\n\n    h3 {\n        margin-bottom: 2rem;\n    }\n\n    h4 {\n        margin-top: 2rem;\n    }\n\n    select {\n        margin-top: 2rem;\n        /* min-width: 16.5rem; */\n        width: 100%;\n        background-color: var(--input-background-color);\n        color: var(--input-color);\n        border: none;\n        padding: .8rem .5rem .8rem .5rem;\n        font-size: inherit;\n        font-family: inherit;\n        display: block;\n    }\n`\n\nexport const ContainerRow = styled.div`\n    grid-column: 1/3;\n    padding: 2rem;\n    border-radius: .5rem;\n    background-color: var(--container-background-color);\n    box-shadow: var(--container-shadow);\n    margin-bottom: 3rem;\n    min-width: 90rem;\n\n    h3 {\n        margin-bottom: 2rem;\n    }\n\n    h4 {\n        margin-top: 2rem;\n    }\n`\n\nexport const TableHead = styled.div`\n    display: grid;\n    grid-template-columns: repeat(8, 1fr);\n    /* justify-items: center; */\n    border-bottom: 1px solid var(--secondary-text-color);\n`\n\nexport const TableCol = styled.div`\n    padding: 2rem;\n    text-align: center;\n\n    border-right: ${({ isFirst }) => isFirst ? \"1px solid var(--secondary-text-color)\" : \"\"};\n    display: flex;\n    align-items: center;\n    justify-content: center;\n`\n\nexport const TableRow = styled.div`\n    display: grid;\n    grid-template-columns: repeat(8, 1fr);\n    /* justify-items: center; */\n    /* align-items: center; */\n\n\n    select {\n        /* margin-top: 2rem; */\n        /* min-width: 16.5rem; */\n        width: 100%;\n        background-color: var(--input-background-color);\n        color: var(--input-color);\n        border: none;\n        padding: .8rem .5rem .8rem .5rem;\n        font-size: inherit;\n        font-family: inherit;\n        display: block;\n    }\n`\n\nexport const HolidayInputContainer = styled.div`\n    display: grid;\n    grid-template-columns: 2fr 1fr 1fr 5rem;\n\n    button {\n        margin-top: 1.5rem;\n        display: block;\n        color: var(--primary-color);\n        align-self: center;\n    }\n`\n// export const DayTimesContainer = styled.div`\n//     --gap: 2rem;\n//     display: flex;\n//     flex-wrap: wrap;\n//     margin: calc(-1 * var(--gap)) 2rem 2rem calc(-1 * var(--gap));\n//     /* width: calc(100% + var(--gap)); */\n\n//     & > * {\n//         margin: var(--gap) 2rem 2rem var(--gap);\n//     }\n//     margin-top: 3rem;\n\n// `\n\nexport const CustomTimePicker = styled.div`\n    align-self: center;\n\n    input {}\n`","import React, { useState, useContext, useEffect } from 'react'\nimport { BookingContext } from '../../context/booking/booking.context'\nimport { LoadingModalContext } from '../../context/loading-modal/loading-modal.contenxt'\nimport { AuthContext } from '../../context/auth/auth.context'\nimport { useParams } from 'react-router-dom'\n\nimport ScrollContainer from '../../components/scroll-container/scroll-container.component'\nimport CustomRetailSelect from '../../components/custom-select/custom-select.component'\nimport CustomInput from '../../components/custom-input/custom-input.component'\nimport Popup from '../../components/popup/pop-up.component'\n\nimport TimePicker from 'react-time-picker';\n\nimport { useFetchById } from '../../hooks/useFetch'\n\nimport { retailNames } from '../../utils/warehouse.utils'\nimport {\n    dayNames,\n    calendarTimes,\n    calendarTimes2,\n    formatCalendarObj,\n    formatExceptDays,\n    formatExceptDaysToObj,\n    formatExceptHours\n} from '../../utils/calendar.utils'\n\nimport {\n    FixedContainer,\n} from '../../global.styles'\n\nimport {\n    Header,\n    CreateCalendarButton,\n    Container,\n    GridContainer,\n    ContainerRow,\n    TableHead,\n    TableCol,\n    TableRow,\n    AddDayButton,\n    DeleteCalendarButton,\n    HolidayInputContainer,\n    CustomTimePicker\n\n} from './calendar.styles'\n\nconst CalendarSection = () => {\n    const {\n        closeModal,\n        getMessage,\n        setShowModal,\n        isLoading,\n        message,\n        showModal,\n    } = useContext(LoadingModalContext)\n    const { isAdmin } = useContext(AuthContext)\n    const { createCalendar, updateCalendar, deleteCalendar } = useContext(BookingContext)\n    const { calendarId } = useParams()\n    const { response, isLoading: isFetching } = useFetchById(\"api/booking/calendars\", calendarId, calendarId === 'novy-kalendar')\n    const [calendar, setCalendar] = useState({\n        fromTime: [\"00:00\"],\n        toTime: [\"23:59\"]\n    })\n    const [isUpdating, setIsUpdating] = useState(false)\n\n    const [fromTime, setFromTime] = useState(\"00:00\")\n    const [toTime, setToTime] = useState(\"23:59\")\n\n    const handleCalendarValueChange = (e) => {\n        const { name, value } = e.target\n\n        if (value === '') {\n            delete calendar[name]\n            setCalendar({\n                ...calendar\n            })\n            return\n        }\n\n        setCalendar(prevValue => ({\n            ...prevValue,\n            [name]: value\n        }))\n    }\n\n    const handleCalendarTimeChange = (e, idx) => {\n        const { name, value } = e.target\n        let arr = calendar[name] ? calendar[name] : ['X', 'X', 'X', 'X', 'X', 'X', 'X']\n        arr[idx] = value\n\n        setCalendar(prevValue => ({\n            ...prevValue,\n            [name]: arr\n        }))\n    }\n\n    const handleCalendarExceptDaysChange = (e, idx) => {\n        const { name, value } = e.target\n        let arr = calendar[name]\n        arr[idx] = value\n\n        setCalendar(prevValue => ({\n            ...prevValue,\n            [name]: arr\n        }))\n    }\n\n    const handleTimeChange = (value, name, idx) => {\n        console.log(value)\n        console.log(name)\n        console.log(idx)\n\n        let arr = calendar[name]\n\n        arr[idx] = value\n\n        setCalendar(prevValue => ({\n            ...prevValue,\n            [name]: arr\n        }))\n    }\n\n\n\n    const removeExceptDay = (value) => {\n        console.log(value)\n        const newArr = calendar.exceptDays.filter(v => v !== value)\n\n        setCalendar(prevValue => ({\n            ...prevValue,\n            exceptDays: newArr\n        }))\n    }\n\n    const handleAddNewDay = () => {\n        setCalendar(prevValue => ({\n            ...prevValue,\n            exceptDays: prevValue.exceptDays ? [...prevValue.exceptDays, \"\"] : [\"\"]\n        }))\n    }\n\n    const handleSubmit = () => {\n        if (!calendar.name) {\n            getMessage(\"Meno Kalendára je povinné\")\n            setShowModal(true)\n            return\n        }\n        if (!calendar.premises) {\n            getMessage(\"Nie je zvolená prevádzka ku ktorej patrí kalendár\")\n            setShowModal(true)\n            return\n        }\n        if (!calendar.endTimes && !calendar.startTimes) {\n            getMessage(\"Nie sú vyplnené časy na prehliadky\")\n            setShowModal(true)\n            return\n        }\n        if (!calendar.interval) {\n            getMessage(\"Nie je zvolený interval\")\n            setShowModal(true)\n            return\n        }\n\n        if (isUpdating) {\n            const calendarToUpdate = formatCalendarObj(calendar, calendar.fromTime, calendar.toTime)\n\n            updateCalendar(calendarToUpdate, calendar._id)\n        } else {\n            let calendarToCreate = {}\n            if (calendar.exceptDays) {\n                calendarToCreate = {\n                    ...calendar,\n                    exceptDays: formatExceptDaysToObj(calendar.exceptDays, calendar.fromTime, calendar.toTime)\n                }\n            } else {\n                calendarToCreate = { ...calendar }\n            }\n\n\n            createCalendar(calendarToCreate)\n        }\n    }\n\n    useEffect(() => {\n        if (isFetching) return\n        if (response.calendar) {\n            setIsUpdating(true)\n            if (response.calendar.exceptDays) {\n                const exceptDaysArr = formatExceptDays(response.calendar.exceptDays)\n                const exceptDaysArraaa = formatExceptHours(response.calendar.exceptDays)\n\n                console.log(\"exceptDaysArr\")\n                console.log(exceptDaysArraaa)\n\n                setCalendar({\n                    ...response.calendar,\n                    exceptDays: exceptDaysArr,\n                    fromTime: exceptDaysArraaa.map(time => time.split(\"-\")[0]),\n                    toTime: exceptDaysArraaa.map(time => time.split(\"-\")[1])\n                })\n                closeModal()\n            } else {\n                setCalendar({\n                    ...response.calendar,\n                    fromTime: [],\n                    toTime: []\n                })\n                closeModal()\n            }\n        }\n    }, [isFetching])\n\n    useEffect(() => {\n        return () => {\n            setIsUpdating(false)\n            setCalendar({})\n        }\n    }, [])\n\n    return (\n        <section>\n            {(showModal) && <Popup loading={isLoading} title={message} close={closeModal} />}\n            <Header>\n                <FixedContainer>\n                    <div>\n                        {isUpdating ? (\n                            <h1>Kalendár: {calendar?.name}</h1>\n                        ) : (\n                            <h1>Nový kalendár</h1>\n                        )}\n                    </div>\n                    <div>\n                        {/* {isUpdating && <DeleteCalendarButton onClick={() => deleteCalendar(calendar?._id)}>Vymazať</DeleteCalendarButton>} */}\n                        <CreateCalendarButton onClick={handleSubmit}>{isUpdating ? \"Upraviť\" : \"Vytvoriť\"}</CreateCalendarButton>\n                    </div>\n\n                </FixedContainer>\n            </Header>\n            <ScrollContainer>\n                <GridContainer>\n                    <div>\n                        {isAdmin && <Container>\n                            <h3>Základné informácie</h3>\n                            <div>\n                                <h4>Kalendár je pre prevádzku</h4>\n                                <CustomRetailSelect\n                                    name='premises'\n                                    value={calendar?.premises || \"0\"}\n                                    listItems={retailNames}\n                                    defaultOption\n                                    defaultValue={0}\n                                    defaultLabel=\"Nezadané\"\n                                    handleChange={handleCalendarValueChange}\n                                />\n                            </div>\n                            <div>\n                                <h4>Meno kalendára</h4>\n                                <CustomInput\n                                    type=\"text\"\n                                    label='Meno*'\n                                    name=\"name\"\n                                    value={calendar?.name || \"\"}\n                                    handleChange={handleCalendarValueChange}\n                                />\n                            </div>\n                        </Container>}\n                        <Container>\n                            <h3>Dovolenka</h3>\n                            {calendar?.exceptDays && calendar?.exceptDays?.map((value, idx) => (\n                                <HolidayInputContainer key={idx}>\n                                    <CustomInput\n                                        type=\"date\"\n                                        // label='Dátum'\n                                        name=\"exceptDays\"\n                                        value={value || \"\"}\n                                        handleChange={(e) => handleCalendarExceptDaysChange(e, idx)}\n                                    />\n                                    <CustomTimePicker>\n                                        <TimePicker\n                                            onChange={(e) => handleTimeChange(e, \"fromTime\", idx)}\n                                            value={calendar?.fromTime[idx] ?? \"00:00\"}\n                                            // format={\"hh:mm\"}\n                                            // minTime={\"00:00\"}\n                                            // maxTime={\"23:59\"}\n                                            locale=\"sv-sv\"\n                                            disableClock={true}\n                                        />\n                                    </CustomTimePicker>\n                                    <CustomTimePicker>\n                                        <TimePicker\n                                            onChange={(e) => handleTimeChange(e, \"toTime\", idx)}\n                                            value={calendar?.toTime[idx] ?? \"23:00\"}\n                                            // format={\"hh:mm\"}\n                                            // minTime={\"00:00\"}\n                                            // maxTime={\"23:59\"}\n                                            locale=\"sv-sv\"\n                                            disableClock={true}\n                                        />\n                                    </CustomTimePicker>\n                                    {/* <CustomInput\n                                        type=\"time\"\n                                        // label='Dátum'\n                                        name=\"time\"\n                                        value={time}\n                                        handleChange={(e) => console.log(e.target.value)}\n                                    /> */}\n                                    <button onClick={() => removeExceptDay(value)}>X</button>\n                                </HolidayInputContainer >\n                            ))}\n                            <AddDayButton onClick={handleAddNewDay}>Pridať</AddDayButton>\n                        </Container>\n                    </div>\n\n                    <Container>\n                        <h3>Nastavenie kalendára</h3>\n\n                        <div>\n                            <h4>Interval medzi prehliadkami</h4>\n                            <select\n                                name='interval'\n                                value={calendar?.interval || \"\"}\n                                onChange={handleCalendarValueChange}\n                            >\n                                <option value={\"\"}>Nezadané</option>\n                                <option value={15}>15min</option>\n                                <option value={30}>30min</option>\n                                <option value={60}>60min</option>\n                            </select>\n                        </div>\n                        <div>\n                            <h4>Čas pred objednaním</h4>\n                            <CustomInput\n                                type=\"text\"\n                                label='Počet minút'\n                                name=\"allowMinutesBefore\"\n                                value={calendar?.allowMinutesBefore?.toString() || \"\"}\n                                handleChange={handleCalendarValueChange}\n                            />\n                        </div>\n                        <div>\n                            <h4>Koľko dní dopredu sa dá objednať</h4>\n                            <CustomInput\n                                type=\"text\"\n                                label='Počet dní'\n                                name=\"daysIntoFuture\"\n                                value={calendar?.daysIntoFuture?.toString() || \"\"}\n                                handleChange={handleCalendarValueChange}\n                            />\n                        </div>\n                    </Container>\n\n                    <ContainerRow>\n                        <h3>Ordinačné hodiny</h3>\n                        <TableHead>\n                            <TableCol isFirst>\n                                Čas \\ Deň\n                            </TableCol>\n                            {dayNames.map((name, idx) => (\n                                <TableCol key={idx}>\n                                    {name}\n                                </TableCol>\n                            ))}\n                        </TableHead>\n                        <TableRow>\n                            <TableCol isFirst>\n                                Začiatok\n                            </TableCol>\n                            {[...Array(7)].map((value, idx) => (\n                                <TableCol key={idx}>\n                                    <select name='startTimes' value={calendar?.startTimes ? calendar?.startTimes[idx] : \"x\"} onChange={(e) => handleCalendarTimeChange(e, idx)}>\n                                        <option value={\"X\"}>Žiadny</option>\n                                        {calendarTimes2.map(({ name, value }, idx) => (\n                                            <option key={idx} value={value}>{name}</option>\n                                        ))}\n                                    </select>\n                                </TableCol>\n                            ))}\n                        </TableRow>\n                        <TableRow>\n                            <TableCol isFirst>\n                                Koniec\n                            </TableCol>\n                            {[...Array(7)].map((value, idx) => (\n                                <TableCol key={idx}>\n                                    <select name='endTimes' value={calendar?.endTimes ? calendar?.endTimes[idx] : \"x\"} onChange={(e) => handleCalendarTimeChange(e, idx)}>\n                                        <option value={\"X\"}>Žiadny</option>\n                                        {calendarTimes2.map(({ name, value }, idx) => (\n                                            <option key={idx} value={value}>{name}</option>\n                                        ))}\n                                    </select>\n                                </TableCol>\n                            ))}\n                        </TableRow>\n                    </ContainerRow>\n                </GridContainer>\n            </ScrollContainer>\n        </section>\n    )\n}\n\nexport default CalendarSection\n"],"sourceRoot":""}