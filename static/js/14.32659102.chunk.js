(this.webpackJsonpimooptik=this.webpackJsonpimooptik||[]).push([[14,27],{236:function(e,n,t){"use strict";t.r(n);var a=t(1),r=t(0),c=t(79),o=t(16),i=t(2),s=t(50),l=t(57),u=t(49),d=t(30),b=t(8),p=t(9),j=t(27),h=t(26);function f(){var e=Object(b.a)(["\n    h3 {\n        margin-bottom: 3rem;\n    }\n\n    h4 {\n        margin-bottom: 3.74rem;\n        font-weight: lighter;\n    }\n"]);return f=function(){return e},e}function m(){var e=Object(b.a)(["\n    --gap: 2rem;\n    display: flex;\n    flex-wrap: wrap;\n    margin: calc(-1 * var(--gap)) 2rem 2rem calc(-1 * var(--gap));\n    /* width: calc(100% + var(--gap)); */\n\n    & > * {\n        margin: var(--gap) 2rem 2rem var(--gap);\n    }\n    margin-top: 3rem;\n\n"]);return m=function(){return e},e}function v(){var e=Object(b.a)(["\n    background-color: #DD4C4C;\n\n"]);return v=function(){return e},e}function g(){var e=Object(b.a)(["\n    margin-left: 1rem;\n"]);return g=function(){return e},e}function x(){var e=Object(b.a)(["\n    ","\n    padding-top: 3rem;\n    padding-bottom: 3rem;\n    display: flex;\n    justify-content: space-between;\n"]);return x=function(){return e},e}var O=p.c.div(x(),j.b),k=Object(p.c)(h.a)(g()),C=Object(p.c)(h.a)(v()),w=p.c.div(m()),y=p.c.div(f());n.default=function(){var e=Object(i.i)().calendarId,n=Object(r.useContext)(c.BookingContext),t=n.isUpdatingCalendar,b=n.handleCalendarChange,p=n.handleDayTimeChange,j=n.getCalendar,h=n.createCalendar,f=n.updateCalendar,m=n.delCalendar,v=n.calendar,g=n.resetBooking,x=Object(r.useContext)(o.a),B=x.closeModal,T=x.isLoading,S=x.message,M=x.showModal;return Object(r.useEffect)((function(){"novy-kalendar"!==e&&j(e)}),[e]),Object(r.useEffect)((function(){return function(){g()}}),[]),!v||M?Object(a.jsx)(d.a,{loading:T,title:S,close:B}):(console.log(t),console.log(v),Object(a.jsx)("section",{children:Object(a.jsxs)("form",{onSubmit:function(n){n.preventDefault(),"novy-kalendar"===e?h(v):(console.log("update calendar"),f(v))},children:[Object(a.jsxs)(O,{children:[Object(a.jsx)("div",{children:Object(a.jsx)("h1",{children:t?"Kalend\xe1r: ".concat(v.name):"Nov\xfd kalend\xe1r"})}),Object(a.jsxs)("div",{children:[t&&Object(a.jsx)(C,{onClick:function(){return m(e)},children:"Odstr\xe1ni\u0165"}),Object(a.jsx)(k,{children:t?"Upravi\u0165 kalend\xe1r":"Vytvori\u0165 kalend\xe1r"})]})]}),Object(a.jsxs)(s.a,{children:[Object(a.jsx)(l.a,{label:"Meno kalend\xe1ru",example:"",children:Object(a.jsx)(u.a,{label:"Pobo\u010dka*",type:"text",name:"name",value:v.name,handleChange:function(e){return b(e)},required:!0})}),Object(a.jsx)(l.a,{label:"Ko\u013eko dn\xed dopredu sa da objedna\u0165",example:"",children:Object(a.jsx)(u.a,{label:"Po\u010det dn\xed",type:"number",name:"daysIntoFuture",value:v.daysIntoFuture.toString(),handleChange:function(e){return b(e)},required:!0})}),Object(a.jsx)(l.a,{label:"Minimaln\xfd \u010das k odoslan\xed rezerv\xe1cie",example:"",children:Object(a.jsx)(u.a,{label:"Min",type:"number",name:"allowMinutesBefore",value:v.allowMinutesBefore.toString(),handleChange:function(e){return b(e)},required:!0})}),Object(a.jsx)(l.a,{label:"\u010cas medzi rezerv\xe1ciami",example:"",children:Object(a.jsx)(u.a,{label:"Min*",type:"number",name:"interval",value:v.interval.toString(),handleChange:function(e){return b(e)},required:!0})}),Object(a.jsxs)(w,{children:[Object(a.jsxs)(y,{children:[Object(a.jsx)("h3",{children:"Den"}),Object(a.jsx)("div",{children:Object(a.jsx)("h4",{children:"Pondelok"})}),Object(a.jsx)("div",{children:Object(a.jsx)("h4",{children:"Utorok"})}),Object(a.jsx)("div",{children:Object(a.jsx)("h4",{children:"Streda"})}),Object(a.jsx)("div",{children:Object(a.jsx)("h4",{children:"\u0160tvrtok"})}),Object(a.jsx)("div",{children:Object(a.jsx)("h4",{children:"Piatok"})}),Object(a.jsx)("div",{children:Object(a.jsx)("h4",{children:"Sobota"})}),Object(a.jsx)("div",{children:Object(a.jsx)("h4",{children:"Nede\u013ea"})})]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("h3",{children:"Za\u010diatok prehliadok"}),v.startTimes.map((function(e,n){return Object(a.jsx)("div",{children:Object(a.jsx)(u.a,{label:"\u010cas: HH/MM*",type:"text",name:"startTimes",value:e,handleChange:function(e){return p(e,n)},required:!0})},n)}))]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("h3",{children:"Koniec prehliadok"}),v.endTimes.map((function(e,n){return Object(a.jsx)("div",{children:Object(a.jsx)(u.a,{label:"\u010cas: HH/MM*",type:"text",name:"endTimes",value:e,handleChange:function(e){return p(e,n)},required:!0})},n)}))]})]})]})]})}))}},49:function(e,n,t){"use strict";var a=t(1),r=t(19),c=t(29),o=(t(0),t(8)),i=t(9);function s(){var e=Object(o.a)(["\n    position: relative;\n    /* margin: 45px 0; */\n\n    .form-input {\n        background: none;\n        background-color: #F5F5F5;\n        color: #000;\n        font-size: 1.5rem;\n        padding: 1rem .5rem 1rem 2rem;\n        display: block;\n        width: 100%;\n        border: none;\n        border-radius: .5rem;\n        /* border-bottom: 1px solid #000; */\n        margin: 2rem 0 0;\n        font-family: inherit;\n\n        &:focus {\n        outline: none;\n        }\n\n        &:focus ~ .form-input-label {\n            ","\n        }\n    }\n\n    input[type = 'password'] {\n        letter-spacing: 0.3em;\n    }\n\n    .form-input-label {\n        color: #B1B1B1;\n        font-size: 1.4rem;\n        font-weight: normal;\n        position: absolute;\n        pointer-events: none;\n        left: 1.5rem;\n        top: 1rem;\n        transition: 300ms ease all;\n\n        &.shrink {\n            ","\n        }\n    }\n\n    @media all and (max-width: 500px) {\n        .form-input {\n            font-size: 1.4rem;\n        }\n        /* padding: 1rem .5rem 1rem 2rem; */\n    }\n"]);return s=function(){return e},e}function l(){var e=Object(o.a)(["\n    left: .5rem;\n    top: -14px;\n    font-size: 12px;\n    color: #000;\n"]);return l=function(){return e},e}var u=Object(i.b)(l()),d=i.c.div(s(),u,u);n.a=function(e){var n=e.handleChange,t=e.label,o=e.name,i=Object(c.a)(e,["handleChange","label","name"]);return Object(a.jsxs)(d,{children:[Object(a.jsx)("input",Object(r.a)({className:"form-input",name:o,onChange:n},i)),t?Object(a.jsx)("label",{htmlFor:o,className:"".concat(i.value.length?"shrink":""," form-input-label"),children:t}):null]})}},50:function(e,n,t){"use strict";var a=t(1),r=(t(0),t(8)),c=t(9),o=t(27);function i(){var e=Object(r.a)(["\n    max-width: 115rem;\n"]);return i=function(){return e},e}function s(){var e=Object(r.a)(["\n    width: 100%;\n    height: 100%;\n    /* height: 100%; */\n    overflow-y: scroll;\n    overflow-x: visible;\n    scroll-behavior: smooth;\n    ",";\n    padding-top: 1.5rem;\n    padding-bottom: 1.5rem;\n\n    @media all and (max-width: 1150px) {\n        margin-bottom: 8rem;\n    }\n"]);return s=function(){return e},e}var l=c.c.div(s(),o.b),u=c.c.div(i());n.a=function(e){var n=e.children;return Object(a.jsx)(l,{children:Object(a.jsx)(u,{children:n})})}},57:function(e,n,t){"use strict";var a=t(19),r=t(1),c=t(29),o=(t(0),t(8));function i(){var e=Object(o.a)(["\n    display:flex;\n    align-items: center;\n\n    p {\n        margin-top: 1.8rem;\n        margin-left: 2rem;\n            opacity: .75;\n\n        span {\n            font-weight: 700;\n        }\n    }\n\n    @media all and (max-width: 800px) {\n        flex-direction: column-reverse;\n        align-items: flex-start;\n\n        p {\n            margin-left: unset;\n        }\n    }\n"]);return i=function(){return e},e}var s=t(9).c.div(i());n.a=function(e){var n=e.children,t=e.label,o=e.example,i=Object(c.a)(e,["children","label","example"]);return Object(r.jsxs)(s,Object(a.a)(Object(a.a)({},i),{},{children:[Object(r.jsx)("div",{children:n}),Object(r.jsx)("div",{children:Object(r.jsxs)("p",{children:[t+" ",Object(r.jsx)("span",{children:o})]})})]}))}},79:function(e,n,t){"use strict";t.r(n),t.d(n,"BookingContext",(function(){return x}));var a=t(1),r=t(4),c=t.n(r),o=t(11),i=t(31),s=t(19),l=t(10),u=t(0),d=t(16),b=t(17),p=t(2),j=function(e){return fetch("".concat("http://195.110.58.166:8080","/api/booking/calendars/").concat(e))},h=function(e){var n=new Headers;n.append("auth-token",e);var t={method:"GET",headers:n,redirect:"follow"};return fetch("".concat("http://195.110.58.166:8080","/api/admin/booking/userBookings"),t)},f=function(e,n){var t=new Headers;t.append("auth-token",e),t.append("Content-Type","application/json"),console.log(n);var a={method:"POST",headers:t,body:JSON.stringify(Object(s.a)({},n)),redirect:"follow"};return fetch("".concat("http://195.110.58.166:8080","/api/admin/booking/calendars"),a)},m=function(e,n){var t=new Headers;t.append("auth-token",e),t.append("Content-Type","application/json"),console.log(n);var a=n.name,r=n.interval,c=n.startTimes,o=n.endTimes,i=n.daysIntoFuture,s=n.allowMinutesBefore,l={method:"PATCH",headers:t,body:JSON.stringify({name:a,interval:r,startTimes:c,endTimes:o,daysIntoFuture:i,allowMinutesBefore:s}),redirect:"follow"};return fetch("".concat("http://195.110.58.166:8080","/api/admin/booking/calendars/").concat(n._id),l)},v=function(e){return fetch("".concat("http://195.110.58.166:8080","/api/admin/booking/calendars/").concat(e),{method:"DELETE",redirect:"follow"})},g={name:"",interval:30,startTimes:["10/00","10/00","10/00","10/00","10/00","X","X"],endTimes:["16/00","16/00","18/00","16/00","16/00","X","X"],daysIntoFuture:60,premises:1,allowMinutesBefore:120,exceptDays:{"24/12/2020":"00/00-23/59"}},x=Object(u.createContext)({calendar:null,calendars:null,handleCalendarChange:function(){},handleDayTimeChange:function(){},getCalendars:function(){},getCalendar:function(){},createCalendar:function(){},updateCalendar:function(){},delCalendar:function(){},isUpdatingCalendar:!1,bookings:null,getBookings:function(){},userBookings:null,getUserBookings:function(){},activeCalendar:0,resetBooking:function(){},selectedDate:{name:"",value:""},setSelectedDate:function(){}});n.default=function(e){var n=e.children,t=Object(p.h)().push,r=Object(u.useContext)(b.a).token,O=Object(u.useContext)(d.a),k=O.getMessage,C=O.setIsLoading,w=O.setShowModal,y=O.closeModal,B=Object(u.useState)(!1),T=Object(l.a)(B,2),S=T[0],M=T[1],z=Object(u.useState)(0),D=Object(l.a)(z,2),N=D[0],F=D[1],H=Object(u.useState)(null),I=Object(l.a)(H,2),P=I[0],U=I[1],q=Object(u.useState)(g),E=Object(l.a)(q,2),J=E[0],X=E[1],K=Object(u.useState)({name:"",value:""}),L=Object(l.a)(K,2),A=L[0],G=L[1],V=function(){var e=Object(o.a)(c.a.mark((function e(){var n,t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C(!0),w(!0),e.prev=2,e.next=5,fetch("".concat("http://195.110.58.166:8080","/api/booking/calendars"));case 5:return n=e.sent,e.next=8,n.json();case 8:if(!(t=e.sent).error){e.next=13;break}return k(t.message),C(!1),e.abrupt("return");case 13:if(!t.calendars){e.next=18;break}return U(t.calendars),C(!1),y(),e.abrupt("return");case 18:k(t.message),C(!1),e.next=27;break;case 22:e.prev=22,e.t0=e.catch(2),console.log(e.t0),k("Nieco sa pokazilo"),C(!1);case 27:case"end":return e.stop()}}),e,null,[[2,22]])})));return function(){return e.apply(this,arguments)}}(),Z=function(){var e=Object(o.a)(c.a.mark((function e(n,t){var a,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C(!0),w(!0),G({name:"",value:""}),t||M(!0),e.prev=4,e.next=7,j(n);case 7:return a=e.sent,e.next=10,a.json();case 10:if(r=e.sent,console.log(r),!r.calendar){e.next=17;break}return X(r.calendar),F(t),y(),e.abrupt("return");case 17:k(r.message),C(!1),e.next=26;break;case 21:e.prev=21,e.t0=e.catch(4),console.log(e.t0),k("Nieco sa pokazilo"),C(!1);case 26:case"end":return e.stop()}}),e,null,[[4,21]])})));return function(n,t){return e.apply(this,arguments)}}(),_=function(){var e=Object(o.a)(c.a.mark((function e(n){var a,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C(!0),w(!0),e.prev=2,e.next=5,f(r,n);case 5:return a=e.sent,e.next=8,a.json();case 8:if(!(o=e.sent).calendar){e.next=15;break}return C(!1),y(),V(),t("/dashboard/rezervacie"),e.abrupt("return");case 15:C(!1),k(o.message),e.next=24;break;case 19:e.prev=19,e.t0=e.catch(2),console.log(e.t0),k("Nieco sa pokazilo"),C(!1);case 24:case"end":return e.stop()}}),e,null,[[2,19]])})));return function(n){return e.apply(this,arguments)}}(),Q=function(){var e=Object(o.a)(c.a.mark((function e(n){var a,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C(!0),w(!0),e.prev=2,e.next=5,m(r,n);case 5:return a=e.sent,e.next=8,a.json();case 8:if(o=e.sent,console.log(o),!o.calendar){e.next=16;break}return C(!1),y(),V(),t("/dashboard/rezervacie"),e.abrupt("return");case 16:C(!1),k(o.message),e.next=25;break;case 20:e.prev=20,e.t0=e.catch(2),console.log(e.t0),k("Nieco sa pokazilo"),C(!1);case 25:case"end":return e.stop()}}),e,null,[[2,20]])})));return function(n){return e.apply(this,arguments)}}(),R=function(){var e=Object(o.a)(c.a.mark((function e(n){var t,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C(!0),w(!0),e.prev=2,e.next=5,v(n);case 5:return t=e.sent,e.next=8,t.json();case 8:a=e.sent,console.log(a),C(!1),k(a.message),e.next=19;break;case 14:e.prev=14,e.t0=e.catch(2),console.log(e.t0),k("Nieco sa pokazilo"),C(!1);case 19:case"end":return e.stop()}}),e,null,[[2,14]])})));return function(n){return e.apply(this,arguments)}}(),W=Object(u.useState)(null),Y=Object(l.a)(W,2),$=Y[0],ee=Y[1],ne=Object(u.useState)(null),te=Object(l.a)(ne,2),ae=te[0],re=te[1],ce=function(){var e=Object(o.a)(c.a.mark((function e(){var n,t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C(!0),w(!0),e.prev=2,e.next=5,fetch("".concat("http://195.110.58.166:8080","/api/booking/bookings"));case 5:return n=e.sent,e.next=8,n.json();case 8:if(!(t=e.sent).error){e.next=13;break}return k(t.message),C(!1),e.abrupt("return");case 13:t.bookings&&(ee(t.bookings),C(!1),y()),k(t.message),C(!1),e.next=23;break;case 18:e.prev=18,e.t0=e.catch(2),console.log(e.t0),k("Nieco sa pokazilo"),C(!1);case 23:case"end":return e.stop()}}),e,null,[[2,18]])})));return function(){return e.apply(this,arguments)}}(),oe=function(){var e=Object(o.a)(c.a.mark((function e(){var n,t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C(!0),w(!0),e.prev=2,e.next=5,h(r);case 5:return n=e.sent,e.next=8,n.json();case 8:if(!(t=e.sent).userBookings){e.next=13;break}return re(t.userBookings),y(),e.abrupt("return");case 13:k(t.message),C(!1),e.next=22;break;case 17:e.prev=17,e.t0=e.catch(2),console.log(e.t0),k("Nieco sa pokazilo"),C(!1);case 22:case"end":return e.stop()}}),e,null,[[2,17]])})));return function(){return e.apply(this,arguments)}}();return Object(a.jsx)(x.Provider,{value:{calendar:J,calendars:P,handleCalendarChange:function(e){var n=e.target,t=n.name,a=n.value;X(Object(s.a)(Object(s.a)({},J),{},Object(i.a)({},t,a)))},handleDayTimeChange:function(e,n){var t=e.target,a=t.name,r=t.value,c=J.startTimes;c[n]=r,X(Object(s.a)(Object(s.a)({},J),{},Object(i.a)({},a,c)))},getCalendars:V,getCalendar:Z,createCalendar:_,updateCalendar:Q,delCalendar:R,isUpdatingCalendar:S,bookings:$,getBookings:ce,userBookings:ae,getUserBookings:oe,activeCalendar:N,resetBooking:function(){F(0),X(g),M(!1)},selectedDate:A,setSelectedDate:G},children:n})}}}]);
//# sourceMappingURL=14.32659102.chunk.js.map