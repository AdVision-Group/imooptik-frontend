{"version":3,"sources":["components/custom-select/custom-select.styles.jsx","components/custom-select/custom-select.component.jsx","sections/calendar/calendar.styles.jsx","sections/calendar/calendar.section.jsx","components/custom-input/custom-input.styles.jsx","components/custom-input/custom-input.component.jsx","hooks/useFetch.jsx","components/scroll-container/scroll-container.styles.jsx","components/scroll-container/scroll-container.component.jsx","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","utils/warehouse.utils.jsx","utils/calendar.utils.jsx","context/booking/booking.context.jsx"],"names":["CustomSelectContainer","styled","select","CustomRetailSelect","name","value","handleChange","listItems","defaultOption","defaultValue","defaultLabel","onChange","e","map","idx","Header","div","paddingStyles","CreateCalendarButton","CustomButton","DeleteCalendarButton","AddDayButton","GridContainer","Container","ContainerRow","TableHead","TableCol","isFirst","TableRow","CalendarSection","useContext","LoadingModalContext","closeModal","getMessage","setShowModal","isLoading","message","showModal","BookingContext","createCalendar","updateCalendar","deleteCalendar","calendarId","useParams","useFetchById","response","isFetching","useState","calendar","setCalendar","isUpdating","setIsUpdating","handleCalendarValueChange","target","prevValue","handleCalendarTimeChange","arr","useEffect","exceptDays","exceptDaysArr","formatExceptDays","loading","title","close","onClick","_id","premises","endTimes","startTimes","interval","calendarToUpdate","formatCalendarObj","console","log","calendarToCreate","formatExceptDaysToObj","retailNames","type","label","handleCalendarExceptDaysChange","allowMinutesBefore","toString","daysIntoFuture","dayNames","Array","calendarTimes","shrinkLabel","css","InputGroup","CustomInput","otherProps","className","htmlFor","length","useFetch","path","skip","setResponse","error","setError","setMessage","setIsLoading","refetchIndex","setRefetchIndex","refetch","prevRefetchIndex","a","fetch","process","res","json","data","fetchData","useFetchByQuery","queryObj","myHeaders","Headers","append","localStorage","getItem","raw","JSON","stringify","requestOptions","method","headers","body","redirect","id","FixedContainer","ScrollContainer","children","_toConsumableArray","isArray","arrayLikeToArray","iter","Symbol","iterator","Object","from","unsupportedIterableToArray","TypeError","brands","lensesBrands","retailNamesTabs","formatPrice","price","includes","split","Number","months","calendarFormat","getPreviousMonthDays","firstDayIndex","x","push","dayNumber","isDisable","isPrevDay","getNextMonthDays","nextDays","isNextDay","getCurrentMonthDays","lastDay","getBooking","days","month","year","booked","bookingDates","keys","filter","booking","spliteBookingString","isBelongHere","forEach","day","dayObj","date","splitedDate","bookings","bookingDate","find","bookDate","checkIfHasAppoinment","hourIndex","bookingsArr","result","formatBookingTime","calendarObj","obj","undefined","__v","dateCreated","exceptDaysObj","reverse","join","formatBookingObj","bookingObj","rows","timesBooked","formatDate","formatedDate","formatedHour","hour","min","formatCalendarStartTime","dayIndex","Date","getDay","replace","formatCalendarEndTime","createContext","createBooking","updateBooking","deleteBooking","createUserBooking","BookingProvider","useHistory","token","AuthContext","calendarToAdd","messageSK","bookingToAdd","bookingToUpdate","bookingId","userBookingToAdd","refetchCalendar","userBooking","Provider"],"mappings":"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","file":"static/js/11.ab578c63.chunk.js","sourcesContent":["import styled from 'styled-components'\n\nexport const CustomSelectContainer = styled.select`\n    margin-top: 2rem;\n    min-width: 16.5rem;\n    width: 100%;\n    background-color: var(--input-background-color);\n    color: var(--input-color);\n    border: none;\n    padding: .8rem 1rem .8rem 1rem;\n    font-size: inherit;\n    font-family: inherit;\n    display: block;\n`","import React from 'react'\n\nimport { CustomSelectContainer } from './custom-select.styles'\n\nconst CustomRetailSelect = ({ name, value, handleChange, listItems, defaultOption = false, defaultValue, defaultLabel }) => {\n    return (\n        <CustomSelectContainer name={name} value={value} onChange={(e) => handleChange(e)}>\n            {defaultOption && <option value={defaultValue}>{defaultLabel}</option>}\n            {listItems.map((name, idx) => {\n                if (idx === 4) return\n                return (\n                    <option key={idx} value={idx + 1}>{name}</option>\n                )\n            })}\n        </CustomSelectContainer>\n    )\n}\n\nexport default CustomRetailSelect\n","import styled from 'styled-components'\nimport { paddingStyles } from '../../global.styles'\nimport CustomButton from '../../components/custom-button/custom-button.component'\n\nexport const Header = styled.div`\n    ${paddingStyles}\n    padding-top: 3rem;\n    padding-bottom: 3rem;\n    display: flex;\n    justify-content: space-between;\n    color: var(--primary-text-color);\n`\n\nexport const CreateCalendarButton = styled(CustomButton)`\n    background-color: var(--primary-color);\n    font-weight: bolder;\n    margin-left: 1rem;\n`\nexport const DeleteCalendarButton = styled(CustomButton)`\n    background-color: var(--color-red);\n`\n\nexport const AddDayButton = styled(CustomButton)`\n    margin-top: 2rem;\n    background-color: var(--primary-color);\n    font-weight: bolder;\n`\n\nexport const GridContainer = styled.div`\n    display: grid;\n    grid-template-columns: 1fr 1fr;\n    grid-gap: 3rem;\n    align-items: start;\n    margin-bottom: 5rem;\n`\n\nexport const Container = styled.div`\n    padding: 2rem;\n    border-radius: .5rem;\n    background-color: var(--container-background-color);\n    box-shadow: var(--container-shadow);\n    margin-bottom: 3rem;\n\n    h3 {\n        margin-bottom: 2rem;\n    }\n\n    h4 {\n        margin-top: 2rem;\n    }\n\n    select {\n        margin-top: 2rem;\n        /* min-width: 16.5rem; */\n        width: 100%;\n        background-color: var(--input-background-color);\n        color: var(--input-color);\n        border: none;\n        padding: .8rem .5rem .8rem .5rem;\n        font-size: inherit;\n        font-family: inherit;\n        display: block;\n    }\n`\n\nexport const ContainerRow = styled.div`\n    grid-column: 1/3;\n    padding: 2rem;\n    border-radius: .5rem;\n    background-color: var(--container-background-color);\n    box-shadow: var(--container-shadow);\n    margin-bottom: 3rem;\n    min-width: 90rem;\n\n    h3 {\n        margin-bottom: 2rem;\n    }\n\n    h4 {\n        margin-top: 2rem;\n    }\n`\n\nexport const TableHead = styled.div`\n    display: grid;\n    grid-template-columns: repeat(8, 1fr);\n    /* justify-items: center; */\n    border-bottom: 1px solid var(--secondary-text-color);\n`\n\nexport const TableCol = styled.div`\n    padding: 2rem;\n    text-align: center;\n\n    border-right: ${({ isFirst }) => isFirst ? \"1px solid var(--secondary-text-color)\" : \"\"};\n    display: flex;\n    align-items: center;\n    justify-content: center;\n`\n\nexport const TableRow = styled.div`\n    display: grid;\n    grid-template-columns: repeat(8, 1fr);\n    /* justify-items: center; */\n    /* align-items: center; */\n\n\n    select {\n        /* margin-top: 2rem; */\n        /* min-width: 16.5rem; */\n        width: 100%;\n        background-color: var(--input-background-color);\n        color: var(--input-color);\n        border: none;\n        padding: .8rem .5rem .8rem .5rem;\n        font-size: inherit;\n        font-family: inherit;\n        display: block;\n    }\n`\n\n\n// export const DayTimesContainer = styled.div`\n//     --gap: 2rem;\n//     display: flex;\n//     flex-wrap: wrap;\n//     margin: calc(-1 * var(--gap)) 2rem 2rem calc(-1 * var(--gap));\n//     /* width: calc(100% + var(--gap)); */\n\n//     & > * {\n//         margin: var(--gap) 2rem 2rem var(--gap);\n//     }\n//     margin-top: 3rem;\n\n// `","import React, { useState, useContext, useEffect } from 'react'\nimport { BookingContext } from '../../context/booking/booking.context'\nimport { LoadingModalContext } from '../../context/loading-modal/loading-modal.contenxt'\nimport { useParams } from 'react-router-dom'\n\nimport ScrollContainer from '../../components/scroll-container/scroll-container.component'\nimport CustomRetailSelect from '../../components/custom-select/custom-select.component'\nimport CustomInput from '../../components/custom-input/custom-input.component'\nimport Popup from '../../components/popup/pop-up.component'\n\nimport { useFetchById } from '../../hooks/useFetch'\n\nimport { retailNames } from '../../utils/warehouse.utils'\nimport {\n    dayNames,\n    calendarTimes,\n    formatCalendarObj,\n    formatExceptDays,\n    formatExceptDaysToObj\n} from '../../utils/calendar.utils'\n\nimport {\n    Header,\n    CreateCalendarButton,\n    Container,\n    GridContainer,\n    ContainerRow,\n    TableHead,\n    TableCol,\n    TableRow,\n    AddDayButton,\n    DeleteCalendarButton\n} from './calendar.styles'\n\nconst CalendarSection = () => {\n    const {\n        closeModal,\n        getMessage,\n        setShowModal,\n        isLoading,\n        message,\n        showModal,\n    } = useContext(LoadingModalContext)\n    const { createCalendar, updateCalendar, deleteCalendar } = useContext(BookingContext)\n    const { calendarId } = useParams()\n    const { response, isLoading: isFetching } = useFetchById(\"api/booking/calendars\", calendarId, calendarId === 'novy-kalendar')\n    const [calendar, setCalendar] = useState({})\n    const [isUpdating, setIsUpdating] = useState(false)\n\n    const handleCalendarValueChange = (e) => {\n        const { name, value } = e.target\n\n        if (value === '') {\n            delete calendar[name]\n            setCalendar({\n                ...calendar\n            })\n            return\n        }\n\n        setCalendar(prevValue => ({\n            ...prevValue,\n            [name]: value\n        }))\n    }\n\n    const handleCalendarTimeChange = (e, idx) => {\n        const { name, value } = e.target\n        let arr = calendar[name] ? calendar[name] : ['X', 'X', 'X', 'X', 'X', 'X', 'X']\n        arr[idx] = value\n\n        setCalendar(prevValue => ({\n            ...prevValue,\n            [name]: arr\n        }))\n    }\n\n    const handleCalendarExceptDaysChange = (e, idx) => {\n        const { name, value } = e.target\n        let arr = calendar[name]\n        arr[idx] = value\n\n        setCalendar(prevValue => ({\n            ...prevValue,\n            [name]: arr\n        }))\n    }\n\n    const handleAddNewDay = () => {\n        setCalendar(prevValue => ({\n            ...prevValue,\n            exceptDays: prevValue.exceptDays ? [...prevValue.exceptDays, \"\"] : [\"\"]\n        }))\n    }\n\n    const handleSubmit = () => {\n        if (!calendar.name) {\n            getMessage(\"Meno Kalendára je povinné\")\n            setShowModal(true)\n            return\n        }\n        if (!calendar.premises) {\n            getMessage(\"Nie je zvolená prevádzka ku ktorej patrí kalendár\")\n            setShowModal(true)\n            return\n        }\n        if (!calendar.endTimes && !calendar.startTimes) {\n            getMessage(\"Nie sú vyplnené časy na prehliadky\")\n            setShowModal(true)\n            return\n        }\n        if (!calendar.interval) {\n            getMessage(\"Nie je zvolený interval\")\n            setShowModal(true)\n            return\n        }\n\n        if (isUpdating) {\n            const calendarToUpdate = formatCalendarObj(calendar)\n\n            console.log(\"CALENDAR BEFORE UPDATE\")\n            console.log(calendarToUpdate)\n\n\n            updateCalendar(calendarToUpdate, calendar._id)\n        } else {\n            let calendarToCreate = {}\n            if (calendar.exceptDays) {\n                calendarToCreate = {\n                    ...calendar,\n                    exceptDays: formatExceptDaysToObj(calendar.exceptDays)\n                }\n            } else {\n                calendarToCreate = { ...calendar }\n            }\n\n\n            console.log(\"CALENDAR BEFORE CREATE\")\n            console.log(calendarToCreate)\n            createCalendar(calendarToCreate)\n        }\n    }\n\n    useEffect(() => {\n        if (isFetching) return\n        if (response.calendar) {\n            setIsUpdating(true)\n            if (response.calendar.exceptDays) {\n                const exceptDaysArr = formatExceptDays(response.calendar.exceptDays)\n\n                setCalendar({\n                    ...response.calendar,\n                    exceptDays: exceptDaysArr\n                })\n\n            } else {\n                setCalendar(response.calendar)\n            }\n        }\n    }, [isFetching])\n\n    useEffect(() => {\n        return () => {\n            setIsUpdating(false)\n            setCalendar({})\n        }\n    }, [])\n\n    return (\n        <section>\n            {(showModal) && <Popup loading={isLoading} title={message} close={closeModal} />}\n            <Header>\n                <div>\n                    {isUpdating ? (\n                        <h1>Kalendár: {calendar?.name}</h1>\n                    ) : (\n                            <h1>Nový kalendár</h1>\n                        )}\n                </div>\n                <div>\n                    {isUpdating && <DeleteCalendarButton onClick={() => deleteCalendar(calendar?._id)}>Vymazať</DeleteCalendarButton>}\n                    <CreateCalendarButton onClick={handleSubmit}>{isUpdating ? \"Upraviť\" : \"Vytvoriť\"}</CreateCalendarButton>\n                </div>\n            </Header>\n            <ScrollContainer>\n                <GridContainer>\n                    <div>\n                        <Container>\n                            <h3>Základné informácie</h3>\n                            <div>\n                                <h4>Kalendar je pre prevádzku</h4>\n                                <CustomRetailSelect\n                                    name='premises'\n                                    value={calendar?.premises || \"0\"}\n                                    listItems={retailNames}\n                                    defaultOption\n                                    defaultValue={0}\n                                    defaultLabel=\"Nezadané\"\n                                    handleChange={handleCalendarValueChange}\n                                />\n                            </div>\n                            <div>\n                                <h4>Meno kalendára</h4>\n                                <CustomInput\n                                    type=\"text\"\n                                    label='Meno*'\n                                    name=\"name\"\n                                    value={calendar?.name || \"\"}\n                                    handleChange={handleCalendarValueChange}\n                                />\n                            </div>\n                        </Container>\n                        <Container>\n                            <h3>Dni kedy sa nerobia prehliadky</h3>\n                            {calendar?.exceptDays && calendar?.exceptDays?.map((value, idx) => (\n                                <div key={idx}>\n                                    <CustomInput\n                                        type=\"date\"\n                                        // label='Dátum'\n                                        name=\"exceptDays\"\n                                        value={value || \"\"}\n                                        handleChange={(e) => handleCalendarExceptDaysChange(e, idx)}\n                                    />\n                                </div>\n                            ))}\n                            <AddDayButton onClick={handleAddNewDay}>Pridať</AddDayButton>\n                        </Container>\n                    </div>\n\n                    <Container>\n                        <h3>Nastavenie kalendára</h3>\n\n                        <div>\n                            <h4>Interval medzi prehliadkami</h4>\n                            <select\n                                name='interval'\n                                value={calendar?.interval || \"\"}\n                                onChange={handleCalendarValueChange}\n                            >\n                                <option value={\"\"}>Nezadané</option>\n                                <option value={30}>30min</option>\n                                <option value={60}>60min</option>\n                            </select>\n                        </div>\n                        <div>\n                            <h4>Čas pred objednaním</h4>\n                            <CustomInput\n                                type=\"text\"\n                                label='Počet minút'\n                                name=\"allowMinutesBefore\"\n                                value={calendar?.allowMinutesBefore?.toString() || \"\"}\n                                handleChange={handleCalendarValueChange}\n                            />\n                        </div>\n                        <div>\n                            <h4>Koľko dní dopredu sa dá objednať</h4>\n                            <CustomInput\n                                type=\"text\"\n                                label='Počet dní'\n                                name=\"daysIntoFuture\"\n                                value={calendar?.daysIntoFuture?.toString() || \"\"}\n                                handleChange={handleCalendarValueChange}\n                            />\n                        </div>\n                    </Container>\n\n                    <ContainerRow>\n                        <h3>Ordinačné hodiny</h3>\n                        <TableHead>\n                            <TableCol isFirst>\n                                Čas \\ Den\n                            </TableCol>\n                            {dayNames.map((name, idx) => (\n                                <TableCol key={idx}>\n                                    {name}\n                                </TableCol>\n                            ))}\n                        </TableHead>\n                        <TableRow>\n                            <TableCol isFirst>\n                                Začiatok\n                            </TableCol>\n                            {[...Array(7)].map((value, idx) => (\n                                <TableCol key={idx}>\n                                    <select name='startTimes' value={calendar?.startTimes ? calendar?.startTimes[idx] : \"x\"} onChange={(e) => handleCalendarTimeChange(e, idx)}>\n                                        <option value={\"X\"}>Žiadný</option>\n                                        {calendarTimes.map(({ name, value }, idx) => (\n                                            <option key={idx} value={value}>{name}</option>\n                                        ))}\n                                    </select>\n                                </TableCol>\n                            ))}\n                        </TableRow>\n                        <TableRow>\n                            <TableCol isFirst>\n                                Koniec\n                            </TableCol>\n                            {[...Array(7)].map((value, idx) => (\n                                <TableCol key={idx}>\n                                    <select name='endTimes' value={calendar?.endTimes ? calendar?.endTimes[idx] : \"x\"} onChange={(e) => handleCalendarTimeChange(e, idx)}>\n                                        <option value={\"X\"}>Žiadný</option>\n                                        {calendarTimes.map(({ name, value }, idx) => (\n                                            <option key={idx} value={value}>{name}</option>\n                                        ))}\n                                    </select>\n                                </TableCol>\n                            ))}\n                        </TableRow>\n                    </ContainerRow>\n                </GridContainer>\n            </ScrollContainer>\n        </section>\n    )\n}\n\nexport default CalendarSection\n","import styled, { css } from \"styled-components\"\n\nconst shrinkLabel = css`\n    left: .5rem;\n    top: -14px;\n    font-size: 12px;\n    color: var(--input-color);\n`\nexport const InputGroup = styled.div`\n    position: relative;\n\n    /* margin: 45px 0; */\n\n    .form-input {\n        /* background: none; */\n        background-color: var(--input-background-color);\n        color: var(--input-color);\n        font-size: 1.5rem;\n        padding: 1rem .5rem 1rem 2rem;\n        display: block;\n        width: 100%;\n        border: none;\n        border-radius: .5rem;\n        /* border-bottom: 1px solid #000; */\n        margin: 2rem 0 0;\n        font-family: inherit;\n\n        &:focus {\n        outline: none;\n        }\n\n        &:focus ~ .form-input-label {\n            ${shrinkLabel}\n        }\n    }\n\n    input[type = 'password'] {\n        letter-spacing: 0.3em;\n    }\n\n    .form-input-label {\n        color: var(--input-color);\n        font-size: 1.4rem;\n        font-weight: normal;\n        position: absolute;\n        pointer-events: none;\n        left: 1.5rem;\n        top: 1rem;\n        transition: 300ms ease all;\n\n        &.shrink {\n            ${shrinkLabel}\n        }\n    }\n\n    @media all and (max-width: 500px) {\n        .form-input {\n            font-size: 1.4rem;\n        }\n        /* padding: 1rem .5rem 1rem 2rem; */\n    }\n`\n","import React from 'react'\n\nimport { InputGroup } from './custom-input.styles'\n\nconst CustomInput = ({ handleChange, label, name, ...otherProps }) => {\n    return (\n        <InputGroup>\n            <input\n                className='form-input'\n                name={name}\n                onChange={handleChange}\n                {...otherProps}\n            />\n            {label ? (\n                <label htmlFor={name} className={`${otherProps.value.length ? 'shrink' : ''} form-input-label`}>\n                    {label}\n                </label>\n            ) : null\n            }\n        </InputGroup>\n    )\n}\n\nexport default CustomInput","import { useEffect, useState } from 'react'\n\nexport const useFetch = (path, skip = false) => {\n    const [response, setResponse] = useState(null)\n    const [error, setError] = useState(null)\n    const [message, setMessage] = useState(null)\n    const [isLoading, setIsLoading] = useState(true)\n    const [refetchIndex, setRefetchIndex] = useState(0)\n\n    const refetch = () => setRefetchIndex(prevRefetchIndex => prevRefetchIndex + 1)\n\n    useEffect(() => {\n        const fetchData = async () => {\n            if (skip) return\n            try {\n                const res = await fetch(`${process.env.REACT_APP_BACKEND_ENDPOINT}/${path}`)\n                const data = await res.json()\n\n                setMessage(data.message)\n                setResponse(data)\n                setIsLoading(false)\n            } catch (err) {\n                setError(err)\n                setIsLoading(false)\n                setMessage(\"Niečo sa pokazilo\")\n            }\n        }\n        fetchData()\n    }, [refetchIndex])\n\n    return { response, isLoading, error, message, refetch }\n}\n\nexport const useFetchByQuery = (path, queryObj, skip = false) => {\n    const [response, setResponse] = useState(null)\n    const [error, setError] = useState(null)\n    const [isLoading, setIsLoading] = useState(true)\n    const [refetchIndex, setRefetchIndex] = useState(0)\n\n    const refetch = () => setRefetchIndex(prevRefetchIndex => prevRefetchIndex + 1)\n\n    const myHeaders = new Headers();\n    myHeaders.append(\"auth-token\", localStorage.getItem(process.env.REACT_APP_ADMIN_TOKEN));\n    myHeaders.append(\"Content-Type\", \"application/json\");\n\n    const raw = JSON.stringify(queryObj)\n\n    const requestOptions = {\n        method: 'POST',\n        headers: myHeaders,\n        body: raw,\n        redirect: 'follow'\n    };\n\n    useEffect(() => {\n        const fetchData = async () => {\n            if (skip) return\n            setIsLoading(true)\n            try {\n                const res = await fetch(`${process.env.REACT_APP_BACKEND_ENDPOINT}/${path}`, requestOptions)\n                const data = await res.json()\n\n                setResponse(data)\n                setIsLoading(false)\n            } catch (err) {\n                setError(err)\n                setIsLoading(false)\n            }\n        }\n        fetchData()\n    }, [refetchIndex, path])\n\n    return { response, isLoading, error, refetch }\n}\n\nexport const useFetchById = (path, id, skip = false) => {\n    const [response, setResponse] = useState(null)\n    const [error, setError] = useState(null)\n    const [isLoading, setIsLoading] = useState(true)\n    const [refetchIndex, setRefetchIndex] = useState(0)\n\n    const refetch = () => setRefetchIndex(prevRefetchIndex => prevRefetchIndex + 1)\n\n    const myHeaders = new Headers();\n    myHeaders.append(\"auth-token\", localStorage.getItem(process.env.REACT_APP_ADMIN_TOKEN));\n    myHeaders.append(\"Content-Type\", \"application/json\");\n\n    const requestOptions = {\n        method: 'GET',\n        headers: myHeaders,\n        redirect: 'follow'\n    };\n\n    useEffect(() => {\n        const fetchData = async () => {\n            if (skip) return\n            setIsLoading(true)\n            try {\n                const res = await fetch(`${process.env.REACT_APP_BACKEND_ENDPOINT}/${path}/${id}`, requestOptions)\n                const data = await res.json()\n\n                setResponse(data)\n                setIsLoading(false)\n            } catch (err) {\n                setError(err)\n                setIsLoading(false)\n            }\n        }\n        fetchData()\n    }, [refetchIndex, path, id])\n\n    return { response, isLoading, error, refetch }\n}\n","import styled from 'styled-components'\nimport { paddingStyles } from '../../global.styles'\n\nexport const Container = styled.div`\n    width: 100%;\n    height: 100%;\n    /* height: 100%; */\n    overflow-y: scroll;\n    overflow-x: visible;\n    scroll-behavior: smooth;\n    ${paddingStyles};\n    padding-top: 1.5rem;\n    padding-bottom: 1.5rem;\n    color: var(--primary-text-color);\n\n\n\n\n    @media all and (max-width: 1150px) {\n        margin-bottom: 8rem;\n    }\n\n    ::-webkit-scrollbar {\n        width: 10px;\n    }\n\n    /* Track */\n    ::-webkit-scrollbar-track {\n        background:  var(--background-primary-color);\n    }\n\n    /* Handle */\n    ::-webkit-scrollbar-thumb {\n        background: var(--primary-color);\n    }\n\n    /* Handle on hover */\n    ::-webkit-scrollbar-thumb:hover {\n        background: var(--primary-color);\n    }\n`\n\nexport const FixedContainer = styled.div`\n    /* max-width: 115rem; */\n`","import React from 'react'\nimport { Container, FixedContainer } from './scroll-container.styles'\n\nconst ScrollContainer = ({ children }) => {\n    return (\n        <Container>\n            <FixedContainer>\n                {children}\n            </FixedContainer>\n        </Container>\n    )\n}\n\nexport default ScrollContainer","import arrayWithoutHoles from \"@babel/runtime/helpers/esm/arrayWithoutHoles\";\nimport iterableToArray from \"@babel/runtime/helpers/esm/iterableToArray\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableSpread from \"@babel/runtime/helpers/esm/nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"@babel/runtime/helpers/esm/arrayLikeToArray\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","export const brands = [\n    \"Adidas\",\n    \"Armani Exchange\",\n    \"Arnette\",\n    \"Blackfin\",\n    \"Blumarine\",\n    \"Burberry\",\n    \"Bvlgari\",\n    \"Calvin Klein\",\n    \"Carolina Herrera\",\n    \"Carrera\",\n    \"David Beckham\",\n    \"Dior\",\n    \"Dolce & Gabbana\",\n    \"Elle\",\n    \"Emporio Armani\",\n    \"Esprit\",\n    \"Etnia Barcelona\",\n    \"Fendi\",\n    \"Fossil\",\n    \"Furla\",\n    \"Giorgio Armani\",\n    \"Givenchy\",\n    \"Gucci\",\n    \"Guess\",\n    \"H.I.S\",\n    \"Hawkers\",\n    \"Hugo Boss\",\n    \"Jaguar\",\n    \"Jimmy Choo\",\n    \"Lacoste\",\n    \"Liu Jo\",\n    \"Marc Jacobs\",\n    \"Max Mara\",\n    \"Max&Co\",\n    \"Meller\",\n    \"Mexx\",\n    \"Michael Kors\",\n    \"Moschino\",\n    \"Oakley\",\n    \"Persol\",\n    \"Polaroid\",\n    \"Police\",\n    \"Polo Ralph Lauren\",\n    \"Prada\",\n    \"Prada Linea Rossa\",\n    \"Ralph\",\n    \"Ralph Lauren\",\n    \"Ray-Ban\",\n    \"Salvatore Ferragamo\",\n    \"Smith\",\n    \"Strellson\",\n    \"Tiffany&Co.\",\n    \"Tom Ford\",\n    \"Tommy Hilfiger\",\n    \"Versace\",\n    \"Vogue\"\n]\n\nexport const lensesBrands = [\n    \"Acuvue\",\n    \"Adore\",\n    \"Air Optix\",\n    \"Biofinity\",\n    \"Biomedics\",\n    \"Clariti\",\n    \"ColourVue\",\n    \"Comfilcon A\",\n    \"Dailies\",\n    \"Freshlook\",\n    \"Lenjoy\",\n    \"Proclear\",\n    \"Purevision\",\n    \"Soflens\",\n]\n\nexport const retailNames = [\n    \"Obchodná 57, Bratislava\",\n    \"Miletičova 38, Bratislava\",\n    \"Vajnory, Bratislava\",\n    \"Senica, OC Branč\",\n    \"Trnava, City Aréna\"\n]\n\nexport const retailNamesTabs = [\n    {\n        id: 0,\n        name: \"E-shop\",\n    },\n    {\n        id: 1,\n        name: \"Obchodná 57, Bratislava\",\n    },\n    {\n        id: 2,\n        name: \"Miletičova 38, Bratislava\",\n    },\n    {\n        id: 3,\n        name: \"Vajnory, Bratislava\",\n    },\n    {\n        id: 4,\n        name: \"Senica, OC Branč\",\n    },\n]\n\nexport const formatPrice = (price = \"\") => {\n    price.toString()\n    let value = 0\n    if (price.includes(',')) {\n        if (price.split(',')[1].length === 1) {\n            value = price.split(',')[0] + price.split(',')[1] + \"0\"\n            return Number(value)\n        } else {\n            value = price.split(',')[0] + price.split(',')[1]\n            return Number(value)\n        }\n    } else {\n        return Number(price * 100)\n    }\n}","export const calendarTimes = [\n    {\n        name: '00:00',\n        value: '00/00'\n    },\n    {\n        name: '00:30',\n        value: '00/30'\n    },\n    {\n        name: '01:00',\n        value: '01/00'\n    },\n    {\n        name: '01:30',\n        value: '01/30'\n    },\n    {\n        name: '02:00',\n        value: '02/00'\n    },\n    {\n        name: '02:30',\n        value: '02/30'\n    },\n    {\n        name: '03:00',\n        value: '03/00'\n    },\n    {\n        name: '03:30',\n        value: '03/30'\n    },\n    {\n        name: '04:00',\n        value: '04/00'\n    },\n    {\n        name: '04:30',\n        value: '04/30'\n    },\n    {\n        name: '05:00',\n        value: '05/00'\n    },\n    {\n        name: '05:30',\n        value: '05/30'\n    },\n    {\n        name: '06:00',\n        value: '06/00'\n    },\n    {\n        name: '06:30',\n        value: '06/30'\n    },\n    {\n        name: '07:00',\n        value: '07/00'\n    },\n    {\n        name: '07:30',\n        value: '07/30'\n    },\n    {\n        name: '08:00',\n        value: '08/00'\n    },\n    {\n        name: '08:30',\n        value: '08/30'\n    },\n    {\n        name: '09:00',\n        value: '09/00'\n    },\n    {\n        name: '09:30',\n        value: '09/30'\n    },\n    {\n        name: '10:00',\n        value: '10/00'\n    },\n    {\n        name: '10:30',\n        value: '10/30'\n    },\n    {\n        name: '11:00',\n        value: '11/00'\n    },\n    {\n        name: '11:30',\n        value: '11/30'\n    },\n    {\n        name: '12:00',\n        value: '12/00'\n    },\n    {\n        name: '12:30',\n        value: '12/30'\n    },\n    {\n        name: '13:00',\n        value: '13/00'\n    },\n    {\n        name: '13:30',\n        value: '13/30'\n    },\n    {\n        name: '14:00',\n        value: '14/00'\n    },\n    {\n        name: '14:30',\n        value: '14/30'\n    },\n    {\n        name: '15:00',\n        value: '15/00'\n    },\n    {\n        name: '15:30',\n        value: '15/30'\n    },\n    {\n        name: '16:00',\n        value: '16/00'\n    },\n    {\n        name: '16:30',\n        value: '16/30'\n    },\n    {\n        name: '17:00',\n        value: '17/00'\n    },\n    {\n        name: '17:30',\n        value: '17/30'\n    },\n    {\n        name: '18:00',\n        value: '18/00'\n    },\n    {\n        name: '18:30',\n        value: '18/30'\n    },\n    {\n        name: '19:00',\n        value: '19/00'\n    },\n    {\n        name: '19:30',\n        value: '19/30'\n    },\n    {\n        name: '20:00',\n        value: '20/00'\n    },\n    {\n        name: '20:30',\n        value: '20/30'\n    },\n    {\n        name: '21:00',\n        value: '21/00'\n    },\n    {\n        name: '22:30',\n        value: '22/30'\n    },\n    {\n        name: '23:00',\n        value: '23/00'\n    },\n    {\n        name: '23:30',\n        value: '23/30'\n    },\n]\n\nexport const dayNames = [\n    'Pondelok',\n    'Utorok',\n    'Streda',\n    'Štvrtok',\n    'Piatok',\n    'Sobota',\n    'Nedeľa'\n]\n\nexport const months = [\n    'január',\n    'február',\n    'marec',\n    'apríl',\n    'máj',\n    'jún',\n    'júl',\n    'august',\n    'september',\n    'október',\n    'november',\n    'december',\n]\n\nexport const calendarFormat = [\n    'Mesiac',\n    'Týžden'\n]\n\nexport const getMonday = (d) => {\n    d = new Date(d);\n    var day = d.getDay(),\n        diff = d.getDate() - day + (day == 0 ? -6 : 1); // adjust when day is sunday\n    return new Date(d.setDate(diff));\n}\n\nexport const getPreviousMonthDays = (firstDayIndex) => {\n    let arr = [];\n    for (let x = firstDayIndex; x > 0; x--) {\n        arr.push({\n            dayNumber: x,\n            isDisable: true,\n            isPrevDay: true,\n        })\n    }\n    return arr\n}\n\nexport const getNextMonthDays = (nextDays) => {\n    let arr = [];\n    for (let x = 1; x <= nextDays; x++) {\n        arr.push({\n            dayNumber: x,\n            isDisable: true,\n            isNextDay: true\n        })\n    }\n    return arr\n}\n\nexport const getCurrentMonthDays = (lastDay) => {\n    let arr = [];\n    for (let x = 1; x <= lastDay; x++) {\n        arr.push({\n            dayNumber: x,\n        })\n    }\n    return arr\n}\n\nexport const getBooking = (days, calendar, month, year) => {\n    if (!calendar.booked) return days;\n    const bookingsArr = Object.keys(calendar?.booked)\n\n    const bookingDates = bookingsArr.filter((booking) => {\n        const spliteBookingString = booking.split('/')\n        let isBelongHere = false;\n\n        spliteBookingString.forEach(value => {\n            if (month === Number(spliteBookingString[1]) - 1 && year === Number(spliteBookingString[2])) {\n                return isBelongHere = true\n            }\n        })\n\n        if (isBelongHere) {\n            return booking\n        }\n    })\n\n    const daysWithBookingsArr = days.map(day => {\n        let dayObj = {}\n\n        bookingDates.forEach(date => {\n            const splitedDate = date.split('/')\n            if (Number(splitedDate[0]) === day.dayNumber) {\n                return dayObj = {\n                    dayNumber: day.dayNumber,\n                    bookings: calendar.booked[date],\n                    bookingDate: bookingDates.find(bookDate => bookDate === date)\n                }\n            } else {\n                if (dayObj.bookings) return\n                return dayObj = {\n                    dayNumber: day.dayNumber,\n                }\n            }\n        })\n\n        if (dayObj.bookings) return dayObj\n\n        return {\n            dayNumber: day.dayNumber,\n        }\n\n    });\n    return daysWithBookingsArr\n}\n\nexport const checkIfHasAppoinment = (hourIndex, bookingsArr) => {\n    let result = false;\n    if (bookingsArr) {\n        bookingsArr.forEach(booking => {\n            const formatBookingTime = booking.split('/')\n            if (Number(formatBookingTime[0]) === hourIndex) {\n                return result = true\n            }\n        })\n    }\n    return result\n}\n\nexport const formatCalendarObj = calendarObj => {\n    let obj = { ...calendarObj }\n    if (obj.bookings) delete obj[\"bookings\"]\n    if (obj.booked !== undefined) delete obj[\"booked\"]\n    if (obj.__v !== undefined) delete obj[\"__v\"]\n    if (obj._id) delete obj[\"_id\"]\n    if (obj.dateCreated) delete obj[\"dateCreated\"]\n    if (obj.exceptDays) {\n        obj = {\n            ...obj,\n            exceptDays: formatExceptDaysToObj(obj.exceptDays)\n        }\n    }\n\n    return obj\n}\n\nexport const formatExceptDays = exceptDaysObj => {\n    const arr = Object.keys(exceptDaysObj)\n    const formatedArr = arr.map(value => value.split('/').reverse().join('-'))\n    return formatedArr\n}\n\nexport const formatExceptDaysToObj = exceptDaysArr => {\n    let obj = {}\n    const formatedArr = exceptDaysArr.map(value => value.split('-').reverse().join('/'))\n\n    formatedArr.forEach(day => {\n        obj = {\n            ...obj,\n            [day]: \"00/00-23/59\"\n        }\n    })\n    return obj\n}\n\nexport const formatBookingObj = bookingObj => {\n    let obj = { ...bookingObj }\n    if (obj.rows) delete obj[\"rows\"]\n    if (obj.__v !== undefined) delete obj[\"__v\"]\n    if (obj._id) delete obj[\"_id\"]\n    if (obj.dateCreated) delete obj[\"dateCreated\"]\n    if (obj.timesBooked !== undefined) delete obj[\"timesBooked\"]\n    if (obj.premises) delete obj[\"premises\"]\n    if (obj.calendar) delete obj[\"calendar\"]\n\n    return obj\n}\n\nexport const formatDate = (bookingDate) => {\n    const splitedDate = bookingDate?.date.split('-')\n    const formatedDate = `${splitedDate[2]}/${splitedDate[1]}/${splitedDate[0]}`\n    const formatedHour = `${bookingDate?.hour < 10 ? `0${bookingDate?.hour}` : bookingDate?.hour}/${bookingDate?.min === 0 ? `0${bookingDate?.min}` : bookingDate?.min}`\n\n    return `${formatedHour}:${formatedDate}`\n}\n\nexport const formatCalendarStartTime = (calendar, day) => {\n    let dayIndex = new Date(day.year, day.month, day.dayNumber).getDay()\n    if (dayIndex === 0) dayIndex = 7\n    if (calendar.startTimes[dayIndex - 1] === \"X\") return\n    return calendar.startTimes[dayIndex - 1].replace(\"/\", \":\")\n}\nexport const formatCalendarEndTime = (calendar, day) => {\n    let dayIndex = new Date(day.year, day.month, day.dayNumber).getDay()\n    if (dayIndex === 0) dayIndex = 7\n    if (calendar.endTimes[dayIndex - 1] === \"X\") return\n    return calendar.endTimes[dayIndex - 1].replace(\"/\", \":\")\n}","import React, { createContext, useContext } from 'react'\nimport { LoadingModalContext } from '../loading-modal/loading-modal.contenxt'\nimport { AuthContext } from '../auth/auth.context'\nimport { useHistory } from 'react-router-dom'\n\nexport const BookingContext = createContext({\n    createCalendar: () => { },\n    updateCalendar: () => { },\n    deleteCalendar: () => { },\n    createBooking: () => { },\n    updateBooking: () => { },\n    deleteBooking: () => { },\n    createUserBooking: () => { },\n})\n\nconst BookingProvider = ({ children }) => {\n    const { push } = useHistory()\n    const { token } = useContext(AuthContext)\n    const {\n        getMessage,\n        setIsLoading,\n        setShowModal,\n        closeModal\n    } = useContext(LoadingModalContext)\n\n    const myHeaders = new Headers();\n    myHeaders.append(\"auth-token\", token);\n    myHeaders.append(\"Content-Type\", \"application/json\");\n\n    const createCalendar = async (calendarToAdd) => {\n        setIsLoading(true)\n        setShowModal(true)\n\n        const raw = JSON.stringify(calendarToAdd);\n\n        const requestOptions = {\n            method: 'POST',\n            headers: myHeaders,\n            body: raw,\n            redirect: 'follow'\n        };\n\n        try {\n            const response = await fetch(`${process.env.REACT_APP_BACKEND_ENDPOINT}/api/admin/booking/calendars`, requestOptions)\n            const data = await response.json()\n\n            if (data.calendar) {\n                setIsLoading(false)\n                closeModal()\n                push('/dashboard/rezervacie')\n                return\n            }\n\n            setIsLoading(false)\n            getMessage(data.messageSK)\n\n        } catch (err) {\n            console.log(err)\n            getMessage(\"Niečo sa pokazilo\")\n            setIsLoading(false)\n        }\n    }\n\n    const updateCalendar = async (calendarToUpdate, calendarId) => {\n        setIsLoading(true)\n        setShowModal(true)\n\n        const raw = JSON.stringify(calendarToUpdate);\n\n        const requestOptions = {\n            method: 'PATCH',\n            headers: myHeaders,\n            body: raw,\n            redirect: 'follow'\n        };\n\n\n        try {\n            const response = await fetch(`${process.env.REACT_APP_BACKEND_ENDPOINT}/api/admin/booking/calendars/${calendarId}`, requestOptions)\n            const data = await response.json()\n\n            console.log(data)\n\n\n            if (data.calendar) {\n                setIsLoading(false)\n                closeModal()\n                push('/dashboard/rezervacie')\n                return\n            }\n\n\n            setIsLoading(false)\n            getMessage(data.messageSK)\n        } catch (err) {\n            console.log(err)\n            getMessage(\"Niečo sa pokazilo\")\n            setIsLoading(false)\n        }\n    }\n\n    const deleteCalendar = async (calendarId) => {\n        setIsLoading(true)\n        setShowModal(true)\n\n        const requestOptions = {\n            method: 'DELETE',\n            headers: myHeaders,\n            // body: raw,\n            redirect: 'follow'\n        };\n\n\n        try {\n            const response = await fetch(`${process.env.REACT_APP_BACKEND_ENDPOINT}/api/admin/booking/calendars/${calendarId}`, requestOptions)\n            const data = await response.json()\n\n            console.log(data)\n\n            setIsLoading(false)\n            getMessage(data.messageSK)\n        } catch (err) {\n            console.log(err)\n            getMessage(\"Niečo sa pokazilo\")\n            setIsLoading(false)\n        }\n    }\n\n    const createBooking = async (bookingToAdd) => {\n        setIsLoading(true)\n        setShowModal(true)\n\n        const raw = JSON.stringify(bookingToAdd);\n\n        const requestOptions = {\n            method: 'POST',\n            headers: myHeaders,\n            body: raw,\n            redirect: 'follow'\n        };\n\n\n        try {\n            const response = await fetch(`${process.env.REACT_APP_BACKEND_ENDPOINT}/api/admin/booking/bookings`, requestOptions)\n            const data = await response.json()\n\n            console.log(data)\n            if (data.booking) {\n                setIsLoading(false)\n                closeModal()\n                return\n            }\n\n            setIsLoading(false)\n            getMessage(data.messageSK)\n        } catch (err) {\n            console.log(err)\n            getMessage(\"Niečo sa pokazilo\")\n            setIsLoading(false)\n        }\n    }\n\n    const updateBooking = async (bookingToUpdate, bookingId) => {\n        setIsLoading(true)\n        setShowModal(true)\n\n        const raw = JSON.stringify(bookingToUpdate);\n\n        const requestOptions = {\n            method: 'PATCH',\n            headers: myHeaders,\n            body: raw,\n            redirect: 'follow'\n        };\n\n\n        try {\n            const response = await fetch(`${process.env.REACT_APP_BACKEND_ENDPOINT}/api/admin/booking/bookings/${bookingId}`, requestOptions)\n            const data = await response.json()\n\n            console.log(data)\n\n            setIsLoading(false)\n            getMessage(data.message)\n        } catch (err) {\n            console.log(err)\n            getMessage(\"Niečo sa pokazilo\")\n            setIsLoading(false)\n        }\n    }\n\n    const deleteBooking = async (bookingId) => {\n        setIsLoading(true)\n        setShowModal(true)\n\n        const requestOptions = {\n            method: 'DELETE',\n            headers: myHeaders,\n            redirect: 'follow'\n        };\n\n        try {\n            const response = await fetch(`${process.env.REACT_APP_BACKEND_ENDPOINT}/api/admin/booking/bookings/${bookingId}`, requestOptions)\n            const data = await response.json()\n\n            console.log(data)\n\n            setIsLoading(false)\n            getMessage(data.message)\n        } catch (err) {\n            console.log(err)\n            getMessage(\"Niečo sa pokazilo\")\n            setIsLoading(false)\n        }\n    }\n\n    const createUserBooking = async (userBookingToAdd, refetchCalendar, close) => {\n        setIsLoading(true)\n        setShowModal(true)\n\n        const raw = JSON.stringify(userBookingToAdd);\n\n        const requestOptions = {\n            method: 'POST',\n            headers: myHeaders,\n            body: raw,\n            redirect: 'follow'\n        };\n\n        try {\n            const response = await fetch(`${process.env.REACT_APP_BACKEND_ENDPOINT}/api/booking/userBookings`, requestOptions)\n            const data = await response.json()\n\n            console.log(\"USERBOOKING RESPONSE\")\n            console.log(data)\n\n            if (data.userBooking) {\n                setIsLoading(false)\n\n                refetchCalendar()\n                closeModal()\n                close()\n            }\n\n\n            setIsLoading(false)\n            getMessage(data.messageSK)\n        } catch (err) {\n            console.log(err)\n            getMessage(\"Niečo sa pokazilo\")\n            setIsLoading(false)\n        }\n    }\n\n\n    return (\n        <BookingContext.Provider\n            value={{\n                createCalendar,\n                updateCalendar,\n                deleteCalendar,\n                createBooking,\n                updateBooking,\n                deleteBooking,\n                createUserBooking\n            }}\n        >\n            {children}\n        </BookingContext.Provider>\n    )\n}\n\nexport default BookingProvider"],"sourceRoot":""}