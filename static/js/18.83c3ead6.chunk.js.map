{"version":3,"sources":["../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","context/warehouse/warehouse.utils.jsx","context/warehouse/warehouse.context.jsx"],"names":["_toConsumableArray","arr","Array","isArray","arrayLikeToArray","iter","Symbol","iterator","Object","from","unsupportedIterableToArray","TypeError","initProductObj","name","description","price","type","brand","soldAmount","available","eanCode","image","eshop","link","category","initContactLensesObj","allowedCurves","allowedDiameters","dioptersRange","initLensesObj","id","cylinderRange","retailNames","productCategories","value","premisesTabs","premises","categoryTabs","formatPrice","includes","split","length","Number","formatAvailable","activePremisesTab","undefined","reduce","acc","currValue","checkParameter","parameter","idx","toString","dia","diaConvert","text","convertText","i","indexOf","charAt","WarehouseContext","createContext","product","lenses","contactLensesParameters","totalProducts","totalLenses","activeCategoryTypeTab","retailPremisesTabs","productCategoryTypeTabs","products","handleChangeCategoryTypeTab","handleChangePremisesTab","getProductsByQuery","handleProductChange","handleProductAvailableChange","getSingleProduct","createProduct","getSingleLenses","getLenses","createLenses","handleLensesChange","handleLensesParameterChange","resetProduct","resetLenses","resetContactLenses","getEanCode","handleAddNewParameter","handleContactLensesParameterChange","WarehouseProvider","children","push","useHistory","useContext","AuthContext","token","isAdmin","currentUser","stats","LoadingModalContext","closeModal","setIsLoading","setShowModal","getMessage","useState","setTotalProducts","setTotalLenses","setEanCode","setProduct","setLenses","setContactLensesParameters","setProducts","setActivePremisesTab","setRetailPremisesTabs","setActiveCategoryTypeTab","myHeaders","Headers","append","a","requestOptions","method","headers","redirect","fetch","process","response","json","data","console","log","message","query","raw","JSON","stringify","body","productToAdd","slug","replaceAll","toLowerCase","trim","modifiedProduct","map","contactLenses","limit","lensesToAdd","useEffect","filter","tab","Provider","e","target"],"mappings":"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","file":"static/js/18.83c3ead6.chunk.js","sourcesContent":["import arrayWithoutHoles from \"@babel/runtime/helpers/esm/arrayWithoutHoles\";\nimport iterableToArray from \"@babel/runtime/helpers/esm/iterableToArray\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableSpread from \"@babel/runtime/helpers/esm/nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"@babel/runtime/helpers/esm/arrayLikeToArray\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","export const initProductObj = {\n    name: \"\",\n    description: \"\",\n    price: 0,\n    type: 0,\n    brand: \"\",\n    soldAmount: 0,\n    available: [1001, 1001, 1001, 1001, 0],\n    eanCode: \"\",\n    image: \"\",\n    eshop: true,\n    link: '',\n    category: ''\n}\n\nexport const initGlassesObj = {\n    colorCode: \"\",\n    colorName: \"\",\n    specs: {\n        frameColor: \"\",\n        frameMaterial: \"\",\n        frameStyle: \"\",\n        lensColor: \"\",\n        sex: \"M\",\n        size: [1001, 1001, 1001],\n    }\n}\n\nexport const initContactLensesObj = {\n    allowedCurves: [1001],\n    allowedDiameters: [1001],\n    dioptersRange: [1001, 1001]\n}\n\nexport const initLensesObj = {\n    id: \"\",\n    name: \"\",\n    description: \"\",\n    dioptersRange: [1001, 1001],\n    cylinderRange: [1001, 1001],\n    price: 0,\n    brand: \"\",\n    image: ''\n}\n\nexport const retailNames = [\n    \"Obchodná 57, Bratislava\",\n    \"Miletičova 38, Bratislava\",\n    \"Vajnory, Bratislava\",\n    \"Senica, OC Branč\",\n    \"Trnava, City Aréna\"\n]\n\n// Category variables\nexport const productCategories = [\n    {\n        name: \"Dioptrické\",\n        value: 1\n    },\n    {\n        name: \"Slnečné\",\n        value: 2\n    },\n    {\n        name: \"Kontaktné Šošovky\",\n        value: 3\n    },\n    {\n        name: \"Športové\",\n        value: 4\n    },\n    {\n        name: \"Doplnky\",\n        value: 5\n    },\n    {\n        name: \"Šošovky\",\n        value: 0\n    },\n]\n\nexport const premisesTabs = [\n    {\n        id: 0,\n        name: \"Všetko\",\n        premises: 0,\n\n    },\n    {\n        id: 1,\n        name: \"Obchodná 57, Bratislava\",\n        premises: 1,\n    },\n    {\n        id: 2,\n        name: \"Miletičova 38, Bratislava\",\n        premises: 2,\n    },\n    {\n        id: 3,\n        name: \"Senica, OC Branč\",\n        premises: 3,\n    },\n    {\n        id: 4,\n        name: \"Vajnory, Bratislava\",\n        premises: 4,\n    },\n    // {\n    //     id: 5,\n    //     name: \"Trnava, City Aréna\",\n    //     permission: 5,\n    // },\n]\n\nexport const categoryTabs = [\n    {\n        id: 0,\n        name: \"Okuliare\",\n    },\n    {\n        id: 1,\n        name: \"Šosovky\",\n    },\n]\n\nexport const lensesBrands = [\n    \"Acuvue\",\n    \"Adore\",\n    \"Air Optix\",\n    \"Biofinity\",\n    \"Biomedics\",\n    \"Clariti\",\n    \"ColourVue\",\n    \"Comfilcon A\",\n    \"Dailies\",\n    \"Freshlook\",\n    \"Lenjoy\",\n    \"Proclear\",\n    \"Purevision\",\n    \"Soflens\",\n]\n\nexport const brands = [\n    \"Adidas\",\n    \"Armani Exchange\",\n    \"Arnette\",\n    \"Blackfin\",\n    \"Blumarine\",\n    \"Burberry\",\n    \"Bvlgari\",\n    \"Calvin Klein\",\n    \"Carolina Herrera\",\n    \"Carrera\",\n    \"David Beckham\",\n    \"Dior\",\n    \"Dolce & Gabbana\",\n    \"Elle\",\n    \"Emporio Armani\",\n    \"Esprit\",\n    \"Etnia Barcelona\",\n    \"Fendi\",\n    \"Fossil\",\n    \"Furla\",\n    \"Giorgio Armani\",\n    \"Givenchy\",\n    \"Gucci\",\n    \"Guess\",\n    \"H.I.S\",\n    \"Hawkers\",\n    \"Hugo Boss\",\n    \"Jaguar\",\n    \"Jimmy Choo\",\n    \"Lacoste\",\n    \"Liu Jo\",\n    \"Marc Jacobs\",\n    \"Max Mara\",\n    \"Max&Co\",\n    \"Meller\",\n    \"Mexx\",\n    \"Michael Kors\",\n    \"Moschino\",\n    \"Oakley\",\n    \"Persol\",\n    \"Polaroid\",\n    \"Police\",\n    \"Polo Ralph Lauren\",\n    \"Prada\",\n    \"Prada Linea Rossa\",\n    \"Ralph\",\n    \"Ralph Lauren\",\n    \"Ray-Ban\",\n    \"Salvatore Ferragamo\",\n    \"Smith\",\n    \"Strellson\",\n    \"Tiffany&Co.\",\n    \"Tom Ford\",\n    \"Tommy Hilfiger\",\n    \"Versace\",\n    \"Vogue\"\n]\n\nexport const formatPrice = price => {\n    let value = 0\n    if (price.includes(',')) {\n        if (price.split(',')[1].length === 1) {\n            value = price.split(',')[0] + price.split(',')[1] + \"0\"\n            return Number(value)\n        } else {\n            value = price.split(',')[0] + price.split(',')[1]\n            return Number(value)\n        }\n    } else {\n        return Number(price * 100)\n    }\n}\n\nexport const formatAvailable = (available, activePremisesTab) => {\n    if (available === undefined) return \"Šosovka\"\n\n    if (typeof available === \"number\") {\n        return `Na sklade ${available} kusov`\n    } else {\n        if (activePremisesTab === 0) {\n            return `Vo všetkých skladoch je ${available.reduce((acc, currValue) => acc + currValue)} kusov`\n        } else {\n            return `Na sklade ${available[activePremisesTab]} kusov`\n        }\n    }\n}\n\nexport const checkParameter = (parameter, idx) => {\n    if (parameter.length === 0) {\n        return \"\"\n    }\n    if (parameter[idx] === 1001) {\n        return \"\"\n    }\n\n    return parameter[idx].toString()\n}\n\nconst dia = \"áäčďéíľĺňóôŕšťúýžÁČĎÉÍĽĹŇÓŠŤÚÝŽ\";\nconst nodia = \"aacdeillnoorstuyzACDEILLNOSTUYZ\";\n\nexport const diaConvert = (text) => {\n    let convertText = \"\";\n    for (let i = 0; i < text.length; i++) {\n        if (dia.indexOf(text.charAt(i)) != -1) {\n            convertText += nodia.charAt(dia.indexOf(text.charAt(i)));\n        }\n        else {\n            convertText += text.charAt(i);\n        }\n    }\n    return convertText;\n}","import React, { createContext, useState, useContext, useEffect } from 'react'\nimport { useHistory } from 'react-router-dom'\nimport { LoadingModalContext } from '../loading-modal/loading-modal.contenxt'\nimport { AuthContext } from '../auth/auth.context'\n\nimport {\n    premisesTabs,\n    categoryTabs,\n    initLensesObj,\n    initProductObj,\n    formatPrice,\n    diaConvert,\n    initContactLensesObj\n} from './warehouse.utils'\n\nexport const WarehouseContext = createContext({\n    eanCode: null,\n    product: {},\n    lenses: {},\n    contactLensesParameters: {},\n    totalProducts: 0,\n    totalLenses: 0,\n    activePremisesTab: 0,\n    activeCategoryTypeTab: 0,\n    retailPremisesTabs: [],\n    productCategoryTypeTabs: [],\n    products: null,\n    handleChangeCategoryTypeTab: () => { },\n    handleChangePremisesTab: () => { },\n    getProductsByQuery: () => { },\n    handleProductChange: () => { },\n    handleProductAvailableChange: () => { },\n    getSingleProduct: () => { },\n    createProduct: () => { },\n    getSingleLenses: () => { },\n    getLenses: () => { },\n    createLenses: () => { },\n    handleLensesChange: () => { },\n    handleLensesParameterChange: () => { },\n    resetProduct: () => { },\n    resetLenses: () => { },\n    resetContactLenses: () => { },\n    getEanCode: () => { },\n    handleAddNewParameter: () => { },\n    handleContactLensesParameterChange: () => { },\n})\n\nconst WarehouseProvider = ({ children }) => {\n    const { push } = useHistory()\n    const { token, isAdmin, currentUser, stats } = useContext(AuthContext)\n    const { closeModal, setIsLoading, setShowModal, getMessage } = useContext(LoadingModalContext)\n\n    const [totalProducts, setTotalProducts] = useState(0)\n    const [totalLenses, setTotalLenses] = useState(0)\n    const [eanCode, setEanCode] = useState(null)\n\n    const [product, setProduct] = useState({ ...initProductObj })\n    const [lenses, setLenses] = useState({ ...initLensesObj })\n    const [contactLensesParameters, setContactLensesParameters] = useState({ ...initContactLensesObj })\n\n    const [products, setProducts] = useState(null)\n    const [activePremisesTab, setActivePremisesTab] = useState(0)\n    const [retailPremisesTabs, setRetailPremisesTabs] = useState([])\n\n    const [productCategoryTypeTabs, setProductCategoryTypeTabs] = useState(categoryTabs)\n    const [activeCategoryTypeTab, setActiveCategoryTypeTab] = useState(0)\n\n    const handleAddNewParameter = e => {\n        const { name } = e.target\n        setContactLensesParameters({\n            ...contactLensesParameters,\n            [name]: [...contactLensesParameters[name], 1001]\n        })\n    }\n\n    const handleContactLensesParameterChange = (e, idx) => {\n        const { name, value } = e.target\n        let arr = contactLensesParameters[name]\n        arr[idx] = value === '' ? 1001 : value\n        setContactLensesParameters({\n            ...contactLensesParameters,\n            [name]: arr\n        })\n    }\n\n    const handleProductChange = e => {\n        const { name, value } = e.target\n\n        setProduct({\n            ...product,\n            [name]: value\n        })\n    }\n\n    const handleProductAvailableChange = (e, idx) => {\n        const { name, value } = e.target\n        let arr = product[name]\n        arr[idx] = value === '' ? 1001 : Number(value)\n        setProduct({\n            ...product,\n            [name]: arr\n        })\n    }\n\n    const handleLensesChange = e => {\n        const { name, value } = e.target\n\n        setLenses({\n            ...lenses,\n            [name]: value\n        })\n    }\n\n    const handleLensesParameterChange = (e, idx) => {\n        const { name, value } = e.target\n        let arr = lenses[name]\n        arr[idx] = value === '' ? 1001 : Number(value)\n        setLenses({\n            ...lenses,\n            [name]: arr\n        })\n    }\n\n    const resetProduct = () => {\n        setProduct({\n            ...initProductObj,\n            available: [1001, 1001, 1001, 1001, 0],\n        })\n        setEanCode(null)\n    }\n\n    const resetLenses = () => {\n        // setLenses({ ...initLensesObj })\n        setLenses({\n            ...initLensesObj,\n            dioptersRange: [1001, 1001],\n            cylinderRange: [1001, 1001],\n        })\n    }\n\n    const resetContactLenses = () => {\n        setContactLensesParameters({\n            allowedCurves: [1001],\n            allowedDiameters: [1001],\n            dioptersRange: [1001, 1001]\n        })\n    }\n\n\n    const handleChangePremisesTab = (idx) => {\n        setActivePremisesTab(idx)\n    }\n\n    const handleChangeCategoryTypeTab = (idx) => {\n        setActiveCategoryTypeTab(idx)\n    }\n\n\n\n    const myHeaders = new Headers();\n    myHeaders.append(\"auth-token\", token);\n    myHeaders.append(\"Content-Type\", \"application/json\");\n\n    const getEanCode = async () => {\n        setIsLoading(true)\n        setShowModal(true)\n\n        const requestOptions = {\n            method: 'GET',\n            headers: myHeaders,\n            redirect: 'follow'\n        };\n\n        try {\n            const response = await fetch(`${process.env.REACT_APP_BACKEND_ENDPOINT}/api/admin/products/nextEanCode`, requestOptions)\n            const data = await response.json()\n\n            console.log(data)\n            if (data.eanCode) {\n                setEanCode(data.eanCode)\n                closeModal()\n                return\n            }\n\n            getMessage(data.message)\n            setIsLoading(false)\n        } catch (err) {\n            console.log(err)\n            getMessage(\"Nieco sa pokazilo\")\n            setIsLoading(false)\n        }\n    }\n\n    const getProductsByQuery = async (query) => {\n        setIsLoading(true)\n        setShowModal(true)\n\n        console.log(query)\n        const raw = JSON.stringify(query)\n\n        const requestOptions = {\n            method: 'POST',\n            headers: myHeaders,\n            body: raw,\n            redirect: 'follow'\n        };\n\n        try {\n            const response = await fetch(`${process.env.REACT_APP_BACKEND_ENDPOINT}/api/admin/products/filter`, requestOptions)\n            const data = await response.json()\n\n            console.log(data)\n            if (data.products) {\n                setProducts(data.products)\n                closeModal()\n                return\n            }\n\n            getMessage(data.message)\n            setIsLoading(false)\n\n        } catch (err) {\n            console.log(err)\n            getMessage(\"Nieco sa pokazilo\")\n            setIsLoading(false)\n        }\n    }\n\n    const getLenses = async () => {\n        setIsLoading(true)\n        setShowModal(true)\n\n        const requestOptions = {\n            method: 'GET',\n            headers: myHeaders,\n            redirect: 'follow'\n        };\n\n        try {\n            const response = await fetch(`${process.env.REACT_APP_BACKEND_ENDPOINT}/api/admin/lenses`, requestOptions)\n            const data = await response.json()\n\n            console.log(data)\n            if (data.lenses) {\n                setProducts(data.lenses)\n                closeModal()\n                return\n            }\n\n            getMessage(data.message)\n            setIsLoading(false)\n\n        } catch (err) {\n            console.log(err)\n            getMessage(\"Nieco sa pokazilo\")\n            setIsLoading(false)\n        }\n    }\n\n    const getSingleProduct = async (id) => {\n        setIsLoading(true)\n        setShowModal(true)\n\n        try {\n            const response = await fetch(`${process.env.REACT_APP_BACKEND_ENDPOINT}/api/store/products/${id}`)\n            const data = await response.json()\n\n            console.log(data)\n\n            if (data.product) {\n                setProduct(data.product)\n                closeModal()\n                return\n            }\n\n            getMessage(data.message)\n            setIsLoading(false)\n        } catch (err) {\n            console.log(err)\n            getMessage(\"Nieco sa pokazilo\")\n            setIsLoading(false)\n        }\n    }\n\n    const createProduct = async (productToAdd) => {\n        setIsLoading(true)\n        setShowModal(true)\n\n        const slug = diaConvert(productToAdd.name).replaceAll(\" \", \"-\").toLowerCase().trim()\n\n        let modifiedProduct = {\n            ...productToAdd,\n            price: formatPrice(productToAdd.price.toString()),\n            link: slug,\n            available: productToAdd.available ? productToAdd.available.map(value => value === 1001 ? 0 : value) : [0, 0, 0, 0, 0]\n        }\n\n        if (productToAdd.contactLenses) {\n            if (productToAdd.contactLenses.allowedCurves) {\n                modifiedProduct = {\n                    ...modifiedProduct,\n                    contactLenses: {\n                        ...modifiedProduct.contactLenses,\n                        allowedCurves: productToAdd.contactLenses.allowedCurves.map(value => Number(value))\n                    }\n                }\n            }\n            if (productToAdd.contactLenses.allowedDiameters) {\n                modifiedProduct = {\n                    ...modifiedProduct,\n                    contactLenses: {\n                        ...modifiedProduct.contactLenses,\n                        allowedDiameters: productToAdd.contactLenses.allowedDiameters.map(value => Number(value))\n                    }\n                }\n            }\n            if (productToAdd.contactLenses.dioptersRange) {\n                modifiedProduct = {\n                    ...modifiedProduct,\n                    contactLenses: {\n                        ...modifiedProduct.contactLenses,\n                        dioptersRange: productToAdd.contactLenses.dioptersRange.map(value => Number(value))\n                    }\n                }\n            }\n        }\n\n        console.log(\"modifiedProduct\")\n        console.log(modifiedProduct)\n\n\n        const raw = JSON.stringify({\n            ...productToAdd,\n            price: formatPrice(productToAdd.price.toString()),\n            link: slug,\n            available: productToAdd.available ? productToAdd.available.map(value => value === 1001 ? 0 : value) : [0, 0, 0, 0, 0]\n        })\n\n        const requestOptions = {\n            method: 'POST',\n            headers: myHeaders,\n            body: raw,\n            redirect: 'follow'\n        };\n\n        try {\n            const response = await fetch(`${process.env.REACT_APP_BACKEND_ENDPOINT}/api/admin/products`, requestOptions)\n            const data = await response.json()\n\n            console.log(data)\n            if (data.product) {\n                push('/dashboard/obchod')\n                getProductsByQuery({\n                    limit: 10\n                })\n                setEanCode(null)\n                closeModal()\n                return\n            }\n\n            getMessage(data.message)\n            setIsLoading(false)\n        } catch (err) {\n            console.log(err)\n            getMessage(\"Nieco sa pokazilo\")\n            setIsLoading(false)\n        }\n    }\n\n    const getSingleLenses = async (id) => {\n        setIsLoading(true)\n        setShowModal(true)\n\n        try {\n            const response = await fetch(`${process.env.REACT_APP_BACKEND_ENDPOINT}/api/store/lenses/${id}`)\n            const data = await response.json()\n\n            console.log(data)\n\n            if (data.lenses) {\n                setLenses(data.lenses)\n                closeModal()\n                return\n            }\n\n            getMessage(data.message)\n            setIsLoading(false)\n\n        } catch (err) {\n            console.log(err)\n            getMessage(\"Nieco sa pokazilo\")\n            setIsLoading(false)\n        }\n    }\n\n    const createLenses = async (lensesToAdd) => {\n        setIsLoading(true)\n        setShowModal(true)\n\n        const raw = JSON.stringify({\n            ...lensesToAdd,\n            price: formatPrice(lensesToAdd.price.toString())\n        });\n\n        const requestOptions = {\n            method: 'POST',\n            headers: myHeaders,\n            body: raw,\n            redirect: 'follow'\n        };\n\n        try {\n            const response = await fetch(`${process.env.REACT_APP_BACKEND_ENDPOINT}/api/admin/lenses`, requestOptions)\n            const data = await response.json()\n\n            console.log(data)\n\n            if (data.lenses) {\n                push('/dashboard/obchod')\n                getLenses()\n                closeModal()\n                return\n            }\n\n\n            getMessage(data.message)\n            setIsLoading(false)\n        } catch (err) {\n            console.log(err)\n            getMessage(\"Nieco sa pokazilo\")\n            setIsLoading(false)\n        }\n    }\n\n    useEffect(() => {\n        if (products) {\n            console.log(`GET ${productCategoryTypeTabs[activeCategoryTypeTab].name} DATA`)\n            if (activeCategoryTypeTab === 0) {\n                getProductsByQuery({\n                    limit: 10\n                })\n            } else {\n                getLenses()\n            }\n        }\n    }, [activeCategoryTypeTab])\n\n    useEffect(() => {\n        console.log(\"SET PREMISES\")\n        if (currentUser) {\n            if (isAdmin) {\n                setRetailPremisesTabs(premisesTabs)\n                setActivePremisesTab(0)\n            } else {\n                setRetailPremisesTabs(premisesTabs.filter(tab => tab.premises === currentUser.premises))\n                setActivePremisesTab(0)\n            }\n        }\n    }, [currentUser, isAdmin])\n\n    useEffect(() => {\n        if (stats) {\n            console.log(\"SET STATS\")\n            setTotalProducts(stats.products)\n            setTotalLenses(stats.lenses)\n        }\n    }, [stats])\n\n    return (\n        <WarehouseContext.Provider\n            value={{\n                eanCode,\n                product,\n                lenses,\n                contactLensesParameters,\n                totalProducts,\n                totalLenses,\n                activePremisesTab,\n                activeCategoryTypeTab,\n                retailPremisesTabs,\n                productCategoryTypeTabs,\n                products,\n                handleChangeCategoryTypeTab,\n                handleChangePremisesTab,\n                getProductsByQuery,\n                handleProductChange,\n                handleProductAvailableChange,\n                getLenses,\n                getSingleProduct,\n                createProduct,\n                getSingleLenses,\n                createLenses,\n                handleLensesChange,\n                handleLensesParameterChange,\n                resetProduct,\n                resetLenses,\n                resetContactLenses,\n                getEanCode,\n                handleAddNewParameter,\n                handleContactLensesParameterChange,\n            }}\n        >\n            {children}\n        </WarehouseContext.Provider>\n    )\n}\n\nexport default WarehouseProvider"],"sourceRoot":""}