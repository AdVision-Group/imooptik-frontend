(this.webpackJsonpimooptik=this.webpackJsonpimooptik||[]).push([[20,24],{239:function(e,t,n){"use strict";n.r(t);var a=n(2),c=n(10),s=n(1),r=n(86),o=n(85),l=n(3),i=n(53),u=n(52),j=n(64),b=n(57),d=n(32),p=n(120),m=n(99),h=n.n(m),f=n(5),O=n(6),x=n(14),g=n(28);function v(){var e=Object(f.a)(["\n    height: 50rem;\n    background-color: var(--input-background-color);\n    color: var(--input-color);\n    \n    .ql-container, .ql-toolbar {\n        border: none;\n    }\n"]);return v=function(){return e},e}function k(){var e=Object(f.a)(["\n    margin-bottom: 2rem;\n"]);return k=function(){return e},e}function q(){var e=Object(f.a)(["\n    font-size: 1.4rem;\n"]);return q=function(){return e},e}function N(){var e=Object(f.a)(["\n    font-size: 1.4rem;\n    margin: 0 2rem;\n    background-color: var(--color-red);\n\n    @media all and (max-width: 500px) {\n        margin: 0 .8rem;\n    }\n"]);return N=function(){return e},e}function w(){var e=Object(f.a)(["\n    cursor: pointer;\n    display:flex;\n    align-items: center;\n    justify-content:center;\n    width: 100%;\n    background-color: ",";\n    margin-top: 3rem;\n    padding: 6rem;\n\n    position: relative;\n\n    img {\n        position: absolute;\n        width: 100%;\n        /* height: 100%; */\n        max-height: 40rem;\n        left: 0;\n        top: 0;\n        object-fit: cover;\n        object-position: center;\n\n    }\n"]);return w=function(){return e},e}function y(){var e=Object(f.a)(["\n    padding: 2rem;\n    background-color: var(--container-background-color);\n    box-shadow: var(--container-shadow);\n"]);return y=function(){return e},e}function S(){var e=Object(f.a)(["\n    display: grid;\n    align-items: start;\n    grid-template-columns: 1fr 1fr;\n    grid-gap: 2rem;\n    height: inherit;\n    height: 100%;\n\n        @media all and (max-width: 800px) {\n            grid-template-columns: 1fr ;\n        }\n\n"]);return S=function(){return e},e}function P(){var e=Object(f.a)(["\n    display: flex;\n    justify-content: space-between;\n\n    ","\n    padding-top: 3rem;\n    padding-bottom: 3rem;\n    color: var(--primary-text-color);\n\n\n    @media all and (max-width: 500px) {\n        flex-direction: column;\n    }\n"]);return P=function(){return e},e}var C=O.c.div(P(),x.e),z=O.c.div(S()),I=O.c.div(y()),B=O.c.div(w(),(function(e){return e.hasImage?"transparent":"var(--input-background-color)"})),T=Object(O.c)(g.a)(N()),E=Object(O.c)(g.a)(q()),D=O.c.h2(k()),H=Object(O.c)(h.a)(v()),L=function(){return Object(a.jsxs)("svg",{viewBox:"0 0 18 18",children:[Object(a.jsx)("polygon",{className:"ql-fill ql-stroke",points:"6 10 4 12 2 10 6 10"}),Object(a.jsx)("path",{className:"ql-stroke",d:"M8.09,13.91A4.6,4.6,0,0,0,9,14,5,5,0,1,0,4,9"})]})},A=function(){return Object(a.jsxs)("svg",{viewBox:"0 0 18 18",children:[Object(a.jsx)("polygon",{className:"ql-fill ql-stroke",points:"12 10 14 12 16 10 12 10"}),Object(a.jsx)("path",{className:"ql-stroke",d:"M9.91,13.91A4.6,4.6,0,0,1,9,14a5,5,0,1,1,5-5"})]})};var J=m.Quill.import("formats/size");J.whitelist=["extra-small","small","medium","large"],m.Quill.register(J,!0);var M=m.Quill.import("formats/font");M.whitelist=["arial","comic-sans","courier-new","georgia","helvetica","lucida"],m.Quill.register(M,!0);var Q={toolbar:{container:"#toolbar",handlers:{undo:function(){this.quill.history.undo()},redo:function(){this.quill.history.redo()}}},history:{delay:500,maxStack:100,userOnly:!0}},U=["header","font","size","bold","italic","underline","align","strike","script","blockquote","background","list","bullet","indent","link","image","color","code-block"],V=function(){return Object(a.jsxs)("div",{id:"toolbar",className:"toolbar",children:[Object(a.jsxs)("span",{className:"ql-formats",children:[Object(a.jsxs)("select",{className:"ql-size",defaultValue:"medium",children:[Object(a.jsx)("option",{value:"extra-small",children:"Size 1"}),Object(a.jsx)("option",{value:"small",children:"Size 2"}),Object(a.jsx)("option",{value:"medium",children:"Size 3"}),Object(a.jsx)("option",{value:"large",children:"Size 4"})]}),Object(a.jsxs)("select",{className:"ql-header",defaultValue:"3",children:[Object(a.jsx)("option",{value:"1",children:"Heading"}),Object(a.jsx)("option",{value:"2",children:"Subheading"}),Object(a.jsx)("option",{value:"3",children:"Normal"})]})]}),Object(a.jsxs)("span",{className:"ql-formats",children:[Object(a.jsx)("button",{className:"ql-bold"}),Object(a.jsx)("button",{className:"ql-italic"}),Object(a.jsx)("button",{className:"ql-underline"}),Object(a.jsx)("button",{className:"ql-strike"})]}),Object(a.jsxs)("span",{className:"ql-formats",children:[Object(a.jsx)("button",{className:"ql-list",value:"ordered"}),Object(a.jsx)("button",{className:"ql-list",value:"bullet"}),Object(a.jsx)("button",{className:"ql-indent",value:"-1"}),Object(a.jsx)("button",{className:"ql-indent",value:"+1"})]}),Object(a.jsxs)("span",{className:"ql-formats",children:[Object(a.jsx)("button",{className:"ql-script",value:"super"}),Object(a.jsx)("button",{className:"ql-script",value:"sub"}),Object(a.jsx)("button",{className:"ql-blockquote"}),Object(a.jsx)("button",{className:"ql-direction"})]}),Object(a.jsxs)("span",{className:"ql-formats",children:[Object(a.jsx)("select",{className:"ql-align"}),Object(a.jsx)("select",{className:"ql-color"}),Object(a.jsx)("select",{className:"ql-background"})]}),Object(a.jsxs)("span",{className:"ql-formats",children:[Object(a.jsx)("button",{className:"ql-link"}),Object(a.jsx)("button",{className:"ql-image"}),Object(a.jsx)("button",{className:"ql-video"})]}),Object(a.jsxs)("span",{className:"ql-formats",children:[Object(a.jsx)("button",{className:"ql-formula"}),Object(a.jsx)("button",{className:"ql-code-block"}),Object(a.jsx)("button",{className:"ql-clean"})]}),Object(a.jsxs)("span",{className:"ql-formats",children:[Object(a.jsx)("button",{className:"ql-undo",children:Object(a.jsx)(L,{})}),Object(a.jsx)("button",{className:"ql-redo",children:Object(a.jsx)(A,{})})]})]})};t.default=function(){var e=Object(l.i)().id,t=Object(l.h)().push,n=Object(s.useContext)(r.BlogContext),m=n.createPost,h=n.isLoading,f=n.message,O=n.showLoading,x=n.setIsLoading,g=n.getPost,v=n.post,k=n.handlePostUpdate,q=n.resetBlog,N=Object(s.useContext)(o.ImageContext),w=N.selectedImage,y=N.setSelectedImage,S=Object(s.useState)(""),P=Object(c.a)(S,2),L=P[0],A=P[1],J=Object(s.useState)(""),M=Object(c.a)(J,2),_=M[0],F=M[1],G=Object(s.useState)(""),K=Object(c.a)(G,2),R=K[0],W=K[1],X=Object(s.useState)(""),Y=Object(c.a)(X,2),Z=Y[0],$=Y[1],ee=Object(s.useState)(!1),te=Object(c.a)(ee,2),ne=te[0],ae=te[1],ce=Object(s.useState)(!1),se=Object(c.a)(ce,2),re=se[0],oe=se[1],le=Object(s.useState)(!1),ie=Object(c.a)(le,2),ue=ie[0],je=ie[1];return Object(s.useEffect)((function(){y(null),"novy-prispevok"!==e&&(g(e),je(!0))}),[e]),Object(s.useEffect)((function(){"novy-prispevok"!==e&&(console.log(v),v&&(console.log(v),A(v.name),F(v.description),W(v.html),ae(v.draft),v.image&&($(v.image._id),y(v.image))))}),[v]),Object(s.useEffect)((function(){return function(){q(),A(""),F(""),W(""),$(""),ae(!1),oe(!1),je(!1)}}),[]),Object(a.jsxs)("form",{onSubmit:function(n){n.preventDefault(),Z.length<=0||R.length<=0||("novy-prispevok"===e?m(Z,L,_,ne,R):k(L,_,ne,R,Z,e),t("/dashboard/blog"))},children:[h&&Object(a.jsx)(d.a,{loading:O,title:f,close:function(){return x(!1)}}),re&&Object(a.jsx)(p.a,{close:function(){return oe(!1)},setImage:$}),Object(a.jsxs)(C,{children:[Object(a.jsx)("div",{children:Object(a.jsx)("h1",{children:"Post"})}),Object(a.jsxs)("div",{children:[Object(a.jsx)(b.a,{label:"Draft",isActive:ne,handleClick:function(){return ae((function(e){return!e}))}}),Object(a.jsx)(T,{children:"Vymaza\u0165"}),Object(a.jsx)(E,{type:"submit",children:ue?"Upravi\u0165 pr\xedspevok":"Prida\u0165 pr\xedspevok"})]})]}),Object(a.jsx)(i.a,{children:Object(a.jsxs)(z,{children:[Object(a.jsxs)(I,{children:[Object(a.jsx)("h2",{children:"Inform\xe1cia"}),Object(a.jsx)(u.a,{label:"Nadpis",type:"text",name:"title",value:L,handleChange:function(e){return A(e.target.value)},required:!0}),Object(a.jsx)(j.a,{label:"Popis",name:"description",rows:"5",value:_,handleChange:function(e){return F(e.target.value)},required:!0}),Object(a.jsx)("h2",{children:"Tituln\xe1 fotka"}),Object(a.jsxs)(B,{onClick:function(){return oe(!0)},hasImage:w,children:[!w&&"Vybra\u0165 obr\xe1zok",w&&Object(a.jsx)("img",{src:"".concat("http://195.110.58.166:8080","/uploads/").concat(w.imagePath),alt:w.alt})]})]}),Object(a.jsxs)(I,{children:[Object(a.jsx)(D,{children:"Obsah"}),Object(a.jsx)(V,{}),Object(a.jsx)(H,{value:R,onChange:W,modules:Q,formats:U})]})]})})]})}},86:function(e,t,n){"use strict";n.r(t),n.d(t,"BlogContext",(function(){return m}));var a=n(2),c=n(7),s=n.n(c),r=n(12),o=n(10),l=n(1),i=n(19),u=n(18),j=function(e){return fetch("".concat("http://195.110.58.166:8080","/api/blogs/").concat(e))},b=function(e,t,n,a,c,s){var r=new Headers;r.append("auth-token",e),r.append("Content-Type","application/json");var o={method:"POST",headers:r,body:JSON.stringify({name:t,description:n,draft:a,html:c,image:s}),redirect:"follow"};return fetch("".concat("http://195.110.58.166:8080","/api/admin/blogs"),o)},d=function(e,t,n,a,c,s,r){var o=new Headers;o.append("auth-token",e),o.append("Content-Type","application/json");var l={method:"PATCH",headers:o,body:JSON.stringify({name:t,description:n,draft:a,html:c,image:s}),redirect:"follow"};return fetch("".concat("http://195.110.58.166:8080","/api/admin/blogs/").concat(r),l)},p=function(e,t){var n=new Headers;n.append("auth-token",e),n.append("Content-Type","application/json");var a={method:"DELETE",headers:n,redirect:"follow"};return fetch("".concat("http://195.110.58.166:8080","/api/admin/blogs/").concat(t),a)},m=Object(l.createContext)({posts:null,post:null,postsCount:0,getPosts:function(){},createPost:function(){},getPost:function(){},handlePostUpdate:function(){},handlePostDelete:function(){},resetBlog:function(){}});t.default=function(e){var t=e.children,n=Object(l.useContext)(i.a).token,c=Object(l.useContext)(u.a),h=c.getMessage,f=c.setIsLoading,O=c.setShowModal,x=Object(l.useState)(null),g=Object(o.a)(x,2),v=g[0],k=g[1],q=Object(l.useState)(null),N=Object(o.a)(q,2),w=N[0],y=N[1],S=Object(l.useState)(0),P=Object(o.a)(S,2),C=P[0],z=P[1],I=function(){var e=Object(r.a)(s.a.mark((function e(){var t,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O(!0),f(!0),e.next=4,fetch("".concat("http://195.110.58.166:8080","/api/blogs"));case 4:return t=e.sent,e.next=7,t.json();case 7:n=e.sent,k(n.blogs),z(n.count),O(!1),f(!1);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),B=function(){var e=Object(r.a)(s.a.mark((function e(t){var n,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O(!0),f(!0),e.prev=2,e.next=5,j(t);case 5:return n=e.sent,e.next=8,n.json();case 8:if(a=e.sent,console.log(a),!a.blog){e.next=15;break}return y(a.blog),f(!1),h(a.message),e.abrupt("return");case 15:f(!1),h(a.message),e.next=24;break;case 19:e.prev=19,e.t0=e.catch(2),console.log(e.t0),h("Nieco sa pokazilo"),f(!1);case 24:O(!1),f(!1);case 26:case"end":return e.stop()}}),e,null,[[2,19]])})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=Object(r.a)(s.a.mark((function e(t,a,c,r,o){var l,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O(!0),f(!0),e.prev=2,e.next=5,b(n,a,c,r,o,t);case 5:return l=e.sent,e.next=8,l.json();case 8:i=e.sent,h(i.message),f(!1),I(),e.next=19;break;case 14:e.prev=14,e.t0=e.catch(2),console.log(e.t0),h("Nieco sa pokazilo"),f(!1);case 19:case"end":return e.stop()}}),e,null,[[2,14]])})));return function(t,n,a,c,s){return e.apply(this,arguments)}}(),E=function(){var e=Object(r.a)(s.a.mark((function e(t,a,c,r,o,l){var i,u;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O(!0),f(!0),e.prev=2,e.next=5,d(n,t,a,c,r,o,l);case 5:return i=e.sent,e.next=8,i.json();case 8:u=e.sent,h(u.message),f(!1),I(),e.next=19;break;case 14:e.prev=14,e.t0=e.catch(2),console.log(e.t0),h("Nieco sa pokazilo"),f(!1);case 19:case"end":return e.stop()}}),e,null,[[2,14]])})));return function(t,n,a,c,s,r){return e.apply(this,arguments)}}(),D=function(){var e=Object(r.a)(s.a.mark((function e(t){var a,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O(!0),f(!0),e.prev=2,e.next=5,p(n,t);case 5:return a=e.sent,e.next=8,a.json();case 8:c=e.sent,h(c.message),f(!1),I(),e.next=19;break;case 14:e.prev=14,e.t0=e.catch(2),console.log(e.t0),h("Nieco sa pokazilo"),f(!1);case 19:case"end":return e.stop()}}),e,null,[[2,14]])})));return function(t){return e.apply(this,arguments)}}();return Object(a.jsx)(m.Provider,{value:{posts:v,post:w,postsCount:C,getPosts:I,createPost:T,getPost:B,handlePostUpdate:E,handlePostDelete:D,resetBlog:function(){y(null)}},children:t})}}}]);
//# sourceMappingURL=20.f3e0999c.chunk.js.map