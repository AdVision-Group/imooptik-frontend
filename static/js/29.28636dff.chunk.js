(this.webpackJsonpimooptik=this.webpackJsonpimooptik||[]).push([[29],{90:function(e,t,n){"use strict";n.r(t),n.d(t,"BlogContext",(function(){return b}));var a=n(2),r=n(8),o=n.n(r),s=n(12),c=n(5),u=n(1),i=n(20),p=n(19),l=function(e){return fetch("".concat("https://imooptik-backend-jbuievsjdq-ew.a.run.app/","/api/blogs/").concat(e))},d=function(e,t,n,a,r,o){var s=new Headers;s.append("auth-token",e),s.append("Content-Type","application/json");var c={method:"POST",headers:s,body:JSON.stringify({name:t,description:n,draft:a,html:r,image:o}),redirect:"follow"};return fetch("".concat("https://imooptik-backend-jbuievsjdq-ew.a.run.app/","/api/admin/blogs"),c)},f=function(e,t,n,a,r,o,s){var c=new Headers;c.append("auth-token",e),c.append("Content-Type","application/json");var u={method:"PATCH",headers:c,body:JSON.stringify({name:t,description:n,draft:a,html:r,image:o}),redirect:"follow"};return fetch("".concat("https://imooptik-backend-jbuievsjdq-ew.a.run.app/","/api/admin/blogs/").concat(s),u)},h=function(e,t){var n=new Headers;n.append("auth-token",e),n.append("Content-Type","application/json");var a={method:"DELETE",headers:n,redirect:"follow"};return fetch("".concat("https://imooptik-backend-jbuievsjdq-ew.a.run.app/","/api/admin/blogs/").concat(t),a)},b=Object(u.createContext)({posts:null,post:null,postsCount:0,getPosts:function(){},createPost:function(){},getPost:function(){},handlePostUpdate:function(){},handlePostDelete:function(){},resetBlog:function(){}});t.default=function(e){var t=e.children,n=Object(u.useContext)(i.a).token,r=Object(u.useContext)(p.a),v=r.getMessage,j=r.setIsLoading,k=r.setShowModal,g=Object(u.useState)(null),m=Object(c.a)(g,2),x=m[0],w=m[1],O=Object(u.useState)(null),P=Object(c.a)(O,2),y=P[0],C=P[1],S=Object(u.useState)(0),N=Object(c.a)(S,2),T=N[0],q=N[1],z=function(){var e=Object(s.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return k(!0),j(!0),e.next=4,fetch("".concat("https://imooptik-backend-jbuievsjdq-ew.a.run.app/","/api/blogs"));case 4:return t=e.sent,e.next=7,t.json();case 7:n=e.sent,w(n.blogs),q(n.count),k(!1),j(!1);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),H=function(){var e=Object(s.a)(o.a.mark((function e(t){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return k(!0),j(!0),e.prev=2,e.next=5,l(t);case 5:return n=e.sent,e.next=8,n.json();case 8:if(!(a=e.sent).blog){e.next=14;break}return C(a.blog),j(!1),v(a.message),e.abrupt("return");case 14:j(!1),v(a.message),e.next=23;break;case 18:e.prev=18,e.t0=e.catch(2),console.log(e.t0),v("Nieco sa pokazilo"),j(!1);case 23:k(!1),j(!1);case 25:case"end":return e.stop()}}),e,null,[[2,18]])})));return function(t){return e.apply(this,arguments)}}(),J=function(){var e=Object(s.a)(o.a.mark((function e(t,a,r,s,c){var u,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return k(!0),j(!0),e.prev=2,e.next=5,d(n,a,r,s,c,t);case 5:return u=e.sent,e.next=8,u.json();case 8:i=e.sent,v(i.message),j(!1),z(),e.next=19;break;case 14:e.prev=14,e.t0=e.catch(2),console.log(e.t0),v("Nieco sa pokazilo"),j(!1);case 19:case"end":return e.stop()}}),e,null,[[2,14]])})));return function(t,n,a,r,o){return e.apply(this,arguments)}}(),B=function(){var e=Object(s.a)(o.a.mark((function e(t,a,r,s,c,u){var i,p;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return k(!0),j(!0),e.prev=2,e.next=5,f(n,t,a,r,s,c,u);case 5:return i=e.sent,e.next=8,i.json();case 8:p=e.sent,v(p.message),j(!1),z(),e.next=19;break;case 14:e.prev=14,e.t0=e.catch(2),console.log(e.t0),v("Nieco sa pokazilo"),j(!1);case 19:case"end":return e.stop()}}),e,null,[[2,14]])})));return function(t,n,a,r,o,s){return e.apply(this,arguments)}}(),D=function(){var e=Object(s.a)(o.a.mark((function e(t){var a,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return k(!0),j(!0),e.prev=2,e.next=5,h(n,t);case 5:return a=e.sent,e.next=8,a.json();case 8:r=e.sent,v(r.message),j(!1),z(),e.next=19;break;case 14:e.prev=14,e.t0=e.catch(2),console.log(e.t0),v("Nieco sa pokazilo"),j(!1);case 19:case"end":return e.stop()}}),e,null,[[2,14]])})));return function(t){return e.apply(this,arguments)}}();return Object(a.jsx)(b.Provider,{value:{posts:x,post:y,postsCount:T,getPosts:z,createPost:J,getPost:H,handlePostUpdate:B,handlePostDelete:D,resetBlog:function(){C(null)}},children:t})}}}]);
//# sourceMappingURL=29.28636dff.chunk.js.map