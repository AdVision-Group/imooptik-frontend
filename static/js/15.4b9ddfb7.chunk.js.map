{"version":3,"sources":["../node_modules/string-similarity/src/index.js","components/booking-calendar-overview/booking-calendar-overview.styles.jsx","components/booking-calendar-overview/booking-calendar-overview.component.jsx","utils/week-calendar.utils.jsx","context/week-calendar/week-calendar.context.jsx","components/calendar/calendar.styles.jsx","components/calendar/calendar.component.jsx","components/modal-userbookings-details/modal-userbookings-details.styles.jsx","components/modal-userbookings-details/modal-userbookings-details.component.jsx","components/modal-user-bookings/modal-user-booking.styles.jsx","components/modal-user-bookings/modal-user-booking.component.jsx","components/calendar-booked-day/calendar-booked-day.styles.jsx","components/calendar-booked-day/calendar-booked-day.component.jsx","components/calendar-weekdays/calendar-weekdays.styles.jsx","components/calendar-weekdays/calendar-weekdays.component.jsx","components/modal-booking/modal-booking.styles.jsx","components/modal-booking/modal-booking.component.jsx","components/booking-calendar-bookings/booking-calendar-bookings.styles.jsx","components/booking-calendar-bookings/booking-calendar-bookings.component.jsx","sections/booking/booking.styles.jsx","sections/booking/booking.section.jsx","components/custom-checkbox/custom-checkbox.styles.jsx","components/custom-checkbox/custom-checkbox.component.jsx","components/section-navbar/section-navbar.styles.jsx","components/section-navbar/section-navbar.component.jsx","components/custom-textarea/custom-textarea.styles.jsx","components/custom-textarea/custom-textarea.component.jsx"],"names":["compareTwoStrings","first","second","replace","length","firstBigrams","Map","i","bigram","substring","count","has","get","set","intersectionSize","module","exports","findBestMatch","mainString","targetStrings","Array","isArray","find","s","areArgsValid","Error","ratings","bestMatchIndex","currentTargetString","currentRating","push","target","rating","bestMatch","ContainerOverview","styled","div","Options","ShowButton","CustomButton","isActive","UpdateButton","BookingCalendarOverview","calendar","selectedCalendar","handleShowUpClick","handleUpdateClick","name","interval","allowMinutesBefore","daysIntoFuture","_id","onClick","getHourTime","idx","isNaN","totalMinutes","hours","Math","floor","formatTime","hour","min","changeSlash","time","checkBookings","calendarDataObj","day","month","year","booked","bookedDate","Object","keys","date","splitedDate","split","map","value","Number","bookingTime","bookTime","dueDate","WeekCalendarContext","createContext","timeline","getDayData","refetchWeekCalendar","cancelUserBooking","WeekCalendarProvider","children","useFetchById","response","isLoading","refetch","useContext","LoadingModalContext","closeModal","setIsLoading","setShowModal","getMessage","token","AuthContext","useState","numberOfHours","setNumberOfHours","setTimeline","myHeaders","Headers","append","userBookingId","refetchCalendar","setShowBookingDetails","a","requestOptions","method","headers","redirect","fetch","process","json","data","userBooking","setTimeout","messageSK","console","log","useEffect","timelineArr","startTimes","endTimes","numberedStartTimes","filter","number","numberedEndTimes","numberedEndMinutes","startTime","endTime","max","endMinutes","splitedTime","getTimeline","Provider","dayNumber","dayIdx","splitedStartTime","splitedEndTime","empty","id","userBookings","item","undefined","Container","HeaderBlock","Dayblock","faded","Calendar","handleCalendarBlockClick","Date","setDate","lastDay","getDate","prevLastDay","firstDayIndex","getDay","nextDays","prevDays","setPrevDays","currentMonthDays","setCurrentMonthDays","nextMonthDays","setMonthNextDays","prevDaysArr","getPreviousMonthDays","arr","getCurrentMonthDays","nextDaysArr","getNextMonthDays","checkedArr","getBooking","dayNames","bookings","ModalContainer","Modal","CloseButton","button","GridContainer","BlockContainer","Header","CancelButton","UserbookingDetailsModal","close","calendarId","useFetchByQuery","booking","setBooking","newBooking","dueTime","ReactDOM","createPortal","retailNames","premises","phone","email","cancelled","note","description","document","getElementById","SubmitButton","Navbar","SectionNavbar","SearchTab","UserTable","TableHead","Tablebody","TableCol","CustomSelect","select","DateContainer","UserBookingModal","createUserBooking","query","setQuery","activeTab","setActiveTab","setUserBooking","bookingDate","setBookingDate","setStartTime","setEndTime","handleUserBookingChange","e","prevValue","handleChangeDate","formatCalendarStartTime","formatCalendarEndTime","items","optionTabs","activeIndex","setActiveIndex","label","handleChange","limit","onKeyPress","key","users","userObj","Fragment","type","toString","step","onChange","rows","active","bookingToAdd","formatDate","values","BookedDayContainer","color","isHalfHour","CalendarBookedDay","dayData","open","setIsHalfHour","appointment","setAppointment","isValidDueTime","setIsValiDueTime","bookingsDueTime","matches","stringSimilarity","exactBooking","todayBooking","HourGrid","isDisabled","HourBlock","EmptyHourBlock","HourTime","HourBlockContainer","EmptyContainer","WeekDays","weekIndex","showUserBooking","setShowUserBooking","handleOpenUserBookingModal","selectedDay","BookingContext","lastDayIndex","calendarDays","setCalendarDays","showBookingDetails","selectedUserBooking","setSelectedUserBooking","prevMonthDays","monthDays","monthDaysWithBookings","slice","isDisable","isPrevDay","isNextDay","style","height","ModalHeader","InputContainer","BookingModal","selectedBooking","createBooking","updateBooking","isUpdating","setIsUpdating","handleBookingChange","handleSubmit","bookingToUpdate","formatBookingObj","handleClick","price","AddButton","ContainerHeader","ActiveSpan","span","ContainerBody","ContainerOptions","DeleteButton","InfoParagraph","BookingCalendarBookings","isAdmin","deleteBooking","showBookingModal","setShowBookingModal","setSelectedBooking","bookingId","paddingStyles","Title","h2","GridRow","CalendarGridContainer","CalendarHeading","IconContainer","CalendarHeader","CalendarMonthContainer","CalendarFormat","li","BookingSection","currentUser","isOptometrist","showModal","message","useHistory","showPremisesSection","setShowPremisesSection","activeCalendarFormat","setActiveCalendarFormat","calendars","setCalendars","setSelectedCalendar","getMonth","selectedMonth","setSelectedMonth","getFullYear","selectedYear","setSelectedYear","calendarWeekIndex","setCalendarWeekIndex","setSelectedDay","useFetch","handleShowCalendarClick","resetCalendarToDefault","getNextWeek","ceil","userCalendar","loading","title","months","calendarFormat","CheckboxContainer","CustomCheckbox","otherprops","NavbarContainer","NavButton","otherProps","shrinkLabel","css","InputGroup","CustomTextarea","className","htmlFor"],"mappings":"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","file":"static/js/15.4b9ddfb7.chunk.js","sourcesContent":["module.exports = {\n\tcompareTwoStrings:compareTwoStrings,\n\tfindBestMatch:findBestMatch\n};\n\nfunction compareTwoStrings(first, second) {\n\tfirst = first.replace(/\\s+/g, '')\n\tsecond = second.replace(/\\s+/g, '')\n\n\tif (first === second) return 1; // identical or empty\n\tif (first.length < 2 || second.length < 2) return 0; // if either is a 0-letter or 1-letter string\n\n\tlet firstBigrams = new Map();\n\tfor (let i = 0; i < first.length - 1; i++) {\n\t\tconst bigram = first.substring(i, i + 2);\n\t\tconst count = firstBigrams.has(bigram)\n\t\t\t? firstBigrams.get(bigram) + 1\n\t\t\t: 1;\n\n\t\tfirstBigrams.set(bigram, count);\n\t};\n\n\tlet intersectionSize = 0;\n\tfor (let i = 0; i < second.length - 1; i++) {\n\t\tconst bigram = second.substring(i, i + 2);\n\t\tconst count = firstBigrams.has(bigram)\n\t\t\t? firstBigrams.get(bigram)\n\t\t\t: 0;\n\n\t\tif (count > 0) {\n\t\t\tfirstBigrams.set(bigram, count - 1);\n\t\t\tintersectionSize++;\n\t\t}\n\t}\n\n\treturn (2.0 * intersectionSize) / (first.length + second.length - 2);\n}\n\nfunction findBestMatch(mainString, targetStrings) {\n\tif (!areArgsValid(mainString, targetStrings)) throw new Error('Bad arguments: First argument should be a string, second should be an array of strings');\n\t\n\tconst ratings = [];\n\tlet bestMatchIndex = 0;\n\n\tfor (let i = 0; i < targetStrings.length; i++) {\n\t\tconst currentTargetString = targetStrings[i];\n\t\tconst currentRating = compareTwoStrings(mainString, currentTargetString)\n\t\tratings.push({target: currentTargetString, rating: currentRating})\n\t\tif (currentRating > ratings[bestMatchIndex].rating) {\n\t\t\tbestMatchIndex = i\n\t\t}\n\t}\n\t\n\t\n\tconst bestMatch = ratings[bestMatchIndex]\n\t\n\treturn { ratings: ratings, bestMatch: bestMatch, bestMatchIndex: bestMatchIndex };\n}\n\nfunction areArgsValid(mainString, targetStrings) {\n\tif (typeof mainString !== 'string') return false;\n\tif (!Array.isArray(targetStrings)) return false;\n\tif (!targetStrings.length) return false;\n\tif (targetStrings.find( function (s) { return typeof s !== 'string'})) return false;\n\treturn true;\n}\n","import styled from \"styled-components\"\r\nimport CustomButton from '../custom-button/custom-button.component'\r\n\r\nexport const ContainerOverview = styled.div`\r\n    padding: 2rem;\r\n    box-shadow: var(--container-shadow);\r\n    background-color: var(--container-background-color);\r\n\r\n    &:not(:last-child) {\r\n        /* margin-right: 2rem; */\r\n    }\r\n\r\n    h3  { \r\n        font-size: 1.8rem;\r\n    }\r\n\r\n    p {\r\n        font-size: 1.4rem;\r\n        opacity: .83;\r\n\r\n        span {\r\n            font-weight: bolder;\r\n        }\r\n    }\r\n`\r\n\r\nexport const Options = styled.div`\r\n    display: flex;\r\n`\r\n\r\nexport const ShowButton = styled(CustomButton)`\r\n    margin-top: 2rem;\r\n    font-size: 1.4rem;\r\n    display: block;\r\n    background-color: ${({ isActive }) => isActive ? \"var(--primary-color)\" : \"var(--body-background-primary-color)\"};\r\n    font-weight: bolder;\r\n    color: ${({ isActive }) => isActive ? \"var(--button-font-color)\" : \"var(--primary-color)\"};\r\n`\r\nexport const UpdateButton = styled(CustomButton)`\r\n    margin-top: 2rem;\r\n    font-size: 1.4rem;\r\n    display: block;\r\n    margin-left: 2rem;;\r\n`\r\n","import React from 'react'\r\n\r\nimport {\r\n    ContainerOverview,\r\n    UpdateButton,\r\n    Options,\r\n    ShowButton\r\n} from './booking-calendar-overview.styles'\r\n\r\nconst BookingCalendarOverview = ({\r\n    calendar = {},\r\n    selectedCalendar = null,\r\n    handleShowUpClick = () => { },\r\n    handleUpdateClick = () => { }\r\n}) => {\r\n    return (\r\n        <ContainerOverview>\r\n            <h3>{calendar?.name}</h3>\r\n            <p>Interval medzi vyšetreniami: <span>{calendar?.interval}min</span></p>\r\n            <p>Počet minút pred rezerváciou: <span>{calendar?.allowMinutesBefore}min</span></p>\r\n            <p>Koľko dní dopredu sa da objednať: <span>{calendar?.daysIntoFuture}</span></p>\r\n            <Options>\r\n                <ShowButton isActive={selectedCalendar === calendar?._id} onClick={handleShowUpClick}>Zobraziť</ShowButton>\r\n                <UpdateButton onClick={handleUpdateClick}>Upraviť</UpdateButton>\r\n            </Options>\r\n        </ContainerOverview>\r\n    )\r\n}\r\n\r\nexport default BookingCalendarOverview\r\n","export const getTimefromIndex = (idx, isHalf) => {\r\n    if (isNaN(idx)) return\r\n    let time = \"\"\r\n    if (isHalf) {\r\n        time = idx < 10 ? `0${idx}:30` : `${idx}:30`\r\n    } else {\r\n        time = idx < 10 ? `0${idx}:00` : `${idx}:00`\r\n    }\r\n\r\n    return time;\r\n}\r\n\r\nexport const getHourTime = (idx, interval) => {\r\n    if (isNaN(idx)) return\r\n    const totalMinutes = idx * interval\r\n\r\n    const hours = Math.floor(totalMinutes / 60);\r\n    const minutes = totalMinutes % 60;\r\n    const time = formatTime(hours, minutes)\r\n    return time\r\n}\r\n\r\nconst formatTime = (hour, min) => {\r\n    if (hour < 10 && min === 0) return `0${hour}/0${min}`\r\n    if (hour < 10) return `0${hour}/${min}`\r\n    if (min === 0) return `${hour}/0${min}`\r\n    return `${hour}/${min}`\r\n}\r\n\r\nexport const changeSlash = time => {\r\n    if (!time) return\r\n    return time.replace(\"/\", \":\")\r\n}\r\n\r\nexport const checkBookings = (calendarDataObj, idx, day, month, year) => {\r\n    if (!calendarDataObj?.booked) return null\r\n    const dates = Object.keys(calendarDataObj?.booked)\r\n\r\n    const bookedDate = dates.find(date => {\r\n        const splitedDate = date.split(\"/\").map(value => Number(value))\r\n        if (splitedDate[0] === day && splitedDate[1] === month + 1 && splitedDate[2] === year) {\r\n            return date\r\n        }\r\n        return false\r\n    })\r\n\r\n    if (!bookedDate) return null\r\n\r\n    const time = getHourTime(idx, calendarDataObj.interval)\r\n    const bookingTime = calendarDataObj.booked[bookedDate].find(bookTime => bookTime === time)\r\n\r\n    return bookingTime ? ({\r\n        time: bookingTime,\r\n        date: calendarDataObj.booked[bookedDate],\r\n        dueDate: `${bookingTime}:${bookedDate}`\r\n    }) : null\r\n}\r\n\r\nexport const getTimeline = (startTimes, endTimes, interval) => {\r\n    const numberedStartTimes = startTimes.filter(number => number !== \"X\").map(time => (Number(time.split(\"/\")[0])))\r\n    const numberedEndTimes = endTimes.filter(number => number !== \"X\").map(time => (Number(time.split(\"/\")[0])))\r\n    const numberedEndMinutes = endTimes.filter(number => number !== \"X\").map(time => (Number(time.split(\"/\")[1])))\r\n    const startTime = Math.min(...numberedStartTimes)\r\n    const endTime = Math.max(...numberedEndTimes)\r\n    const endMinutes = Math.max(...numberedEndMinutes)\r\n\r\n    const timeline = [...Array(interval === 30 ? 48 : 24)].map((value, idx) => {\r\n        const time = getHourTime(idx, interval)\r\n        const splitedTime = time.split('/').map(value => Number(value))\r\n        if (startTime > splitedTime[0]) return null\r\n        if (endTime < splitedTime[0]) return null\r\n        if (endTime === splitedTime[0] && !(endMinutes === splitedTime[1]) && splitedTime[1] === 30) return null\r\n        return time\r\n    }).filter(time => time !== null)\r\n\r\n    return timeline\r\n}","import React, { createContext, useState, useEffect, useContext } from 'react'\r\nimport { AuthContext } from '../auth/auth.context'\r\nimport { LoadingModalContext } from '../loading-modal/loading-modal.contenxt'\r\nimport { useFetchById } from '../../hooks/useFetch'\r\nimport {\r\n    getHourTime,\r\n    checkBookings,\r\n    getTimeline\r\n} from '../../utils/week-calendar.utils'\r\n\r\nexport const WeekCalendarContext = createContext({\r\n    timeline: null,\r\n    getDayData: () => { },\r\n    refetchWeekCalendar: () => { },\r\n    cancelUserBooking: () => { },\r\n    // fillDayData: () => { }\r\n})\r\n\r\nconst WeekCalendarProvider = ({ children, calendar, month, year }) => {\r\n    const { response, isLoading, refetch } = useFetchById('api/booking/calendars', calendar, !calendar)\r\n    const { closeModal, setIsLoading, setShowModal, getMessage } = useContext(LoadingModalContext)\r\n    const { token } = useContext(AuthContext)\r\n    const [numberOfHours, setNumberOfHours] = useState(0)\r\n    const [timeline, setTimeline] = useState(null)\r\n\r\n    const getDayData = (dayNumber, dayIdx, calendar) => {\r\n        if (!calendar) return\r\n        const numberedStartTimes = calendar.startTimes.filter(number => number !== \"X\").map(time => (Number(time.split(\"/\")[0])))\r\n        const startTime = Math.min(...numberedStartTimes)\r\n\r\n        const hourblock = [...Array(numberOfHours)].map((value, idx) => {\r\n            const splitedStartTime = calendar.startTimes[dayIdx]?.split(\"/\").map(value => Number(value))\r\n            const splitedEndTime = calendar.endTimes[dayIdx]?.split(\"/\").map(value => Number(value))\r\n            const time = getHourTime(idx, calendar.interval)\r\n            const splitedTime = time.split('/').map(value => Number(value))\r\n\r\n            if (startTime > splitedTime[0]) return\r\n            if (splitedStartTime[0] > startTime && splitedStartTime[0] > splitedTime[0]) return ({ empty: true })\r\n            if (splitedStartTime[0] > startTime && splitedStartTime[0] > splitedTime[0] && !(splitedStartTime[1] === splitedTime[1]) && splitedTime[1] === 30) return ({ empty: true })\r\n\r\n            if (splitedEndTime[0] < splitedTime[0]) return\r\n            if (calendar.startTimes[dayIdx] === 'X') return\r\n            if (splitedEndTime[0] === splitedTime[0] && !(splitedEndTime[1] === splitedTime[1]) && splitedTime[1] === 30) return\r\n\r\n            return ({\r\n                id: idx,\r\n                time: time,\r\n                userBookings: checkBookings(calendar, idx, dayNumber, month, year)\r\n            })\r\n        }).filter(item => item !== undefined)\r\n\r\n        return hourblock\r\n    }\r\n\r\n    const myHeaders = new Headers();\r\n    myHeaders.append(\"auth-token\", token);\r\n    myHeaders.append(\"Content-Type\", \"application/json\");\r\n\r\n    const cancelUserBooking = async (userBookingId, refetchCalendar, setShowBookingDetails) => {\r\n        setShowModal(true)\r\n        setIsLoading(true)\r\n\r\n        const requestOptions = {\r\n            method: 'POST',\r\n            headers: myHeaders,\r\n            // body: raw,\r\n            redirect: 'follow'\r\n        };\r\n\r\n        try {\r\n            const response = await fetch(`${process.env.REACT_APP_BACKEND_ENDPOINT}/api/booking/userBookings/${userBookingId}/cancel`, requestOptions)\r\n            const data = await response.json()\r\n\r\n            if (data.userBooking) {\r\n                closeModal()\r\n                setShowBookingDetails()\r\n                setTimeout(() => {\r\n                    refetchCalendar()\r\n                }, 200);\r\n            }\r\n\r\n            getMessage(data.messageSK)\r\n            setIsLoading(false)\r\n        } catch (err) {\r\n            console.log(err)\r\n            getMessage(\"Niečo sa pokazilo\")\r\n            setIsLoading(false)\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (isLoading) return\r\n        if (response.calendar.interval === 30) setNumberOfHours(48)\r\n        if (response.calendar.interval === 60) setNumberOfHours(24)\r\n        const timelineArr = getTimeline(response.calendar.startTimes, response.calendar.endTimes, response.calendar.interval)\r\n        setTimeline(timelineArr)\r\n    }, [isLoading])\r\n\r\n    return (\r\n        <WeekCalendarContext.Provider\r\n            value={{\r\n                timeline,\r\n                getDayData,\r\n                refetchWeekCalendar: refetch,\r\n                cancelUserBooking,\r\n                // fillDayData\r\n            }}\r\n        >\r\n            {children}\r\n        </WeekCalendarContext.Provider>\r\n    )\r\n}\r\n\r\nexport default WeekCalendarProvider","import styled from 'styled-components'\r\n\r\nexport const Container = styled.div`\r\n    width: 100%;\r\n    display: grid;\r\n    grid-template-columns: repeat(7, 1fr);\r\n    border: 1px solid rgba(0,0,0,.1);\r\n    min-width: 55rem;\r\n`\r\n\r\nexport const HeaderBlock = styled.div`\r\n    cursor: default;\r\n    height: 8rem;\r\n    background-color: var(--color-black);\r\n    color: var(--table-head-color);\r\n    display: flex;\r\n    align-items:center;\r\n    justify-content:center;\r\n    font-weight: 700;\r\n`\r\n\r\nexport const Dayblock = styled.div`\r\n    height: 8rem;\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: flex-end;\r\n    border: 1px solid rgba(0,0,0,.1);\r\n    padding: .6rem 1rem;\r\n\r\n    transition: all .15s;\r\n\r\n    p {\r\n        span {\r\n            width: 3rem;\r\n            height: 3rem;\r\n            display: flex;\r\n            justify-content: center;\r\n            align-items: center;\r\n            border-radius: 50%;\r\n            background-color: var(--body-background-primary-color);\r\n            color: var(--primary-color);\r\n            font-weight: bolder;\r\n            font-size: 1.5rem;\r\n        }\r\n    }\r\n\r\n    ${({ faded }) => faded ? \"opacity: .6\" : (`    \r\n        cursor: pointer;\r\n        &:hover {\r\n        background-color: var(--body-background-primary-color);\r\n        }\r\n    `)};\r\n\r\n\r\n\r\n`\r\n","import React, { useState, useEffect } from 'react'\r\n\r\nimport {\r\n    dayNames,\r\n    getPreviousMonthDays,\r\n    getNextMonthDays,\r\n    getCurrentMonthDays,\r\n    getBooking\r\n} from '../../utils/calendar.utils'\r\n\r\nimport { useFetchById } from '../../hooks/useFetch'\r\n\r\nimport {\r\n    Container,\r\n    HeaderBlock,\r\n    Dayblock,\r\n\r\n} from './calendar.styles'\r\n\r\nconst Calendar = ({\r\n    calendar,\r\n    month,\r\n    year,\r\n    handleCalendarBlockClick\r\n}) => {\r\n    const date = new Date()\r\n\r\n    date.setDate(1)\r\n    const lastDay = new Date(year, month + 1, 0).getDate()\r\n    const prevLastDay = new Date(year, month, 0).getDate()\r\n\r\n    const firstDayIndex = new Date(year, month, 0).getDay();\r\n    const lastDayIndex = new Date(year, month + 1, 0).getDay()\r\n\r\n    const nextDays = 7 - lastDayIndex\r\n\r\n    const { response, isLoading, refetch } = useFetchById('api/booking/calendars', calendar, !calendar)\r\n    const [prevDays, setPrevDays] = useState([])\r\n    const [currentMonthDays, setCurrentMonthDays] = useState([])\r\n    const [nextMonthDays, setMonthNextDays] = useState([])\r\n\r\n    useEffect(() => {\r\n        refetch()\r\n    }, [month])\r\n\r\n    useEffect(() => {\r\n        if (calendar) {\r\n            refetch()\r\n        }\r\n    }, [calendar])\r\n\r\n    useEffect(() => {\r\n        if (!isLoading) {\r\n            if (response?.calendar) {\r\n                const prevDaysArr = getPreviousMonthDays(firstDayIndex)\r\n                const arr = getCurrentMonthDays(lastDay)\r\n                const nextDaysArr = getNextMonthDays(nextDays)\r\n                const checkedArr = getBooking(arr, response.calendar, month, year)\r\n\r\n                setPrevDays(prevDaysArr)\r\n                setCurrentMonthDays(checkedArr)\r\n                setMonthNextDays(nextDaysArr)\r\n            }\r\n        }\r\n    }, [isLoading])\r\n\r\n    useEffect(() => {\r\n        return () => {\r\n            setPrevDays([])\r\n            setCurrentMonthDays([])\r\n            setMonthNextDays([])\r\n        }\r\n    }, [])\r\n\r\n    return (\r\n        <Container>\r\n\r\n            {dayNames.map((name, idx) => (\r\n                <HeaderBlock key={idx}>\r\n                    {name}\r\n                </HeaderBlock>\r\n            ))}\r\n\r\n            {prevDays.map((value, idx) => (\r\n                <Dayblock faded={true} key={idx}>\r\n                    <p>\r\n                    </p>\r\n                    <p>\r\n                        {prevLastDay - idx}\r\n                    </p>\r\n                </Dayblock>\r\n            ))}\r\n\r\n            {currentMonthDays.map((data, idx) => {\r\n                const { dayNumber, bookings } = data\r\n                return (\r\n                    <Dayblock key={idx} onClick={() => handleCalendarBlockClick(data)}>\r\n                        <p>\r\n                            {bookings && <span>\r\n                                {bookings.length}\r\n                            </span>}\r\n                        </p>\r\n                        <p>\r\n                            {dayNumber}\r\n                        </p>\r\n                    </Dayblock>\r\n                )\r\n            })}\r\n            {nextMonthDays.map((value, idx) => (\r\n                <Dayblock faded={true} key={idx}>\r\n                    <p>\r\n                    </p>\r\n                    <p>\r\n                        {idx + 1}\r\n                    </p>\r\n                </Dayblock>\r\n            ))}\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default Calendar\r\n","import styled from 'styled-components'\r\nimport CustomButton from '../custom-button/custom-button.component'\r\n\r\nexport const ModalContainer = styled.div`\r\n    position: fixed;\r\n    left: 0;\r\n    right: 0;\r\n    top: 0;\r\n    bottom: 0;\r\n    z-index: 99999;\r\n\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n\r\n    background-color: rgba(0,0,0,0.3);\r\n`\r\n\r\nexport const Modal = styled.div`\r\n    width:100%;\r\n    max-width: 65rem;\r\n    max-height: 60rem;\r\n\r\n    overflow-y: scroll;\r\n\r\n    padding: 2rem;\r\n    border-radius: .5rem;\r\n    background-color: var(--background-primary-color);\r\n    color: var(--primary-text-color);\r\n\r\n    position: relative;\r\n    z-index: 999999; \r\n\r\n    h2{ \r\n        margin-bottom: 2rem;\r\n        /* text-align: center; */\r\n    }\r\n\r\n    ::-webkit-scrollbar {\r\n        width: 10px;\r\n    }\r\n\r\n    /* Track */\r\n    ::-webkit-scrollbar-track {\r\n        background:  var(--background-primary-color);\r\n    }\r\n\r\n    /* Handle */\r\n    ::-webkit-scrollbar-thumb {\r\n        background: var(--primary-color);\r\n    }\r\n\r\n    /* Handle on hover */\r\n    ::-webkit-scrollbar-thumb:hover {\r\n        background: var(--primary-color);\r\n    }\r\n`\r\n\r\nexport const CloseButton = styled.button`\r\n    width: 100%;\r\n    height: 100%;\r\n\r\n    position: fixed;\r\n    left: 0;\r\n    right: 0;\r\n    z-index: 99999;\r\n\r\n    border: none;\r\n    outline: none;\r\n    opacity: 0;\r\n\r\n    &:focus {\r\n        outline: none\r\n    }\r\n`\r\n\r\nexport const GridContainer = styled.div`\r\n    display: grid;\r\n    grid-template-columns: 1fr 1fr;\r\n    align-items: start;\r\n    grid-gap: 3rem;\r\n    margin-bottom: 3rem;\r\n\r\n`\r\n\r\nexport const BlockContainer = styled.div`\r\n    padding: 1rem;\r\n    background-color: var(--body-background-primary-color);\r\n\r\n    h3 {\r\n        font-size: 1.3rem;\r\n        font-weight: lighter;\r\n        opacity: .8;\r\n        margin-bottom: .5rem;\r\n    }\r\n\r\n    p {\r\n        font-size: 1.8rem;\r\n        margin-left: 2rem;\r\n    }\r\n`\r\n\r\nexport const Header = styled.div`\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: space-between;\r\n    margin-bottom: 2rem;\r\n`\r\n\r\nexport const CancelButton = styled(CustomButton)`\r\n    display: block;\r\n    background-color: var(--primary-color);\r\n    font-weight: bolder;\r\n`\r\n\r\nexport const Container = styled.div`\r\n    ${BlockContainer} {\r\n        margin-bottom: 3rem;\r\n    }\r\n`","import React, { useState, useEffect } from 'react'\r\nimport ReactDOM from 'react-dom'\r\n\r\nimport Spinner from '../spinner/spinner.component'\r\n\r\nimport { useFetchByQuery } from '../../hooks/useFetch'\r\nimport { retailNames } from '../../utils/warehouse.utils'\r\n\r\nimport {\r\n    ModalContainer,\r\n    Modal,\r\n    CloseButton,\r\n    GridContainer,\r\n    BlockContainer,\r\n    Header,\r\n    CancelButton,\r\n    Container\r\n} from './modal-userbookings-details.styles'\r\n\r\nconst UserbookingDetailsModal = ({ close, userBooking, calendarId, cancelUserBooking }) => {\r\n    const { response, isLoading } = useFetchByQuery(`api/booking/calendars/${calendarId}/dayInfo`, {\r\n        date: userBooking?.userBookings?.dueDate.split(\":\")[1]\r\n    }, !userBooking)\r\n\r\n    const [booking, setBooking] = useState(null)\r\n\r\n    useEffect(() => {\r\n        if (isLoading) return\r\n        if (!response) return\r\n\r\n        const newBooking = response.userBookings.find(booking => booking.dueTime === userBooking.userBookings.dueDate)\r\n        setBooking(newBooking)\r\n\r\n    }, [isLoading])\r\n\r\n    return ReactDOM.createPortal((\r\n        <ModalContainer>\r\n            <CloseButton onClick={close} />\r\n            <Modal>\r\n                {!booking && <Spinner />}\r\n                <h2>{booking?.booking?.name}</h2>\r\n\r\n                <Header>\r\n                    <h3>Informácie:</h3>\r\n                    <CancelButton onClick={() => cancelUserBooking(booking._id)}>Zrušiť rezerváciu</CancelButton>\r\n                </Header>\r\n                <GridContainer>\r\n                    <BlockContainer>\r\n                        <h3>Meno a priezvisko</h3>\r\n                        <p>{booking?.name}</p>\r\n                    </BlockContainer>\r\n                    <BlockContainer>\r\n                        <h3>Prevadzka</h3>\r\n                        <p>{retailNames[booking?.booking?.premises]}</p>\r\n                    </BlockContainer>\r\n                    <BlockContainer>\r\n                        <h3>Tel. číslo</h3>\r\n                        <p>{booking?.phone}</p>\r\n                    </BlockContainer>\r\n                    <BlockContainer>\r\n                        <h3>E-mail</h3>\r\n                        <p>{booking?.email}</p>\r\n                    </BlockContainer>\r\n                    <BlockContainer>\r\n                        <h3>Dátum</h3>\r\n                        <p>{booking?.dueTime}</p>\r\n                    </BlockContainer>\r\n                    <BlockContainer>\r\n                        <h3>Zrušené</h3>\r\n                        <p>{booking?.cancelled ? \"Ano\" : \"Nie\"}</p>\r\n                    </BlockContainer>\r\n                </GridContainer>\r\n\r\n                <Container>\r\n                    <BlockContainer>\r\n                        <h3>Poznámka</h3>\r\n                        {booking?.note ? (\r\n                            <p>{booking?.note}</p>\r\n                        ) : (\r\n                                <p>Žiadná poznámka</p>\r\n                            )}\r\n                    </BlockContainer>\r\n\r\n                    <BlockContainer>\r\n                        <h3>Popis</h3>\r\n                        <p>{booking?.booking?.description}</p>\r\n                    </BlockContainer>\r\n\r\n                </Container>\r\n            </Modal>\r\n        </ModalContainer>\r\n    ), document.getElementById('portal'))\r\n}\r\n\r\nexport default UserbookingDetailsModal\r\n","import styled from 'styled-components'\r\nimport CustomButton from \"../custom-button/custom-button.component\"\r\nimport SectionNavbar from \"../section-navbar/section-navbar.component\"\r\n\r\n\r\nexport const ModalContainer = styled.div`\r\n    position: fixed;\r\n    left: 0;\r\n    right: 0;\r\n    top: 0;\r\n    bottom: 0;\r\n    z-index: 99999;\r\n\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n\r\n    background-color: rgba(0,0,0,0.3);\r\n`\r\n\r\nexport const Modal = styled.div`\r\n    width:100%;\r\n    max-width: 65rem;\r\n    max-height: 60rem;\r\n\r\n    overflow-y: scroll;\r\n\r\n    padding: 2rem;\r\n    border-radius: .5rem;\r\n    background-color: var(--background-primary-color);\r\n    color: var(--primary-text-color);\r\n\r\n    position: relative;\r\n    z-index: 999999;\r\n\r\n    h2{ \r\n        margin-bottom: 2rem;\r\n        text-align: center;\r\n    }\r\n\r\n    ::-webkit-scrollbar {\r\n        width: 10px;\r\n    }\r\n\r\n    /* Track */\r\n    ::-webkit-scrollbar-track {\r\n        background:  var(--background-primary-color);\r\n    }\r\n\r\n    /* Handle */\r\n    ::-webkit-scrollbar-thumb {\r\n        background: var(--primary-color);\r\n    }\r\n\r\n    /* Handle on hover */\r\n    ::-webkit-scrollbar-thumb:hover {\r\n        background: var(--primary-color);\r\n    }\r\n`\r\n\r\nexport const CloseButton = styled.button`\r\n    width: 100%;\r\n    height: 100%;\r\n\r\n    position: fixed;\r\n    left: 0;\r\n    right: 0;\r\n    z-index: 99999;\r\n\r\n    border: none;\r\n    outline: none;\r\n    opacity: 0;\r\n\r\n    &:focus {\r\n        outline: none\r\n    }\r\n`\r\n\r\nexport const SubmitButton = styled(CustomButton)`\r\n    display: block;\r\n    margin: 0 auto;\r\n    background-color: var(--primary-color);\r\n    font-weight: bolder;\r\n`\r\n\r\nexport const Navbar = styled(SectionNavbar)`\r\n    ul {\r\n        justify-content: center;\r\n    }\r\n`\r\n\r\nexport const SearchTab = styled.div`\r\n    button {\r\n        margin-top: 2rem;\r\n    }\r\n`\r\n\r\nexport const UserTable = styled.div`\r\n    p {\r\n        text-align: center;\r\n        opacity: .6;\r\n    }\r\n        margin-bottom: 3rem;\r\n`\r\n\r\nexport const TableHead = styled.div`\r\n    display: grid;\r\n    grid-template-columns: 1fr 1fr 1fr;\r\n`\r\n\r\nexport const Tablebody = styled.div`\r\n    display: grid;\r\n    grid-template-columns: 1fr 1fr 1fr;\r\n\r\n    cursor: pointer;\r\n    align-content: center;\r\n    margin-bottom: 1rem;\r\n    box-shadow: var(--container-shadow);\r\n    background-color: var(--container-background-color);\r\n\r\n    transition: all .3s ease-out;\r\n\r\n    &:hover {\r\n        background-color: var(--primary-color); \r\n        font-weight: bolder;\r\n        color: var(--button-font-color);\r\n    }\r\n\r\n`\r\n\r\nexport const TableCol = styled.div`\r\n    padding: 2rem;\r\n    text-align: center;\r\n`\r\n\r\nexport const CustomSelect = styled.select`\r\n    margin-top: 2rem;\r\n    /* min-width: 16.5rem; */\r\n    width: 100%;\r\n    background-color: var(--input-background-color);\r\n    color: var(--input-color);\r\n    border: none;\r\n    padding: .8rem .5rem .8rem .5rem;\r\n    font-size: inherit;\r\n    font-family: inherit;\r\n    display: block;\r\n\r\n    margin-bottom: 2rem;\r\n`\r\n\r\nexport const DateContainer = styled.div`\r\n    display: grid;\r\n    grid-template-columns: 2fr 1fr .4rem 1fr;\r\n    grid-gap: 1rem;\r\n\r\n    p {\r\n        align-self: center;\r\n    }\r\n`","import React, { useState, useEffect } from 'react'\r\nimport ReactDOM from 'react-dom'\r\n\r\nimport CustomInput from '../custom-input/custom-input.component'\r\nimport CustomTextarea from '../custom-textarea/custom-textarea.component'\r\n\r\nimport { useFetchByQuery } from '../../hooks/useFetch'\r\n\r\nimport {\r\n    formatDate,\r\n    formatCalendarStartTime,\r\n    formatCalendarEndTime\r\n} from '../../utils/calendar.utils'\r\n\r\nimport {\r\n    ModalContainer,\r\n    Modal,\r\n    CloseButton,\r\n    SubmitButton,\r\n    Navbar,\r\n    UserTable,\r\n    TableHead,\r\n    Tablebody,\r\n    TableCol,\r\n    SearchTab,\r\n    CustomSelect,\r\n    DateContainer\r\n} from './modal-user-booking.styles'\r\n\r\nconst UserBookingModal = ({ refetchWeekCalendar, close, day, calendar, refetchCalendar, createUserBooking }) => {\r\n\r\n    const [query, setQuery] = useState(null)\r\n    const [activeTab, setActiveTab] = useState(0)\r\n    const [userBooking, setUserBooking] = useState({})\r\n    const [bookingDate, setBookingDate] = useState({\r\n        date: \"\",\r\n        hour: \"\",\r\n        min: 0\r\n    })\r\n\r\n    const [startTime, setStartTime] = useState(null)\r\n    const [endTime, setEndTime] = useState(null)\r\n\r\n\r\n\r\n    const { refetch, response } = useFetchByQuery('api/admin/users/filter', query, !query)\r\n\r\n    const handleSearch = () => {\r\n        if (!query) return\r\n        refetch()\r\n    }\r\n\r\n    const handleSearchOnEnter = (e) => {\r\n        if (query !== null) {\r\n            if (e.key === 'Enter') {\r\n                refetch()\r\n            }\r\n        }\r\n    }\r\n\r\n    const handleUserBookingChange = e => {\r\n        const { name, value } = e.target\r\n\r\n        if (value === '') {\r\n            delete userBooking[name]\r\n            setUserBooking({ ...userBooking })\r\n            return\r\n        }\r\n\r\n        setUserBooking(prevValue => ({\r\n            ...prevValue,\r\n            [name]: value\r\n        }))\r\n    }\r\n\r\n    const selectUser = (userObj) => {\r\n        setUserBooking(prevValue => ({\r\n            ...prevValue,\r\n            ...userObj\r\n        }))\r\n        setActiveTab(0)\r\n        setQuery(null)\r\n    }\r\n\r\n    const handleChangeDate = e => {\r\n        const { name, value } = e.target\r\n\r\n        setBookingDate(prevValue => ({\r\n            ...prevValue,\r\n            [name]: value\r\n        }))\r\n    }\r\n\r\n    const handleSubmit = () => {\r\n        // if (!userBooking?.name) return\r\n        // if (!userBooking?.email) return\r\n        // if (!userBooking?.phone) return\r\n        // if (!userBooking?.booking) return\r\n\r\n        let bookingToAdd = {\r\n            ...userBooking,\r\n            dueTime: formatDate(bookingDate),\r\n            values: {}\r\n        }\r\n        createUserBooking(bookingToAdd, refetchCalendar, close, refetchWeekCalendar)\r\n        // refetchCalendar()\r\n        // close()\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (day) {\r\n            const { time, dayNumber, month, year } = day\r\n            setStartTime(formatCalendarStartTime(calendar, day))\r\n            setEndTime(formatCalendarEndTime(calendar, day))\r\n            // const formatedDate = formatDate(`${dayNumber}-${month}-${year}`, time)\r\n            setBookingDate({\r\n                date: `${year}-${month < 9 ? `0${month + 1}` : (month + 1)}-${dayNumber < 10 ? `0${dayNumber}` : dayNumber}`,\r\n                hour: Number(time?.split(\"/\")[0]),\r\n                min: Number(time?.split(\"/\")[1])\r\n            })\r\n        }\r\n    }, [day])\r\n\r\n    useEffect(() => {\r\n        return () => {\r\n            setUserBooking({})\r\n            setQuery(null)\r\n            setActiveTab(0)\r\n        }\r\n    }, [])\r\n\r\n    return ReactDOM.createPortal((\r\n        <ModalContainer>\r\n            <CloseButton onClick={close} />\r\n            <Modal>\r\n                <h2>Objednať zákazníka</h2>\r\n\r\n                <Navbar\r\n                    items={optionTabs}\r\n                    activeIndex={activeTab}\r\n                    setActiveIndex={setActiveTab}\r\n                />\r\n\r\n                {activeTab === 1 ? (\r\n                    <SearchTab>\r\n                        <CustomInput\r\n                            label='Meno, priezvisko, e-mail alebo tel. číslo'\r\n                            name='query'\r\n                            value={query ? query?.query : \"\"}\r\n                            handleChange={e => setQuery({\r\n                                limit: 10,\r\n                                query: e.target.value\r\n                            })}\r\n                            onKeyPress={handleSearchOnEnter}\r\n                        />\r\n\r\n                        <SubmitButton onClick={handleSearch}>Hľadať</SubmitButton>\r\n\r\n\r\n                        <UserTable>\r\n                            <TableHead>\r\n                                <TableCol>Meno</TableCol>\r\n                                <TableCol>E-mail</TableCol>\r\n                                <TableCol>Tel. číslo</TableCol>\r\n                            </TableHead>\r\n                            {response?.users ? response?.users?.map(({ name, email, phone }, idx) => (\r\n                                <Tablebody key={idx} onClick={() => selectUser({ name, email, phone })}>\r\n                                    <TableCol>{name}</TableCol>\r\n                                    <TableCol>{email}</TableCol>\r\n                                    <TableCol>{phone}</TableCol>\r\n                                </Tablebody>\r\n                            )) : (\r\n                                <div>\r\n                                    <p>Žiaden výsledok</p>\r\n                                </div>\r\n                            )}\r\n                        </UserTable>\r\n                    </SearchTab>\r\n                ) : (\r\n                    <React.Fragment>\r\n                        <div>\r\n                            <h3>Dátum vyšetrenia</h3>\r\n                            <DateContainer>\r\n                                <CustomInput\r\n                                    label=''\r\n                                    type='date'\r\n                                    name='date'\r\n                                    handleChange={handleChangeDate}\r\n                                    value={bookingDate?.date}\r\n\r\n                                />\r\n                                <div>\r\n                                    <CustomInput\r\n                                        label='Čas'\r\n                                        type='number'\r\n                                        name='hour'\r\n                                        value={bookingDate?.hour?.toString()}\r\n                                        min={startTime?.split(\":\")[0]}\r\n                                        max={endTime?.split(\":\")[0]}\r\n                                        handleChange={handleChangeDate}\r\n                                        step=\"1\"\r\n                                    />\r\n                                </div>\r\n                                <p>:</p>\r\n                                <div>\r\n                                    <CustomSelect\r\n                                        name='min'\r\n                                        value={bookingDate?.min?.toString()}\r\n                                        onChange={handleChangeDate}\r\n                                    >\r\n                                        <option value={0}>00</option>\r\n                                        {calendar?.interval === 30 && <option value={30}>30</option>}\r\n                                    </CustomSelect>\r\n                                </div>\r\n                            </DateContainer>\r\n                        </div>\r\n                        <div>\r\n                            <CustomInput\r\n                                label='Meno*'\r\n                                name='name'\r\n                                value={userBooking?.name || \"\"}\r\n                                handleChange={handleUserBookingChange}\r\n                            />\r\n                        </div>\r\n                        <div>\r\n                            <CustomInput\r\n                                label='E-mail*'\r\n                                name='email'\r\n                                value={userBooking?.email || \"\"}\r\n                                handleChange={handleUserBookingChange}\r\n                            />\r\n                        </div>\r\n                        <div>\r\n                            <CustomInput\r\n                                label='Tel. číslo*'\r\n                                name='phone'\r\n                                value={userBooking?.phone || \"\"}\r\n                                handleChange={handleUserBookingChange}\r\n                            />\r\n                        </div>\r\n\r\n                        <div>\r\n                            <CustomTextarea\r\n                                label='Poznámka'\r\n                                name='note'\r\n                                rows=\"5\"\r\n                                value={userBooking?.note || \"\"}\r\n                                handleChange={handleUserBookingChange}\r\n                            />\r\n                        </div>\r\n\r\n                        <div>\r\n                            <h3>Vyšetrenie</h3>\r\n                            <CustomSelect\r\n                                name='booking'\r\n                                value={userBooking?.booking || \"\"}\r\n                                onChange={handleUserBookingChange}\r\n                            >\r\n                                <option value={''}>Nezvolené</option>\r\n                                {calendar?.bookings.map((booking, idx) => {\r\n                                    if (booking.active === false) return\r\n                                    return (\r\n                                        <option key={idx} value={booking._id}>{booking.name}</option>\r\n                                    )\r\n                                })}\r\n                            </CustomSelect>\r\n                        </div>\r\n                    </React.Fragment>\r\n                )}\r\n\r\n                {activeTab === 0 && <SubmitButton onClick={handleSubmit}>Vytvoriť</SubmitButton>}\r\n            </Modal>\r\n        </ModalContainer >\r\n    ), document.getElementById('portal'))\r\n}\r\n\r\nexport default UserBookingModal\r\n\r\nconst optionTabs = [\r\n    {\r\n        id: 0,\r\n        name: \"Nový zákazník\",\r\n    },\r\n    {\r\n        id: 1,\r\n        name: \"Vyhľadať zákazníka\",\r\n    },\r\n]","import styled from 'styled-components'\r\n\r\nexport const BookedDayContainer = styled.div`\r\n    cursor: pointer;\r\n    border: var(--appointment-container-border);\r\n    background-color: ${({ color }) => color ? color : \"transparent\"};\r\n    color: var(--appointment-container-text-color);\r\n    font-weight: bolder;\r\n    width: 100%;\r\n    height: 100%;\r\n    padding: .5rem;\r\n    position: absolute;\r\n    bottom: ${({ isHalfHour }) => isHalfHour ? 0 : \"unset\"};\r\n    top: ${({ isHalfHour }) => isHalfHour ? 'unset' : 0};\r\n    font-size: 1.2rem;\r\n    z-index: 99;\r\n\r\n    h4 {\r\n        width: 8rem;\r\n        white-space: nowrap;\r\n        overflow: hidden;\r\n        text-overflow: ellipsis;\r\n    }\r\n`","import React, { useState, useEffect } from 'react'\r\nimport stringSimilarity from \"string-similarity\"\r\n\r\n\r\n// import Spinner from '../spinner/spinner.component'\r\n\r\nimport { useFetchByQuery } from '../../hooks/useFetch'\r\n\r\nimport {\r\n    BookedDayContainer\r\n} from './calendar-booked-day.styles'\r\n\r\nconst CalendarBookedDay = ({ dayData, calendarId, time, userBookings, open }) => {\r\n    const [isHalfHour, setIsHalfHour] = useState(false)\r\n    const { response, isLoading, refetch } = useFetchByQuery(`api/booking/calendars/${calendarId}/dayInfo`, {\r\n        date: dayData.bookingDate\r\n    }, !dayData?.bookingDate)\r\n    const [appointment, setAppointment] = useState(null)\r\n    const [isValidDueTime, setIsValiDueTime] = useState(false)\r\n    // const [isBelongToAnother, setIsBelongToAnother] = useState(false)\r\n\r\n    useEffect(() => {\r\n        if (isLoading) return\r\n        const bookingsDueTime = response?.userBookings?.filter(booking => !booking?.cancelled).map(booking => booking?.dueTime)\r\n\r\n        if (bookingsDueTime?.length > 0) {\r\n            const matches = stringSimilarity.findBestMatch(userBookings?.dueDate, bookingsDueTime);\r\n\r\n            const exactBooking = response?.userBookings?.find(booking => booking?.dueTime === userBookings?.dueDate)\r\n            const todayBooking = response?.userBookings?.find(booking => booking?.dueTime === matches?.bestMatch?.target)\r\n\r\n            if (userBookings?.dueDate === exactBooking?.dueTime) {\r\n                setIsValiDueTime(true)\r\n            } else if (matches?.bestMatch?.target === todayBooking?.dueTime) {\r\n                // setIsBelongToAnother(true)\r\n            }\r\n\r\n            setAppointment(exactBooking)\r\n\r\n        }\r\n\r\n    }, [isLoading])\r\n\r\n    useEffect(() => {\r\n        if (!dayData?.bookingDate) return\r\n        refetch()\r\n    }, [dayData?.bookingDate])\r\n\r\n    useEffect(() => {\r\n        return () => {\r\n            setIsHalfHour(false)\r\n            setIsValiDueTime(false)\r\n        }\r\n    }, [])\r\n\r\n    return (\r\n        <React.Fragment>\r\n            <BookedDayContainer onClick={isValidDueTime ? open : () => { }} color={appointment?.booking?.color ? `#${appointment?.booking?.color}` : `var(--appointment-container-background-color)`} isHalfHour={isHalfHour}>\r\n                {/* <BookedDayContainer onClick={() => console.log(appointment)} color={appointment?.booking?.color ? `#${appointment?.booking?.color}` : `#${response?.userBookings[0]?.booking?.color}`} isHalfHour={isHalfHour}> */}\r\n                {isValidDueTime && <div>\r\n                    <h4>{appointment && appointment?.booking?.name}</h4>\r\n                    <h5>{time}</h5>\r\n                </div>}\r\n                {/* {(isBelongToAnother && !isValidDueTime) && <div>\r\n                    <h4>Test</h4>\r\n                </div>} */}\r\n\r\n            </BookedDayContainer>\r\n        </React.Fragment>\r\n    )\r\n}\r\n\r\nexport default CalendarBookedDay\r\n","import styled from 'styled-components'\r\n\r\nexport const Container = styled.div`\r\n    width: 100%;\r\n`\r\n\r\nexport const HourGrid = styled.div`\r\n    position: relative;\r\n\r\n    overflow-y: scroll;\r\n    /* overflow-x: auto; */\r\n    height: 60rem;\r\n    display: grid;\r\n    grid-template-columns: 6rem repeat(7, 1fr);\r\n    /* border: var(--table-border); */\r\n    min-width: 55rem;\r\n    /* padding-left: 5rem; */\r\n\r\n\r\n   ::-webkit-scrollbar {\r\n        width: 1rem;\r\n    }\r\n\r\n    /* Track */\r\n    ::-webkit-scrollbar-track {\r\n        background:  var(--background-primary-color);\r\n    }\r\n\r\n    /* Handle */\r\n    ::-webkit-scrollbar-thumb {\r\n        background: var(--primary-color);\r\n    }\r\n\r\n    /* Handle on hover */\r\n    ::-webkit-scrollbar-thumb:hover {\r\n        background: var(--primary-color);\r\n    }\r\n`\r\n\r\nexport const TableHead = styled.div`\r\n    display: grid;\r\n    grid-template-columns: 6rem repeat(7, 1fr);\r\n\r\n    background-color: var(--color-black);\r\n\r\n    /* border: var(--table-border); */\r\n    min-width: 55rem;\r\n    /* padding-left: 5rem; */\r\n    padding-right: 1rem;\r\n\r\n`\r\n\r\nexport const HeaderBlock = styled.div`\r\n    cursor: default;\r\n    height: 8rem;\r\n    background-color: var(--color-black);\r\n    color: var(--table-head-color);\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items:center;\r\n    justify-content:center;\r\n    font-weight: 700;\r\n\r\n    p:first-child {\r\n        font-weight: lighter;\r\n    }\r\n\r\n    /* background-color: red; */\r\n    ${({ isDisabled }) => isDisabled ? (`\r\n        opacity: .6;\r\n    `) : ''}\r\n`\r\n\r\nexport const HourBlock = styled.div`\r\n    background-color: var(--body-background-primary-color);\r\n\r\n`\r\n\r\nexport const EmptyHourBlock = styled.div`\r\n    background-color: transparent;\r\n    height: 10rem;\r\n\r\n`\r\n\r\nexport const HourTime = styled.div`\r\n    display: block;\r\n    /* position: relative; */\r\n    p {\r\n        /* width: 6rem; */\r\n        display: block;\r\n        opacity: .6;\r\n        /* position: absolute; */\r\n        top: 0rem;\r\n        /* left: -5.8rem; */\r\n        left: 0;\r\n        font-size: 1.4rem;\r\n        padding: .5rem 1rem .5rem .2rem;\r\n        border-radius: 9999rem;\r\n        text-align: end;\r\n        letter-spacing: .05rem;\r\n    }\r\n`\r\n\r\nexport const HourBlockContainer = styled.div`\r\n    cursor: pointer;\r\n    position: relative;\r\n    /* width: 15rem; */\r\n    height: 10rem;\r\n    border-bottom: var(--table-border);\r\n    background-color: var(--background-primary-color);\r\n\r\n\r\n    span {\r\n        display: none;\r\n    }\r\n`\r\n\r\nexport const EmptyContainer = styled.div`\r\n    content: \"\";\r\n    position: relative;\r\n    /* position: absolute; */\r\n    /* width: 5rem; */\r\n    height: 100%;\r\n    /* top: 0;\r\n    left: 0;\r\n    bottom: 0;\r\n    right: 0; */\r\n    /* background-color: red; */\r\n`\r\n\r\nexport const AppointmentContainer = styled.div`\r\n    cursor: pointer;\r\n    border: var(--appointment-container-border);\r\n    background-color: var(--appointment-container-background-color);\r\n    color: var(--appointment-container-text-color);\r\n    font-weight: bolder;\r\n    width: 100%;\r\n    height: 50%;\r\n    padding: .5rem;\r\n    /* position: absolute; */\r\n\r\n`","import React, { useState, useEffect, useContext } from 'react'\r\nimport { useFetchById } from '../../hooks/useFetch'\r\nimport { BookingContext } from '../../context/booking/booking.context'\r\nimport { WeekCalendarContext } from '../../context/week-calendar/week-calendar.context'\r\n\r\nimport UserbookingDetailsModal from '../modal-userbookings-details/modal-userbookings-details.component'\r\nimport UserBookingModal from '../modal-user-bookings/modal-user-booking.component'\r\nimport CalendarBookedDay from '../calendar-booked-day/calendar-booked-day.component'\r\n\r\nimport {\r\n    dayNames,\r\n    getPreviousMonthDays,\r\n    getNextMonthDays,\r\n    getCurrentMonthDays,\r\n    getBooking,\r\n} from '../../utils/calendar.utils'\r\n\r\nimport { changeSlash } from '../../utils/week-calendar.utils'\r\n\r\nimport {\r\n    Container,\r\n    HeaderBlock,\r\n    HourBlock,\r\n    HourGrid,\r\n    TableHead,\r\n    HourBlockContainer,\r\n    EmptyContainer,\r\n    HourTime,\r\n    EmptyHourBlock\r\n} from './calendar-weekdays.styles'\r\n\r\nconst WeekDays = ({\r\n    calendar,\r\n    year,\r\n    month,\r\n    weekIndex,\r\n    showUserBooking,\r\n    setShowUserBooking,\r\n    handleOpenUserBookingModal,\r\n    selectedDay,\r\n}) => {\r\n    const { timeline, getDayData, refetchWeekCalendar, cancelUserBooking } = useContext(WeekCalendarContext)\r\n    const { createUserBooking } = useContext(BookingContext)\r\n    const { response, isLoading, refetch } = useFetchById('api/booking/calendars', calendar, !calendar)\r\n    const lastDay = new Date(year, month + 1, 0).getDate()\r\n    const firstDayIndex = new Date(year, month, 0).getDay();\r\n    const lastDayIndex = new Date(year, month + 1, 0).getDay()\r\n    const prevLastDay = new Date(year, month, 0).getDate()\r\n\r\n    const nextDays = 7 - lastDayIndex\r\n\r\n    const [calendarDays, setCalendarDays] = useState([])\r\n    // const [selectedDay, setSelectedDay] = useState(null)\r\n    const [showBookingDetails, setShowBookingDetails] = useState(false)\r\n\r\n    const [selectedUserBooking, setSelectedUserBooking] = useState(null)\r\n\r\n    const handleOpenDetailsModal = (userBooking) => {\r\n        setSelectedUserBooking(userBooking)\r\n        setShowBookingDetails(true)\r\n    }\r\n\r\n    const handleCancelUserBooking = (userBookingId) => {\r\n        cancelUserBooking(userBookingId, refetch, setShowBookingDetails)\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (isLoading) return\r\n\r\n        if (response.calendar) {\r\n            const prevMonthDays = getPreviousMonthDays(firstDayIndex)\r\n            const monthDays = getCurrentMonthDays(lastDay)\r\n            const nextMonthDays = getNextMonthDays(nextDays)\r\n            const monthDaysWithBookings = getBooking(monthDays, response.calendar, month, year)\r\n\r\n            setCalendarDays([\r\n                ...prevMonthDays,\r\n                ...monthDaysWithBookings,\r\n                ...nextMonthDays\r\n            ])\r\n\r\n            // fillDayData([\r\n            //     ...prevMonthDays,\r\n            //     ...monthDaysWithBookings,\r\n            //     ...nextMonthDays\r\n            // ], response.calendar)\r\n        }\r\n    }, [isLoading])\r\n\r\n    useEffect(() => {\r\n        refetch()\r\n    }, [month])\r\n\r\n\r\n    return (\r\n        <div>\r\n            {showBookingDetails && <UserbookingDetailsModal cancelUserBooking={handleCancelUserBooking} refetchCalendar={refetch} calendarId={calendar} userBooking={selectedUserBooking} close={() => setShowBookingDetails(false)} />}\r\n            {showUserBooking && <UserBookingModal refetchWeekCalendar={refetchWeekCalendar} createUserBooking={createUserBooking} refetchCalendar={refetch} calendar={response?.calendar} day={selectedDay} close={() => setShowUserBooking(false)} />}\r\n            <Container>\r\n                <TableHead>\r\n                    <HeaderBlock>{\" \"}</HeaderBlock>\r\n                    {calendarDays.slice(weekIndex * 7, (weekIndex * 7) + 7).map(({ dayNumber, isDisable, isPrevDay, isNextDay }, idx) => (\r\n                        <HeaderBlock isDisabled={isDisable} key={idx}>\r\n                            {isPrevDay ? (\r\n                                <React.Fragment>\r\n                                    <p>{dayNames[new Date(year, month - 1, prevLastDay - (dayNumber)).getDay()]}</p>\r\n                                    <p>{prevLastDay - (dayNumber - 1)}</p>\r\n                                </React.Fragment>\r\n                            ) : isNextDay ? (\r\n                                <React.Fragment>\r\n                                    <p>{dayNames[new Date(year, month + 1, dayNumber - 1).getDay()]}</p>\r\n                                    <p>{dayNumber} </p>\r\n                                </React.Fragment>\r\n                            ) : (\r\n                                <React.Fragment>\r\n                                    <p>{dayNames[new Date(year, month, dayNumber - 1).getDay()]}</p>\r\n                                    <p>{dayNumber} </p>\r\n                                </React.Fragment>\r\n                            )}\r\n                        </HeaderBlock>\r\n                    ))}\r\n                </TableHead>\r\n\r\n                <HourGrid>\r\n                    <HourBlock>\r\n                        {timeline && timeline.map((time, idx) => (\r\n                            <HourBlockContainer key={idx} style={response?.calendar?.interval === 60 ? ({ height: \"10rem\" }) : ({ height: \"5rem\" })}>\r\n                                <HourTime >\r\n                                    <p>{changeSlash(time) ?? \"\"}</p>\r\n                                </HourTime>\r\n                            </HourBlockContainer>\r\n\r\n                        ))}\r\n                    </HourBlock>\r\n                    {calendarDays.length > 0 && calendarDays.slice(weekIndex * 7, (weekIndex * 7) + 7).map((dayData, idx) => {\r\n                        const day = getDayData(dayData?.dayNumber, idx, response.calendar)\r\n                        return (\r\n                            < HourBlock key={idx} >\r\n                                { day && day.map((interval, idx) => {\r\n                                    if (interval?.empty) return (\r\n                                        <EmptyHourBlock style={response?.calendar?.interval === 60 ? ({ height: \"10rem\" }) : ({ height: \"5rem\" })} />\r\n                                    )\r\n                                    return (\r\n                                        <HourBlockContainer style={response?.calendar?.interval === 60 ? ({ height: \"10rem\" }) : ({ height: \"5rem\" })} key={idx}>\r\n                                            {interval?.userBookings && <CalendarBookedDay\r\n                                                dayData={dayData}\r\n                                                calendarId={calendar}\r\n                                                time={interval.time}\r\n                                                userBookings={interval.userBookings}\r\n                                                open={() => handleOpenDetailsModal(interval)}\r\n                                            />}\r\n                                            <EmptyContainer onClick={dayData.isDisable ? () => { } : () => handleOpenUserBookingModal({\r\n                                                ...dayData, time: interval.time, year,\r\n                                                month,\r\n                                            })} />\r\n                                        </HourBlockContainer>\r\n                                    )\r\n                                })}\r\n                            </HourBlock >\r\n                        )\r\n                    })}\r\n                </HourGrid>\r\n            </Container>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default WeekDays\r\n","import styled from 'styled-components'\r\nimport CustomButton from '../custom-button/custom-button.component'\r\n\r\nexport const ModalContainer = styled.div`\r\n    position: fixed;\r\n    left: 0;\r\n    right: 0;\r\n    top: 0;\r\n    bottom: 0;\r\n    z-index: 99999;\r\n\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n\r\n    background-color: rgba(0,0,0,0.3);\r\n`\r\n\r\nexport const Modal = styled.div`\r\n    width:100%;\r\n    max-width: 50rem;\r\n    max-height: 60rem;\r\n\r\n    overflow-y: scroll;\r\n\r\n    /* display: flex;\r\n    flex-direction: column;\r\n    align-items: center; */\r\n\r\n    padding: 2rem;\r\n    border-radius: .5rem;\r\n    background-color: var(--background-primary-color);\r\n    color: var(--primary-text-color);\r\n\r\n    position: relative;\r\n    z-index: 999999;\r\n\r\n    ::-webkit-scrollbar {\r\n        width: 10px;\r\n    }\r\n\r\n    /* Track */\r\n    ::-webkit-scrollbar-track {\r\n        background:  var(--background-primary-color);\r\n    }\r\n\r\n    /* Handle */\r\n    ::-webkit-scrollbar-thumb {\r\n        background: var(--primary-color);\r\n    }\r\n\r\n    /* Handle on hover */\r\n    ::-webkit-scrollbar-thumb:hover {\r\n        background: var(--primary-color);\r\n    }\r\n`\r\n\r\nexport const CloseButton = styled.button`\r\n    width: 100%;\r\n    height: 100%;\r\n\r\n    position: fixed;\r\n    left: 0;\r\n    right: 0;\r\n    z-index: 99999;\r\n\r\n    border: none;\r\n    outline: none;\r\n    opacity: 0;\r\n\r\n    &:focus {\r\n        outline: none\r\n    }\r\n`\r\n\r\nexport const ModalHeader = styled.div`\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n\r\n`\r\n\r\nexport const InputContainer = styled.div`\r\n    margin-bottom: 2rem;\r\n`\r\n\r\nexport const SubmitButton = styled(CustomButton)`\r\n    display: block;\r\n    margin: 0 auto;\r\n    background-color: var(--primary-color);\r\n    font-weight: bolder;\r\n`\r\n\r\nexport const CustomSelect = styled.select`\r\n    margin-top: 1.5rem;\r\n    min-width: 16.5rem;\r\n    width: 100%;\r\n    background-color: var(--input-background-color);\r\n    color: var(--input-color);\r\n    border: none;\r\n    padding: .5rem .5rem .5rem 1rem;\r\n    font-size: inherit;\r\n    font-family: inherit;\r\n    display: block;\r\n`","import React, { useState, useContext, useEffect } from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport { BookingContext } from '../../context/booking/booking.context'\r\n\r\n\r\nimport CustomInput from '../custom-input/custom-input.component'\r\nimport CustomTextarea from '../custom-textarea/custom-textarea.component'\r\nimport CustomCheckbox from '../custom-checkbox/custom-checkbox.component'\r\n\r\nimport { useFetchById } from '../../hooks/useFetch'\r\nimport {\r\n    formatBookingObj\r\n} from '../../utils/calendar.utils'\r\n\r\nimport {\r\n    ModalContainer,\r\n    Modal,\r\n    CloseButton,\r\n    SubmitButton,\r\n    InputContainer,\r\n    ModalHeader,\r\n    CustomSelect\r\n} from './modal-booking.styles'\r\n\r\nconst BookingModal = ({ close, calendarId, refetch, selectedBooking }) => {\r\n    const { createBooking, updateBooking } = useContext(BookingContext)\r\n    const { response, isLoading } = useFetchById(\"api/booking/bookings\", selectedBooking, !selectedBooking)\r\n\r\n    const [booking, setBooking] = useState({})\r\n    const [isUpdating, setIsUpdating] = useState(false)\r\n\r\n    const handleBookingChange = e => {\r\n        const { name, value } = e.target\r\n\r\n        if (value === '') {\r\n            delete booking[name]\r\n            setBooking({\r\n                ...booking\r\n            })\r\n            return\r\n        }\r\n\r\n        setBooking(prevValue => ({\r\n            ...prevValue,\r\n            [name]: value\r\n        }))\r\n    }\r\n\r\n    const handleSubmit = () => {\r\n        if (!booking?.name) return\r\n\r\n        if (isUpdating) {\r\n            let bookingToUpdate = formatBookingObj(booking)\r\n            updateBooking(bookingToUpdate, booking._id)\r\n        } else {\r\n            let bookingToAdd = {\r\n                ...booking,\r\n                calendar: calendarId\r\n            }\r\n            createBooking(bookingToAdd)\r\n        }\r\n\r\n        refetch()\r\n        close()\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (isLoading) return\r\n        if (response?.booking) {\r\n            setIsUpdating(true)\r\n            setBooking(response?.booking)\r\n        }\r\n    }, [selectedBooking, isLoading])\r\n\r\n    useEffect(() => {\r\n        return () => {\r\n            setIsUpdating(false)\r\n            setBooking({})\r\n        }\r\n    }, [])\r\n\r\n    return ReactDOM.createPortal((\r\n        <ModalContainer>\r\n            <CloseButton onClick={close} />\r\n            <Modal>\r\n                <ModalHeader>\r\n                    {!isUpdating && <h2>Nové vyšetrenie</h2>}\r\n                    {isUpdating && <h2>Upraviť vyšetrenie</h2>}\r\n                    <div>\r\n                        <CustomCheckbox\r\n                            label=\"Aktivné\"\r\n                            isActive={booking?.active || false}\r\n                            name='active'\r\n                            handleClick={() => handleBookingChange({\r\n                                target: {\r\n                                    name: 'active',\r\n                                    value: booking?.active ? !booking?.active : true\r\n                                }\r\n                            })}\r\n                        />\r\n                    </div>\r\n                </ModalHeader>\r\n                <InputContainer>\r\n                    <CustomInput\r\n                        label=\"Názov vyšetrenia*\"\r\n                        name=\"name\"\r\n                        value={booking?.name || \"\"}\r\n                        handleChange={handleBookingChange}\r\n                    />\r\n                </InputContainer>\r\n                <InputContainer>\r\n                    <CustomInput\r\n                        label=\"Cena\"\r\n                        name=\"price\"\r\n                        value={booking?.price || \"\"}\r\n                        handleChange={handleBookingChange}\r\n                    />\r\n                </InputContainer>\r\n                <InputContainer>\r\n                    <CustomInput\r\n                        label=\"Čas\"\r\n                        name=\"time\"\r\n                        value={booking?.time || \"\"}\r\n                        handleChange={handleBookingChange}\r\n                    />\r\n                </InputContainer>\r\n                <InputContainer>\r\n                    <CustomSelect\r\n                        label=\"Farba\"\r\n                        type='text'\r\n                        name='color'\r\n                        value={booking?.color || \"\"}\r\n                        onChange={handleBookingChange}\r\n                    >\r\n                        <option value='DD4C4C'>Červená</option>\r\n                        <option value='ebac01'>Žltá</option>\r\n                        <option value='32AA5F'>Zelená</option>\r\n                    </CustomSelect>\r\n                </InputContainer>\r\n                <InputContainer>\r\n                    <CustomTextarea\r\n                        label=\"Popis\"\r\n                        rows='5'\r\n                        name=\"description\"\r\n                        value={booking?.description || \"\"}\r\n                        handleChange={handleBookingChange}\r\n                    />\r\n                </InputContainer>\r\n                {!isUpdating && <SubmitButton onClick={handleSubmit}>Pridať</SubmitButton>}\r\n                {isUpdating && <SubmitButton onClick={handleSubmit}>Uložiť</SubmitButton>}\r\n            </Modal>\r\n        </ModalContainer>\r\n    ), document.getElementById(\"portal\"))\r\n}\r\n\r\nexport default BookingModal\r\n","import styled from 'styled-components'\r\nimport CustomButton from '../custom-button/custom-button.component'\r\n\r\nexport const GridContainer = styled.div`\r\n    display: grid;\r\n    grid-template-columns: 1fr 1fr;\r\n    grid-gap: 3rem;\r\n    margin-bottom: 10rem;\r\n\r\n    @media all and (max-width: 1150px) {\r\n        grid-template-columns: 2fr 1fr;\r\n        @media all and (max-width: 800px) {\r\n            grid-template-columns: 3fr 1fr;\r\n            @media all and (max-width: 500px) {\r\n                grid-template-columns: 1fr;\r\n            }\r\n        }\r\n\r\n    }\r\n`\r\n\r\nexport const Header = styled.div`\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center; \r\n    margin-bottom: 3rem;\r\n`\r\n\r\nexport const AddButton = styled(CustomButton)`\r\n    background-color: var(--primary-color);\r\n    font-weight: bolder;\r\n`\r\n\r\nexport const Container = styled.div`\r\n    padding: 2rem;\r\n    box-shadow: var(--container-shadow);\r\n    background-color: var(--container-background-color);\r\n    border-radius: .5rem;\r\n    margin-bottom: 3rem;\r\n`\r\n\r\nexport const ContainerHeader = styled.div`\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n    margin-bottom: 1rem;\r\n`\r\n\r\nexport const ActiveSpan = styled.span`\r\n    font-size: 1.2rem;\r\n    color: ${({ isActive }) => isActive ? \"var(--color-green)\" : \"var(--color-red)\"};\r\n`\r\n\r\nexport const ContainerBody = styled.div`\r\n    opacity: .8;\r\n    margin-bottom: 2rem;\r\n`\r\n\r\nexport const ContainerOptions = styled.div`\r\n    display: flex;\r\n    justify-content: flex-end;\r\n`\r\n\r\nexport const DeleteButton = styled(CustomButton)`\r\n    background-color: var(--color-red);\r\n    font-size: 1.2rem;\r\n    margin-left: 1rem;\r\n`\r\n\r\nexport const UpdateButton = styled(CustomButton)`\r\n    background-color: var(--primary-color);\r\n    font-weight: bolder;\r\n    font-size: 1.2rem;\r\n`\r\n\r\nexport const InfoParagraph = styled.div`\r\n    margin-left: 1rem;\r\n    opacity: .6;\r\n`","import React, { useState, useContext } from 'react'\r\nimport { BookingContext } from '../../context/booking/booking.context'\r\nimport { AuthContext } from '../../context/auth/auth.context'\r\n\r\nimport BookingModal from '../modal-booking/modal-booking.component'\r\nimport Spinner from '../../components/spinner/spinner.component'\r\nimport { useFetchById } from '../../hooks/useFetch'\r\n\r\nimport {\r\n    GridContainer,\r\n    Container,\r\n    Header,\r\n    AddButton,\r\n    ContainerHeader,\r\n    ContainerBody,\r\n    ContainerOptions,\r\n    UpdateButton,\r\n    DeleteButton,\r\n    InfoParagraph,\r\n    ActiveSpan\r\n} from './booking-calendar-bookings.styles'\r\n\r\nconst BookingCalendarBookings = ({\r\n    calendarId\r\n}) => {\r\n    const { isAdmin } = useContext(AuthContext)\r\n    const { deleteBooking } = useContext(BookingContext)\r\n    const { response, isLoading, refetch } = useFetchById('api/booking/calendars', calendarId, !calendarId)\r\n    const [showBookingModal, setShowBookingModal] = useState(false)\r\n    const [selectedBooking, setSelectedBooking] = useState(null)\r\n\r\n    const handleDeleteClick = (bookingId) => {\r\n        deleteBooking(bookingId)\r\n        refetch()\r\n    }\r\n\r\n    const handleUpdateClick = (bookingId) => {\r\n        setSelectedBooking(bookingId)\r\n        setShowBookingModal(true)\r\n    }\r\n\r\n    const handleCloseModal = () => {\r\n        setShowBookingModal(false)\r\n        setSelectedBooking(null)\r\n    }\r\n\r\n    if (isLoading) return <Spinner />\r\n\r\n    return (\r\n        <GridContainer>\r\n            {showBookingModal && (\r\n                <BookingModal\r\n                    selectedBooking={selectedBooking}\r\n                    calendarId={calendarId}\r\n                    close={handleCloseModal}\r\n                    refetch={refetch}\r\n                />\r\n            )}\r\n            <div>\r\n                <Header>\r\n                    <h3>Vyšetrenia</h3>\r\n                    {isAdmin && <AddButton onClick={() => setShowBookingModal(true)}>Pridať</AddButton>}\r\n                </Header>\r\n\r\n                <div>\r\n                    {response?.calendar?.bookings?.map((booking, idx) => (\r\n                        <Container key={idx}>\r\n                            <ContainerHeader>\r\n                                <div>\r\n                                    <h4>{booking.name}</h4>\r\n                                    <ActiveSpan isActive={booking?.active}>{booking?.active ? \"Aktivné\" : \"Neaktivné\"}</ActiveSpan>\r\n                                </div>\r\n                                <div>\r\n                                    <p>{booking.price}€</p>\r\n                                </div>\r\n\r\n                            </ContainerHeader>\r\n                            <ContainerBody>\r\n                                <p>{booking.description}</p>\r\n                            </ContainerBody>\r\n                            {isAdmin && <ContainerOptions>\r\n                                <UpdateButton onClick={() => handleUpdateClick(booking._id)}>Upraviť</UpdateButton>\r\n                                <DeleteButton onClick={() => handleDeleteClick(booking._id)}>Vymazať</DeleteButton>\r\n                            </ContainerOptions>}\r\n                        </Container>\r\n                    ))}\r\n                    {!response?.calendar?.bookings?.length && (\r\n                        <InfoParagraph>Žiadné vyšetrenia</InfoParagraph>\r\n                    )}\r\n                </div>\r\n            </div>\r\n        </GridContainer>\r\n    )\r\n}\r\n\r\nexport default BookingCalendarBookings\r\n","import styled from 'styled-components'\r\nimport { paddingStyles } from '../../global.styles'\r\nimport CustomButton from '../../components/custom-button/custom-button.component'\r\n\r\n\r\nexport const Header = styled.div`\r\n    ${paddingStyles}\r\n    padding-top: 2rem;\r\n    padding-bottom: 3rem;\r\n    color: var(--primary-text-color);\r\n`\r\n\r\nexport const UpdateButton = styled(CustomButton)`\r\n    background-color: var(--primary-color);\r\n    font-weight: bolder;\r\n    margin-left: 2rem;\r\n`\r\n\r\nexport const Title = styled.h2`\r\n    /* margin-bottom: 2rem; */\r\n`\r\n\r\nexport const GridRow = styled.div`\r\n    display: grid;\r\n    grid-template-columns: repeat( auto-fit, minmax(27rem, 1fr) );\r\n    margin-bottom: 3rem;\r\n    grid-gap: 2rem;\r\n`\r\n\r\nexport const CalendarGridContainer = styled.div`\r\n    margin-top: 3rem;\r\n    margin-bottom: 3rem;\r\n`\r\n\r\nexport const CalendarHeading = styled.div`\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n    margin-bottom: 3rem;\r\n\r\n    div {\r\n        display: flex;\r\n        align-items: center;\r\n        cursor: pointer;\r\n    }\r\n`\r\n\r\nexport const IconContainer = styled.div`\r\n    display: flex;\r\n    justify-content:center;\r\n    align-items: center;\r\n    color: var(--primary-color);\r\n    font-size: 3rem;\r\n    margin-left: 1rem;\r\n`\r\n\r\nexport const CalendarHeader = styled.div`\r\n    display: flex; \r\n    justify-content: space-between;\r\n    align-items: center;\r\n\r\n    ul {\r\n        list-style: none;\r\n        display: flex;\r\n        /* gap: 2rem; */\r\n\r\n\r\n    }\r\n`\r\nexport const CalendarMonthContainer = styled.div`\r\n    display: flex;\r\n    align-items: center;\r\n\r\n    button {\r\n        cursor: pointer;\r\n        font-size: 2rem;\r\n        display: flex;\r\n        justify-content: center;\r\n        align-items: center;\r\n        color: var(--primary-color);\r\n\r\n    }\r\n\r\n    div {\r\n        text-align: center;\r\n        margin: 0 1rem;\r\n    }\r\n\r\n    p {\r\n        text-transform: capitalize;\r\n        margin: 0 1rem;\r\n    }\r\n`\r\n\r\n\r\nexport const CalendarFormat = styled.li`\r\n    background-color: ${({ isActive }) => isActive ? \"var(--primary-color)\" : \"none\"};\r\n    color: ${({ isActive }) => isActive ? \"var(--button-font-color)\" : \"var(--primary-color)\"};\r\n    cursor: pointer;\r\n    padding: 0.5rem 2rem;\r\n\r\n    transition: all .3s ease-in-out;\r\n`","import React, { useState, useEffect, useContext } from 'react'\r\nimport { useHistory } from 'react-router-dom'\r\nimport { LoadingModalContext } from '../../context/loading-modal/loading-modal.contenxt'\r\nimport { AuthContext } from '../../context/auth/auth.context'\r\n\r\n// import SectionHeader from '../../components/section-header/section-header.component'\r\nimport ScrollContainer from '../../components/scroll-container/scroll-container.component'\r\nimport Popup from '../../components/popup/pop-up.component'\r\nimport BookingCalendarOverview from \"../../components/booking-calendar-overview/booking-calendar-overview.component\"\r\nimport WeekCalendarProvider from '../../context/week-calendar/week-calendar.context'\r\n\r\nimport Calendar from '../../components/calendar/calendar.component'\r\nimport WeekDays from '../../components/calendar-weekdays/calendar-weekdays.component'\r\n// import BookingAppoinments from '../../components/booking-appoinments/booking-appoinment.component'\r\nimport BookingCalendarBookings from '../../components/booking-calendar-bookings/booking-calendar-bookings.component'\r\n\r\nimport { useFetch } from '../../hooks/useFetch'\r\nimport { calendarFormat, months } from '../../utils/calendar.utils'\r\n\r\nimport {\r\n    AiOutlineLeft,\r\n    AiOutlineRight,\r\n    AiOutlineDownCircle,\r\n    AiOutlineUpCircle\r\n} from 'react-icons/ai'\r\n\r\nimport {\r\n    FixedContainer,\r\n} from '../../global.styles'\r\n\r\nimport {\r\n    Header,\r\n    Title,\r\n    GridRow,\r\n    CalendarGridContainer,\r\n    CalendarHeading,\r\n    CalendarHeader,\r\n    CalendarFormat,\r\n    CalendarMonthContainer,\r\n    IconContainer,\r\n    UpdateButton\r\n} from './booking.styles'\r\n\r\nconst BookingSection = () => {\r\n    const { isAdmin, currentUser, isOptometrist } = useContext(AuthContext)\r\n    const { showModal, setShowModal, message, closeModal } = useContext(LoadingModalContext)\r\n    const { push } = useHistory()\r\n    // const [showModal, setShowModal] = useState(true)\r\n    const [showPremisesSection, setShowPremisesSection] = useState(true)\r\n    const [activeCalendarFormat, setActiveCalendarFormat] = useState(1)\r\n    const [calendars, setCalendars] = useState([])\r\n    const [selectedCalendar, setSelectedCalendar] = useState(null)\r\n    const [selectedMonth, setSelectedMonth] = useState(new Date().getMonth())\r\n    const [selectedYear, setSelectedYear] = useState(new Date().getFullYear())\r\n    const [calendarWeekIndex, setCalendarWeekIndex] = useState(0)\r\n    const [selectedDay, setSelectedDay] = useState(null)\r\n\r\n    const [showUserBooking, setShowUserBooking] = useState(false)\r\n\r\n\r\n    const handleOpenUserBookingModal = (dayData) => {\r\n        if (dayData !== null) {\r\n            setSelectedDay({\r\n                ...dayData,\r\n            })\r\n        }\r\n        setShowUserBooking(true)\r\n    }\r\n\r\n    const { isLoading, response } = useFetch('api/booking/calendars')\r\n\r\n    const handleShowCalendarClick = (calendarId) => {\r\n        if (!calendarId) return\r\n        setSelectedCalendar(calendarId)\r\n        setShowPremisesSection(false)\r\n        resetCalendarToDefault()\r\n    }\r\n\r\n    const getPrevWeek = () => {\r\n        if (calendarWeekIndex - 1 < 0) {\r\n            if (selectedMonth === 0) {\r\n                setSelectedYear(prevValue => prevValue - 1)\r\n                setSelectedMonth(11)\r\n                setCalendarWeekIndex(Math.ceil(new Date(selectedYear, selectedMonth, 0).getDate() / 7) - 1)\r\n\r\n            } else {\r\n                setSelectedMonth(prevValue => prevValue - 1)\r\n                setCalendarWeekIndex(Math.ceil(new Date(selectedYear, selectedMonth, 0).getDate() / 7) - 1)\r\n            }\r\n        } else {\r\n            setCalendarWeekIndex(prevValue => prevValue - 1)\r\n        }\r\n    }\r\n\r\n    const getNextWeek = () => {\r\n        const lastDayIndex = new Date(selectedYear, selectedMonth, 0).getDate()\r\n\r\n        if (((calendarWeekIndex) * 7) >= lastDayIndex - 7) {\r\n            setCalendarWeekIndex(0)\r\n            setSelectedMonth(prevValue => prevValue + 1)\r\n\r\n            if (selectedMonth === 11) {\r\n                setSelectedYear(prevValue => prevValue + 1)\r\n                setSelectedMonth(0)\r\n                setCalendarWeekIndex(0)\r\n\r\n            }\r\n        } else {\r\n            setCalendarWeekIndex(prevValue => prevValue + 1)\r\n        }\r\n    }\r\n\r\n    const getPrevMonth = () => {\r\n        if (selectedMonth === 0) {\r\n            setSelectedYear(prevValue => prevValue - 1)\r\n            setSelectedMonth(11)\r\n        } else {\r\n            setSelectedMonth(prevValue => prevValue - 1)\r\n        }\r\n    }\r\n\r\n    const getNextMonth = () => {\r\n        if (selectedMonth === 11) {\r\n            setSelectedYear(prevValue => prevValue + 1)\r\n            setSelectedMonth(0)\r\n        } else {\r\n            setSelectedMonth(prevValue => prevValue + 1)\r\n        }\r\n\r\n    }\r\n\r\n    const resetCalendarToDefault = () => {\r\n        setSelectedMonth(new Date().getMonth())\r\n        setSelectedYear(new Date().getFullYear())\r\n        setCalendarWeekIndex(Math.ceil(new Date().getDate() / 7) - 1)\r\n        // setSelectedDay(null)\r\n    }\r\n\r\n    const handleCalendarBlockClick = (dayData) => {\r\n        // if (!dayData.bookings) return\r\n        // if (!dayData.bookingDate) return\r\n\r\n        // setSelectedCalendar(null)\r\n        // setSelectedDay(dayData)\r\n        setCalendarWeekIndex(Math.ceil(dayData.dayNumber / 7) - 1)\r\n        setActiveCalendarFormat(1)\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (!isLoading) {\r\n            if (response) {\r\n                if (isAdmin) {\r\n                    setCalendars(response.calendars)\r\n                    const userCalendar = response.calendars.find(calendar => calendar.premises === currentUser.premises)\r\n                    handleShowCalendarClick(userCalendar?._id)\r\n                    setShowModal(false)\r\n                } else {\r\n                    setCalendars(response.calendars.filter(calendar => calendar.premises === currentUser.premises))\r\n                    const userCalendar = response.calendars.find(calendar => calendar.premises === currentUser.premises)\r\n                    handleShowCalendarClick(userCalendar?._id)\r\n                    setShowModal(false)\r\n                }\r\n                closeModal()\r\n            }\r\n        }\r\n    }, [isLoading])\r\n\r\n    useEffect(() => {\r\n        return () => {\r\n            setShowModal(true)\r\n            setShowPremisesSection(true)\r\n            setActiveCalendarFormat(0)\r\n            setCalendars([])\r\n            setSelectedCalendar(null)\r\n            setSelectedMonth(new Date().getMonth())\r\n            setSelectedYear(new Date().getFullYear())\r\n            setCalendarWeekIndex(0)\r\n            setSelectedDay(null)\r\n            closeModal()\r\n        }\r\n    }, [])\r\n\r\n    return (\r\n        <section>\r\n            {showModal && <Popup loading={isLoading} title={message} close={() => setShowModal(false)} />}\r\n\r\n            {isAdmin && <Header>\r\n                <FixedContainer>\r\n                    <div>\r\n                        <h1>Rezervácie</h1>\r\n                    </div>\r\n                    <div>\r\n                        <UpdateButton onClick={() => handleOpenUserBookingModal(null)}>Pridať rezerváciu</UpdateButton>\r\n                        <UpdateButton onClick={() => push('rezervacie/novy-kalendar')}>Pridať kalendár</UpdateButton>\r\n                    </div>\r\n\r\n                </FixedContainer>\r\n            </Header>}\r\n\r\n            {(!isOptometrist && !isAdmin) && (\r\n                <Header>\r\n                    <FixedContainer>\r\n                        <div>\r\n                            <h1>Rezervácie</h1>\r\n                        </div>\r\n                        {selectedCalendar ? <div>\r\n                            <UpdateButton onClick={() => handleOpenUserBookingModal(null)}>Pridať rezerváciu</UpdateButton>\r\n                        </div> : (\r\n                                <div>\r\n                                    <p>K vašemu účtu nieje priradená prevádzka</p>\r\n                                </div>\r\n                            )}\r\n\r\n                    </FixedContainer>\r\n                </Header>\r\n            )}\r\n\r\n            {(isOptometrist && !isAdmin) && (\r\n                <Header>\r\n                    <FixedContainer>\r\n                        <div>\r\n                            <h1>Rezervácie</h1>\r\n                        </div>\r\n                        {selectedCalendar ? <div>\r\n                            <UpdateButton onClick={() => handleOpenUserBookingModal(null)}>Pridať rezerváciu</UpdateButton>\r\n                            <UpdateButton onClick={() => push(`rezervacie/${selectedCalendar}`)}>Upraviť kalendár</UpdateButton>\r\n                        </div> : (\r\n                                <div>\r\n                                    <p>K vašemu účtu nieje priradená prevádzka</p>\r\n                                </div>\r\n                            )}\r\n\r\n                    </FixedContainer>\r\n                </Header>\r\n            )}\r\n\r\n            <ScrollContainer>\r\n                {isAdmin && <CalendarHeading>\r\n                    <Title>Pobočky</Title>\r\n                    <div onClick={() => setShowPremisesSection(prevValue => !prevValue)}>\r\n                        <p>\r\n                            {calendars.find(calendar => calendar._id === selectedCalendar)?.name}\r\n                        </p>\r\n                        <IconContainer>\r\n                            {showPremisesSection ? <AiOutlineUpCircle /> : <AiOutlineDownCircle />}\r\n                        </IconContainer>\r\n                    </div>\r\n                </CalendarHeading>}\r\n\r\n                {showPremisesSection && <GridRow>\r\n                    {calendars && calendars.map((calendar, idx) => (\r\n                        <BookingCalendarOverview\r\n                            key={idx}\r\n                            calendar={calendar}\r\n                            selectedCalendar={selectedCalendar}\r\n                            handleShowUpClick={() => handleShowCalendarClick(calendar._id)}\r\n                            handleUpdateClick={() => push(`rezervacie/${calendar._id}`)}\r\n                        />\r\n                    ))}\r\n                </GridRow>}\r\n\r\n                {selectedCalendar && (\r\n                    <React.Fragment>\r\n\r\n                        <CalendarHeader>\r\n                            <Title>Kalendár</Title>\r\n\r\n                            {activeCalendarFormat === 0 ? (\r\n                                <CalendarMonthContainer>\r\n                                    <button onClick={getPrevMonth}><AiOutlineLeft /></button>\r\n                                    <p>{months[selectedMonth]}</p>\r\n                                    <button onClick={getNextMonth}><AiOutlineRight /></button>\r\n                                </CalendarMonthContainer>\r\n                            ) : (\r\n                                    <CalendarMonthContainer>\r\n                                        <button onClick={getPrevWeek}><AiOutlineLeft /></button>\r\n                                        <div>\r\n                                            <p>{calendarWeekIndex + 1}</p>\r\n                                            <p>{months[selectedMonth]}</p>\r\n                                        </div>\r\n                                        <button onClick={getNextWeek}><AiOutlineRight /></button>\r\n                                    </CalendarMonthContainer>\r\n                                )}\r\n\r\n                            <ul>\r\n                                {calendarFormat.map((name, idx) => (\r\n                                    <CalendarFormat key={idx} isActive={activeCalendarFormat === idx} onClick={() => setActiveCalendarFormat(idx)}>{name}</CalendarFormat>\r\n                                ))}\r\n                            </ul>\r\n                        </CalendarHeader>\r\n                        <CalendarGridContainer>\r\n                            {activeCalendarFormat === 0 ? (\r\n                                <Calendar\r\n                                    calendar={selectedCalendar}\r\n                                    month={selectedMonth}\r\n                                    year={selectedYear}\r\n                                    handleCalendarBlockClick={handleCalendarBlockClick}\r\n                                />\r\n                            ) : (\r\n                                    <WeekCalendarProvider\r\n                                        calendar={selectedCalendar}\r\n                                        month={selectedMonth}\r\n                                        year={selectedYear}\r\n                                        weekIndex={calendarWeekIndex}\r\n                                        handleCalendarBlockClick={handleCalendarBlockClick}\r\n                                    >\r\n                                        <WeekDays\r\n                                            calendar={selectedCalendar}\r\n                                            month={selectedMonth}\r\n                                            year={selectedYear}\r\n                                            weekIndex={calendarWeekIndex}\r\n                                            handleCalendarBlockClick={handleCalendarBlockClick}\r\n                                            showUserBooking={showUserBooking}\r\n                                            setShowUserBooking={setShowUserBooking}\r\n                                            handleOpenUserBookingModal={handleOpenUserBookingModal}\r\n                                            selectedDay={selectedDay}\r\n                                            getNextWeek={getNextWeek}\r\n                                        />\r\n\r\n                                    </WeekCalendarProvider>\r\n                                )}\r\n                        </CalendarGridContainer>\r\n\r\n                        <BookingCalendarBookings calendarId={selectedCalendar} />\r\n                    </React.Fragment>\r\n                )}\r\n\r\n                {/* {selectedDay && (\r\n                    <BookingAppoinments\r\n                        day={selectedDay}\r\n                    />\r\n                )} */}\r\n            </ScrollContainer>\r\n        </section>\r\n    )\r\n}\r\n\r\nexport default BookingSection\r\n","import styled from 'styled-components'\r\n\r\nexport const CheckboxContainer = styled.div`\r\n    display: inline-block;\r\n    cursor: pointer;\r\n    font-size: 1.5rem;\r\n    font-weight: 700;\r\n    /* margin-right: 2rem; */\r\n    background-color: ${({ isActive }) => isActive ? \"var(--primary-color)\" : \"var(--body-background-primary-color)\"};\r\n    color: ${({ isActive }) => isActive ? \"var(--button-font-color)\" : \"var(--secondary-text-color)\"};\r\n    /* font-weight: ${({ isActive }) => isActive ? \"border\" : \"normal\"}; */\r\n    padding: .8rem 3rem;\r\n    border-radius: .2rem;\r\n    transition: all .2s ease-out;\r\n\r\n    @media all and (max-width: 500px) {\r\n        padding: 0.5rem 1.5rem;\r\n        font-size: 1.4rem;\r\n    }\r\n`","import React from 'react'\r\n\r\nimport { CheckboxContainer } from './custom-checkbox.styles'\r\n\r\nconst CustomCheckbox = ({ label, isActive, handleClick, ...otherprops }) => {\r\n    return (\r\n        <CheckboxContainer isActive={isActive} onClick={handleClick} {...otherprops}>\r\n            {label}\r\n        </CheckboxContainer>\r\n    )\r\n}\r\n\r\nexport default CustomCheckbox\r\n","import styled from 'styled-components'\r\nimport CustomButton from '../custom-button/custom-button.component'\r\nimport { paddingStyles } from '../../global.styles'\r\n\r\n\r\nexport const NavbarContainer = styled.div`\r\n    margin-bottom: 3rem;\r\n    /* ${paddingStyles} */\r\n\r\n    ul {\r\n        display: flex;\r\n        list-style: none;\r\n\r\n        li {\r\n            margin-right: 1.5rem;\r\n        }\r\n    }\r\n`\r\n\r\nexport const NavButton = styled(CustomButton)`\r\n    transition: all 0.3s ease-out;\r\n    background-color: ${({ active }) => active ? 'var(--primary-color)' : 'var(--background-primary-color)'};\r\n    color: ${({ active }) => active ? '#fff' : 'var(--primary-text-color)'};\r\n    font-weight: ${({ active }) => active ? 400 : 700};\r\n    padding: ${({ active }) => active ? \".5rem 2.5rem\" : \".5rem 1rem .5rem 0\"};\r\n    font-weight: ${({ active }) => active ? \"bolder\" : \"normal\"};\r\n`","import React from 'react'\r\n\r\nimport {\r\n    NavbarContainer,\r\n    NavButton\r\n} from './section-navbar.styles'\r\n\r\nconst SectionNavbar = ({ items, activeIndex, setActiveIndex, ...otherProps }) => {\r\n\r\n    return (\r\n        <NavbarContainer {...otherProps}>\r\n            <ul>\r\n                {\r\n                    items.map(item => (\r\n                        <li key={item.id}>\r\n                            <NavButton active={item.id === activeIndex} onClick={() => setActiveIndex(item.id)} >{item.name}</NavButton>\r\n                        </li>\r\n                    ))\r\n                }\r\n\r\n            </ul>\r\n        </NavbarContainer >\r\n    )\r\n}\r\n\r\nexport default SectionNavbar\r\n","import styled, { css } from \"styled-components\"\r\n\r\nconst shrinkLabel = css`\r\n    left: .5rem;\r\n    top: -14px;\r\n    font-size: 12px;\r\n    color: var(--input-color);\r\n`\r\nexport const InputGroup = styled.div`\r\n    position: relative;\r\n    /* margin: 45px 0; */\r\n\r\n    .form-input {\r\n        background: none;\r\n        background-color: var(--input-background-color);\r\n        color: var(--input-color);\r\n\r\n        font-size: 1.5rem;\r\n        padding: .5rem .5rem .5rem 2rem;\r\n        display: block;\r\n        width: 100%;\r\n        border: none;\r\n        border-radius: .5rem;\r\n        /* border-bottom: 1px solid #000; */\r\n        margin: 25px 0;\r\n        font-family: inherit;\r\n        resize: none;\r\n\r\n        &:focus {\r\n        outline: none;\r\n        }\r\n\r\n        &:focus ~ .form-input-label {\r\n            ${shrinkLabel}\r\n        }\r\n    }\r\n\r\n    .form-input-label {\r\n        color: var(--input-color);\r\n        font-size: 1.4rem;\r\n        font-weight: normal;\r\n        position: absolute;\r\n        pointer-events: none;\r\n        left: 1.5rem;\r\n        top: .6rem;\r\n        transition: 300ms ease all;\r\n\r\n        &.shrink {\r\n            ${shrinkLabel}\r\n        }\r\n    }\r\n`\r\n","import React from 'react'\r\n\r\nimport { InputGroup } from './custom-textarea.styles'\r\n\r\nconst CustomTextarea = ({ handleChange, label, name, ...otherProps }) => {\r\n    return (\r\n        <InputGroup>\r\n            <textarea\r\n                className='form-input'\r\n                name={name}\r\n                onChange={handleChange}\r\n                {...otherProps}\r\n            />\r\n            {label ? (\r\n                <label htmlFor={name} className={`${otherProps.value.length ? 'shrink' : ''} form-input-label`}>\r\n                    {label}\r\n                </label>\r\n            ) : null\r\n            }\r\n        </InputGroup>\r\n    )\r\n}\r\n\r\nexport default CustomTextarea"],"sourceRoot":""}