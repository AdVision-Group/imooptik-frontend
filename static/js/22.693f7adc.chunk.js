(this.webpackJsonpimooptik=this.webpackJsonpimooptik||[]).push([[22],{234:function(e,n,t){"use strict";t.r(n);var a=t(2),r=t(31),c=t(21),i=t(10),l=t(1),o=t.n(l),s=t(18),u=t(84),d=t(19),j=t(3),m=t(54),b=t(122),h=t(5),O=t(6),f=t(28);function v(){var e=Object(h.a)(["\n    background-color: ",";\n    font-weight: 700;\n    margin-right: 2rem;\n"]);return v=function(){return e},e}function x(){var e=Object(h.a)(["\n    display: flex;\n    margin: 2rem 0;\n"]);return x=function(){return e},e}function p(){var e=Object(h.a)(["\n    margin-top: 2rem;\n    /* margin-bottom: 2rem; */\n"]);return p=function(){return e},e}var g=O.c.h3(p()),y=O.c.div(x()),C=Object(O.c)(f.a)(v(),(function(e){return e.isActive?"rgb(235, 172, 1)":"#000"})),k=function(e){var n=e.title,t=e.activeIndex,r=e.handleClick,c=e.items;return Object(a.jsxs)(o.a.Fragment,{children:[Object(a.jsx)(g,{children:n}),Object(a.jsx)(y,{children:c.map((function(e,n){return Object(a.jsx)(C,{isActive:t===n,onClick:function(e){return r(e,n)},children:e.name},n)}))})]})},w=t(87),N=t(52),U=t(97),P=t(58),z=t(62);function A(){var e=Object(h.a)(["\n    margin-top: 2rem;\n"]);return A=function(){return e},e}function S(){var e=Object(h.a)(["\n    display: grid;\n    grid-template-columns: 1fr 1fr;\n    max-width: 50rem;\n\n    div:not(:last-child) {\n        padding-right: 2rem;\n    }\n"]);return S=function(){return e},e}function F(){var e=Object(h.a)(["\n    input {\n        margin-bottom: 0 !important;\n    }\n"]);return F=function(){return e},e}function I(){var e=Object(h.a)(["\n    margin-bottom: 2rem;\n"]);return I=function(){return e},e}function M(){var e=Object(h.a)(["\n    padding: 2rem;\n    box-shadow: var(--container-shadow);\n    background-color: var(--container-background-color);\n\n"]);return M=function(){return e},e}function E(){var e=Object(h.a)(["\n    display: grid;\n    grid-template-columns: 1fr 50rem;\n    grid-gap: 2rem;\n    align-items: start;\n"]);return E=function(){return e},e}function T(){var e=Object(h.a)(["\n    margin-top: 1.5rem;\n    min-width: 16.5rem;\n    width: 100%;\n    background-color: var(--input-background-color);\n    color: var(--input-color);\n    border: none;\n    padding: .5rem .5rem .5rem 1rem;\n    font-size: inherit;\n    font-family: inherit;\n    display: block;\n\n        margin-bottom: 2rem;\n"]);return T=function(){return e},e}var V=O.c.select(T()),D=O.c.div(E()),B=O.c.div(M()),J=O.c.h2(I()),K=O.c.div(F()),H=O.c.div(S()),L=O.c.div(A()),Z=function(e){var n,t,r,c,i,l,o,s,u,d,j,m,b,h,O,f,v,x,p,g=e.formToShow,y=e.switchFormButtons,C=e.toggleUserForm,A=e.user,S=e.handleChange,F=e.isAdmin,I=e.handleParameterChange,M=e.handleCompanyChange;return Object(a.jsxs)("div",{children:[F&&Object(a.jsx)(k,{items:y,title:"Ak\xe9ho u\u017eivatela chcete vytvori\u0165?",activeIndex:g,handleClick:C}),0===g?Object(a.jsxs)(D,{children:[Object(a.jsxs)(B,{children:[Object(a.jsx)("h2",{children:"Inform\xe1cie"}),Object(a.jsx)(N.a,{label:"Meno*",type:"text",name:"fName",value:null!==(n=A.fName)&&void 0!==n?n:"",handleChange:function(e){return S(e)}}),Object(a.jsx)(N.a,{label:"Priezvisko*",type:"text",name:"lName",value:null!==(t=A.lName)&&void 0!==t?t:"",handleChange:function(e){return S(e)}}),Object(a.jsx)(N.a,{label:"E-mail*",type:"email",name:"email",value:null!==(r=A.email)&&void 0!==r?r:"",handleChange:function(e){return S(e)}}),Object(a.jsx)(N.a,{label:"Telef\xf3nne \u010d\xedslo",type:"text",name:"phone",value:null!==(c=A.phone)&&void 0!==c?c:"",handleChange:function(e){return S(e)}}),Object(a.jsx)(w.a,{label:"D\xe1tum narodenia",example:"",children:Object(a.jsx)(N.a,{type:"date",name:"birthDate",value:A.birthDate,handleChange:function(e){return S(e)}})}),Object(a.jsxs)(L,{children:[Object(a.jsx)("h2",{children:"Parametre"}),Object(a.jsx)(U.a,{parameters:A.lenses,handleChange:I})]})]}),Object(a.jsxs)(B,{children:[Object(a.jsxs)("div",{children:[Object(a.jsx)("h2",{children:"Faktura\u010dn\xe9 \xfadaje"}),Object(a.jsxs)(H,{children:[Object(a.jsx)(K,{children:Object(a.jsx)(N.a,{label:"Ulica a \u010dislo domu",type:"text",name:"address",value:null!==(i=A.address)&&void 0!==i?i:"",handleChange:function(e){return S(e)}})}),Object(a.jsx)(K,{children:Object(a.jsx)(N.a,{label:"PS\u010c",type:"text",name:"psc",value:null!==(l=A.psc)&&void 0!==l?l:"",handleChange:function(e){return S(e)}})})]}),Object(a.jsxs)(H,{children:[Object(a.jsx)("div",{children:Object(a.jsx)(N.a,{label:"Mesto",type:"text",name:"city",value:null!==(o=A.city)&&void 0!==o?o:"",handleChange:function(e){return S(e)}})}),Object(a.jsx)("div",{children:Object(a.jsx)(N.a,{label:"Krajina",type:"text",name:"country",value:null!==(s=A.country)&&void 0!==s?s:"",handleChange:function(e){return S(e)}})})]})]}),Object(a.jsxs)(L,{children:[Object(a.jsx)("h2",{children:"Firemn\xe9 \xfadaje"}),Object(a.jsxs)(H,{children:[Object(a.jsx)(K,{children:Object(a.jsx)(N.a,{label:"I\u010cO",type:"text",name:"ico",value:null!==(u=A.company.ico)&&void 0!==u?u:"",handleChange:function(e){return M(e)}})}),Object(a.jsx)(K,{children:Object(a.jsx)(N.a,{label:"DI\u010c",type:"text",name:"dic",value:null!==(d=A.company.dic)&&void 0!==d?d:"",handleChange:function(e){return M(e)}})})]}),Object(a.jsxs)(H,{children:[Object(a.jsx)(K,{children:Object(a.jsx)(N.a,{label:"Ulica a \u010dislo domu",type:"text",name:"address",value:null!==(j=A.company.address)&&void 0!==j?j:"",handleChange:function(e){return M(e)}})}),Object(a.jsx)(K,{children:Object(a.jsx)(N.a,{label:"PS\u010c",type:"text",name:"psc",value:null!==(m=A.company.psc)&&void 0!==m?m:"",handleChange:function(e){return M(e)}})})]}),Object(a.jsxs)(H,{children:[Object(a.jsx)("div",{children:Object(a.jsx)(N.a,{label:"Mesto",type:"text",name:"city",value:null!==(b=A.company.city)&&void 0!==b?b:"",handleChange:function(e){return M(e)}})}),Object(a.jsx)("div",{children:Object(a.jsx)(N.a,{label:"Krajina",type:"text",name:"country",value:null!==(h=A.company.country)&&void 0!==h?h:"",handleChange:function(e){return M(e)}})})]})]})]})]}):Object(a.jsxs)(D,{children:[Object(a.jsxs)(B,{children:[Object(a.jsx)("h2",{children:"Inform\xe1cie"}),Object(a.jsx)(N.a,{label:"Meno*",type:"text",name:"fName",value:null!==(O=A.fName)&&void 0!==O?O:"",handleChange:function(e){return S(e)}}),Object(a.jsx)(N.a,{label:"Priezvisko*",type:"text",name:"lName",value:null!==(f=A.lName)&&void 0!==f?f:"",handleChange:function(e){return S(e)}}),Object(a.jsx)(N.a,{label:"E-mail*",type:"email",name:"email",value:null!==(v=A.email)&&void 0!==v?v:"",handleChange:function(e){return S(e)}}),Object(a.jsx)(N.a,{label:"Heslo*",type:"password",name:"password",value:null!==(x=A.password)&&void 0!==x?x:"",handleChange:function(e){return S(e)}}),Object(a.jsx)(N.a,{label:"Potvr\u010f heslo*",type:"password",name:"confirmPassword",value:null!==(p=A.confirmPassword)&&void 0!==p?p:"",handleChange:function(e){return S(e)}})]}),Object(a.jsxs)(B,{children:[Object(a.jsx)(J,{children:"Admin privil\xe9gia"}),Object(a.jsxs)("div",{children:[Object(a.jsx)("h4",{children:"Predaj\u0148a na ktorej u\u017eivatel pracuje"}),Object(a.jsxs)(V,{name:"premises",value:A.premises,onChange:function(e){return S(e)},children:[Object(a.jsx)("option",{value:0,children:"Nezadan\xe9"}),z.n.map((function(e,n){if(4!==n)return Object(a.jsx)("option",{value:n+1,children:e},n)}))]})]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("h4",{children:"V\xfd\u0161ka administrativn\xfdch pr\xe1v"}),Object(a.jsxs)(V,{name:"admin",value:A.admin,onChange:function(e){return S(e)},children:[Object(a.jsx)("option",{value:0,children:"Z\xe1kaznik"}),Object(a.jsx)("option",{value:1,children:"Predava\u010d"}),Object(a.jsx)("option",{value:2,children:"Ved\xfaci"})]})]}),Object(a.jsx)(L,{children:Object(a.jsx)(P.a,{label:"Optometrista",handleClick:function(){return S({target:{name:"optometrist",value:!A.optometrist}})},isActive:A.optometrist})})]})]})]})},_=t(32),q=t(14);function G(){var e=Object(h.a)(["\n    margin-left: 2rem;\n    font-size: 1.4rem;\n    background-color: var(--primary-color);\n    font-weight: bolder;\n"]);return G=function(){return e},e}function Q(){var e=Object(h.a)(["\n    background-color: var(--color-red);\n    font-size: 1.4rem;\n    margin-left: 2rem;\n"]);return Q=function(){return e},e}function R(){var e=Object(h.a)(["\n    display: flex;\n    justify-content: space-between;\n\n    ","\n    padding-top: 3rem;\n    padding-bottom: 3rem;\n\n    color: var(--primary-text-color);\n"]);return R=function(){return e},e}var W=O.c.div(R(),q.e),X=Object(O.c)(f.a)(Q()),Y=Object(O.c)(f.a)(G());n.default=function(){var e=Object(j.i)().id,n=Object(l.useContext)(s.a),t=n.isAdmin,o=n.isOptometrist,h=Object(l.useContext)(d.a),O=h.closeModal,f=h.isLoading,v=h.message,x=h.showModal,p=Object(l.useContext)(u.UserContext),g=p.isUpdating,y=p.user,C=p.getUser,k=p.handleChange,w=p.handleParameterChange,N=p.handleCompanyChange,U=p.updateUser,P=p.resetUser,z=p.formToShow,A=p.switchFormButtons,S=p.toggleUserForm,F=p.createUser,I=Object(l.useState)({}),M=Object(i.a)(I,2),E=M[0],T=M[1],V=Object(l.useState)(!1),D=Object(i.a)(V,2),B=(D[0],D[1]),J=function(e){B(!0);var n=e.target,t=n.name,a=n.value;k(e),""!==a?T(Object(c.a)(Object(c.a)({},E),{},Object(r.a)({},t,a))):delete E[t]},K=function(e,n){B(!0);var t=e.target,a=t.name,i=t.value,l=y.lenses[a];l[n]=i,w(e,n),T(Object(c.a)(Object(c.a)({},E),{},{lenses:Object(c.a)(Object(c.a)({},y.lenses),{},Object(r.a)({},a,l))}))},H=function(e){B(!0);var n=e.target,t=n.name,a=n.value;if(N(e),console.log(a),""===a)return delete E.company[t],void(0===Object.keys(E.company).length&&delete E.company);T(Object(c.a)(Object(c.a)({},E),{},{company:Object(c.a)(Object(c.a)({},E.company),{},Object(r.a)({},t,a))}))},L=function(n,t){n.preventDefault(),B(!1),"novy-zakaznik"===e?(console.log("Create new user"),(E.fName||E.lName)&&(delete E.fName,delete E.lName),F(E,t)):(console.log("Update existing user"),E.fName||E.lName?(delete E.fName,delete E.lName):E.fName&&E.lName||delete E.name,U(E,y._id))};return Object(l.useEffect)((function(){T(Object(c.a)(Object(c.a)({},E),{},{name:y.fName+" "+y.lName}))}),[E.fName,E.lName]),Object(l.useEffect)((function(){"novy-zakaznik"!==e&&C(e)}),[e]),Object(l.useEffect)((function(){return function(){console.log("UNMOUNT"),P(),k({target:{name:"lenses",value:{cylinder:[1001,1001,1001,1001],cylinderAxes:[1001,1001,1001,1001],diopters:[1001,1001,1001,1001],distance:[1001,1001,1001,1001],addition:[1001,1001,1001,1001],basis:[1001,1001,1001,1001],prism:[1001,1001,1001,1001]}}})}}),[]),Object(a.jsxs)("section",{children:[x&&Object(a.jsx)(_.a,{loading:f,title:v,close:O}),Object(a.jsxs)("form",{children:[Object(a.jsxs)(W,{children:[Object(a.jsx)("h1",{children:"Profil"}),Object(a.jsxs)("div",{children:[g&&Object(a.jsx)(X,{type:"button",children:"Vymaza\u0165"}),!g&&Object(a.jsx)(Y,{onClick:function(e){return L(e,"profile")},children:"Vytvori\u0165 a preis\u0165 na profil"}),!g&&Object(a.jsx)(Y,{onClick:function(e){return L(e,"order")},children:"Vytvori\u0165 a preis\u0165 na objedn\xe1vku"}),Object(a.jsx)(Y,{onClick:function(e){return L(e,"customers")},children:g?"Ulo\u017ei\u0165 zmeny":"Vytvori\u0165"})]})]}),Object(a.jsx)(m.a,{children:g?Object(a.jsx)(b.a,{user:y,isAdmin:t,isUpdating:g,isOptometrist:o,handleChange:J,handleParameterChange:K,handleCompanyChange:H}):Object(a.jsx)(Z,{isAdmin:t,handleParameterChange:K,formToShow:z,switchFormButtons:A,toggleUserForm:S,user:y,handleChange:J,handleCompanyChange:H,resetUser:P})})]})]})}},55:function(e,n,t){"use strict";t.d(n,"a",(function(){return c}));var a=t(22);var r=t(33);function c(e){return function(e){if(Array.isArray(e))return Object(a.a)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Object(r.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}}}]);
//# sourceMappingURL=22.693f7adc.chunk.js.map