{"version":3,"sources":["context/warehouse/warehouse.context.jsx","hooks/slug.jsx","utils/warehouse.utils.jsx","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","context/warehouse/warehouse.utils.jsx"],"names":["WarehouseContext","createContext","eanCode","product","lenses","contactLensesParameters","glassesParameters","totalProducts","totalLenses","activePremisesTab","activeCategoryTypeTab","retailPremisesTabs","productCategoryTypeTabs","products","lensesProducts","handleChangeCategoryTypeTab","handleChangePremisesTab","getProductsByQuery","handleProductChange","handleProductAvailableChange","getSingleProduct","createProduct","updateProduct","deleteProduct","getSingleLenses","getLenses","createLenses","updateLenses","deleteLenses","handleLensesChange","handleLensesParameterChange","resetProduct","resetLenses","resetContactLenses","resetGlassesParameters","getEanCode","handleAddNewParameter","handleContactLensesParameterChange","handleGlassesParameterChange","handleGlassesParameterSpecsChange","handleGlassesSizeChange","deactivateMany","WarehouseProvider","children","getSlug","string","console","count","a","b","p","RegExp","split","join","useState","slug","setSlug","toString","toLowerCase","replace","c","charAt","indexOf","useEffect","s","useSlug","push","useHistory","useContext","AuthContext","token","isAdmin","currentUser","stats","LoadingModalContext","closeModal","setIsLoading","setShowModal","getMessage","setTotalProducts","setTotalLenses","setEanCode","initProductObj","setProduct","initLensesObj","setLenses","initContactLensesObj","setContactLensesParameters","initGlassesObj","setGlassesParameters","setProducts","setLensesProducts","setActivePremisesTab","setRetailPremisesTabs","categoryTabs","setActiveCategoryTypeTab","myHeaders","Headers","append","requestOptions","method","headers","redirect","fetch","process","response","json","data","messageSK","log","query","raw","JSON","stringify","body","message","id","callback","error","price","toFixed","type","contactLenses","colorCode","specs","size","Array","map","value","idx","productToAdd","diaConvert","replaceAll","trim","name","frameColor","finalSlug","modifiedProduct","formatPrice","link","formatfloatNumber","allowedCurves","allowedDiameters","dioptersRange","limit","skip","sortBy","date","productToUpdate","available","_id","lensesToAdd","lensesToUpdate","modifiedLenses","databObj","filters","retailNamesTabs","filter","tab","premises","formatLink","Provider","e","target","arr","Number","cylinderRange","retailNames","glassesColors","glassesMaterials","glassesShapes","includes","length","number","_toConsumableArray","isArray","arrayLikeToArray","iter","Symbol","iterator","Object","from","unsupportedIterableToArray","TypeError","description","brand","soldAmount","image","eshop","category","frameMaterial","frameStyle","lensColor","sex","lensType","dioptric","lensesTypes","productCategories","stringValue","formatAvailable","undefined","style","color","Math","abs","reduce","acc","currValue","checkParameter","parameter","dia","text","convertText","i"],"mappings":"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","file":"static/js/0.e0118cc0.chunk.js","sourcesContent":["import React, { createContext, useState, useContext, useEffect } from 'react'\r\nimport { useHistory } from 'react-router-dom'\r\nimport { LoadingModalContext } from '../loading-modal/loading-modal.contenxt'\r\nimport { AuthContext } from '../auth/auth.context'\r\nimport { useSlug } from '../../hooks/slug'\r\n\r\nimport {\r\n    // premisesTabs,\r\n    categoryTabs,\r\n    initLensesObj,\r\n    initProductObj,\r\n    formatPrice,\r\n    diaConvert,\r\n    initContactLensesObj,\r\n    initGlassesObj,\r\n    formatfloatNumber,\r\n    formatLink,\r\n} from './warehouse.utils'\r\n\r\nimport {\r\n    retailNamesTabs\r\n} from '../../utils/warehouse.utils'\r\n\r\nexport const WarehouseContext = createContext({\r\n    eanCode: null,\r\n    product: {},\r\n    lenses: {},\r\n    contactLensesParameters: {},\r\n    glassesParameters: {},\r\n    totalProducts: 0,\r\n    totalLenses: 0,\r\n    activePremisesTab: 0,\r\n    activeCategoryTypeTab: 0,\r\n    retailPremisesTabs: [],\r\n    productCategoryTypeTabs: [],\r\n    products: null,\r\n    lensesProducts: null,\r\n    handleChangeCategoryTypeTab: () => { },\r\n    handleChangePremisesTab: () => { },\r\n    getProductsByQuery: () => { },\r\n    handleProductChange: () => { },\r\n    handleProductAvailableChange: () => { },\r\n    getSingleProduct: () => { },\r\n    createProduct: () => { },\r\n    updateProduct: () => { },\r\n    deleteProduct: () => { },\r\n    getSingleLenses: () => { },\r\n    getLenses: () => { },\r\n    createLenses: () => { },\r\n    updateLenses: () => { },\r\n    deleteLenses: () => { },\r\n    handleLensesChange: () => { },\r\n    handleLensesParameterChange: () => { },\r\n    resetProduct: () => { },\r\n    resetLenses: () => { },\r\n    resetContactLenses: () => { },\r\n    resetGlassesParameters: () => { },\r\n    getEanCode: () => { },\r\n    handleAddNewParameter: () => { },\r\n    handleContactLensesParameterChange: () => { },\r\n    handleGlassesParameterChange: () => { },\r\n    handleGlassesParameterSpecsChange: () => { },\r\n    handleGlassesSizeChange: () => { },\r\n    deactivateMany: () => { },\r\n})\r\n\r\nconst WarehouseProvider = ({ children }) => {\r\n    const { getSlug } = useSlug()\r\n    const { push } = useHistory()\r\n    const { token, isAdmin, currentUser, stats } = useContext(AuthContext)\r\n    const { closeModal, setIsLoading, setShowModal, getMessage } = useContext(LoadingModalContext)\r\n\r\n    const [totalProducts, setTotalProducts] = useState(0)\r\n    const [totalLenses, setTotalLenses] = useState(0)\r\n    const [eanCode, setEanCode] = useState(null)\r\n\r\n    const [product, setProduct] = useState({ ...initProductObj })\r\n    const [lenses, setLenses] = useState({ ...initLensesObj })\r\n    const [contactLensesParameters, setContactLensesParameters] = useState({ ...initContactLensesObj })\r\n    const [glassesParameters, setGlassesParameters] = useState({ ...initGlassesObj })\r\n\r\n    const [products, setProducts] = useState(null)\r\n    const [lensesProducts, setLensesProducts] = useState(null)\r\n    const [activePremisesTab, setActivePremisesTab] = useState(0)\r\n    const [retailPremisesTabs, setRetailPremisesTabs] = useState([])\r\n\r\n    const [productCategoryTypeTabs] = useState(categoryTabs)\r\n    const [activeCategoryTypeTab, setActiveCategoryTypeTab] = useState(0)\r\n\r\n    const handleGlassesParameterChange = e => {\r\n        const { name, value } = e.target\r\n        setGlassesParameters({\r\n            ...glassesParameters,\r\n            [name]: value\r\n        })\r\n    }\r\n\r\n    const handleGlassesParameterSpecsChange = e => {\r\n        const { name, value } = e.target\r\n        setGlassesParameters({\r\n            ...glassesParameters,\r\n            specs: {\r\n                ...glassesParameters.specs,\r\n                [name]: value\r\n            }\r\n        })\r\n    }\r\n\r\n    const handleGlassesSizeChange = (e, idx) => {\r\n        const { name, value } = e.target\r\n        let arr = glassesParameters.specs[name]\r\n        arr[idx] = value === '' ? 1001 : value\r\n        setGlassesParameters({\r\n            ...glassesParameters,\r\n            specs: {\r\n                ...glassesParameters.specs,\r\n                [name]: arr\r\n            }\r\n        })\r\n\r\n    }\r\n\r\n    const handleAddNewParameter = e => {\r\n        const { name } = e.target\r\n        setContactLensesParameters({\r\n            ...contactLensesParameters,\r\n            [name]: [...contactLensesParameters[name], 1001]\r\n        })\r\n    }\r\n\r\n    const handleContactLensesParameterChange = (e, idx) => {\r\n        const { name, value } = e.target\r\n        let arr = contactLensesParameters[name]\r\n        arr[idx] = value === '' ? 1001 : value\r\n        setContactLensesParameters({\r\n            ...contactLensesParameters,\r\n            [name]: arr\r\n        })\r\n    }\r\n\r\n    const handleProductChange = e => {\r\n        const { name, value } = e.target\r\n\r\n        setProduct({\r\n            ...product,\r\n            [name]: value\r\n        })\r\n    }\r\n\r\n    const handleProductAvailableChange = (e, idx) => {\r\n        const { name, value } = e.target\r\n        let arr = product[name]\r\n        arr[idx] = value === '' ? 1001 : Number(value)\r\n        setProduct({\r\n            ...product,\r\n            [name]: arr\r\n        })\r\n    }\r\n\r\n    const handleLensesChange = e => {\r\n        const { name, value } = e.target\r\n\r\n        setLenses({\r\n            ...lenses,\r\n            [name]: value\r\n        })\r\n    }\r\n\r\n    const handleLensesParameterChange = (e, idx) => {\r\n        const { name, value } = e.target\r\n        let arr = lenses[name]\r\n        arr[idx] = value === '' ? 1001 : Number(value)\r\n        setLenses({\r\n            ...lenses,\r\n            [name]: arr\r\n        })\r\n    }\r\n\r\n    const resetProduct = () => {\r\n        setProduct({\r\n            ...initProductObj,\r\n            available: [0, 1001, 1001, 1001, 1001, 1001, 1001],\r\n        })\r\n        setEanCode(null)\r\n    }\r\n\r\n    const resetLenses = () => {\r\n        // setLenses({ ...initLensesObj })\r\n        setLenses({\r\n            ...initLensesObj,\r\n            dioptersRange: [1001, 1001],\r\n            cylinderRange: [1001, 1001],\r\n        })\r\n    }\r\n\r\n    const resetContactLenses = () => {\r\n        setContactLensesParameters({\r\n            ...initContactLensesObj,\r\n            allowedCurves: [1001],\r\n            allowedDiameters: [1001],\r\n            dioptersRange: [1001, 1001]\r\n        })\r\n    }\r\n\r\n    const resetGlassesParameters = () => {\r\n        setGlassesParameters({\r\n            ...initGlassesObj,\r\n            specs: {\r\n                ...initGlassesObj.specs,\r\n                size: [1001, 1001, 1001, 1001]\r\n            }\r\n        })\r\n    }\r\n\r\n    const handleChangePremisesTab = (idx) => {\r\n        setActivePremisesTab(idx)\r\n    }\r\n\r\n    const handleChangeCategoryTypeTab = (idx) => {\r\n        setActiveCategoryTypeTab(idx)\r\n    }\r\n\r\n\r\n\r\n    const myHeaders = new Headers();\r\n    myHeaders.append(\"auth-token\", token);\r\n    myHeaders.append(\"Content-Type\", \"application/json\");\r\n\r\n\r\n    const getEanCode = async () => {\r\n        setIsLoading(true)\r\n        setShowModal(true)\r\n\r\n        const requestOptions = {\r\n            method: 'GET',\r\n            headers: myHeaders,\r\n            redirect: 'follow'\r\n        };\r\n\r\n        try {\r\n            const response = await fetch(`${process.env.REACT_APP_BACKEND_ENDPOINT}/api/admin/products/nextEanCode`, requestOptions)\r\n            const data = await response.json()\r\n\r\n            if (data.eanCode) {\r\n                setEanCode(data.eanCode)\r\n                closeModal()\r\n                return\r\n            }\r\n\r\n            getMessage(data.messageSK)\r\n            setIsLoading(false)\r\n        } catch (err) {\r\n            console.log(err)\r\n            getMessage(\"Nieco sa pokazilo\")\r\n            setIsLoading(false)\r\n        }\r\n    }\r\n\r\n    const getProductsByQuery = async (query) => {\r\n        setIsLoading(true)\r\n        setShowModal(true)\r\n\r\n        const raw = JSON.stringify(query)\r\n\r\n        const requestOptions = {\r\n            method: 'POST',\r\n            headers: myHeaders,\r\n            body: raw,\r\n            redirect: 'follow'\r\n        };\r\n\r\n        try {\r\n            const response = await fetch(`${process.env.REACT_APP_BACKEND_ENDPOINT}/api/admin/products/filter`, requestOptions)\r\n            const data = await response.json()\r\n\r\n            if (data.products) {\r\n                setProducts(data.products)\r\n                closeModal()\r\n                return\r\n            }\r\n\r\n            getMessage(data.message)\r\n            setIsLoading(false)\r\n\r\n        } catch (err) {\r\n            console.log(err)\r\n            getMessage(\"Nieco sa pokazilo\")\r\n            setIsLoading(false)\r\n        }\r\n    }\r\n\r\n    const getLenses = async () => {\r\n        setIsLoading(true)\r\n        setShowModal(true)\r\n\r\n        const requestOptions = {\r\n            method: 'GET',\r\n            headers: myHeaders,\r\n            redirect: 'follow'\r\n        };\r\n\r\n        try {\r\n            const response = await fetch(`${process.env.REACT_APP_BACKEND_ENDPOINT}/api/admin/lenses`, requestOptions)\r\n            const data = await response.json()\r\n\r\n            if (data.lenses) {\r\n                setProducts(data.lenses)\r\n                setLensesProducts(data.lenses)\r\n                closeModal()\r\n                return\r\n            }\r\n\r\n            getMessage(data.messageSK)\r\n            setIsLoading(false)\r\n\r\n        } catch (err) {\r\n            console.log(err)\r\n            getMessage(\"Nieco sa pokazilo\")\r\n            setIsLoading(false)\r\n        }\r\n    }\r\n\r\n    const getSingleProduct = async (id, callback) => {\r\n        setIsLoading(true)\r\n        setShowModal(true)\r\n\r\n        try {\r\n            const response = await fetch(`${process.env.REACT_APP_BACKEND_ENDPOINT}/api/store/products/${id}`)\r\n            const data = await response.json()\r\n\r\n            if (data.error === 'not-found') {\r\n                getSingleLenses(id, () => { })\r\n            }\r\n\r\n            if (data.product) {\r\n                setProduct({\r\n                    ...data.product,\r\n                    price: (data.product.price / 100).toFixed(2)\r\n                })\r\n                if (data.product.type === 3) {\r\n                    setContactLensesParameters({\r\n                        ...data.product.contactLenses\r\n                    })\r\n                } else {\r\n                    setGlassesParameters({\r\n                        colorCode: data.product.colorCode ?? \"\",\r\n                        specs: {\r\n                            ...data.product.specs,\r\n                            size: [...Array(4)].map((value, idx) => data.product.specs.size[idx] ? data.product.specs.size[idx] : 0)\r\n                        }\r\n                    })\r\n                }\r\n                callback(data)\r\n                closeModal()\r\n                return\r\n            }\r\n\r\n            getMessage(data.messageSK)\r\n            setIsLoading(false)\r\n        } catch (err) {\r\n            console.log(err)\r\n            getMessage(\"Nieco sa pokazilo\")\r\n            setIsLoading(false)\r\n        }\r\n    }\r\n\r\n    const createProduct = async (productToAdd) => {\r\n        setIsLoading(true)\r\n        setShowModal(true)\r\n\r\n        let linkSize1 = null\r\n\r\n        if (productToAdd?.specs?.size) {\r\n            linkSize1 = diaConvert(productToAdd?.specs?.size[0].toString() || '').replaceAll(\" \", \"-\").replaceAll(\",\", \"-\").replaceAll(\".\", \"-\").toLowerCase().trim()\r\n        }\r\n\r\n        console.log(productToAdd?.name)\r\n        console.log(productToAdd?.specs?.frameColor)\r\n        console.log(productToAdd?.specs?.size)\r\n\r\n        const finalSlug = getSlug(`${productToAdd?.name || \"neuvedene\"}-${productToAdd?.specs?.frameColor || \"neuvedene\"}-${productToAdd?.specs?.size || \"neuvedene\"}`)\r\n\r\n        console.log(productToAdd?.name + productToAdd?.specs?.frameColor + productToAdd?.specs?.size ? productToAdd?.specs?.size[0] : '')\r\n        console.log(finalSlug)\r\n\r\n        let modifiedProduct = {\r\n            ...productToAdd,\r\n            price: formatPrice(productToAdd?.price?.toString() || \"\"),\r\n            link: finalSlug,\r\n        }\r\n\r\n        if (productToAdd.specs) {\r\n            if (productToAdd.specs.size) {\r\n                modifiedProduct = {\r\n                    ...modifiedProduct,\r\n                    specs: {\r\n                        ...modifiedProduct.specs,\r\n                        size: productToAdd.specs.size.map(value => value === 1001 ? 0 : formatfloatNumber(value))\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        if (productToAdd.contactLenses) {\r\n            if (productToAdd.contactLenses.allowedCurves) {\r\n                modifiedProduct = {\r\n                    ...modifiedProduct,\r\n                    contactLenses: {\r\n                        ...modifiedProduct.contactLenses,\r\n                        allowedCurves: productToAdd.contactLenses.allowedCurves.map(value => formatfloatNumber(value))\r\n                    }\r\n                }\r\n            }\r\n            if (productToAdd.contactLenses.allowedDiameters) {\r\n                modifiedProduct = {\r\n                    ...modifiedProduct,\r\n                    contactLenses: {\r\n                        ...modifiedProduct.contactLenses,\r\n                        allowedDiameters: productToAdd.contactLenses.allowedDiameters.map(value => formatfloatNumber(value))\r\n                    }\r\n                }\r\n            }\r\n            if (productToAdd.contactLenses.dioptersRange) {\r\n                modifiedProduct = {\r\n                    ...modifiedProduct,\r\n                    contactLenses: {\r\n                        ...modifiedProduct.contactLenses,\r\n                        dioptersRange: productToAdd.contactLenses.dioptersRange.map(value => formatfloatNumber(value))\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        const raw = JSON.stringify({\r\n            ...modifiedProduct,\r\n        })\r\n\r\n        const requestOptions = {\r\n            method: 'POST',\r\n            headers: myHeaders,\r\n            body: raw,\r\n            redirect: 'follow'\r\n        };\r\n\r\n        try {\r\n            const response = await fetch(`${process.env.REACT_APP_BACKEND_ENDPOINT}/api/admin/products`, requestOptions)\r\n            const data = await response.json()\r\n\r\n            if (data.product) {\r\n                push('/dashboard/obchod')\r\n                getProductsByQuery({\r\n                    limit: 10,\r\n                    skip: 0,\r\n                    sortBy: {\r\n                        date: -1\r\n                    }\r\n                })\r\n                setEanCode(null)\r\n                closeModal()\r\n                return\r\n            }\r\n\r\n            getMessage(data.messageSK)\r\n            setIsLoading(false)\r\n        } catch (err) {\r\n            console.log(err)\r\n            getMessage(\"Nieco sa pokazilo\")\r\n            setIsLoading(false)\r\n        }\r\n    }\r\n\r\n    const updateProduct = async (productToUpdate) => {\r\n        setIsLoading(true)\r\n        setShowModal(true)\r\n\r\n\r\n\r\n        let modifiedProduct = {\r\n            ...productToUpdate,\r\n        }\r\n\r\n\r\n        // return\r\n\r\n        if (modifiedProduct.price) {\r\n            modifiedProduct = {\r\n                ...modifiedProduct,\r\n                price: formatPrice(productToUpdate.price.toString()),\r\n            }\r\n        }\r\n\r\n        if (modifiedProduct.available) {\r\n            if (typeof modifiedProduct.available === \"number\") {\r\n                modifiedProduct = {\r\n                    ...modifiedProduct,\r\n                    available: productToUpdate.available\r\n                }\r\n            } else {\r\n                modifiedProduct = {\r\n                    ...modifiedProduct,\r\n                    available: productToUpdate.available ? productToUpdate.available.map(value => value === 1001 ? 0 : value) : [0, 0, 0, 0, 0, 0, 0]\r\n                }\r\n            }\r\n        }\r\n\r\n        // if (productToUpdate.name || productToUpdate?.specs?.frameColor || productToUpdate?.specs?.size) {\r\n        //     const linkName = diaConvert(productToUpdate?.name || product?.name || \"\").replaceAll(\" \", \"-\").toLowerCase().trim()\r\n        //     const linkFrameColor = diaConvert(productToUpdate?.specs?.frameColor || product?.specs?.frameColor || '').replaceAll(\" \", \"-\").toLowerCase().trim()\r\n\r\n        //     let linkSize1 = null\r\n\r\n        //     if (product?.specs?.size) {\r\n        //         linkSize1 = diaConvert(productToUpdate?.specs?.size[0].toString() || product?.specs?.size[0].toString() || '').replaceAll(\" \", \"-\").replaceAll(\",\", \"-\").replaceAll(\".\", \"-\").toLowerCase().trim()\r\n        //     }\r\n\r\n        //     const slug = linkName + (linkFrameColor ? `-${linkFrameColor}` : \"\") + (linkSize1 !== null ? `-${linkSize1}` : \"\")\r\n\r\n        //     const finalSlug = getSlug(slug)\r\n\r\n        //     console.log(finalSlug)\r\n\r\n        //     modifiedProduct = {\r\n        //         ...modifiedProduct,\r\n        //         link: finalSlug\r\n        //     }\r\n        // }\r\n\r\n        if (productToUpdate.specs) {\r\n            if (productToUpdate.specs.size) {\r\n                modifiedProduct = {\r\n                    ...modifiedProduct,\r\n                    specs: {\r\n                        ...modifiedProduct.specs,\r\n                        size: productToUpdate.specs.size.map(value => value === 1001 ? 0 : formatfloatNumber(value))\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        if (productToUpdate.contactLenses) {\r\n            if (productToUpdate.contactLenses.allowedCurves) {\r\n                modifiedProduct = {\r\n                    ...modifiedProduct,\r\n                    contactLenses: {\r\n                        ...modifiedProduct.contactLenses,\r\n                        allowedCurves: productToUpdate.contactLenses.allowedCurves.map(value => formatfloatNumber(value))\r\n                    }\r\n                }\r\n            } else {\r\n                modifiedProduct = {\r\n                    ...modifiedProduct,\r\n                    contactLenses: {\r\n                        ...modifiedProduct.contactLenses,\r\n                        allowedCurves: contactLensesParameters.allowedCurves\r\n                    }\r\n                }\r\n            }\r\n\r\n            if (productToUpdate.contactLenses.allowedDiameters) {\r\n                modifiedProduct = {\r\n                    ...modifiedProduct,\r\n                    contactLenses: {\r\n                        ...modifiedProduct.contactLenses,\r\n                        allowedDiameters: productToUpdate.contactLenses.allowedDiameters.map(value => formatfloatNumber(value))\r\n                    }\r\n                }\r\n            } else {\r\n                modifiedProduct = {\r\n                    ...modifiedProduct,\r\n                    contactLenses: {\r\n                        ...modifiedProduct.contactLenses,\r\n                        allowedDiameters: contactLensesParameters.allowedDiameters\r\n                    }\r\n                }\r\n            }\r\n            if (productToUpdate.contactLenses.dioptersRange) {\r\n                modifiedProduct = {\r\n                    ...modifiedProduct,\r\n                    contactLenses: {\r\n                        ...modifiedProduct.contactLenses,\r\n                        dioptersRange: productToUpdate.contactLenses.dioptersRange.map(value => formatfloatNumber(value))\r\n                    }\r\n                }\r\n            } else {\r\n                modifiedProduct = {\r\n                    ...modifiedProduct,\r\n                    contactLenses: {\r\n                        ...modifiedProduct.contactLenses,\r\n                        dioptersRange: contactLensesParameters.dioptersRange\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        const raw = JSON.stringify({\r\n            ...modifiedProduct,\r\n        })\r\n\r\n\r\n        const requestOptions = {\r\n            method: 'PATCH',\r\n            headers: myHeaders,\r\n            body: raw,\r\n            redirect: 'follow'\r\n        };\r\n\r\n        try {\r\n            const response = await fetch(`${process.env.REACT_APP_BACKEND_ENDPOINT}/api/admin/products/${product._id}`, requestOptions)\r\n            const data = await response.json()\r\n\r\n            if (data.error) {\r\n                getMessage(data.messageSK)\r\n                setIsLoading(false)\r\n                return\r\n\r\n            }\r\n\r\n            if (data.product) {\r\n                push('/dashboard/obchod')\r\n                getProductsByQuery({\r\n                    limit: 10,\r\n                    skip: 0,\r\n                    sortBy: {\r\n                        date: -1\r\n                    }\r\n                })\r\n                closeModal()\r\n                return\r\n            }\r\n\r\n            getMessage(data.messageSK)\r\n            setIsLoading(false)\r\n        } catch (err) {\r\n            console.log(err)\r\n            getMessage(\"Nieco sa pokazilo\")\r\n            setIsLoading(false)\r\n        }\r\n    }\r\n\r\n    const deleteProduct = async (id) => {\r\n        setIsLoading(true)\r\n        setShowModal(true)\r\n\r\n        const requestOptions = {\r\n            method: 'DELETE',\r\n            headers: myHeaders,\r\n            redirect: 'follow'\r\n        };\r\n\r\n        try {\r\n            const response = await fetch(`${process.env.REACT_APP_BACKEND_ENDPOINT}/api/admin/products/${id}`, requestOptions)\r\n            const data = await response.json()\r\n\r\n            if (data.product) {\r\n                // push('/dashboard/obchod')\r\n                getProductsByQuery({\r\n                    limit: 10,\r\n                    skip: 0,\r\n                    sortBy: {\r\n                        date: -1\r\n                    }\r\n                })\r\n                closeModal()\r\n                return\r\n            }\r\n\r\n            getMessage(data.messageSK)\r\n            setIsLoading(false)\r\n        } catch (err) {\r\n            console.log(err)\r\n            getMessage(\"Nieco sa pokazilo\")\r\n            setIsLoading(false)\r\n        }\r\n    }\r\n\r\n    const getSingleLenses = async (id, callback) => {\r\n        setIsLoading(true)\r\n        setShowModal(true)\r\n\r\n        try {\r\n            const response = await fetch(`${process.env.REACT_APP_BACKEND_ENDPOINT}/api/store/lenses/${id}`)\r\n            const data = await response.json()\r\n\r\n            if (data.lenses) {\r\n                setLenses(data.lenses)\r\n                callback(data)\r\n                closeModal()\r\n                return\r\n            }\r\n\r\n            getMessage(data.messageSK)\r\n            setIsLoading(false)\r\n\r\n        } catch (err) {\r\n            console.log(err)\r\n            getMessage(\"Nieco sa pokazilo\")\r\n            setIsLoading(false)\r\n        }\r\n    }\r\n\r\n    const createLenses = async (lensesToAdd) => {\r\n        setIsLoading(true)\r\n        setShowModal(true)\r\n\r\n        const raw = JSON.stringify({\r\n            ...lensesToAdd,\r\n            price: formatPrice(lensesToAdd.price.toString())\r\n        });\r\n\r\n        const requestOptions = {\r\n            method: 'POST',\r\n            headers: myHeaders,\r\n            body: raw,\r\n            redirect: 'follow'\r\n        };\r\n\r\n        try {\r\n            const response = await fetch(`${process.env.REACT_APP_BACKEND_ENDPOINT}/api/admin/lenses`, requestOptions)\r\n            const data = await response.json()\r\n\r\n            if (data.lenses) {\r\n                push('/dashboard/obchod')\r\n                getLenses()\r\n                closeModal()\r\n                return\r\n            }\r\n\r\n\r\n            getMessage(data.messageSK)\r\n            setIsLoading(false)\r\n        } catch (err) {\r\n            console.log(err)\r\n            getMessage(\"Nieco sa pokazilo\")\r\n            setIsLoading(false)\r\n        }\r\n    }\r\n\r\n    const updateLenses = async (lensesToUpdate, id) => {\r\n        setIsLoading(true)\r\n        setShowModal(true)\r\n\r\n        let modifiedLenses = {\r\n            ...lensesToUpdate\r\n        }\r\n\r\n        if (modifiedLenses.price) {\r\n            modifiedLenses = {\r\n                ...modifiedLenses,\r\n                price: formatPrice(lensesToUpdate.price.toString()),\r\n            }\r\n        }\r\n\r\n        const raw = JSON.stringify({\r\n            ...modifiedLenses,\r\n        });\r\n\r\n        const requestOptions = {\r\n            method: 'PATCH',\r\n            headers: myHeaders,\r\n            body: raw,\r\n            redirect: 'follow'\r\n        };\r\n\r\n\r\n        try {\r\n            const response = await fetch(`${process.env.REACT_APP_BACKEND_ENDPOINT}/api/admin/lenses/${id}`, requestOptions)\r\n            const data = await response.json()\r\n\r\n            if (data.lenses) {\r\n                push('/dashboard/obchod')\r\n                getLenses()\r\n                closeModal()\r\n                return\r\n            }\r\n\r\n            getMessage(data.messageSK)\r\n            setIsLoading(false)\r\n        } catch (err) {\r\n            console.log(err)\r\n            getMessage(\"Nieco sa pokazilo\")\r\n            setIsLoading(false)\r\n        }\r\n    }\r\n\r\n    const deleteLenses = async (id) => {\r\n        setIsLoading(true)\r\n        setShowModal(true)\r\n\r\n        const requestOptions = {\r\n            method: 'DELETE',\r\n            headers: myHeaders,\r\n            redirect: 'follow'\r\n        };\r\n\r\n        try {\r\n            const response = await fetch(`${process.env.REACT_APP_BACKEND_ENDPOINT}/api/admin/lenses/${id}`, requestOptions)\r\n            const data = await response.json()\r\n\r\n            if (data.lenses) {\r\n                getLenses()\r\n                closeModal()\r\n                return\r\n            }\r\n\r\n            getMessage(data.messageSK)\r\n            setIsLoading(false)\r\n        } catch (err) {\r\n            console.log(err)\r\n            getMessage(\"Niečo sa pokazilo\")\r\n            setIsLoading(false)\r\n        }\r\n    }\r\n\r\n    const deactivateMany = async (databObj) => {\r\n        setIsLoading(true)\r\n        setShowModal(true)\r\n\r\n        const raw = JSON.stringify(databObj);\r\n\r\n        const requestOptions = {\r\n            method: 'POST',\r\n            headers: myHeaders,\r\n            body: raw,\r\n            redirect: 'follow'\r\n        };\r\n\r\n\r\n        try {\r\n            const response = await fetch(`${process.env.REACT_APP_BACKEND_ENDPOINT}/api/admin/products/deactivateMany`, requestOptions)\r\n            const data = await response.json()\r\n\r\n            getMessage(data.messageSK)\r\n            setIsLoading(false)\r\n        } catch (err) {\r\n            console.log(err)\r\n            getMessage(\"Niečo sa pokazilo\")\r\n            setIsLoading(false)\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (products) {\r\n            if (activeCategoryTypeTab === 0) {\r\n                getProductsByQuery({\r\n                    limit: 10,\r\n                    skip: 0,\r\n                    sortBy: {\r\n                        date: -1\r\n                    }\r\n                })\r\n            } else if (activeCategoryTypeTab === 1) {\r\n                getLenses()\r\n            } else {\r\n                getProductsByQuery({\r\n                    limit: 10,\r\n                    filters: {\r\n                        type: 3\r\n                    },\r\n                    sortBy: {\r\n                        date: -1\r\n                    }\r\n                })\r\n            }\r\n        }\r\n    }, [activeCategoryTypeTab])\r\n\r\n    useEffect(() => {\r\n        if (currentUser) {\r\n            if (isAdmin) {\r\n                setRetailPremisesTabs(retailNamesTabs)\r\n                setActivePremisesTab(0)\r\n            } else {\r\n                setRetailPremisesTabs(retailNamesTabs.filter(tab => tab.premises === currentUser.premises))\r\n                setActivePremisesTab(0)\r\n            }\r\n        }\r\n    }, [currentUser, isAdmin])\r\n\r\n    useEffect(() => {\r\n        if (stats) {\r\n            setTotalProducts(stats.products)\r\n            setTotalLenses(stats.lenses)\r\n        }\r\n    }, [stats])\r\n\r\n    useEffect(() => {\r\n        if (product.name !== '') {\r\n            setProduct({\r\n                ...product,\r\n                link: formatLink(product.name)\r\n            })\r\n        }\r\n    }, [product.name])\r\n\r\n    return (\r\n        <WarehouseContext.Provider\r\n            value={{\r\n                eanCode,\r\n                product,\r\n                lenses,\r\n                contactLensesParameters,\r\n                glassesParameters,\r\n                totalProducts,\r\n                totalLenses,\r\n                activePremisesTab,\r\n                activeCategoryTypeTab,\r\n                retailPremisesTabs,\r\n                productCategoryTypeTabs,\r\n                products,\r\n                lensesProducts,\r\n                handleChangeCategoryTypeTab,\r\n                handleChangePremisesTab,\r\n                getProductsByQuery,\r\n                handleProductChange,\r\n                handleProductAvailableChange,\r\n                getLenses,\r\n                getSingleProduct,\r\n                createProduct,\r\n                updateProduct,\r\n                deleteProduct,\r\n                getSingleLenses,\r\n                createLenses,\r\n                updateLenses,\r\n                deleteLenses,\r\n                handleLensesChange,\r\n                handleLensesParameterChange,\r\n                resetProduct,\r\n                resetLenses,\r\n                resetContactLenses,\r\n                resetGlassesParameters,\r\n                getEanCode,\r\n                handleAddNewParameter,\r\n                handleContactLensesParameterChange,\r\n                handleGlassesParameterChange,\r\n                handleGlassesParameterSpecsChange,\r\n                handleGlassesSizeChange,\r\n                deactivateMany\r\n            }}\r\n        >\r\n            {children}\r\n        </WarehouseContext.Provider>\r\n    )\r\n}\r\n\r\nexport default WarehouseProvider","import { useState, useEffect } from 'react'\r\n\r\nexport const useSlug = (string = '') => {\r\n    console.count('useSlugHook')\r\n    const a = 'àáâäæãåāăąçćčđďèéêëēėęěğǵḧîïíīįìłḿñńǹňôöòóœøōõőṕŕřßśšşșťțûüùúūǘůűųẃẍÿýžźż·/_,:;'\r\n    const b = 'aaaaaaaaaacccddeeeeeeeegghiiiiiilmnnnnoooooooooprrsssssttuuuuuuuuuwxyyzzz------'\r\n    const p = new RegExp(a.split('').join('|'), 'g')\r\n\r\n    const [slug, setSlug] = useState('')\r\n\r\n    const getSlug = (string) => {\r\n        return string.toString().toLowerCase()\r\n            .replace(/\\s+/g, '-') // Replace spaces with -\r\n            .replace(p, c => b.charAt(a.indexOf(c))) // Replace special characters\r\n            .replace(/&/g, '-and-') // Replace & with 'and'\r\n            .replace(/[^\\w\\-]+/g, '') // Remove all non-word characters\r\n            .replace(/\\-\\-+/g, '-') // Replace multiple - with single -\r\n            .replace(/^-+/, '') // Trim - from start of text\r\n            .replace(/-+$/, '') // Trim - from end of text\r\n    }\r\n\r\n    useEffect(() => {\r\n        const s = getSlug(string)\r\n        setSlug(s)\r\n\r\n    }, [string])\r\n\r\n    return { slug, getSlug }\r\n}","export const brands = [\r\n    \"Adidas\",\r\n    \"Armani Exchange\",\r\n    \"Arnette\",\r\n    \"Blackfin\",\r\n    \"Blumarine\",\r\n    \"Burberry\",\r\n    \"Bvlgari\",\r\n    \"Calvin Klein\",\r\n    \"Carolina Herrera\",\r\n    \"Carrera\",\r\n    \"David Beckham\",\r\n    \"Dior\",\r\n    \"Dolce & Gabbana\",\r\n    \"Elle\",\r\n    \"Emporio Armani\",\r\n    \"Esprit\",\r\n    \"Etnia Barcelona\",\r\n    \"Fendi\",\r\n    \"Fossil\",\r\n    \"Furla\",\r\n    \"Giorgio Armani\",\r\n    \"Givenchy\",\r\n    \"Gucci\",\r\n    \"Guess\",\r\n    \"H.I.S\",\r\n    \"Hawkers\",\r\n    \"Hugo Boss\",\r\n    \"Jaguar\",\r\n    \"Jimmy Choo\",\r\n    \"Lacoste\",\r\n    \"Liu Jo\",\r\n    \"Marc Jacobs\",\r\n    \"Max Mara\",\r\n    \"Max&Co\",\r\n    \"Meller\",\r\n    \"Mexx\",\r\n    \"Michael Kors\",\r\n    \"Moschino\",\r\n    \"Oakley\",\r\n    \"Persol\",\r\n    \"Polaroid\",\r\n    \"Police\",\r\n    \"Polo Ralph Lauren\",\r\n    \"Prada\",\r\n    \"Prada Linea Rossa\",\r\n    \"Ralph\",\r\n    \"Ralph Lauren\",\r\n    \"Ray-Ban\",\r\n    \"Salvatore Ferragamo\",\r\n    \"Smith\",\r\n    \"Strellson\",\r\n    \"Tiffany&Co.\",\r\n    \"Tom Ford\",\r\n    \"Tommy Hilfiger\",\r\n    \"Versace\",\r\n    \"Vogue\"\r\n]\r\n\r\nexport const lensesBrands = [\r\n    \"Acuvue\",\r\n    \"Adore\",\r\n    \"Air Optix\",\r\n    \"Biofinity\",\r\n    \"Biomedics\",\r\n    \"Clariti\",\r\n    \"ColourVue\",\r\n    \"Comfilcon A\",\r\n    \"Dailies\",\r\n    \"Freshlook\",\r\n    \"Lenjoy\",\r\n    \"Proclear\",\r\n    \"Purevision\",\r\n    \"Soflens\",\r\n]\r\n\r\nexport const retailNames = [\r\n    \"eshop\",\r\n    \"Centrálny sklad\",\r\n    \"Obchodná, Bratislava\",\r\n    \"Miletičova, Bratislava\",\r\n    \"Vajnory, Bratislava\",\r\n    \"Vajnorská 53, Bratislava\",\r\n    \"OC Branč, Senica\"\r\n]\r\n\r\nexport const retailNamesTabs = [\r\n    {\r\n        id: 0,\r\n        name: \"Všetky\",\r\n    },\r\n    {\r\n        id: 1,\r\n        name: \"Centrálny sklad\",\r\n    },\r\n    {\r\n        id: 2,\r\n        name: \"Obchodná, Bratislava\",\r\n    },\r\n    {\r\n        id: 3,\r\n        name: \"Miletičova, Bratislava\",\r\n    },\r\n    {\r\n        id: 4,\r\n        name: \"Vajnory, Bratislava\",\r\n    },\r\n    {\r\n        id: 5,\r\n        name: \"Vajnorská 53, Bratislava\",\r\n    },\r\n    {\r\n        id: 6,\r\n        name: \"OC Branč, Senica\",\r\n    },\r\n]\r\n\r\nexport const glassesColors = [\r\n    \"Čierná\",\r\n    \"Modrá\",\r\n    \"Červená\",\r\n    \"Sivá\",\r\n    \"Zlatá\",\r\n    \"Strieborná\",\r\n    \"Hnedá\",\r\n    \"Fialová\",\r\n    \"Zelená\",\r\n    \"Sedá\",\r\n    \"Bordová\",\r\n]\r\n\r\nexport const glassesMaterials = [\r\n    \"Acetát\",\r\n    \"Kov\",\r\n    \"Titán\",\r\n    \"TR90\",\r\n    \"Patent\",\r\n    \"Optyl\",\r\n]\r\n\r\nexport const glassesShapes = [\r\n    \"Pilot\",\r\n    \"Squared\",\r\n    \"Browline\",\r\n    \"Cat eye\",\r\n    \"Tiny\",\r\n    \"Oversize\",\r\n    \"Okrúhle\",\r\n    \"Oválne\",\r\n    \"Obdĺžnikové\",\r\n    \"Flat top\",\r\n    \"Špeciálne\"\r\n]\r\n\r\nexport const formatPrice = (price = \"\") => {\r\n    price.toString()\r\n    let value = 0\r\n    if (price.includes(',')) {\r\n        if (price.split(',')[1].length === 1) {\r\n            value = price.split(',')[0] + price.split(',')[1] + \"0\"\r\n            return Number(value)\r\n        } else {\r\n            value = price.split(',')[0] + price.split(',')[1]\r\n            return Number(value)\r\n        }\r\n    } else {\r\n        return Number(price * 100)\r\n    }\r\n}\r\n\r\nexport const formatfloatNumber = number => {\r\n    let value = 0\r\n\r\n    if (number.includes(',')) {\r\n        value = number.split(',')[0] + '.' + number.split(',')[1]\r\n        return value\r\n    } else {\r\n        return number\r\n    }\r\n}","import arrayWithoutHoles from \"@babel/runtime/helpers/esm/arrayWithoutHoles\";\nimport iterableToArray from \"@babel/runtime/helpers/esm/iterableToArray\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableSpread from \"@babel/runtime/helpers/esm/nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"@babel/runtime/helpers/esm/arrayLikeToArray\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","export const initProductObj = {\r\n    name: \"\",\r\n    description: \"\",\r\n    price: 0,\r\n    type: 0,\r\n    brand: \"\",\r\n    soldAmount: 0,\r\n    available: [0, 1001, 1001, 1001, 1001, 1001, 1001],\r\n    eanCode: \"\",\r\n    image: \"\",\r\n    eshop: true,\r\n    link: '',\r\n    category: ''\r\n}\r\n\r\nexport const initGlassesObj = {\r\n    colorCode: \"\",\r\n    specs: {\r\n        frameColor: \"\",\r\n        frameMaterial: \"\",\r\n        frameStyle: \"\",\r\n        lensColor: \"\",\r\n        sex: \"\",\r\n        size: [1001, 1001, 1001, 1001],\r\n    }\r\n}\r\n\r\nexport const initContactLensesObj = {\r\n    allowedCurves: [1001],\r\n    allowedDiameters: [1001],\r\n    dioptersRange: [1001, 1001]\r\n}\r\n\r\nexport const initLensesObj = {\r\n    id: \"\",\r\n    name: \"\",\r\n    description: \"\",\r\n    dioptersRange: [1001, 1001],\r\n    cylinderRange: [1001, 1001],\r\n    price: 0,\r\n    brand: \"\",\r\n    image: '',\r\n    lensType: \"číre\",\r\n    dioptric: false\r\n}\r\n\r\nexport const lensesTypes = [\r\n    \"číre\",\r\n    'slnečné',\r\n    'fotochromatické'\r\n]\r\n\r\nexport const retailNames = [\r\n    // \"-\",\r\n    \"Obchodná 57, Bratislava\",\r\n    \"Miletičova 38, Bratislava\",\r\n    \"Vajnory, Bratislava\",\r\n    \"Senica, OC Branč\",\r\n    \"Vajnorská 53, Bratislava\",\r\n    // \"Trnava, City Aréna\"\r\n]\r\n\r\n// Category variables\r\nexport const productCategories = [\r\n    {\r\n        name: \"Dioptrické\",\r\n        value: 1\r\n    },\r\n    {\r\n        name: \"Slnečné\",\r\n        value: 2\r\n    },\r\n    {\r\n        name: \"Kontaktné Šošovky\",\r\n        value: 3\r\n    },\r\n    {\r\n        name: \"Športové\",\r\n        value: 4\r\n    },\r\n    {\r\n        name: \"Doplnky\",\r\n        value: 5\r\n    },\r\n    {\r\n        name: \"Služby\",\r\n        value: 6\r\n    },\r\n    {\r\n        name: \"Šošovky\",\r\n        value: 0\r\n    },\r\n]\r\n\r\nexport const premisesTabs = [\r\n    {\r\n        id: 0,\r\n        name: \"Všetko\",\r\n        premises: 0,\r\n\r\n    },\r\n    {\r\n        id: 1,\r\n        name: \"Obchodná 57, Bratislava\",\r\n        premises: 1,\r\n    },\r\n    {\r\n        id: 2,\r\n        name: \"Miletičova 38, Bratislava\",\r\n        premises: 2,\r\n    },\r\n    {\r\n        id: 3,\r\n        name: \"Vajnory, Bratislava\",\r\n        premises: 3,\r\n    },\r\n    {\r\n        id: 4,\r\n        name: \"Senica, OC Branč\",\r\n        premises: 4,\r\n    },\r\n    {\r\n        id: 5,\r\n        name: \"Vajnorská 53, Bratislava\",\r\n    },\r\n\r\n    // {\r\n    //     id: 5,\r\n    //     name: \"Trnava, City Aréna\",\r\n    //     permission: 5,\r\n    // },\r\n]\r\n\r\nexport const categoryTabs = [\r\n    {\r\n        id: 0,\r\n        name: \"Okuliare\",\r\n    },\r\n    {\r\n        id: 2,\r\n        name: \"Kontaktné šošovky\",\r\n    },\r\n    {\r\n        id: 1,\r\n        name: \"Šošovky\",\r\n    },\r\n]\r\n\r\nexport const lensesBrands = [\r\n    \"Acuvue\",\r\n    \"Adore\",\r\n    \"Air Optix\",\r\n    \"Biofinity\",\r\n    \"Biomedics\",\r\n    \"Clariti\",\r\n    \"ColourVue\",\r\n    \"Comfilcon A\",\r\n    \"Dailies\",\r\n    \"Freshlook\",\r\n    \"Lenjoy\",\r\n    \"Proclear\",\r\n    \"Purevision\",\r\n    \"Soflens\",\r\n]\r\n\r\nexport const brands = [\r\n    \"Adidas\",\r\n    \"Armani Exchange\",\r\n    \"Arnette\",\r\n    \"Blackfin\",\r\n    \"Blumarine\",\r\n    \"Burberry\",\r\n    \"Bvlgari\",\r\n    \"Calvin Klein\",\r\n    \"Carolina Herrera\",\r\n    \"Carrera\",\r\n    \"David Beckham\",\r\n    \"Dior\",\r\n    \"Dolce & Gabbana\",\r\n    \"Elle\",\r\n    \"Emporio Armani\",\r\n    \"Esprit\",\r\n    \"Etnia Barcelona\",\r\n    \"Fendi\",\r\n    \"Fossil\",\r\n    \"Furla\",\r\n    \"Giorgio Armani\",\r\n    \"Givenchy\",\r\n    \"Gucci\",\r\n    \"Guess\",\r\n    \"H.I.S\",\r\n    \"Hawkers\",\r\n    \"Hugo Boss\",\r\n    \"Jaguar\",\r\n    \"Jimmy Choo\",\r\n    \"Lacoste\",\r\n    \"Liu Jo\",\r\n    \"Marc Jacobs\",\r\n    \"Max Mara\",\r\n    \"Max&Co\",\r\n    \"Meller\",\r\n    \"Mexx\",\r\n    \"Michael Kors\",\r\n    \"Moschino\",\r\n    \"Oakley\",\r\n    \"Persol\",\r\n    \"Polaroid\",\r\n    \"Police\",\r\n    \"Polo Ralph Lauren\",\r\n    \"Prada\",\r\n    \"Prada Linea Rossa\",\r\n    \"Ralph\",\r\n    \"Ralph Lauren\",\r\n    \"Ray-Ban\",\r\n    \"Salvatore Ferragamo\",\r\n    \"Smith\",\r\n    \"Strellson\",\r\n    \"Tiffany&Co.\",\r\n    \"Tom Ford\",\r\n    \"Tommy Hilfiger\",\r\n    \"Versace\",\r\n    \"Vogue\"\r\n]\r\n\r\nexport const formatPrice = price => {\r\n    let value = 0\r\n    if (price.includes(',')) {\r\n        if (price.split(',')[1].length === 1) {\r\n            value = price.split(',')[0] + price.split(',')[1] + \"0\"\r\n            return Number(value)\r\n        } else {\r\n            value = price.split(',')[0] + price.split(',')[1]\r\n            return Number(value)\r\n        }\r\n    } else {\r\n        return Number(price * 100)\r\n    }\r\n}\r\n\r\nexport const formatfloatNumber = number => {\r\n    const stringValue = number.toString()\r\n    let value = 0\r\n    if (stringValue.includes(',')) {\r\n        value = stringValue.split(',')[0] + '.' + stringValue.split(',')[1]\r\n        return Number(value)\r\n    } else {\r\n        return Number(stringValue)\r\n\r\n    }\r\n}\r\n\r\nexport const formatAvailable = (available, activePremisesTab) => {\r\n    if (available === undefined) return \"Šošovka\"\r\n    if (typeof available === \"number\") {\r\n        if (available < 0) {\r\n            return <>\r\n                <p style={{ color: \"var(--color-red)\" }}>0 ks</p>\r\n                <p style={{ color: \"var(--color-red)\" }}>Chýba {Math.abs(available)}</p>\r\n            </>\r\n        } else if (available === 0) {\r\n            return <p style={{ color: \"var(--color-red)\" }}>0 ks</p>\r\n        } else {\r\n            return `${available} ks`\r\n        }\r\n    } else {\r\n        if (activePremisesTab === 0) {\r\n            if (available.reduce((acc, currValue) => acc + currValue) < 0) {\r\n                return <p style={{ color: \"var(--color-red)\" }}>Všetky: 0 ks</p>\r\n            } else if (available.reduce((acc, currValue) => acc + currValue) === 0) {\r\n                return <p style={{ color: \"var(--color-red)\" }}>Všetky: 0 ks</p>\r\n            } else {\r\n                return `Všetky: ${available.reduce((acc, currValue) => acc + currValue)} ks`\r\n            }\r\n        } else {\r\n            if (available[activePremisesTab] < 0) {\r\n                return <>\r\n                    <p style={{ color: \"var(--color-red)\" }}>0 ks</p>\r\n                    <p style={{ color: \"var(--color-red)\" }}>Chýba {Math.abs(available[activePremisesTab])}</p>\r\n                </>\r\n            } else if (available[activePremisesTab] === 0) {\r\n                return <p style={{ color: \"var(--color-red)\" }}>0 ks</p>\r\n            } else {\r\n                return `${available[activePremisesTab]} ks`\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nexport const checkParameter = (parameter, idx) => {\r\n    if (parameter === undefined) return\r\n    if (parameter.length === 0) {\r\n        return \"\"\r\n    }\r\n    if (parameter[idx] === 1001) {\r\n        return \"\"\r\n    }\r\n\r\n    return parameter[idx].toString()\r\n}\r\n\r\nconst dia = \"áäčďéíľĺňóôŕšťúýžÁČĎÉÍĽĹŇÓŠŤÚÝŽ\";\r\nconst nodia = \"aacdeillnoorstuyzACDEILLNOSTUYZ\";\r\n\r\nexport const diaConvert = (text) => {\r\n    let convertText = \"\";\r\n    for (let i = 0; i < text.length; i++) {\r\n        if (dia.indexOf(text.charAt(i)) !== -1) {\r\n            convertText += nodia.charAt(dia.indexOf(text.charAt(i)));\r\n        }\r\n        else {\r\n            convertText += text.charAt(i);\r\n        }\r\n    }\r\n    return convertText;\r\n}\r\n\r\nexport const formatLink = (text) => {\r\n    return diaConvert(text).replaceAll(\" \", \"-\").toLowerCase().trim()\r\n}"],"sourceRoot":""}